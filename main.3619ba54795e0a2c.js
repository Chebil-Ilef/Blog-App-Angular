"use strict";(self.webpackChunkblog_app=self.webpackChunkblog_app||[]).push([[792],{1076:(gn,dt,z)=>{z.d(dt,{Am:()=>Qn,FA:()=>De,Fy:()=>Pt,I9:()=>yn,Im:()=>Ot,Ku:()=>ft,T9:()=>Oe,Tj:()=>Mn,Uj:()=>Ze,XA:()=>it,ZQ:()=>$t,bD:()=>ir,c1:()=>mr,cY:()=>pt,eX:()=>_e,g:()=>de,hp:()=>Wi,jZ:()=>Bt,lT:()=>N,lV:()=>Re,nr:()=>Nt,sr:()=>qe,tD:()=>fr,u:()=>ge,yU:()=>nn,zW:()=>ke});const Ce=function(ee){const j=[];let Y=0;for(let we=0;we<ee.length;we++){let Pe=ee.charCodeAt(we);Pe<128?j[Y++]=Pe:Pe<2048?(j[Y++]=Pe>>6|192,j[Y++]=63&Pe|128):55296==(64512&Pe)&&we+1<ee.length&&56320==(64512&ee.charCodeAt(we+1))?(Pe=65536+((1023&Pe)<<10)+(1023&ee.charCodeAt(++we)),j[Y++]=Pe>>18|240,j[Y++]=Pe>>12&63|128,j[Y++]=Pe>>6&63|128,j[Y++]=63&Pe|128):(j[Y++]=Pe>>12|224,j[Y++]=Pe>>6&63|128,j[Y++]=63&Pe|128)}return j},Fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ee,j){if(!Array.isArray(ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let Pe=0;Pe<ee.length;Pe+=3){const It=ee[Pe],kt=Pe+1<ee.length,mn=kt?ee[Pe+1]:0,Xn=Pe+2<ee.length,Sn=Xn?ee[Pe+2]:0;let be=(15&mn)<<2|Sn>>6,Se=63&Sn;Xn||(Se=64,kt||(be=64)),we.push(Y[It>>2],Y[(3&It)<<4|mn>>4],Y[be],Y[Se])}return we.join("")},encodeString(ee,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(ee):this.encodeByteArray(Ce(ee),j)},decodeString(ee,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(ee):function(ee){const j=[];let Y=0,we=0;for(;Y<ee.length;){const Pe=ee[Y++];if(Pe<128)j[we++]=String.fromCharCode(Pe);else if(Pe>191&&Pe<224){const It=ee[Y++];j[we++]=String.fromCharCode((31&Pe)<<6|63&It)}else if(Pe>239&&Pe<365){const Xn=((7&Pe)<<18|(63&ee[Y++])<<12|(63&ee[Y++])<<6|63&ee[Y++])-65536;j[we++]=String.fromCharCode(55296+(Xn>>10)),j[we++]=String.fromCharCode(56320+(1023&Xn))}else{const It=ee[Y++],kt=ee[Y++];j[we++]=String.fromCharCode((15&Pe)<<12|(63&It)<<6|63&kt)}}return j.join("")}(this.decodeStringToByteArray(ee,j))},decodeStringToByteArray(ee,j){this.init_();const Y=j?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let Pe=0;Pe<ee.length;){const It=Y[ee.charAt(Pe++)],mn=Pe<ee.length?Y[ee.charAt(Pe)]:0;++Pe;const Sn=Pe<ee.length?Y[ee.charAt(Pe)]:64;++Pe;const Ue=Pe<ee.length?Y[ee.charAt(Pe)]:64;if(++Pe,null==It||null==mn||null==Sn||null==Ue)throw new Ne;we.push(It<<2|mn>>4),64!==Sn&&(we.push(mn<<4&240|Sn>>2),64!==Ue&&we.push(Sn<<6&192|Ue))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ee=0;ee<this.ENCODED_VALS.length;ee++)this.byteToCharMap_[ee]=this.ENCODED_VALS.charAt(ee),this.charToByteMap_[this.byteToCharMap_[ee]]=ee,this.byteToCharMapWebSafe_[ee]=this.ENCODED_VALS_WEBSAFE.charAt(ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ee]]=ee,ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ee)]=ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ee)]=ee)}}};class Ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ze=function(ee){return function(ee){const j=Ce(ee);return Fe.encodeByteArray(j,!0)}(ee).replace(/\./g,"")},ge=function(ee){try{return Fe.decodeString(ee,!0)}catch(j){console.error("base64Decode failed: ",j)}return null},on=()=>{try{return function bt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ee=process.env.__FIREBASE_DEFAULTS__;return ee?JSON.parse(ee):void 0})()||(()=>{if(typeof document>"u")return;let ee;try{ee=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=ee&&ge(ee[1]);return j&&JSON.parse(j)})()}catch(ee){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ee}`)}},Mn=ee=>{var j,Y;return null===(Y=null===(j=on())||void 0===j?void 0:j.emulatorHosts)||void 0===Y?void 0:Y[ee]},nn=ee=>{const j=Mn(ee);if(!j)return;const Y=j.lastIndexOf(":");if(Y<=0||Y+1===j.length)throw new Error(`Invalid host ${j} with no separate hostname and port!`);const we=parseInt(j.substring(Y+1),10);return"["===j[0]?[j.substring(1,Y-1),we]:[j.substring(0,Y),we]},Oe=()=>{var ee;return null===(ee=on())||void 0===ee?void 0:ee.config},it=ee=>{var j;return null===(j=on())||void 0===j?void 0:j[`_${ee}`]};class pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,Y)=>{this.resolve=j,this.reject=Y})}wrapCallback(j){return(Y,we)=>{Y?this.reject(Y):this.resolve(we),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(Y):j(Y,we))}}}function Pt(ee,j){if(ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=j||"demo-project",Pe=ee.iat||0,It=ee.sub||ee.user_id;if(!It)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const kt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:Pe,exp:Pe+3600,auth_time:Pe,sub:It,user_id:It,firebase:{sign_in_provider:"custom",identities:{}}},ee);return[Ze(JSON.stringify({alg:"none",type:"JWT"})),Ze(JSON.stringify(kt)),""].join(".")}function $t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Bt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function mr(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function qe(){const ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ee&&void 0!==ee.id}function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function N(){const ee=$t();return ee.indexOf("MSIE ")>=0||ee.indexOf("Trident/")>=0}function Nt(){return!function Le(){var ee;const j=null===(ee=on())||void 0===ee?void 0:ee.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function _e(){return new Promise((ee,j)=>{try{let Y=!0;const we="validate-browser-context-for-indexeddb-analytics-module",Pe=self.indexedDB.open(we);Pe.onsuccess=()=>{Pe.result.close(),Y||self.indexedDB.deleteDatabase(we),ee(!0)},Pe.onupgradeneeded=()=>{Y=!1},Pe.onerror=()=>{var It;j((null===(It=Pe.error)||void 0===It?void 0:It.message)||"")}}catch(Y){j(Y)}})}class de extends Error{constructor(j,Y,we){super(Y),this.code=j,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}}class De{constructor(j,Y,we){this.service=j,this.serviceName=Y,this.errors=we}create(j,...Y){const we=Y[0]||{},Pe=`${this.service}/${j}`,It=this.errors[j],kt=It?function st(ee,j){return ee.replace(Mt,(Y,we)=>{const Pe=j[we];return null!=Pe?String(Pe):`<${we}?>`})}(It,we):"Error";return new de(Pe,`${this.serviceName}: ${kt} (${Pe}).`,we)}}const Mt=/\{\$([^}]+)}/g;function Ot(ee){for(const j in ee)if(Object.prototype.hasOwnProperty.call(ee,j))return!1;return!0}function ir(ee,j){if(ee===j)return!0;const Y=Object.keys(ee),we=Object.keys(j);for(const Pe of Y){if(!we.includes(Pe))return!1;const It=ee[Pe],kt=j[Pe];if(At(It)&&At(kt)){if(!ir(It,kt))return!1}else if(It!==kt)return!1}for(const Pe of we)if(!Y.includes(Pe))return!1;return!0}function At(ee){return null!==ee&&"object"==typeof ee}function Qn(ee){const j=[];for(const[Y,we]of Object.entries(ee))Array.isArray(we)?we.forEach(Pe=>{j.push(encodeURIComponent(Y)+"="+encodeURIComponent(Pe))}):j.push(encodeURIComponent(Y)+"="+encodeURIComponent(we));return j.length?"&"+j.join("&"):""}function yn(ee){const j={};return ee.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[Pe,It]=we.split("=");j[decodeURIComponent(Pe)]=decodeURIComponent(It)}}),j}function Wi(ee){const j=ee.indexOf("?");if(!j)return"";const Y=ee.indexOf("#",j);return ee.substring(j,Y>0?Y:void 0)}function fr(ee,j){const Y=new Er(ee,j);return Y.subscribe.bind(Y)}class Er{constructor(j,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{j(this)}).catch(we=>{this.error(we)})}next(j){this.forEachObserver(Y=>{Y.next(j)})}error(j){this.forEachObserver(Y=>{Y.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,Y,we){let Pe;if(void 0===j&&void 0===Y&&void 0===we)throw new Error("Missing Observer.");Pe=function Ki(ee,j){if("object"!=typeof ee||null===ee)return!1;for(const Y of j)if(Y in ee&&"function"==typeof ee[Y])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:Y,complete:we},void 0===Pe.next&&(Pe.next=jn),void 0===Pe.error&&(Pe.error=jn),void 0===Pe.complete&&(Pe.complete=jn);const It=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Pe.error(this.finalError):Pe.complete()}catch{}}),this.observers.push(Pe),It}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,j)}sendOne(j,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{Y(this.observers[j])}catch(we){typeof console<"u"&&console.error&&console.error(we)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jn(){}function ft(ee){return ee&&ee._delegate?ee._delegate:ee}},483:(gn,dt,z)=>{z.d(dt,{i:()=>se});var o=z(540);let se=(()=>{class Je{transform(re){return re&&re.seconds?new Date(1e3*re.seconds):null}static{this.\u0275fac=function(Fe){return new(Fe||Je)}}static{this.\u0275pipe=o.EJ8({name:"timestampToDate",type:Je,pure:!0,standalone:!0})}}return Je})()},4796:(gn,dt,z)=>{z.d(dt,{u:()=>Ze});var o=z(540),se=z(8563),Je=z(3100),Ce=z(5794),re=z(8455),Fe=z(7673),Ne=z(8141),je=z(9437);let Ze=(()=>{class ge{constructor(){this.auth=(0,o.WQX)(se.Nj),this.toastr=(0,o.WQX)(Ce.tw),this.router=(0,o.WQX)(Je.Ix)}login(Qe,Ct){return(0,re.H)((0,se.x9)(this.auth,Qe,Ct)).pipe((0,Ne.M)(()=>{this.toastr.success("Logged In Successfully!"),this.router.navigate(["/dashboard/home"])}),(0,je.W)(bt=>(this.toastr.error("Wrong credentials, please try again!"),(0,Fe.of)(bt))))}loadUser(){return(0,se.wh)(this.auth)}logOut(){return(0,re.H)((0,se.CI)(this.auth)).pipe((0,Ne.M)(()=>{this.toastr.success("Logged Out Successfully!"),this.router.navigate(["/dashboard"])}),(0,je.W)(Qe=>(this.toastr.error("An Error has occurred, please try again!"),(0,Fe.of)(Qe))))}static{this.\u0275fac=function(Ct){return new(Ct||ge)}}static{this.\u0275prov=o.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}}return ge})()},6840:(gn,dt,z)=>{z.d(dt,{t:()=>Qe});var o=z(540),se=z(2107),Je=z(5794),Ce=z(9967),re=z(8455),Fe=z(9437),Ne=z(7673),je=z(6354),Ze=z(3100),ge=z(3273),Te=z(5558);let Qe=(()=>{class Ct{constructor(){this.storage=(0,o.WQX)(se.wc),this.toastr=(0,o.WQX)(Je.tw),this.firestore=(0,o.WQX)(Ce._7),this.router=(0,o.WQX)(Ze.Ix)}addPost(ht,Ft,Qt,on){const Mn=`blogPostsImages/${Date.now()}`,nn=(0,se.KR)(this.storage,Mn);(0,re.H)((0,se.D)(nn,ht)).pipe((0,Te.n)(()=>(0,re.H)((0,se.qk)(nn))),(0,Fe.W)(Oe=>(this.toastr.warning("An error has occurred while uploading the image! We will give you a placeholder image instead."),(0,Ne.of)("./assets/image-placeholder.png")))).subscribe({next:Oe=>{Ft.postImg=Oe,"Edit"===Qt?this.updateData(on,Ft):this.saveData(Ft)},error:Oe=>{this.toastr.error("An error has occurred while getting the image URL!"),console.log(Oe)}})}saveData(ht){let Ft=(0,Ce.rJ)(this.firestore,"blogposts");(0,Ce.gS)(Ft,ht).then(Qt=>{this.toastr.success("Blog Post Added Successfully !"),this.router.navigate(["/dashboard/posts"])}).catch(Qt=>{console.log(Qt),this.toastr.error("An error has occured while saving the data !")})}loadData(){let ht=(0,Ce.rJ)(this.firestore,"blogposts");return(0,Ce.xs)(ht,{idField:"id"})}loadOneData(ht){let Ft=(0,Ce.rJ)(this.firestore,"blogposts"),Qt=(0,Ce.H9)(Ft,ht);return(0,Ce.Bg)(Qt,{idField:"id"})}loadDataWithPostLink(ht){let Ft=(0,Ce.rJ)(this.firestore,"blogposts"),Qt=(0,ge.P)(Ft,(0,Ce._M)("postLink","==",ht));return(0,re.H)((0,Ce.GG)(Qt)).pipe((0,je.T)(on=>{if(!on.empty){const Mn=on.docs[0],nn=Mn.data();return{id:Mn.id,...nn}}}))}updateData(ht,Ft){let Qt=(0,Ce.H9)(this.firestore,"blogposts",ht);(0,Ce.mZ)(Qt,{...Ft}).then(on=>{this.toastr.success("Blog Post Updated Successfully !"),this.router.navigate(["/dashboard/posts"])}).catch(on=>{this.toastr.error(on.message)})}deleteData(ht){let Ft=(0,Ce.H9)(this.firestore,"blogposts",ht);(0,Ce.kd)(Ft).then(Qt=>{this.toastr.success("Post Deleted Successfully !")}).catch(Qt=>{this.toastr.error(Qt.message)})}markFeatured(ht,Ft){let Qt=(0,Ce.H9)(this.firestore,"blogposts",ht);(0,Ce.mZ)(Qt,{...Ft}).then(on=>{this.toastr.info("Featured status updated !")}).catch(on=>{this.toastr.error(on.message)})}getFeaturedPosts(){let ht=(0,Ce.rJ)(this.firestore,"blogposts"),Ft=(0,ge.P)(ht,(0,Ce._M)("isFeatured","==",!0),(0,Ce.AB)(4));return(0,Ce.xs)(Ft,{idField:"id"})}getLatestPosts(ht,Ft){const Qt=(0,Ce.rJ)(this.firestore,"blogposts");let on=(0,ge.P)(Qt,(0,ge.My)("createdAt","desc"),(0,Ce.AB)(ht));return Ft&&(on=(0,ge.P)(on,(0,Ce.HM)(Ft))),(0,re.H)((0,Ce.GG)(on)).pipe((0,je.T)(Mn=>{const nn=[];let Oe=null;return Mn.forEach(it=>{nn.push({id:it.id,...it.data()})}),Mn.docs.length>0&&(Oe=Mn.docs[Mn.docs.length-1]),{posts:nn,lastVisible:Oe}}),(0,Fe.W)(Mn=>{throw console.error("Error fetching posts:",Mn),Mn}))}getTotalPostsCount(){const ht=(0,Ce.rJ)(this.firestore,"blogposts");return(0,re.H)((0,Ce.GG)(ht))}loadCategoryPosts(ht){let Ft=(0,Ce.rJ)(this.firestore,"blogposts"),Qt=(0,ge.P)(Ft,(0,Ce._M)("category.categoryId","==",ht));return(0,Ce.xs)(Qt,{idField:"id"})}loadSimilarPosts(ht){let Ft=(0,Ce.rJ)(this.firestore,"blogposts"),Qt=(0,ge.P)(Ft,(0,Ce._M)("category.categoryId","==",ht),(0,Ce.AB)(3));return(0,Ce.xs)(Qt,{idField:"id"})}countViews(ht){let Ft=(0,Ce.H9)(this.firestore,"blogposts",ht);(0,Ce.mZ)(Ft,{views:(0,Ce.GV)(1)}).then(Qt=>{})}static{this.\u0275fac=function(Ft){return new(Ft||Ct)}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}}return Ct})()},7562:(gn,dt,z)=>{z.d(dt,{w:()=>re});var o=z(540),se=z(9967),Je=z(5794),Ce=z(3273);let re=(()=>{class Fe{constructor(){this.firestore=(0,o.WQX)(se._7),this.toastr=(0,o.WQX)(Je.tw)}saveData(je){let Ze=(0,se.rJ)(this.firestore,"categories");(0,se.gS)(Ze,je).then(ge=>{this.toastr.success("Category Added Successfully !")}).catch(ge=>{this.toastr.error(ge.message)})}loadData(){let je=(0,se.rJ)(this.firestore,"categories");return(0,se.xs)(je,{idField:"id"})}updateData(je,Ze){let ge=(0,Ce.H9)(this.firestore,"categories",je);(0,Ce.mZ)(ge,{category:Ze.category}).then(Te=>{this.toastr.success("Category Updated Successfully !")}).catch(Te=>{this.toastr.error(Te.message)})}deleteData(je){let Ze=(0,Ce.H9)(this.firestore,"categories",je);(0,se.kd)(Ze).then(ge=>{this.toastr.success("Category Deleted Successfully !")}).catch(ge=>{this.toastr.error(ge.message)})}static{this.\u0275fac=function(Ze){return new(Ze||Fe)}}static{this.\u0275prov=o.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})()},8088:(gn,dt,z)=>{z.d(dt,{y:()=>Ce});var o=z(540),se=z(9967),Je=z(5794);let Ce=(()=>{class re{constructor(){this.firestore=(0,o.WQX)(se._7),this.toastr=(0,o.WQX)(Je.tw)}saveData(Ne){let je=(0,se.rJ)(this.firestore,"comments");(0,se.gS)(je,Ne).then(Ze=>{this.toastr.success("Comment Submitted for verification !")}).catch(Ze=>{this.toastr.error("An error has occured please try again !")})}loadData(Ne){let je=(0,se.rJ)(this.firestore,"comments"),Ze=(0,se.P)(je,(0,se._M)("postId","==",Ne),(0,se._M)("approved","==",!0));return(0,se.xs)(Ze,{idField:"id"})}loadAllData(){let Ne=(0,se.rJ)(this.firestore,"comments"),je=(0,se.P)(Ne);return(0,se.xs)(je,{idField:"id"})}loadNotApprovedComments(){let Ne=(0,se.rJ)(this.firestore,"comments"),je=(0,se.P)(Ne,(0,se._M)("approved","==",!1));return(0,se.xs)(je,{idField:"id"})}deleteData(Ne){let je=(0,se.H9)(this.firestore,"comments",Ne);(0,se.kd)(je).then(Ze=>{this.toastr.success("Comment Deleted Successfully !")}).catch(Ze=>{this.toastr.error(Ze.message)})}approveComment(Ne){let je=(0,se.H9)(this.firestore,"comments",Ne);(0,se.mZ)(je,{approved:!0}).then(Ze=>{this.toastr.info("Comment approved !")}).catch(Ze=>{this.toastr.error(Ze.message)})}static{this.\u0275fac=function(je){return new(je||re)}}static{this.\u0275prov=o.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})()},69:(gn,dt,z)=>{z.d(dt,{t:()=>re});var o=z(540),se=z(9967),Je=z(5794),Ce=z(3273);let re=(()=>{class Fe{constructor(){this.firestore=(0,o.WQX)(se._7),this.toastr=(0,o.WQX)(Je.tw)}saveData(je){let Ze=(0,se.rJ)(this.firestore,"subscribers");(0,se.gS)(Ze,je).then(ge=>{this.toastr.success("Subscribed Successfully !")}).catch(ge=>{this.toastr.error(ge.message)})}checkSubs(je){let Ze=(0,se.rJ)(this.firestore,"subscribers"),ge=(0,Ce.P)(Ze,(0,se._M)("email","==",je));return(0,se.xs)(ge,{idField:"id"})}loadData(){let je=(0,se.rJ)(this.firestore,"subscribers");return(0,se.xs)(je,{idField:"id"})}deleteData(je){let Ze=(0,se.H9)(this.firestore,"subscribers",je);(0,se.kd)(Ze).then(ge=>{this.toastr.success("Subscriber Deleted Successfully !")}).catch(ge=>{this.toastr.error(ge.message)})}static{this.\u0275fac=function(Ze){return new(Ze||Fe)}}static{this.\u0275prov=o.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})()},6013:(gn,dt,z)=>{z.d(dt,{z:()=>Je});var o=z(3100),se=z(540);let Je=(()=>{class Ce{static{this.\u0275fac=function(Ne){return new(Ne||Ce)}}static{this.\u0275cmp=se.VBU({type:Ce,selectors:[["app-error-page"]],standalone:!0,features:[se.aNF],decls:12,vars:0,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"text-center"],[1,"display-1","fw-bold"],[1,"fs-3"],[1,"text-danger"],[1,"lead"],["routerLink","/",1,"btn","btn-info","btn-block","btn-theme"]],template:function(Ne,je){1&Ne&&(se.j41(0,"div",0)(1,"div",1)(2,"h1",2),se.EFF(3,"404"),se.k0s(),se.j41(4,"p",3)(5,"span",4),se.EFF(6,"Opps!"),se.k0s(),se.EFF(7," Page not found."),se.k0s(),se.j41(8,"p",5),se.EFF(9," The page you\u2019re looking for doesn\u2019t exist. "),se.k0s(),se.j41(10,"button",6),se.EFF(11,"Go Home"),se.k0s()()())},dependencies:[o.Wk],changeDetection:0})}}return Ce})()},1303:(gn,dt,z)=>{z.d(dt,{n:()=>re});var o=z(3100),se=z(540);const Je=function(){return["/"]},Ce=function(){return["/contact"]};let re=(()=>{class Fe{static{this.\u0275fac=function(Ze){return new(Ze||Fe)}}static{this.\u0275cmp=se.VBU({type:Fe,selectors:[["app-footer"]],standalone:!0,features:[se.aNF],decls:16,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"site-logo"],[1,"nav","justify-content-center"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"mb-2","mt-2"]],template:function(Ze,ge){1&Ze&&(se.j41(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),se.EFF(5,"GL4 BLOG"),se.k0s(),se.j41(6,"div")(7,"ul",4)(8,"li",5)(9,"a",6),se.EFF(10,"Home"),se.k0s()(),se.j41(11,"li",5)(12,"a",6),se.EFF(13,"Contact "),se.k0s()()()(),se.j41(14,"p",7),se.EFF(15,"Copyright \xa9 2024-2025 GL4 Blog"),se.k0s()()()()()),2&Ze&&(se.R7$(9),se.Y8G("routerLink",se.lJ4(2,Je)),se.R7$(3),se.Y8G("routerLink",se.lJ4(3,Ce)))},dependencies:[o.Wk],styles:["footer[_ngcontent-%COMP%]{height:130px;padding:15px;background-color:var(--navbar-footer-color)}.site-logo[_ngcontent-%COMP%]{font-size:1.2em}"],changeDetection:0})}}return Fe})()},3687:(gn,dt,z)=>{z.d(dt,{l:()=>Ne});var o=z(540),se=z(4796),Je=z(177),Ce=z(3100);function re(je,Ze){if(1&je){const ge=o.RV6();o.j41(0,"div",4)(1,"a",5),o.EFF(2),o.k0s(),o.j41(3,"button",6),o.bIt("click",function(){o.eBV(ge);const Qe=o.XpG();return o.Njj(Qe.onLogout())}),o.EFF(4,"Logout"),o.k0s()()}if(2&je){const ge=Ze.ngIf;o.R7$(2),o.JRh(ge.email)}}const Fe=function(){return["/"]};let Ne=(()=>{class je{constructor(){this.authService=(0,o.WQX)(se.u),this.loggedInUser$=this.authService.loadUser()}onLogout(){this.authService.logOut()}static{this.\u0275fac=function(Te){return new(Te||je)}}static{this.\u0275cmp=o.VBU({type:je,selectors:[["app-header"]],standalone:!0,features:[o.aNF],decls:7,vars:5,consts:[[1,"navbar","navbar-expand-lg","fixed-top","bg-white"],[1,"container","justify-content-center"],[1,"site-logo",3,"routerLink"],["class","container justify-content-center d-flex gap-3",4,"ngIf"],[1,"container","justify-content-center","d-flex","gap-3"],["href","#",1,"mr-3"],[1,"btn","btn-sm","btn-info","bg-secondary-theme","text-theme-primary",2,"text-decoration","none",3,"click"]],template:function(Te,Qe){1&Te&&(o.j41(0,"header",0)(1,"div",1)(2,"a",2)(3,"h2"),o.EFF(4,"GL4 BLOG"),o.k0s()()(),o.DNE(5,re,5,1,"div",3),o.nI1(6,"async"),o.k0s()),2&Te&&(o.R7$(2),o.Y8G("routerLink",o.lJ4(4,Fe)),o.R7$(3),o.Y8G("ngIf",o.bMT(6,2,Qe.loggedInUser$)))},dependencies:[Ce.Wk,Je.bT,Je.Jj],styles:["header[_ngcontent-%COMP%]{height:100px}.site-logo[_ngcontent-%COMP%]{font-size:1.5em;text-decoration:none}"],changeDetection:0})}}return je})()},2118:(gn,dt,z)=>{var o=z(540),se=z(3100);let Je=(()=>{class V{constructor(){this.title="blog-app"}static{this.\u0275fac=function(P){return new(P||V)}}static{this.\u0275cmp=o.VBU({type:V,selectors:[["app-root"]],standalone:!0,features:[o.aNF],decls:1,vars:0,template:function(P,Q){1&P&&o.nrm(0,"router-outlet")},dependencies:[se.n3]})}}return V})();var Ce=z(1626),re=z(4056),Fe=z(5794),Ne=z(345),je=z(9969);function ge(V){return new o.wOt(3e3,!1)}function dn(V){switch(V.length){case 0:return new je.sf;case 1:return V[0];default:return new je.ui(V)}}function Gn(V,v,y=new Map,P=new Map){const Q=[],le=[];let Ae=-1,xe=null;if(v.forEach(ut=>{const wt=ut.get("offset"),rn=wt==Ae,Cn=rn&&xe||new Map;ut.forEach((Or,gr)=>{let Fn=gr,or=Or;if("offset"!==gr)switch(Fn=V.normalizePropertyName(Fn,Q),or){case je.FX:or=y.get(gr);break;case je.kp:or=P.get(gr);break;default:or=V.normalizeStyleValue(gr,Fn,or,Q)}Cn.set(Fn,or)}),rn||le.push(Cn),xe=Cn,Ae=wt}),Q.length)throw function N(V){return new o.wOt(3502,!1)}();return le}function jt(V,v,y,P){switch(v){case"start":V.onStart(()=>P(y&&Nr(y,"start",V)));break;case"done":V.onDone(()=>P(y&&Nr(y,"done",V)));break;case"destroy":V.onDestroy(()=>P(y&&Nr(y,"destroy",V)))}}function Nr(V,v,y){const le=wn(V.element,V.triggerName,V.fromState,V.toState,v||V.phaseName,y.totalTime??V.totalTime,!!y.disabled),Ae=V._data;return null!=Ae&&(le._data=Ae),le}function wn(V,v,y,P,Q="",le=0,Ae){return{element:V,triggerName:v,fromState:y,toState:P,phaseName:Q,totalTime:le,disabled:!!Ae}}function Dn(V,v,y){let P=V.get(v);return P||V.set(v,P=y),P}function Wt(V){const v=V.indexOf(":");return[V.substring(1,v),V.slice(v+1)]}const sn=(()=>typeof document>"u"?null:document.documentElement)();function Ot(V){const v=V.parentNode||V.host||null;return v===sn?null:v}let ir=null,At=!1;function Wi(V,v){for(;v;){if(v===V)return!0;v=Ot(v)}return!1}function Dr(V,v,y){if(y)return Array.from(V.querySelectorAll(v));const P=V.querySelector(v);return P?[P]:[]}let Er=(()=>{class V{validateStyleProperty(y){return function di(V){ir||(ir=function yn(){return typeof document<"u"?document.body:null}()||{},At=!!ir.style&&"WebkitAppearance"in ir.style);let v=!0;return ir.style&&!function vi(V){return"ebkit"==V.substring(1,6)}(V)&&(v=V in ir.style,!v&&At&&(v="Webkit"+V.charAt(0).toUpperCase()+V.slice(1)in ir.style)),v}(y)}matchesElement(y,P){return!1}containsElement(y,P){return Wi(y,P)}getParentElement(y){return Ot(y)}query(y,P,Q){return Dr(y,P,Q)}computeStyle(y,P,Q){return Q||""}animate(y,P,Q,le,Ae,xe=[],ut){return new je.sf(Q,le)}static{this.\u0275fac=function(P){return new(P||V)}}static{this.\u0275prov=o.jDH({token:V,factory:V.\u0275fac})}}return V})(),Sr=(()=>{class V{static{this.NOOP=new Er}}return V})();const Ki=1e3,cn="ng-enter",Ri="ng-leave",ti="ng-trigger",br=".ng-trigger",ze="ng-animating",hn=".ng-animating";function Pn(V){if("number"==typeof V)return V;const v=V.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:Ji(parseFloat(v[1]),v[2])}function Ji(V,v){return"s"===v?V*Ki:V}function Ci(V,v,y){return V.hasOwnProperty("duration")?V:function kn(V,v,y){let Q,le=0,Ae="";if("string"==typeof V){const xe=V.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===xe)return v.push(ge()),{duration:0,delay:0,easing:""};Q=Ji(parseFloat(xe[1]),xe[2]);const ut=xe[3];null!=ut&&(le=Ji(parseFloat(ut),xe[4]));const wt=xe[5];wt&&(Ae=wt)}else Q=V;if(!y){let xe=!1,ut=v.length;Q<0&&(v.push(function Te(){return new o.wOt(3100,!1)}()),xe=!0),le<0&&(v.push(function Qe(){return new o.wOt(3101,!1)}()),xe=!0),xe&&v.splice(ut,0,ge())}return{duration:Q,delay:le,easing:Ae}}(V,v,y)}function Zn(V,v={}){return Object.keys(V).forEach(y=>{v[y]=V[y]}),v}function oi(V){const v=new Map;return Object.keys(V).forEach(y=>{v.set(y,V[y])}),v}function ft(V,v=new Map,y){if(y)for(let[P,Q]of y)v.set(P,Q);for(let[P,Q]of V)v.set(P,Q);return v}function ee(V,v,y){v.forEach((P,Q)=>{const le=Sn(Q);y&&!y.has(Q)&&y.set(Q,V.style[le]),V.style[le]=P})}function j(V,v){v.forEach((y,P)=>{const Q=Sn(P);V.style[Q]=""})}function Y(V){return Array.isArray(V)?1==V.length?V[0]:(0,je.K2)(V):V}const Pe=new RegExp("{{\\s*(.+?)\\s*}}","g");function It(V){let v=[];if("string"==typeof V){let y;for(;y=Pe.exec(V);)v.push(y[1]);Pe.lastIndex=0}return v}function kt(V,v,y){const P=V.toString(),Q=P.replace(Pe,(le,Ae)=>{let xe=v[Ae];return null==xe&&(y.push(function bt(V){return new o.wOt(3003,!1)}()),xe=""),xe.toString()});return Q==P?V:Q}function mn(V){const v=[];let y=V.next();for(;!y.done;)v.push(y.value),y=V.next();return v}const Xn=/-+([a-z0-9])/g;function Sn(V){return V.replace(Xn,(...v)=>v[1].toUpperCase())}function Se(V,v,y){switch(v.type){case 7:return V.visitTrigger(v,y);case 0:return V.visitState(v,y);case 1:return V.visitTransition(v,y);case 2:return V.visitSequence(v,y);case 3:return V.visitGroup(v,y);case 4:return V.visitAnimate(v,y);case 5:return V.visitKeyframes(v,y);case 6:return V.visitStyle(v,y);case 8:return V.visitReference(v,y);case 9:return V.visitAnimateChild(v,y);case 10:return V.visitAnimateRef(v,y);case 11:return V.visitQuery(v,y);case 12:return V.visitStagger(v,y);default:throw function ht(V){return new o.wOt(3004,!1)}()}}function Tt(V,v){return window.getComputedStyle(V)[v]}const tt="*";function We(V,v){const y=[];return"string"==typeof V?V.split(/\s*,\s*/).forEach(P=>function vt(V,v,y){if(":"==V[0]){const ut=function Yt(V,v){switch(V){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(y,P)=>parseFloat(P)>parseFloat(y);case":decrement":return(y,P)=>parseFloat(P)<parseFloat(y);default:return v.push(function mr(V){return new o.wOt(3016,!1)}()),"* => *"}}(V,y);if("function"==typeof ut)return void v.push(ut);V=ut}const P=V.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==P||P.length<4)return y.push(function Kn(V){return new o.wOt(3015,!1)}()),v;const Q=P[1],le=P[2],Ae=P[3];v.push(fn(Q,Ae));"<"==le[0]&&!(Q==tt&&Ae==tt)&&v.push(fn(Ae,Q))}(P,y,v)):y.push(V),y}const En=new Set(["true","1"]),Zt=new Set(["false","0"]);function fn(V,v){const y=En.has(V)||Zt.has(V),P=En.has(v)||Zt.has(v);return(Q,le)=>{let Ae=V==tt||V==Q,xe=v==tt||v==le;return!Ae&&y&&"boolean"==typeof Q&&(Ae=Q?En.has(V):Zt.has(V)),!xe&&P&&"boolean"==typeof le&&(xe=le?En.has(v):Zt.has(v)),Ae&&xe}}const cr=new RegExp("s*:selfs*,?","g");function In(V,v,y,P){return new qi(V).build(v,y,P)}class qi{constructor(v){this._driver=v}build(v,y,P){const Q=new en(y);return this._resetContextStyleTimingState(Q),Se(this,Y(v),Q)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,y){let P=y.queryCount=0,Q=y.depCount=0;const le=[],Ae=[];return"@"==v.name.charAt(0)&&y.errors.push(function Qt(){return new o.wOt(3006,!1)}()),v.definitions.forEach(xe=>{if(this._resetContextStyleTimingState(y),0==xe.type){const ut=xe,wt=ut.name;wt.toString().split(/\s*,\s*/).forEach(rn=>{ut.name=rn,le.push(this.visitState(ut,y))}),ut.name=wt}else if(1==xe.type){const ut=this.visitTransition(xe,y);P+=ut.queryCount,Q+=ut.depCount,Ae.push(ut)}else y.errors.push(function on(){return new o.wOt(3007,!1)}())}),{type:7,name:v.name,states:le,transitions:Ae,queryCount:P,depCount:Q,options:null}}visitState(v,y){const P=this.visitStyle(v.styles,y),Q=v.options&&v.options.params||null;if(P.containsDynamicStyles){const le=new Set,Ae=Q||{};P.styles.forEach(xe=>{xe instanceof Map&&xe.forEach(ut=>{It(ut).forEach(wt=>{Ae.hasOwnProperty(wt)||le.add(wt)})})}),le.size&&(mn(le.values()),y.errors.push(function Mn(V,v){return new o.wOt(3008,!1)}()))}return{type:0,name:v.name,style:P,options:Q?{params:Q}:null}}visitTransition(v,y){y.queryCount=0,y.depCount=0;const P=Se(this,Y(v.animation),y);return{type:1,matchers:We(v.expr,y.errors),animation:P,queryCount:y.queryCount,depCount:y.depCount,options:tn(v.options)}}visitSequence(v,y){return{type:2,steps:v.steps.map(P=>Se(this,P,y)),options:tn(v.options)}}visitGroup(v,y){const P=y.currentTime;let Q=0;const le=v.steps.map(Ae=>{y.currentTime=P;const xe=Se(this,Ae,y);return Q=Math.max(Q,y.currentTime),xe});return y.currentTime=Q,{type:3,steps:le,options:tn(v.options)}}visitAnimate(v,y){const P=function Nn(V,v){if(V.hasOwnProperty("duration"))return V;if("number"==typeof V)return ni(Ci(V,v).duration,0,"");const y=V;if(y.split(/\s+/).some(le=>"{"==le.charAt(0)&&"{"==le.charAt(1))){const le=ni(0,0,"");return le.dynamic=!0,le.strValue=y,le}const Q=Ci(y,v);return ni(Q.duration,Q.delay,Q.easing)}(v.timings,y.errors);y.currentAnimateTimings=P;let Q,le=v.styles?v.styles:(0,je.iF)({});if(5==le.type)Q=this.visitKeyframes(le,y);else{let Ae=v.styles,xe=!1;if(!Ae){xe=!0;const wt={};P.easing&&(wt.easing=P.easing),Ae=(0,je.iF)(wt)}y.currentTime+=P.duration+P.delay;const ut=this.visitStyle(Ae,y);ut.isEmptyStep=xe,Q=ut}return y.currentAnimateTimings=null,{type:4,timings:P,style:Q,options:null}}visitStyle(v,y){const P=this._makeStyleAst(v,y);return this._validateStyleAst(P,y),P}_makeStyleAst(v,y){const P=[],Q=Array.isArray(v.styles)?v.styles:[v.styles];for(let xe of Q)"string"==typeof xe?xe===je.kp?P.push(xe):y.errors.push(new o.wOt(3002,!1)):P.push(oi(xe));let le=!1,Ae=null;return P.forEach(xe=>{if(xe instanceof Map&&(xe.has("easing")&&(Ae=xe.get("easing"),xe.delete("easing")),!le))for(let ut of xe.values())if(ut.toString().indexOf("{{")>=0){le=!0;break}}),{type:6,styles:P,easing:Ae,offset:v.offset,containsDynamicStyles:le,options:null}}_validateStyleAst(v,y){const P=y.currentAnimateTimings;let Q=y.currentTime,le=y.currentTime;P&&le>0&&(le-=P.duration+P.delay),v.styles.forEach(Ae=>{"string"!=typeof Ae&&Ae.forEach((xe,ut)=>{const wt=y.collectedStyles.get(y.currentQuerySelector),rn=wt.get(ut);let Cn=!0;rn&&(le!=Q&&le>=rn.startTime&&Q<=rn.endTime&&(y.errors.push(function it(V,v,y,P,Q){return new o.wOt(3010,!1)}()),Cn=!1),le=rn.startTime),Cn&&wt.set(ut,{startTime:le,endTime:Q}),y.options&&function we(V,v,y){const P=v.params||{},Q=It(V);Q.length&&Q.forEach(le=>{P.hasOwnProperty(le)||y.push(function Ct(V){return new o.wOt(3001,!1)}())})}(xe,y.options,y.errors)})})}visitKeyframes(v,y){const P={type:5,styles:[],options:null};if(!y.currentAnimateTimings)return y.errors.push(function pt(){return new o.wOt(3011,!1)}()),P;let le=0;const Ae=[];let xe=!1,ut=!1,wt=0;const rn=v.steps.map(Di=>{const Fi=this._makeStyleAst(Di,y);let ws=null!=Fi.offset?Fi.offset:function Dt(V){if("string"==typeof V)return null;let v=null;if(Array.isArray(V))V.forEach(y=>{if(y instanceof Map&&y.has("offset")){const P=y;v=parseFloat(P.get("offset")),P.delete("offset")}});else if(V instanceof Map&&V.has("offset")){const y=V;v=parseFloat(y.get("offset")),y.delete("offset")}return v}(Fi.styles),Vr=0;return null!=ws&&(le++,Vr=Fi.offset=ws),ut=ut||Vr<0||Vr>1,xe=xe||Vr<wt,wt=Vr,Ae.push(Vr),Fi});ut&&y.errors.push(function Pt(){return new o.wOt(3012,!1)}()),xe&&y.errors.push(function $t(){return new o.wOt(3200,!1)}());const Cn=v.steps.length;let Or=0;le>0&&le<Cn?y.errors.push(function Bt(){return new o.wOt(3202,!1)}()):0==le&&(Or=1/(Cn-1));const gr=Cn-1,Fn=y.currentTime,or=y.currentAnimateTimings,Fr=or.duration;return rn.forEach((Di,Fi)=>{const ws=Or>0?Fi==gr?1:Or*Fi:Ae[Fi],Vr=ws*Fr;y.currentTime=Fn+or.delay+Vr,or.duration=Vr,this._validateStyleAst(Di,y),Di.offset=ws,P.styles.push(Di)}),P}visitReference(v,y){return{type:8,animation:Se(this,Y(v.animation),y),options:tn(v.options)}}visitAnimateChild(v,y){return y.depCount++,{type:9,options:tn(v.options)}}visitAnimateRef(v,y){return{type:10,animation:this.visitReference(v.animation,y),options:tn(v.options)}}visitQuery(v,y){const P=y.currentQuerySelector,Q=v.options||{};y.queryCount++,y.currentQuery=v;const[le,Ae]=function Ss(V){const v=!!V.split(/\s*,\s*/).find(y=>":self"==y);return v&&(V=V.replace(cr,"")),V=V.replace(/@\*/g,br).replace(/@\w+/g,y=>br+"-"+y.slice(1)).replace(/:animating/g,hn),[V,v]}(v.selector);y.currentQuerySelector=P.length?P+" "+le:le,Dn(y.collectedStyles,y.currentQuerySelector,new Map);const xe=Se(this,Y(v.animation),y);return y.currentQuery=null,y.currentQuerySelector=P,{type:11,selector:le,limit:Q.limit||0,optional:!!Q.optional,includeSelf:Ae,animation:xe,originalSelector:v.selector,options:tn(v.options)}}visitStagger(v,y){y.currentQuery||y.errors.push(function Le(){return new o.wOt(3013,!1)}());const P="full"===v.timings?{duration:0,delay:0,easing:"full"}:Ci(v.timings,y.errors,!0);return{type:12,animation:Se(this,Y(v.animation),y),timings:P,options:null}}}class en{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function tn(V){return V?(V=Zn(V)).params&&(V.params=function Ar(V){return V?Zn(V):null}(V.params)):V={},V}function ni(V,v,y){return{duration:V,delay:v,easing:y}}function Jr(V,v,y,P,Q,le,Ae=null,xe=!1){return{type:1,element:V,keyframes:v,preStyleProps:y,postStyleProps:P,duration:Q,delay:le,totalTime:Q+le,easing:Ae,subTimeline:xe}}class pr{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,y){let P=this._map.get(v);P||this._map.set(v,P=[]),P.push(...y)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const ar=new RegExp(":enter","g"),vs=new RegExp(":leave","g");function Ir(V,v,y,P,Q,le=new Map,Ae=new Map,xe,ut,wt=[]){return(new Us).buildKeyframes(V,v,y,P,Q,le,Ae,xe,ut,wt)}class Us{buildKeyframes(v,y,P,Q,le,Ae,xe,ut,wt,rn=[]){wt=wt||new pr;const Cn=new ri(v,y,wt,Q,le,rn,[]);Cn.options=ut;const Or=ut.delay?Pn(ut.delay):0;Cn.currentTimeline.delayNextStep(Or),Cn.currentTimeline.setStyles([Ae],null,Cn.errors,ut),Se(this,P,Cn);const gr=Cn.timelines.filter(Fn=>Fn.containsAnimation());if(gr.length&&xe.size){let Fn;for(let or=gr.length-1;or>=0;or--){const Fr=gr[or];if(Fr.element===y){Fn=Fr;break}}Fn&&!Fn.allowOnlyTimelineStyles()&&Fn.setStyles([xe],null,Cn.errors,ut)}return gr.length?gr.map(Fn=>Fn.buildKeyframes()):[Jr(y,[],[],[],0,Or,"",!1)]}visitTrigger(v,y){}visitState(v,y){}visitTransition(v,y){}visitAnimateChild(v,y){const P=y.subInstructions.get(y.element);if(P){const Q=y.createSubContext(v.options),le=y.currentTimeline.currentTime,Ae=this._visitSubInstructions(P,Q,Q.options);le!=Ae&&y.transformIntoNewTimeline(Ae)}y.previousNode=v}visitAnimateRef(v,y){const P=y.createSubContext(v.options);P.transformIntoNewTimeline(),this._applyAnimationRefDelays([v.options,v.animation.options],y,P),this.visitReference(v.animation,P),y.transformIntoNewTimeline(P.currentTimeline.currentTime),y.previousNode=v}_applyAnimationRefDelays(v,y,P){for(const Q of v){const le=Q?.delay;if(le){const Ae="number"==typeof le?le:Pn(kt(le,Q?.params??{},y.errors));P.delayNextStep(Ae)}}}_visitSubInstructions(v,y,P){let le=y.currentTimeline.currentTime;const Ae=null!=P.duration?Pn(P.duration):null,xe=null!=P.delay?Pn(P.delay):null;return 0!==Ae&&v.forEach(ut=>{const wt=y.appendInstructionToTimeline(ut,Ae,xe);le=Math.max(le,wt.duration+wt.delay)}),le}visitReference(v,y){y.updateOptions(v.options,!0),Se(this,v.animation,y),y.previousNode=v}visitSequence(v,y){const P=y.subContextCount;let Q=y;const le=v.options;if(le&&(le.params||le.delay)&&(Q=y.createSubContext(le),Q.transformIntoNewTimeline(),null!=le.delay)){6==Q.previousNode.type&&(Q.currentTimeline.snapshotCurrentStyles(),Q.previousNode=Li);const Ae=Pn(le.delay);Q.delayNextStep(Ae)}v.steps.length&&(v.steps.forEach(Ae=>Se(this,Ae,Q)),Q.currentTimeline.applyStylesToKeyframe(),Q.subContextCount>P&&Q.transformIntoNewTimeline()),y.previousNode=v}visitGroup(v,y){const P=[];let Q=y.currentTimeline.currentTime;const le=v.options&&v.options.delay?Pn(v.options.delay):0;v.steps.forEach(Ae=>{const xe=y.createSubContext(v.options);le&&xe.delayNextStep(le),Se(this,Ae,xe),Q=Math.max(Q,xe.currentTimeline.currentTime),P.push(xe.currentTimeline)}),P.forEach(Ae=>y.currentTimeline.mergeTimelineCollectedStyles(Ae)),y.transformIntoNewTimeline(Q),y.previousNode=v}_visitTiming(v,y){if(v.dynamic){const P=v.strValue;return Ci(y.params?kt(P,y.params,y.errors):P,y.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,y){const P=y.currentAnimateTimings=this._visitTiming(v.timings,y),Q=y.currentTimeline;P.delay&&(y.incrementTime(P.delay),Q.snapshotCurrentStyles());const le=v.style;5==le.type?this.visitKeyframes(le,y):(y.incrementTime(P.duration),this.visitStyle(le,y),Q.applyStylesToKeyframe()),y.currentAnimateTimings=null,y.previousNode=v}visitStyle(v,y){const P=y.currentTimeline,Q=y.currentAnimateTimings;!Q&&P.hasCurrentStyleProperties()&&P.forwardFrame();const le=Q&&Q.easing||v.easing;v.isEmptyStep?P.applyEmptyStep(le):P.setStyles(v.styles,le,y.errors,y.options),y.previousNode=v}visitKeyframes(v,y){const P=y.currentAnimateTimings,Q=y.currentTimeline.duration,le=P.duration,xe=y.createSubContext().currentTimeline;xe.easing=P.easing,v.styles.forEach(ut=>{xe.forwardTime((ut.offset||0)*le),xe.setStyles(ut.styles,ut.easing,y.errors,y.options),xe.applyStylesToKeyframe()}),y.currentTimeline.mergeTimelineCollectedStyles(xe),y.transformIntoNewTimeline(Q+le),y.previousNode=v}visitQuery(v,y){const P=y.currentTimeline.currentTime,Q=v.options||{},le=Q.delay?Pn(Q.delay):0;le&&(6===y.previousNode.type||0==P&&y.currentTimeline.hasCurrentStyleProperties())&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=Li);let Ae=P;const xe=y.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!Q.optional,y.errors);y.currentQueryTotal=xe.length;let ut=null;xe.forEach((wt,rn)=>{y.currentQueryIndex=rn;const Cn=y.createSubContext(v.options,wt);le&&Cn.delayNextStep(le),wt===y.element&&(ut=Cn.currentTimeline),Se(this,v.animation,Cn),Cn.currentTimeline.applyStylesToKeyframe(),Ae=Math.max(Ae,Cn.currentTimeline.currentTime)}),y.currentQueryIndex=0,y.currentQueryTotal=0,y.transformIntoNewTimeline(Ae),ut&&(y.currentTimeline.mergeTimelineCollectedStyles(ut),y.currentTimeline.snapshotCurrentStyles()),y.previousNode=v}visitStagger(v,y){const P=y.parentContext,Q=y.currentTimeline,le=v.timings,Ae=Math.abs(le.duration),xe=Ae*(y.currentQueryTotal-1);let ut=Ae*y.currentQueryIndex;switch(le.duration<0?"reverse":le.easing){case"reverse":ut=xe-ut;break;case"full":ut=P.currentStaggerTime}const rn=y.currentTimeline;ut&&rn.delayNextStep(ut);const Cn=rn.currentTime;Se(this,v.animation,y),y.previousNode=v,P.currentStaggerTime=Q.currentTime-Cn+(Q.startTime-P.currentTimeline.startTime)}}const Li={};class ri{constructor(v,y,P,Q,le,Ae,xe,ut){this._driver=v,this.element=y,this.subInstructions=P,this._enterClassName=Q,this._leaveClassName=le,this.errors=Ae,this.timelines=xe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Li,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ut||new Rs(this._driver,y,0),xe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,y){if(!v)return;const P=v;let Q=this.options;null!=P.duration&&(Q.duration=Pn(P.duration)),null!=P.delay&&(Q.delay=Pn(P.delay));const le=P.params;if(le){let Ae=Q.params;Ae||(Ae=this.options.params={}),Object.keys(le).forEach(xe=>{(!y||!Ae.hasOwnProperty(xe))&&(Ae[xe]=kt(le[xe],Ae,this.errors))})}}_copyOptions(){const v={};if(this.options){const y=this.options.params;if(y){const P=v.params={};Object.keys(y).forEach(Q=>{P[Q]=y[Q]})}}return v}createSubContext(v=null,y,P){const Q=y||this.element,le=new ri(this._driver,Q,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Q,P||0));return le.previousNode=this.previousNode,le.currentAnimateTimings=this.currentAnimateTimings,le.options=this._copyOptions(),le.updateOptions(v),le.currentQueryIndex=this.currentQueryIndex,le.currentQueryTotal=this.currentQueryTotal,le.parentContext=this,this.subContextCount++,le}transformIntoNewTimeline(v){return this.previousNode=Li,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,y,P){const Q={duration:y??v.duration,delay:this.currentTimeline.currentTime+(P??0)+v.delay,easing:""},le=new os(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,Q,v.stretchStartingKeyframe);return this.timelines.push(le),Q}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,y,P,Q,le,Ae){let xe=[];if(Q&&xe.push(this.element),v.length>0){v=(v=v.replace(ar,"."+this._enterClassName)).replace(vs,"."+this._leaveClassName);let wt=this._driver.query(this.element,v,1!=P);0!==P&&(wt=P<0?wt.slice(wt.length+P,wt.length):wt.slice(0,P)),xe.push(...wt)}return!le&&0==xe.length&&Ae.push(function Jt(V){return new o.wOt(3014,!1)}()),xe}}class Rs{constructor(v,y,P,Q){this._driver=v,this.element=y,this.startTime=P,this._elementTimelineStylesLookup=Q,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(y),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(y,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const y=1===this._keyframes.size&&this._pendingStyles.size;this.duration||y?(this.forwardTime(this.currentTime+v),y&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,y){return this.applyStylesToKeyframe(),new Rs(this._driver,v,y||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,y){this._localTimelineStyles.set(v,y),this._globalTimelineStyles.set(v,y),this._styleSummary.set(v,{time:this.currentTime,value:y})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[y,P]of this._globalTimelineStyles)this._backFill.set(y,P||je.kp),this._currentKeyframe.set(y,je.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,y,P,Q){y&&this._previousKeyframe.set("easing",y);const le=Q&&Q.params||{},Ae=function ds(V,v){const y=new Map;let P;return V.forEach(Q=>{if("*"===Q){P=P||v.keys();for(let le of P)y.set(le,je.kp)}else ft(Q,y)}),y}(v,this._globalTimelineStyles);for(let[xe,ut]of Ae){const wt=kt(ut,le,P);this._pendingStyles.set(xe,wt),this._localTimelineStyles.has(xe)||this._backFill.set(xe,this._globalTimelineStyles.get(xe)??je.kp),this._updateStyle(xe,wt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,y)=>{this._currentKeyframe.set(y,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,y)=>{this._currentKeyframe.has(y)||this._currentKeyframe.set(y,v)}))}snapshotCurrentStyles(){for(let[v,y]of this._localTimelineStyles)this._pendingStyles.set(v,y),this._updateStyle(v,y)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let y in this._currentKeyframe)v.push(y);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((y,P)=>{const Q=this._styleSummary.get(P);(!Q||y.time>Q.time)&&this._updateStyle(P,y.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,y=new Set,P=1===this._keyframes.size&&0===this.duration;let Q=[];this._keyframes.forEach((xe,ut)=>{const wt=ft(xe,new Map,this._backFill);wt.forEach((rn,Cn)=>{rn===je.FX?v.add(Cn):rn===je.kp&&y.add(Cn)}),P||wt.set("offset",ut/this.duration),Q.push(wt)});const le=v.size?mn(v.values()):[],Ae=y.size?mn(y.values()):[];if(P){const xe=Q[0],ut=new Map(xe);xe.set("offset",0),ut.set("offset",1),Q=[xe,ut]}return Jr(this.element,Q,le,Ae,this.duration,this.startTime,this.easing,!1)}}class os extends Rs{constructor(v,y,P,Q,le,Ae,xe=!1){super(v,y,Ae.delay),this.keyframes=P,this.preStyleProps=Q,this.postStyleProps=le,this._stretchStartingKeyframe=xe,this.timings={duration:Ae.duration,delay:Ae.delay,easing:Ae.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:y,duration:P,easing:Q}=this.timings;if(this._stretchStartingKeyframe&&y){const le=[],Ae=P+y,xe=y/Ae,ut=ft(v[0]);ut.set("offset",0),le.push(ut);const wt=ft(v[0]);wt.set("offset",Gr(xe)),le.push(wt);const rn=v.length-1;for(let Cn=1;Cn<=rn;Cn++){let Or=ft(v[Cn]);const gr=Or.get("offset");Or.set("offset",Gr((y+gr*P)/Ae)),le.push(Or)}P=Ae,y=0,Q="",v=le}return Jr(this.element,v,this.preStyleProps,this.postStyleProps,P,y,Q,!0)}}function Gr(V,v=3){const y=Math.pow(10,v-1);return Math.round(V*y)/y}class Ks{}const Jo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Es extends Ks{normalizePropertyName(v,y){return Sn(v)}normalizeStyleValue(v,y,P,Q){let le="";const Ae=P.toString().trim();if(Jo.has(y)&&0!==P&&"0"!==P)if("number"==typeof P)le="px";else{const xe=P.match(/^[+-]?[\d\.]+([a-z]*)$/);xe&&0==xe[1].length&&Q.push(function Ft(V,v){return new o.wOt(3005,!1)}())}return Ae+le}}function Qi(V,v,y,P,Q,le,Ae,xe,ut,wt,rn,Cn,Or){return{type:0,element:V,triggerName:v,isRemovalTransition:Q,fromState:y,fromStyles:le,toState:P,toStyles:Ae,timelines:xe,queriedElements:ut,preStyleProps:wt,postStyleProps:rn,totalTime:Cn,errors:Or}}const hs={};class as{constructor(v,y,P){this._triggerName=v,this.ast=y,this._stateStyles=P}match(v,y,P,Q){return function Bs(V,v,y,P,Q){return V.some(le=>le(v,y,P,Q))}(this.ast.matchers,v,y,P,Q)}buildStyles(v,y,P){let Q=this._stateStyles.get("*");return void 0!==v&&(Q=this._stateStyles.get(v?.toString())||Q),Q?Q.buildStyles(y,P):new Map}build(v,y,P,Q,le,Ae,xe,ut,wt,rn){const Cn=[],Or=this.ast.options&&this.ast.options.params||hs,Fn=this.buildStyles(P,xe&&xe.params||hs,Cn),or=ut&&ut.params||hs,Fr=this.buildStyles(Q,or,Cn),Di=new Set,Fi=new Map,ws=new Map,Vr="void"===Q,zn={params:wi(or,Or),delay:this.ast.options?.delay},Ys=rn?[]:Ir(v,y,this.ast.animation,le,Ae,Fn,Fr,zn,wt,Cn);let _s=0;if(Ys.forEach(Zi=>{_s=Math.max(Zi.duration+Zi.delay,_s)}),Cn.length)return Qi(y,this._triggerName,P,Q,Vr,Fn,Fr,[],[],Fi,ws,_s,Cn);Ys.forEach(Zi=>{const $o=Zi.element,Pa=Dn(Fi,$o,new Set);Zi.preStyleProps.forEach(ca=>Pa.add(ca));const Ws=Dn(ws,$o,new Set);Zi.postStyleProps.forEach(ca=>Ws.add(ca)),$o!==y&&Di.add($o)});const co=mn(Di.values());return Qi(y,this._triggerName,P,Q,Vr,Fn,Fr,Ys,co,Fi,ws,_s)}}function wi(V,v){const y=Zn(v);for(const P in V)V.hasOwnProperty(P)&&null!=V[P]&&(y[P]=V[P]);return y}class vo{constructor(v,y,P){this.styles=v,this.defaultParams=y,this.normalizer=P}buildStyles(v,y){const P=new Map,Q=Zn(this.defaultParams);return Object.keys(v).forEach(le=>{const Ae=v[le];null!==Ae&&(Q[le]=Ae)}),this.styles.styles.forEach(le=>{"string"!=typeof le&&le.forEach((Ae,xe)=>{Ae&&(Ae=kt(Ae,Q,y));const ut=this.normalizer.normalizePropertyName(xe,y);Ae=this.normalizer.normalizeStyleValue(xe,ut,Ae,y),P.set(xe,Ae)})}),P}}class Ts{constructor(v,y,P){this.name=v,this.ast=y,this._normalizer=P,this.transitionFactories=[],this.states=new Map,y.states.forEach(Q=>{this.states.set(Q.name,new vo(Q.style,Q.options&&Q.options.params||{},P))}),Br(this.states,"true","1"),Br(this.states,"false","0"),y.transitions.forEach(Q=>{this.transitionFactories.push(new as(v,Q,this.states))}),this.fallbackTransition=function Yn(V,v,y){return new as(V,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ae,xe)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,y,P,Q){return this.transitionFactories.find(Ae=>Ae.match(v,y,P,Q))||null}matchStyles(v,y,P){return this.fallbackTransition.buildStyles(v,y,P)}}function Br(V,v,y){V.has(v)?V.has(y)||V.set(y,V.get(v)):V.has(y)&&V.set(v,V.get(y))}const zr=new pr;class Cs{constructor(v,y,P){this.bodyNode=v,this._driver=y,this._normalizer=P,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,y){const P=[],le=In(this._driver,y,P,[]);if(P.length)throw function X(V){return new o.wOt(3503,!1)}();this._animations.set(v,le)}_buildPlayer(v,y,P){const Q=v.element,le=Gn(this._normalizer,v.keyframes,y,P);return this._driver.animate(Q,le,v.duration,v.delay,v.easing,[],!0)}create(v,y,P={}){const Q=[],le=this._animations.get(v);let Ae;const xe=new Map;if(le?(Ae=Ir(this._driver,y,le,cn,Ri,new Map,new Map,P,zr,Q),Ae.forEach(rn=>{const Cn=Dn(xe,rn.element,new Map);rn.postStyleProps.forEach(Or=>Cn.set(Or,null))})):(Q.push(function ue(){return new o.wOt(3300,!1)}()),Ae=[]),Q.length)throw function Nt(V){return new o.wOt(3504,!1)}();xe.forEach((rn,Cn)=>{rn.forEach((Or,gr)=>{rn.set(gr,this._driver.computeStyle(Cn,gr,je.kp))})});const wt=dn(Ae.map(rn=>{const Cn=xe.get(rn.element);return this._buildPlayer(rn,new Map,Cn)}));return this._playersById.set(v,wt),wt.onDestroy(()=>this.destroy(v)),this.players.push(wt),wt}destroy(v){const y=this._getPlayer(v);y.destroy(),this._playersById.delete(v);const P=this.players.indexOf(y);P>=0&&this.players.splice(P,1)}_getPlayer(v){const y=this._playersById.get(v);if(!y)throw function ke(V){return new o.wOt(3301,!1)}();return y}listen(v,y,P,Q){const le=wn(y,"","","");return jt(this._getPlayer(v),P,le,Q),()=>{}}command(v,y,P,Q){if("register"==P)return void this.register(v,Q[0]);if("create"==P)return void this.create(v,y,Q[0]||{});const le=this._getPlayer(v);switch(P){case"play":le.play();break;case"pause":le.pause();break;case"reset":le.reset();break;case"restart":le.restart();break;case"finish":le.finish();break;case"init":le.init();break;case"setPosition":le.setPosition(parseFloat(Q[0]));break;case"destroy":this.destroy(v)}}}const Ei="ng-animate-queued",qs="ng-animate-disabled",Wr=[],ln={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Jn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_r="__ng_removed";class Pi{get params(){return this.options.params}constructor(v,y=""){this.namespaceId=y;const P=v&&v.hasOwnProperty("value");if(this.value=function Un(V){return V??null}(P?v.value:v),P){const le=Zn(v);delete le.value,this.options=le}else this.options={};this.options.params||(this.options.params={})}absorbOptions(v){const y=v.params;if(y){const P=this.options.params;Object.keys(y).forEach(Q=>{null==P[Q]&&(P[Q]=y[Q])})}}}const us="void",sr=new Pi(us);class ls{constructor(v,y,P){this.id=v,this.hostElement=y,this._engine=P,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,Qr(y,this._hostClassName)}listen(v,y,P,Q){if(!this._triggers.has(y))throw function _e(V,v){return new o.wOt(3302,!1)}();if(null==P||0==P.length)throw function me(V){return new o.wOt(3303,!1)}();if(!function Eo(V){return"start"==V||"done"==V}(P))throw function oe(V,v){return new o.wOt(3400,!1)}();const le=Dn(this._elementListeners,v,[]),Ae={name:y,phase:P,callback:Q};le.push(Ae);const xe=Dn(this._engine.statesByElement,v,new Map);return xe.has(y)||(Qr(v,ti),Qr(v,ti+"-"+y),xe.set(y,sr)),()=>{this._engine.afterFlush(()=>{const ut=le.indexOf(Ae);ut>=0&&le.splice(ut,1),this._triggers.has(y)||xe.delete(y)})}}register(v,y){return!this._triggers.has(v)&&(this._triggers.set(v,y),!0)}_getTrigger(v){const y=this._triggers.get(v);if(!y)throw function de(V){return new o.wOt(3401,!1)}();return y}trigger(v,y,P,Q=!0){const le=this._getTrigger(y),Ae=new qr(this.id,y,v);let xe=this._engine.statesByElement.get(v);xe||(Qr(v,ti),Qr(v,ti+"-"+y),this._engine.statesByElement.set(v,xe=new Map));let ut=xe.get(y);const wt=new Pi(P,this.id);if(!(P&&P.hasOwnProperty("value"))&&ut&&wt.absorbOptions(ut.options),xe.set(y,wt),ut||(ut=sr),wt.value!==us&&ut.value===wt.value){if(!function gs(V,v){const y=Object.keys(V),P=Object.keys(v);if(y.length!=P.length)return!1;for(let Q=0;Q<y.length;Q++){const le=y[Q];if(!v.hasOwnProperty(le)||V[le]!==v[le])return!1}return!0}(ut.params,wt.params)){const or=[],Fr=le.matchStyles(ut.value,ut.params,or),Di=le.matchStyles(wt.value,wt.params,or);or.length?this._engine.reportError(or):this._engine.afterFlush(()=>{j(v,Fr),ee(v,Di)})}return}const Or=Dn(this._engine.playersByElement,v,[]);Or.forEach(or=>{or.namespaceId==this.id&&or.triggerName==y&&or.queued&&or.destroy()});let gr=le.matchTransition(ut.value,wt.value,v,wt.params),Fn=!1;if(!gr){if(!Q)return;gr=le.fallbackTransition,Fn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:y,transition:gr,fromState:ut,toState:wt,player:Ae,isFallbackTransition:Fn}),Fn||(Qr(v,Ei),Ae.onStart(()=>{hi(v,Ei)})),Ae.onDone(()=>{let or=this.players.indexOf(Ae);or>=0&&this.players.splice(or,1);const Fr=this._engine.playersByElement.get(v);if(Fr){let Di=Fr.indexOf(Ae);Di>=0&&Fr.splice(Di,1)}}),this.players.push(Ae),Or.push(Ae),Ae}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(y=>y.delete(v)),this._elementListeners.forEach((y,P)=>{this._elementListeners.set(P,y.filter(Q=>Q.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const y=this._engine.playersByElement.get(v);y&&(y.forEach(P=>P.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,y){const P=this._engine.driver.query(v,br,!0);P.forEach(Q=>{if(Q[_r])return;const le=this._engine.fetchNamespacesByElement(Q);le.size?le.forEach(Ae=>Ae.triggerLeaveAnimation(Q,y,!1,!0)):this.clearElementCache(Q)}),this._engine.afterFlushAnimationsDone(()=>P.forEach(Q=>this.clearElementCache(Q)))}triggerLeaveAnimation(v,y,P,Q){const le=this._engine.statesByElement.get(v),Ae=new Map;if(le){const xe=[];if(le.forEach((ut,wt)=>{if(Ae.set(wt,ut.value),this._triggers.has(wt)){const rn=this.trigger(v,wt,us,Q);rn&&xe.push(rn)}}),xe.length)return this._engine.markElementAsRemoved(this.id,v,!0,y,Ae),P&&dn(xe).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const y=this._elementListeners.get(v),P=this._engine.statesByElement.get(v);if(y&&P){const Q=new Set;y.forEach(le=>{const Ae=le.name;if(Q.has(Ae))return;Q.add(Ae);const ut=this._triggers.get(Ae).fallbackTransition,wt=P.get(Ae)||sr,rn=new Pi(us),Cn=new qr(this.id,Ae,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:Ae,transition:ut,fromState:wt,toState:rn,player:Cn,isFallbackTransition:!0})})}}removeNode(v,y){const P=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,y),this.triggerLeaveAnimation(v,y,!0))return;let Q=!1;if(P.totalAnimations){const le=P.players.length?P.playersByQueriedElement.get(v):[];if(le&&le.length)Q=!0;else{let Ae=v;for(;Ae=Ae.parentNode;)if(P.statesByElement.get(Ae)){Q=!0;break}}}if(this.prepareLeaveAnimationListeners(v),Q)P.markElementAsRemoved(this.id,v,!1,y);else{const le=v[_r];(!le||le===ln)&&(P.afterFlush(()=>this.clearElementCache(v)),P.destroyInnerAnimations(v),P._onRemovalComplete(v,y))}}insertNode(v,y){Qr(v,this._hostClassName)}drainQueuedTransitions(v){const y=[];return this._queue.forEach(P=>{const Q=P.player;if(Q.destroyed)return;const le=P.element,Ae=this._elementListeners.get(le);Ae&&Ae.forEach(xe=>{if(xe.name==P.triggerName){const ut=wn(le,P.triggerName,P.fromState.value,P.toState.value);ut._data=v,jt(P.player,xe.phase,ut,xe.callback)}}),Q.markedForDestroy?this._engine.afterFlush(()=>{Q.destroy()}):y.push(P)}),this._queue=[],y.sort((P,Q)=>{const le=P.transition.ast.depCount,Ae=Q.transition.ast.depCount;return 0==le||0==Ae?le-Ae:this._engine.driver.containsElement(P.element,Q.element)?1:-1})}destroy(v){this.players.forEach(y=>y.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}}class qn{_onRemovalComplete(v,y){this.onRemovalComplete(v,y)}constructor(v,y,P){this.bodyNode=v,this.driver=y,this._normalizer=P,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Q,le)=>{}}get queuedPlayers(){const v=[];return this._namespaceList.forEach(y=>{y.players.forEach(P=>{P.queued&&v.push(P)})}),v}createNamespace(v,y){const P=new ls(v,y,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,y)?this._balanceNamespaceList(P,y):(this.newHostElements.set(y,P),this.collectEnterElement(y)),this._namespaceLookup[v]=P}_balanceNamespaceList(v,y){const P=this._namespaceList,Q=this.namespacesByHostElement;if(P.length-1>=0){let Ae=!1,xe=this.driver.getParentElement(y);for(;xe;){const ut=Q.get(xe);if(ut){const wt=P.indexOf(ut);P.splice(wt+1,0,v),Ae=!0;break}xe=this.driver.getParentElement(xe)}Ae||P.unshift(v)}else P.push(v);return Q.set(y,v),v}register(v,y){let P=this._namespaceLookup[v];return P||(P=this.createNamespace(v,y)),P}registerTrigger(v,y,P){let Q=this._namespaceLookup[v];Q&&Q.register(y,P)&&this.totalAnimations++}destroy(v,y){v&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const P=this._fetchNamespace(v);this.namespacesByHostElement.delete(P.hostElement);const Q=this._namespaceList.indexOf(P);Q>=0&&this._namespaceList.splice(Q,1),P.destroy(y),delete this._namespaceLookup[v]}))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const y=new Set,P=this.statesByElement.get(v);if(P)for(let Q of P.values())if(Q.namespaceId){const le=this._fetchNamespace(Q.namespaceId);le&&y.add(le)}return y}trigger(v,y,P,Q){if(Ai(y)){const le=this._fetchNamespace(v);if(le)return le.trigger(y,P,Q),!0}return!1}insertNode(v,y,P,Q){if(!Ai(y))return;const le=y[_r];if(le&&le.setForRemoval){le.setForRemoval=!1,le.setForMove=!0;const Ae=this.collectedLeaveElements.indexOf(y);Ae>=0&&this.collectedLeaveElements.splice(Ae,1)}if(v){const Ae=this._fetchNamespace(v);Ae&&Ae.insertNode(y,P)}Q&&this.collectEnterElement(y)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,y){y?this.disabledNodes.has(v)||(this.disabledNodes.add(v),Qr(v,qs)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),hi(v,qs))}removeNode(v,y,P){if(Ai(y)){const Q=v?this._fetchNamespace(v):null;Q?Q.removeNode(y,P):this.markElementAsRemoved(v,y,!1,P);const le=this.namespacesByHostElement.get(y);le&&le.id!==v&&le.removeNode(y,P)}else this._onRemovalComplete(y,P)}markElementAsRemoved(v,y,P,Q,le){this.collectedLeaveElements.push(y),y[_r]={namespaceId:v,setForRemoval:Q,hasAnimation:P,removedBeforeQueried:!1,previousTriggersValues:le}}listen(v,y,P,Q,le){return Ai(y)?this._fetchNamespace(v).listen(y,P,Q,le):()=>{}}_buildInstruction(v,y,P,Q,le){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,P,Q,v.fromState.options,v.toState.options,y,le)}destroyInnerAnimations(v){let y=this.driver.query(v,br,!0);y.forEach(P=>this.destroyActiveAnimationsForElement(P)),0!=this.playersByQueriedElement.size&&(y=this.driver.query(v,hn,!0),y.forEach(P=>this.finishActiveQueriedAnimationOnElement(P)))}destroyActiveAnimationsForElement(v){const y=this.playersByElement.get(v);y&&y.forEach(P=>{P.queued?P.markedForDestroy=!0:P.destroy()})}finishActiveQueriedAnimationOnElement(v){const y=this.playersByQueriedElement.get(v);y&&y.forEach(P=>P.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return dn(this.players).onDone(()=>v());v()})}processLeaveNode(v){const y=v[_r];if(y&&y.setForRemoval){if(v[_r]=ln,y.namespaceId){this.destroyInnerAnimations(v);const P=this._fetchNamespace(y.namespaceId);P&&P.clearElementCache(v)}this._onRemovalComplete(v,y.setForRemoval)}v.classList?.contains(qs)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(P=>{this.markElementAsDisabled(P,!1)})}flush(v=-1){let y=[];if(this.newHostElements.size&&(this.newHostElements.forEach((P,Q)=>this._balanceNamespaceList(P,Q)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let P=0;P<this.collectedEnterElements.length;P++)Qr(this.collectedEnterElements[P],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const P=[];try{y=this._flushAnimations(P,v)}finally{for(let Q=0;Q<P.length;Q++)P[Q]()}}else for(let P=0;P<this.collectedLeaveElements.length;P++)this.processLeaveNode(this.collectedLeaveElements[P]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(P=>P()),this._flushFns=[],this._whenQuietFns.length){const P=this._whenQuietFns;this._whenQuietFns=[],y.length?dn(y).onDone(()=>{P.forEach(Q=>Q())}):P.forEach(Q=>Q())}}reportError(v){throw function De(V){return new o.wOt(3402,!1)}()}_flushAnimations(v,y){const P=new pr,Q=[],le=new Map,Ae=[],xe=new Map,ut=new Map,wt=new Map,rn=new Set;this.disabledNodes.forEach(xn=>{rn.add(xn);const nr=this.driver.query(xn,".ng-animate-queued",!0);for(let ot=0;ot<nr.length;ot++)rn.add(nr[ot])});const Cn=this.bodyNode,Or=Array.from(this.statesByElement.keys()),gr=yr(Or,this.collectedEnterElements),Fn=new Map;let or=0;gr.forEach((xn,nr)=>{const ot=cn+or++;Fn.set(nr,ot),xn.forEach(An=>Qr(An,ot))});const Fr=[],Di=new Set,Fi=new Set;for(let xn=0;xn<this.collectedLeaveElements.length;xn++){const nr=this.collectedLeaveElements[xn],ot=nr[_r];ot&&ot.setForRemoval&&(Fr.push(nr),Di.add(nr),ot.hasAnimation?this.driver.query(nr,".ng-star-inserted",!0).forEach(An=>Di.add(An)):Fi.add(nr))}const ws=new Map,Vr=yr(Or,Array.from(Di));Vr.forEach((xn,nr)=>{const ot=Ri+or++;ws.set(nr,ot),xn.forEach(An=>Qr(An,ot))}),v.push(()=>{gr.forEach((xn,nr)=>{const ot=Fn.get(nr);xn.forEach(An=>hi(An,ot))}),Vr.forEach((xn,nr)=>{const ot=ws.get(nr);xn.forEach(An=>hi(An,ot))}),Fr.forEach(xn=>{this.processLeaveNode(xn)})});const zn=[],Ys=[];for(let xn=this._namespaceList.length-1;xn>=0;xn--)this._namespaceList[xn].drainQueuedTransitions(y).forEach(ot=>{const An=ot.player,es=ot.element;if(zn.push(An),this.collectedEnterElements.length){const ts=es[_r];if(ts&&ts.setForMove){if(ts.previousTriggersValues&&ts.previousTriggersValues.has(ot.triggerName)){const Ho=ts.previousTriggersValues.get(ot.triggerName),bo=this.statesByElement.get(ot.element);if(bo&&bo.has(ot.triggerName)){const eo=bo.get(ot.triggerName);eo.value=Ho,bo.set(ot.triggerName,eo)}}return void An.destroy()}}const Js=!Cn||!this.driver.containsElement(Cn,es),Xr=ws.get(es),Zs=Fn.get(es),ci=this._buildInstruction(ot,P,Zs,Xr,Js);if(ci.errors&&ci.errors.length)return void Ys.push(ci);if(Js)return An.onStart(()=>j(es,ci.fromStyles)),An.onDestroy(()=>ee(es,ci.toStyles)),void Q.push(An);if(ot.isFallbackTransition)return An.onStart(()=>j(es,ci.fromStyles)),An.onDestroy(()=>ee(es,ci.toStyles)),void Q.push(An);const Fs=[];ci.timelines.forEach(ts=>{ts.stretchStartingKeyframe=!0,this.disabledNodes.has(ts.element)||Fs.push(ts)}),ci.timelines=Fs,P.append(es,ci.timelines),Ae.push({instruction:ci,player:An,element:es}),ci.queriedElements.forEach(ts=>Dn(xe,ts,[]).push(An)),ci.preStyleProps.forEach((ts,Ho)=>{if(ts.size){let bo=ut.get(Ho);bo||ut.set(Ho,bo=new Set),ts.forEach((eo,$i)=>bo.add($i))}}),ci.postStyleProps.forEach((ts,Ho)=>{let bo=wt.get(Ho);bo||wt.set(Ho,bo=new Set),ts.forEach((eo,$i)=>bo.add($i))})});if(Ys.length){const xn=[];Ys.forEach(nr=>{xn.push(function Mt(V,v){return new o.wOt(3505,!1)}())}),zn.forEach(nr=>nr.destroy()),this.reportError(xn)}const _s=new Map,co=new Map;Ae.forEach(xn=>{const nr=xn.element;P.has(nr)&&(co.set(nr,nr),this._beforeAnimationBuild(xn.player.namespaceId,xn.instruction,_s))}),Q.forEach(xn=>{const nr=xn.element;this._getPreviousPlayers(nr,!1,xn.namespaceId,xn.triggerName,null).forEach(An=>{Dn(_s,nr,[]).push(An),An.destroy()})});const Zi=Fr.filter(xn=>Io(xn,ut,wt)),$o=new Map;Rn($o,this.driver,Fi,wt,je.kp).forEach(xn=>{Io(xn,ut,wt)&&Zi.push(xn)});const Ws=new Map;gr.forEach((xn,nr)=>{Rn(Ws,this.driver,new Set(xn),ut,je.FX)}),Zi.forEach(xn=>{const nr=$o.get(xn),ot=Ws.get(xn);$o.set(xn,new Map([...nr?.entries()??[],...ot?.entries()??[]]))});const ca=[],ji=[],$u={};Ae.forEach(xn=>{const{element:nr,player:ot,instruction:An}=xn;if(P.has(nr)){if(rn.has(nr))return ot.onDestroy(()=>ee(nr,An.toStyles)),ot.disabled=!0,ot.overrideTotalTime(An.totalTime),void Q.push(ot);let es=$u;if(co.size>1){let Xr=nr;const Zs=[];for(;Xr=Xr.parentNode;){const ci=co.get(Xr);if(ci){es=ci;break}Zs.push(Xr)}Zs.forEach(ci=>co.set(ci,es))}const Js=this._buildAnimation(ot.namespaceId,An,_s,le,Ws,$o);if(ot.setRealPlayer(Js),es===$u)ca.push(ot);else{const Xr=this.playersByElement.get(es);Xr&&Xr.length&&(ot.parentPlayer=dn(Xr)),Q.push(ot)}}else j(nr,An.fromStyles),ot.onDestroy(()=>ee(nr,An.toStyles)),ji.push(ot),rn.has(nr)&&Q.push(ot)}),ji.forEach(xn=>{const nr=le.get(xn.element);if(nr&&nr.length){const ot=dn(nr);xn.setRealPlayer(ot)}}),Q.forEach(xn=>{xn.parentPlayer?xn.syncPlayerEvents(xn.parentPlayer):xn.destroy()});for(let xn=0;xn<Fr.length;xn++){const nr=Fr[xn],ot=nr[_r];if(hi(nr,Ri),ot&&ot.hasAnimation)continue;let An=[];if(xe.size){let Js=xe.get(nr);Js&&Js.length&&An.push(...Js);let Xr=this.driver.query(nr,hn,!0);for(let Zs=0;Zs<Xr.length;Zs++){let ci=xe.get(Xr[Zs]);ci&&ci.length&&An.push(...ci)}}const es=An.filter(Js=>!Js.destroyed);es.length?xs(this,nr,es):this.processLeaveNode(nr)}return Fr.length=0,ca.forEach(xn=>{this.players.push(xn),xn.onDone(()=>{xn.destroy();const nr=this.players.indexOf(xn);this.players.splice(nr,1)}),xn.play()}),ca}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,y,P,Q,le){let Ae=[];if(y){const xe=this.playersByQueriedElement.get(v);xe&&(Ae=xe)}else{const xe=this.playersByElement.get(v);if(xe){const ut=!le||le==us;xe.forEach(wt=>{wt.queued||!ut&&wt.triggerName!=Q||Ae.push(wt)})}}return(P||Q)&&(Ae=Ae.filter(xe=>!(P&&P!=xe.namespaceId||Q&&Q!=xe.triggerName))),Ae}_beforeAnimationBuild(v,y,P){const le=y.element,Ae=y.isRemovalTransition?void 0:v,xe=y.isRemovalTransition?void 0:y.triggerName;for(const ut of y.timelines){const wt=ut.element,rn=wt!==le,Cn=Dn(P,wt,[]);this._getPreviousPlayers(wt,rn,Ae,xe,y.toState).forEach(gr=>{const Fn=gr.getRealPlayer();Fn.beforeDestroy&&Fn.beforeDestroy(),gr.destroy(),Cn.push(gr)})}j(le,y.fromStyles)}_buildAnimation(v,y,P,Q,le,Ae){const xe=y.triggerName,ut=y.element,wt=[],rn=new Set,Cn=new Set,Or=y.timelines.map(Fn=>{const or=Fn.element;rn.add(or);const Fr=or[_r];if(Fr&&Fr.removedBeforeQueried)return new je.sf(Fn.duration,Fn.delay);const Di=or!==ut,Fi=function sa(V){const v=[];return ps(V,v),v}((P.get(or)||Wr).map(_s=>_s.getRealPlayer())).filter(_s=>!!_s.element&&_s.element===or),ws=le.get(or),Vr=Ae.get(or),zn=Gn(this._normalizer,Fn.keyframes,ws,Vr),Ys=this._buildPlayer(Fn,zn,Fi);if(Fn.subTimeline&&Q&&Cn.add(or),Di){const _s=new qr(v,xe,or);_s.setRealPlayer(Ys),wt.push(_s)}return Ys});wt.forEach(Fn=>{Dn(this.playersByQueriedElement,Fn.element,[]).push(Fn),Fn.onDone(()=>function $s(V,v,y){let P=V.get(v);if(P){if(P.length){const Q=P.indexOf(y);P.splice(Q,1)}0==P.length&&V.delete(v)}return P}(this.playersByQueriedElement,Fn.element,Fn))}),rn.forEach(Fn=>Qr(Fn,ze));const gr=dn(Or);return gr.onDestroy(()=>{rn.forEach(Fn=>hi(Fn,ze)),ee(ut,y.toStyles)}),Cn.forEach(Fn=>{Dn(Q,Fn,[]).push(gr)}),gr}_buildPlayer(v,y,P){return y.length>0?this.driver.animate(v.element,y,v.duration,v.delay,v.easing,P):new je.sf(v.duration,v.delay)}}class qr{constructor(v,y,P){this.namespaceId=v,this.triggerName=y,this.element=P,this._player=new je.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((y,P)=>{y.forEach(Q=>jt(v,P,void 0,Q))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const y=this._player;y.triggerCallback&&v.onStart(()=>y.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,y){Dn(this._queuedCallbacks,v,[]).push(y)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const y=this._player;y.triggerCallback&&y.triggerCallback(v)}}function Ai(V){return V&&1===V.nodeType}function Os(V,v){const y=V.style.display;return V.style.display=v??"none",y}function Rn(V,v,y,P,Q){const le=[];y.forEach(ut=>le.push(Os(ut)));const Ae=[];P.forEach((ut,wt)=>{const rn=new Map;ut.forEach(Cn=>{const Or=v.computeStyle(wt,Cn,Q);rn.set(Cn,Or),(!Or||0==Or.length)&&(wt[_r]=Jn,Ae.push(wt))}),V.set(wt,rn)});let xe=0;return y.forEach(ut=>Os(ut,le[xe++])),Ae}function yr(V,v){const y=new Map;if(V.forEach(xe=>y.set(xe,[])),0==v.length)return y;const Q=new Set(v),le=new Map;function Ae(xe){if(!xe)return 1;let ut=le.get(xe);if(ut)return ut;const wt=xe.parentNode;return ut=y.has(wt)?wt:Q.has(wt)?1:Ae(wt),le.set(xe,ut),ut}return v.forEach(xe=>{const ut=Ae(xe);1!==ut&&y.get(ut).push(xe)}),y}function Qr(V,v){V.classList?.add(v)}function hi(V,v){V.classList?.remove(v)}function xs(V,v,y){dn(y).onDone(()=>V.processLeaveNode(v))}function ps(V,v){for(let y=0;y<V.length;y++){const P=V[y];P instanceof je.ui?ps(P.players,v):v.push(P)}}function Io(V,v,y){const P=y.get(V);if(!P)return!1;let Q=v.get(V);return Q?P.forEach(le=>Q.add(le)):v.set(V,P),y.delete(V),!0}class Hs{constructor(v,y,P){this.bodyNode=v,this._driver=y,this._normalizer=P,this._triggerCache={},this.onRemovalComplete=(Q,le)=>{},this._transitionEngine=new qn(v,y,P),this._timelineEngine=new Cs(v,y,P),this._transitionEngine.onRemovalComplete=(Q,le)=>this.onRemovalComplete(Q,le)}registerTrigger(v,y,P,Q,le){const Ae=v+"-"+Q;let xe=this._triggerCache[Ae];if(!xe){const ut=[],rn=In(this._driver,le,ut,[]);if(ut.length)throw function qt(V,v){return new o.wOt(3404,!1)}();xe=function Is(V,v,y){return new Ts(V,v,y)}(Q,rn,this._normalizer),this._triggerCache[Ae]=xe}this._transitionEngine.registerTrigger(y,Q,xe)}register(v,y){this._transitionEngine.register(v,y)}destroy(v,y){this._transitionEngine.destroy(v,y)}onInsert(v,y,P,Q){this._transitionEngine.insertNode(v,y,P,Q)}onRemove(v,y,P){this._transitionEngine.removeNode(v,y,P)}disableAnimations(v,y){this._transitionEngine.markElementAsDisabled(v,y)}process(v,y,P,Q){if("@"==P.charAt(0)){const[le,Ae]=Wt(P);this._timelineEngine.command(le,y,Ae,Q)}else this._transitionEngine.trigger(v,y,P,Q)}listen(v,y,P,Q,le){if("@"==P.charAt(0)){const[Ae,xe]=Wt(P);return this._timelineEngine.listen(Ae,y,xe,le)}return this._transitionEngine.listen(v,y,P,Q,le)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(v){this._transitionEngine.afterFlushAnimationsDone(v)}}let Sa=(()=>{class V{static{this.initialStylesByElement=new WeakMap}constructor(y,P,Q){this._element=y,this._startStyles=P,this._endStyles=Q,this._state=0;let le=V.initialStylesByElement.get(y);le||V.initialStylesByElement.set(y,le=new Map),this._initialStyles=le}start(){this._state<1&&(this._startStyles&&ee(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ee(this._element,this._initialStyles),this._endStyles&&(ee(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(V.initialStylesByElement.delete(this._element),this._startStyles&&(j(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(j(this._element,this._endStyles),this._endStyles=null),ee(this._element,this._initialStyles),this._state=3)}}return V})();function bs(V){let v=null;return V.forEach((y,P)=>{(function Ns(V){return"display"===V||"position"===V})(P)&&(v=v||new Map,v.set(P,y))}),v}class Gs{constructor(v,y,P,Q){this.element=v,this.keyframes=y,this.options=P,this._specialStyles=Q,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=P.duration,this._delay=P.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map;const y=()=>this._onFinish();this.domPlayer.addEventListener("finish",y),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",y)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const y=[];return v.forEach(P=>{y.push(Object.fromEntries(P))}),y}_triggerWebAnimation(v,y,P){return v.animate(this._convertKeyframesToObject(y),P)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((P,Q)=>{"offset"!==Q&&v.set(Q,this._finished?P:Tt(this.element,Q))}),this.currentSnapshot=v}triggerCallback(v){const y="start"===v?this._onStartFns:this._onDoneFns;y.forEach(P=>P()),y.length=0}}class so{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}matchesElement(v,y){return!1}containsElement(v,y){return Wi(v,y)}getParentElement(v){return Ot(v)}query(v,y,P){return Dr(v,y,P)}computeStyle(v,y,P){return window.getComputedStyle(v)[y]}animate(v,y,P,Q,le,Ae=[]){const ut={duration:P,delay:Q,fill:0==Q?"both":"forwards"};le&&(ut.easing=le);const wt=new Map,rn=Ae.filter(gr=>gr instanceof Gs);(function Ue(V,v){return 0===V||0===v})(P,Q)&&rn.forEach(gr=>{gr.currentSnapshot.forEach((Fn,or)=>wt.set(or,Fn))});let Cn=function bi(V){return V.length?V[0]instanceof Map?V:V.map(v=>oi(v)):[]}(y).map(gr=>ft(gr));Cn=function be(V,v,y){if(y.size&&v.length){let P=v[0],Q=[];if(y.forEach((le,Ae)=>{P.has(Ae)||Q.push(Ae),P.set(Ae,le)}),Q.length)for(let le=1;le<v.length;le++){let Ae=v[le];Q.forEach(xe=>Ae.set(xe,Tt(V,xe)))}}return v}(v,Cn,wt);const Or=function tr(V,v){let y=null,P=null;return Array.isArray(v)&&v.length?(y=bs(v[0]),v.length>1&&(P=bs(v[v.length-1]))):v instanceof Map&&(y=bs(v)),y||P?new Sa(V,y,P):null}(v,Cn);return new Gs(v,Cn,ut,Or)}}var Rr=z(177);let zs=(()=>{class V extends je.S6{constructor(y,P){super(),this._nextAnimationId=0,this._renderer=y.createRenderer(P.body,{id:"0",encapsulation:o.gXe.None,styles:[],data:{animation:[]}})}build(y){const P=this._nextAnimationId.toString();this._nextAnimationId++;const Q=Array.isArray(y)?(0,je.K2)(y):y;return li(this._renderer,null,P,"register",[Q]),new Ui(P,this._renderer)}static{this.\u0275fac=function(P){return new(P||V)(o.KVO(o._9s),o.KVO(Rr.qQ))}}static{this.\u0275prov=o.jDH({token:V,factory:V.\u0275fac})}}return V})();class Ui extends je.Ro{constructor(v,y){super(),this._id=v,this._renderer=y}create(v,y){return new Vo(this._id,v,y||{},this._renderer)}}class Vo{constructor(v,y,P,Q){this.id=v,this.element=y,this._renderer=Q,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",P)}_listen(v,y){return this._renderer.listen(this.element,`@@${this.id}:${v}`,y)}_command(v,...y){return li(this._renderer,this.element,this.id,v,y)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function li(V,v,y,P,Q){return V.setProperty(v,`@@${y}:${P}`,Q)}const W="@",q="@.disabled";let fe=(()=>{class V{constructor(y,P,Q){this.delegate=y,this.engine=P,this._zone=Q,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,P.onRemovalComplete=(le,Ae)=>{const xe=Ae?.parentNode(le);xe&&Ae.removeChild(xe,le)}}createRenderer(y,P){const le=this.delegate.createRenderer(y,P);if(!(y&&P&&P.data&&P.data.animation)){let rn=this._rendererCache.get(le);return rn||(rn=new Ee("",le,this.engine,()=>this._rendererCache.delete(le)),this._rendererCache.set(le,rn)),rn}const Ae=P.id,xe=P.id+"-"+this._currentId;this._currentId++,this.engine.register(xe,y);const ut=rn=>{Array.isArray(rn)?rn.forEach(ut):this.engine.registerTrigger(Ae,xe,y,rn.name,rn)};return P.data.animation.forEach(ut),new Ke(this,xe,le,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(y,P,Q){y>=0&&y<this._microtaskId?this._zone.run(()=>P(Q)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(le=>{const[Ae,xe]=le;Ae(xe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([P,Q]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(P){return new(P||V)(o.KVO(o._9s),o.KVO(Hs),o.KVO(o.SKi))}}static{this.\u0275prov=o.jDH({token:V,factory:V.\u0275fac})}}return V})();class Ee{constructor(v,y,P,Q){this.namespaceId=v,this.delegate=y,this.engine=P,this._onDestroy=Q}get data(){return this.delegate.data}destroyNode(v){this.delegate.destroyNode?.(v)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(v,y){return this.delegate.createElement(v,y)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,y){this.delegate.appendChild(v,y),this.engine.onInsert(this.namespaceId,y,v,!1)}insertBefore(v,y,P,Q=!0){this.delegate.insertBefore(v,y,P),this.engine.onInsert(this.namespaceId,y,v,Q)}removeChild(v,y,P){this.engine.onRemove(this.namespaceId,y,this.delegate)}selectRootElement(v,y){return this.delegate.selectRootElement(v,y)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,y,P,Q){this.delegate.setAttribute(v,y,P,Q)}removeAttribute(v,y,P){this.delegate.removeAttribute(v,y,P)}addClass(v,y){this.delegate.addClass(v,y)}removeClass(v,y){this.delegate.removeClass(v,y)}setStyle(v,y,P,Q){this.delegate.setStyle(v,y,P,Q)}removeStyle(v,y,P){this.delegate.removeStyle(v,y,P)}setProperty(v,y,P){y.charAt(0)==W&&y==q?this.disableAnimations(v,!!P):this.delegate.setProperty(v,y,P)}setValue(v,y){this.delegate.setValue(v,y)}listen(v,y,P){return this.delegate.listen(v,y,P)}disableAnimations(v,y){this.engine.disableAnimations(v,y)}}class Ke extends Ee{constructor(v,y,P,Q,le){super(y,P,Q,le),this.factory=v,this.namespaceId=y}setProperty(v,y,P){y.charAt(0)==W?"."==y.charAt(1)&&y==q?this.disableAnimations(v,P=void 0===P||!!P):this.engine.process(this.namespaceId,v,y.slice(1),P):this.delegate.setProperty(v,y,P)}listen(v,y,P){if(y.charAt(0)==W){const Q=function yt(V){switch(V){case"body":return document.body;case"document":return document;case"window":return window;default:return V}}(v);let le=y.slice(1),Ae="";return le.charAt(0)!=W&&([le,Ae]=function k(V){const v=V.indexOf(".");return[V.substring(0,v),V.slice(v+1)]}(le)),this.engine.listen(this.namespaceId,Q,le,Ae,xe=>{this.factory.scheduleListenerCallback(xe._data||-1,P,xe)})}return this.delegate.listen(v,y,P)}}const ve=[{provide:je.S6,useClass:zs},{provide:Ks,useFactory:function M(){return new Es}},{provide:Hs,useClass:(()=>{class V extends Hs{constructor(y,P,Q,le){super(y.body,P,Q)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(P){return new(P||V)(o.KVO(Rr.qQ),o.KVO(Sr),o.KVO(Ks),o.KVO(o.o8S))}}static{this.\u0275prov=o.jDH({token:V,factory:V.\u0275fac})}}return V})()},{provide:o._9s,useFactory:function J(V,v,y){return new fe(V,v,y)},deps:[Ne.B7,Hs,o.SKi]}],Vt=[{provide:Sr,useFactory:()=>new so},{provide:o.bc$,useValue:"BrowserAnimations"},...ve];var ur=z(4341),fi=z(9967),ii=z(8563),Mi=z(2107),Mo=z(7440),oo=z(4412),ms=z(6697),To=z(5558),Oi=z(6840),oa=z(483);function _a(V,v){1&V&&(o.j41(0,"small",10),o.EFF(1," Featured "),o.k0s())}const ao=function(V){return["/post",V]};function Ni(V,v){if(1&V&&(o.j41(0,"div",1),o.nrm(1,"div",2),o.j41(2,"div",3)(3,"div",4)(4,"small",5),o.EFF(5),o.k0s(),o.DNE(6,_a,2,0,"small",6),o.j41(7,"small",7),o.EFF(8),o.k0s()(),o.j41(9,"h5",8),o.EFF(10),o.k0s(),o.j41(11,"p"),o.EFF(12),o.k0s(),o.j41(13,"small",9),o.EFF(14),o.nI1(15,"date"),o.nI1(16,"timestampToDate"),o.k0s()()()),2&V){const y=o.XpG();o.Y8G("routerLink",o.eq3(14,ao,y.postInfo.postLink)),o.R7$(1),o.muq(" height: 250px; background-image: url(",y.postInfo.postImg,"); background-repeat: no-repeat; background-position: center; background-size: cover;"),o.R7$(4),o.SpI(" ",y.postInfo.category.category," "),o.R7$(1),o.Y8G("ngIf",y.postInfo.isFeatured),o.R7$(2),o.SpI(" Views - ",y.postInfo.views," "),o.R7$(2),o.SpI(" ",y.postInfo.title," "),o.R7$(2),o.SpI(" ",y.postInfo.excerpt," "),o.R7$(2),o.SpI(" LAST UPDATED - ",o.bMT(15,10,o.bMT(16,12,y.postInfo.createdAt))," ")}}let Lo=(()=>{class V{static{this.\u0275fac=function(P){return new(P||V)}}static{this.\u0275cmp=o.VBU({type:V,selectors:[["app-post-card"]],inputs:{postInfo:"postInfo"},standalone:!0,features:[o.aNF],decls:1,vars:1,consts:[["style","cursor: pointer;","class","card shadow-effect",3,"routerLink",4,"ngIf"],[1,"card","shadow-effect",2,"cursor","pointer",3,"routerLink"],[1,"card-img-top"],[1,"card-body"],[1,"d-flex","gap-3","flex-wrap"],[1,"p-2","rounded","bg-light","text-danger","text-center"],["class","p-2 rounded bg-light text-success text-center ml-3",4,"ngIf"],[1,"p-2","rounded","bg-light","text-info","text-center","ml-3"],[1,"mt-1"],[1,"p-2","rounded","bg-light","text-warning","text-center"],[1,"p-2","rounded","bg-light","text-success","text-center","ml-3"]],template:function(P,Q){1&P&&o.DNE(0,Ni,17,16,"div",0),2&P&&o.Y8G("ngIf",Q.postInfo)},dependencies:[Rr.bT,se.Wk,Rr.vh,oa.i],styles:[".card[_ngcontent-%COMP%]{max-width:400px;min-height:550px}"],changeDetection:0})}}return V})();var ks=z(6354),_i=z(8141),Zo=z(2816),$n=z(9437),du=z(7673);const Uo=function(V){return{active:V}};function ya(V,v){if(1&V&&o.nrm(0,"button",21),2&V){const y=v.index;o.Y8G("ngClass",o.eq3(5,Uo,0===y)),o.BMQ("data-bs-target","#carouselExampleDark")("data-bs-slide-to",y)("aria-current",0===y?"true":null)("aria-label","Slide "+(y+1))}}const aa=function(V){return["/post",V]};function ua(V,v){if(1&V&&(o.j41(0,"div",22),o.nrm(1,"div",23),o.j41(2,"div",24)(3,"h5"),o.EFF(4),o.k0s(),o.j41(5,"p"),o.EFF(6),o.k0s()()()),2&V){const y=v.$implicit;o.Y8G("ngClass",o.eq3(7,Uo,0===v.index)),o.R7$(1),o.muq(" height: 500px; background-image: url(",y.postImg,"); background-repeat: no-repeat; background-position: center; background-size: cover;"),o.R7$(1),o.Y8G("routerLink",o.eq3(9,aa,y.postLink)),o.R7$(2),o.JRh(y.title),o.R7$(2),o.JRh(y.excerpt)}}function Bo(V,v){if(1&V&&(o.j41(0,"div",10),o.nrm(1,"div",11),o.j41(2,"div",12),o.DNE(3,ya,1,7,"button",13),o.k0s(),o.j41(4,"div",14),o.DNE(5,ua,7,11,"div",15),o.k0s(),o.j41(6,"button",16),o.nrm(7,"span",17),o.j41(8,"span",18),o.EFF(9,"Previous"),o.k0s()(),o.j41(10,"button",19),o.nrm(11,"span",20),o.j41(12,"span",18),o.EFF(13,"Next"),o.k0s()()()),2&V){const y=v.ngIf;o.R7$(3),o.Y8G("ngForOf",y),o.R7$(2),o.Y8G("ngForOf",y)}}function $a(V,v){if(1&V&&(o.j41(0,"div",25),o.nrm(1,"app-post-card",26),o.k0s()),2&V){const y=v.$implicit;o.R7$(1),o.Y8G("postInfo",y)}}function va(V,v){if(1&V){const y=o.RV6();o.j41(0,"div",27)(1,"button",28),o.bIt("click",function(){o.eBV(y);const Q=o.XpG();return o.Njj(Q.loadMore())}),o.EFF(2,"Load More"),o.k0s()()}}function hu(V,v){1&V&&(o.j41(0,"div",27)(1,"p"),o.EFF(2,"No more posts to load."),o.k0s()())}let Oo=(()=>{class V{constructor(){this.blogPostsService=(0,o.WQX)(Oi.t),this.featuredPosts$=this.blogPostsService.getFeaturedPosts(),this.paginationSubject=new oo.t({limit:4,lastVisibleDoc:null}),this.totalPosts=0,this.lastVisiblePost=null,this.totalPosts$=this.blogPostsService.getTotalPostsCount().pipe((0,ks.T)(y=>y.size),(0,ms.s)(1),(0,_i.M)(y=>{this.totalPosts=y})).subscribe(),this.latestPosts$=this.paginationSubject.pipe((0,To.n)(({limit:y,lastVisibleDoc:P})=>this.blogPostsService.getLatestPosts(y,P)),(0,_i.M)(y=>{this.lastVisiblePost=y.lastVisible}),(0,ks.T)(y=>y.posts),(0,Zo.S)((y,P)=>[...y,...P],[]),(0,$n.W)(()=>(0,du.of)([])))}loadMore(){const P=this.lastVisiblePost;null!==P&&this.paginationSubject.next({limit:this.paginationSubject.value.limit,lastVisibleDoc:P})}static{this.\u0275fac=function(P){return new(P||V)}}static{this.\u0275cmp=o.VBU({type:V,selectors:[["app-home"]],standalone:!0,features:[o.aNF],decls:17,vars:8,consts:[[1,"featured-section"],[1,"container-fluid"],[1,"row"],[1,"col-md-12","text-center","mt-5"],[2,"color","var(--primary-color)"],["style","height: 500px;","id","carouselExampleDark","class","carousel slide",4,"ngIf"],[1,"container","mt-5"],[1,"col-md-12","text-center"],["class","col-md-4 mt-3",4,"ngFor","ngForOf"],["class","text-center mt-4",4,"ngIf"],["id","carouselExampleDark",1,"carousel","slide",2,"height","500px"],[1,"w-100","h-100","position-absolute","z-2","rounded","opacity-25",2,"background-color","var(--primary-color)"],[1,"carousel-indicators","z-3"],["type","button",3,"ngClass",4,"ngFor","ngForOf"],[1,"carousel-inner","rounded"],["class","carousel-item","data-bs-interval","1000",3,"ngClass",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleDark","data-bs-slide","prev",1,"carousel-control-prev","z-3"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleDark","data-bs-slide","next",1,"carousel-control-next","z-3"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button",3,"ngClass"],["data-bs-interval","1000",1,"carousel-item",3,"ngClass"],[1,"card-img-top"],[1,"carousel-caption","d-none","d-md-block","text-white","z-3",2,"cursor","pointer",3,"routerLink"],[1,"col-md-4","mt-3"],[3,"postInfo"],[1,"text-center","mt-4"],[1,"btn","btn-primary",3,"click"]],template:function(P,Q){1&P&&(o.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),o.EFF(5," Featured Posts "),o.k0s()()(),o.DNE(6,Bo,14,2,"div",5),o.nI1(7,"async"),o.k0s()(),o.j41(8,"section",6)(9,"div",7)(10,"h2"),o.EFF(11,"Latest Posts"),o.k0s()(),o.j41(12,"div",2),o.DNE(13,$a,2,1,"div",8),o.nI1(14,"async"),o.k0s(),o.DNE(15,va,3,0,"div",9),o.DNE(16,hu,3,0,"div",9),o.k0s()),2&P&&(o.R7$(6),o.Y8G("ngIf",o.bMT(7,4,Q.featuredPosts$)),o.R7$(7),o.Y8G("ngForOf",o.bMT(14,6,Q.latestPosts$)),o.R7$(2),o.Y8G("ngIf",null!==Q.lastVisiblePost),o.R7$(1),o.Y8G("ngIf",null===Q.lastVisiblePost&&Q.totalPosts>0))},dependencies:[Rr.bT,Rr.pM,Rr.YU,se.Wk,Lo,Rr.Jj],styles:[".featured-section[_ngcontent-%COMP%]{padding-left:130px;padding-right:130px;padding-bottom:130px;background-color:var(--primary-color)}"],changeDetection:0})}}return V})();function Co(V,v){if(1&V&&(o.j41(0,"div",7),o.nrm(1,"app-post-card",8),o.k0s()),2&V){const y=v.$implicit;o.R7$(1),o.Y8G("postInfo",y)}}function ea(V,v){if(1&V&&(o.j41(0,"div")(1,"div",1)(2,"div",2)(3,"h1",3),o.EFF(4),o.k0s(),o.j41(5,"p",3),o.EFF(6,"Lorem ipsum dolor sit amet consectetur adipisicing elit."),o.k0s()()(),o.j41(7,"div",4)(8,"div",5),o.DNE(9,Co,2,1,"div",6),o.k0s()()()),2&V){const y=v.ngIf;o.R7$(4),o.SpI(" ",y[0].category.category," Category "),o.R7$(5),o.Y8G("ngForOf",y)}}let uo=(()=>{class V{constructor(){this.route=(0,o.WQX)(se.nX),this.blogPostsService=(0,o.WQX)(Oi.t),this.categoryData=null}ngOnInit(){this.categoryData=this.route.snapshot.data.categoryName,this.categoryPosts$=this.route.data.pipe((0,ks.T)(y=>y.categoryPosts))}static{this.\u0275fac=function(P){return new(P||V)}}static{this.\u0275cmp=o.VBU({type:V,selectors:[["app-single-category"]],standalone:!0,features:[o.aNF],decls:2,vars:3,consts:[[4,"ngIf"],[1,"bg-theme","p-5"],[1,"container"],[1,"text-white"],[1,"container","mt-5","mb-5"],[1,"row"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3"],[3,"postInfo"]],template:function(P,Q){1&P&&(o.DNE(0,ea,10,2,"div",0),o.nI1(1,"async")),2&P&&o.Y8G("ngIf",o.bMT(1,1,Q.categoryPosts$))},dependencies:[Rr.bT,Rr.pM,Lo,Rr.Jj],changeDetection:0})}}return V})();var ta=z(8088);function xo(V,v){if(1&V&&(o.j41(0,"div",5)(1,"h6",6),o.EFF(2),o.k0s(),o.j41(3,"small",7),o.EFF(4),o.nI1(5,"date"),o.nI1(6,"timestampToDate"),o.k0s(),o.j41(7,"div",3),o.EFF(8),o.k0s(),o.nrm(9,"hr"),o.k0s()),2&V){const y=v.$implicit;o.R7$(2),o.SpI(" ",y.name," "),o.R7$(2),o.SpI(" CREATED AT - ",o.bMT(5,3,o.bMT(6,5,y.createdAt))," "),o.R7$(4),o.SpI(" ",y.comment," ")}}function Ra(V,v){if(1&V&&(o.j41(0,"div",2)(1,"h4",3),o.EFF(2),o.k0s(),o.DNE(3,xo,10,7,"div",4),o.k0s()),2&V){const y=v.ngIf;o.R7$(2),o.SpI(" Comments (",y.length,") "),o.R7$(1),o.Y8G("ngForOf",y)}}let wl=(()=>{class V{constructor(){this.commentService=(0,o.WQX)(ta.y)}ngOnInit(){this.commentList$=this.commentService.loadData(this.postData.id)}static{this.\u0275fac=function(P){return new(P||V)}}static{this.\u0275cmp=o.VBU({type:V,selectors:[["app-comment-list"]],inputs:{postData:"postData"},standalone:!0,features:[o.aNF],decls:3,vars:3,consts:[[1,"card","mb-5","mt-5","pb-5","shadow-effect"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"mt-3","mb-3"],["class","comment-box mt-3",4,"ngFor","ngForOf"],[1,"comment-box","mt-3"],[1,"mb-0"],[1,"text-danger"]],template:function(P,Q){1&P&&(o.j41(0,"div",0),o.DNE(1,Ra,4,2,"div",1),o.nI1(2,"async"),o.k0s()),2&P&&(o.R7$(1),o.Y8G("ngIf",o.bMT(2,1,Q.commentList$)))},dependencies:[Rr.bT,Rr.pM,Rr.Jj,Rr.vh,oa.i],styles:[".comment-box[_ngcontent-%COMP%]{padding:15px 35px;background-color:#f0f0f0}"],changeDetection:0})}}return V})();const A=function(V){return{"alert-validate":V}};let Z=(()=>{class V{constructor(){this.commentService=(0,o.WQX)(ta.y)}submitForm(y){this.commentService.saveData({name:y.value.name,comment:y.value.comment,approved:!1,postId:this.postData.id,postName:this.postData.title,createdAt:new Date}),y.reset()}static{this.\u0275fac=function(P){return new(P||V)}}static{this.\u0275cmp=o.VBU({type:V,selectors:[["app-comment-form"]],inputs:{postData:"postData"},standalone:!0,features:[o.aNF],decls:20,vars:7,consts:[[1,"card","mt-5","shadow-effect"],[1,"card-body"],[3,"ngSubmit"],["commForm","ngForm"],["data-validate","Name is required",1,"form-group","validate-input",3,"ngClass"],["type","text","placeholder","Enter your name here","name","name","required","","ngModel","",1,"form-control","shadow-effect"],["Name","ngModel"],["data-validate","Comment is required",1,"form-group","validate-input",3,"ngClass"],["cols","30","rows","10","placeholder","Add your comment here","name","comment","required","","ngModel","",1,"form-control","shadow-effect"],["Comment","ngModel"],[1,"mt-5","btn","btn-info","btn-theme","text-white",3,"disabled"]],template:function(P,Q){if(1&P){const le=o.RV6();o.j41(0,"div",0)(1,"div",1)(2,"h4"),o.EFF(3,"Leave a Comment"),o.k0s(),o.j41(4,"p"),o.EFF(5,"You can leave a comment using this comment form"),o.k0s(),o.j41(6,"form",2,3),o.bIt("ngSubmit",function(){o.eBV(le);const xe=o.sdS(7);return o.Njj(Q.submitForm(xe))}),o.j41(8,"div",4)(9,"label"),o.EFF(10,"Name"),o.k0s(),o.nrm(11,"input",5,6),o.k0s(),o.j41(13,"div",7)(14,"label"),o.EFF(15,"Comment"),o.k0s(),o.nrm(16,"textarea",8,9),o.k0s(),o.j41(18,"button",10),o.EFF(19,"Add a Comment"),o.k0s()()()()}if(2&P){const le=o.sdS(7),Ae=o.sdS(12),xe=o.sdS(17);o.R7$(8),o.Y8G("ngClass",o.eq3(3,A,Ae.touched&&Ae.invalid)),o.R7$(5),o.Y8G("ngClass",o.eq3(5,A,xe.touched&&xe.invalid)),o.R7$(5),o.Y8G("disabled",le.invalid)}},dependencies:[ur.YN,ur.qT,ur.me,ur.BC,ur.cb,ur.YS,ur.vS,ur.cV,Rr.YU],changeDetection:0})}}return V})();function F(V,v){1&V&&(o.j41(0,"small",17),o.EFF(1," Featured "),o.k0s())}function G(V,v){if(1&V&&(o.j41(0,"div",18),o.nrm(1,"app-post-card",19),o.k0s()),2&V){const y=v.$implicit;o.R7$(1),o.Y8G("postInfo",y)}}function Ie(V,v){if(1&V&&(o.j41(0,"div",2)(1,"div",3)(2,"div",4),o.nrm(3,"img",5),o.j41(4,"div",6)(5,"div",7)(6,"small",8),o.EFF(7),o.k0s(),o.DNE(8,F,2,0,"small",9),o.j41(9,"small",10),o.EFF(10),o.k0s(),o.j41(11,"small",11),o.EFF(12),o.nI1(13,"date"),o.nI1(14,"timestampToDate"),o.k0s()(),o.j41(15,"h1",12),o.EFF(16),o.k0s(),o.nrm(17,"div",13),o.k0s()(),o.nrm(18,"app-comment-form",14)(19,"app-comment-list",14),o.k0s(),o.j41(20,"div",15),o.DNE(21,G,2,1,"div",16),o.nI1(22,"async"),o.nI1(23,"async"),o.k0s()()),2&V){const y=v.ngIf,P=o.XpG();o.R7$(3),o.FS9("src",y.postImg,o.B4B),o.R7$(4),o.JRh(y.category.category),o.R7$(1),o.Y8G("ngIf",y.isFeatured),o.R7$(2),o.SpI(" Views - ",y.views," "),o.R7$(2),o.SpI(" LAST UPDATED - ",o.bMT(13,10,o.bMT(14,12,y.createdAt))," "),o.R7$(4),o.JRh(y.title),o.R7$(1),o.Y8G("innerHTML",y.content,o.npT),o.R7$(1),o.Y8G("postData",y),o.R7$(1),o.Y8G("postData",y),o.R7$(2),o.Y8G("ngForOf",o.bMT(22,14,o.bMT(23,16,P.similarPosts$)))}}let gt=(()=>{class V{constructor(){this.router=(0,o.WQX)(se.Ix),this.blogPostsService=(0,o.WQX)(Oi.t),this.route=(0,o.WQX)(se.nX),this.similarPosts$=(0,du.of)(null)}ngOnInit(){this.postData$=this.route.data.pipe((0,ks.T)(y=>y.postData)),this.similarPosts$=this.route.data.pipe((0,ks.T)(y=>y.similarPosts))}static{this.\u0275fac=function(P){return new(P||V)}}static{this.\u0275cmp=o.VBU({type:V,selectors:[["app-single-post"]],standalone:!0,features:[o.aNF],decls:5,vars:5,consts:[[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-9"],[1,"card","shadow-effect"],["alt","",1,"card-img-top","img-fluid",3,"src"],[1,"card-body"],[1,"d-flex","gap-3"],[1,"p-2","rounded","bg-light","text-danger","text-center"],["class","p-2 rounded bg-light text-sucess text-center ml-2",4,"ngIf"],[1,"p-2","rounded","bg-light","text-info","text-center","ml-2"],[1,"p-2","rounded","bg-light","text-warning","text-center","ml-2"],[1,"mt-3","mb-3"],[1,"test",3,"innerHTML"],[3,"postData"],[1,"col-md-3","gap-3"],["class"," mb-3",4,"ngFor","ngForOf"],[1,"p-2","rounded","bg-light","text-sucess","text-center","ml-2"],[1,"mb-3"],[3,"postInfo"]],template:function(P,Q){1&P&&(o.j41(0,"div",0),o.nrm(1,"br"),o.DNE(2,Ie,24,18,"div",1),o.nI1(3,"async"),o.nI1(4,"async"),o.k0s()),2&P&&(o.R7$(2),o.Y8G("ngIf",o.bMT(3,1,o.bMT(4,3,Q.postData$))))},dependencies:[Rr.bT,Z,wl,Rr.pM,Lo,Rr.Jj,Rr.vh,oa.i],styles:[".test[_ngcontent-%COMP%]{position:relative}"],changeDetection:0})}}return V})();var Rt=z(8810);let On=(()=>{class V{constructor(){this.link="https://api.web3forms.com/submit",this.http=(0,o.WQX)(Ce.Qq)}sendMessage(y){return this.http.post(this.link,y).pipe((0,ks.T)(P=>P.message),(0,$n.W)(P=>(console.error("An error occurred:",P),(0,Rt.$)(()=>new Error("Something went wrong. Please try again later.")))))}static{this.\u0275fac=function(P){return new(P||V)}}static{this.\u0275prov=o.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}}return V})();function Hr(V,v){if(1&V&&(o.j41(0,"div",24),o.EFF(1),o.k0s()),2&V){const y=v.ngIf;o.R7$(1),o.SpI(" ",y," ")}}let pi=(()=>{class V{constructor(){this.contactService=(0,o.WQX)(On)}onSubmit(y){this.response=this.contactService.sendMessage({name:y.value.name,email:y.value.email,message:y.value.message,subject:y.value.subject,access_key:"6d128682-0006-4705-92a2-c0cd285f5fac"}),y.reset()}static{this.\u0275fac=function(P){return new(P||V)}}static{this.\u0275cmp=o.VBU({type:V,selectors:[["app-contact-us"]],standalone:!0,features:[o.aNF],decls:31,vars:4,consts:[[1,"contact1"],[1,"container-contact1","shadow-effect"],["data-tilt","",1,"contact1-pic","js-tilt"],["src","https://colorlib.com/etc/cf/ContactFrom_v1/images/img-01.png","alt","IMG"],[1,"contact1-form","validate-form",3,"ngSubmit"],["contactForm","ngForm"],[1,"contact1-form-title"],["class","alert alert-primary mb-3 text-center py-2","role","alert",4,"ngIf"],["data-validate","Name is required",1,"wrap-input1","validate-input"],["type","text","name","name","placeholder","Name","required","","ngModel","",1,"input1"],["Name","ngModel"],[1,"shadow-input1"],["data-validate","Valid email is required: ex@abc.xyz",1,"wrap-input1","validate-input"],["type","text","name","email","placeholder","Email","required","","ngModel","",1,"input1"],["Email","ngModel"],["data-validate","Subject is required",1,"wrap-input1","validate-input"],["type","text","name","subject","placeholder","Subject","required","","ngModel","",1,"input1"],["Subject","ngModel"],["data-validate","Message is required",1,"wrap-input1","validate-input"],["name","message","placeholder","Message","required","","ngModel","",1,"input1"],["Message","ngModel"],[1,"container-contact1-form-btn"],["type","submit",1,"contact1-form-btn",3,"disabled"],["aria-hidden","true",1,"fa","fa-long-arrow-right"],["role","alert",1,"alert","alert-primary","mb-3","text-center","py-2"]],template:function(P,Q){if(1&P){const le=o.RV6();o.j41(0,"div",0)(1,"div",1)(2,"div",2),o.nrm(3,"img",3),o.k0s(),o.j41(4,"form",4,5),o.bIt("ngSubmit",function(){o.eBV(le);const xe=o.sdS(5);return o.Njj(Q.onSubmit(xe))}),o.j41(6,"span",6),o.EFF(7," Get in touch "),o.k0s(),o.DNE(8,Hr,2,1,"div",7),o.nI1(9,"async"),o.j41(10,"div",8),o.nrm(11,"input",9,10)(13,"span",11),o.k0s(),o.j41(14,"div",12),o.nrm(15,"input",13,14)(17,"span",11),o.k0s(),o.j41(18,"div",15),o.nrm(19,"input",16,17)(21,"span",11),o.k0s(),o.j41(22,"div",18),o.nrm(23,"textarea",19,20)(25,"span",11),o.k0s(),o.j41(26,"div",21)(27,"button",22)(28,"span"),o.EFF(29," Send Email "),o.nrm(30,"i",23),o.k0s()()()()()()}if(2&P){const le=o.sdS(5);o.R7$(8),o.Y8G("ngIf",o.bMT(9,2,Q.response)),o.R7$(19),o.Y8G("disabled",le.invalid)}},dependencies:[ur.YN,ur.qT,ur.me,ur.BC,ur.cb,ur.YS,ur.vS,ur.cV,Rr.bT,Rr.Jj],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}a[_ngcontent-%COMP%]{font-size:14px;line-height:1.7;color:#666;margin:0;transition:all .4s;-webkit-transition:all .4s;-o-transition:all .4s;-moz-transition:all .4s}a[_ngcontent-%COMP%]:focus{outline:none!important}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#57b846}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:0}p[_ngcontent-%COMP%]{font-size:14px;line-height:1.7;color:#666;margin:0}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{margin:0;list-style-type:none}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:none;border:none}textarea[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus{border-color:transparent!important}input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#999}input[_ngcontent-%COMP%]:-moz-placeholder{color:#999}input[_ngcontent-%COMP%]::-moz-placeholder{color:#999}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#999}textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#999}textarea[_ngcontent-%COMP%]:-moz-placeholder{color:#999}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#999}textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#999}button[_ngcontent-%COMP%]{outline:none!important;border:none;background:0 0}button[_ngcontent-%COMP%]:hover{cursor:pointer}iframe[_ngcontent-%COMP%]{border:none!important}.contact1[_ngcontent-%COMP%]{width:100%;min-height:100%;padding:15px;display:flex;flex-wrap:wrap;justify-content:center;align-items:center}.container-contact1[_ngcontent-%COMP%]{width:1163px;background:#fff;border-radius:10px;overflow:hidden;display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;padding:90px 130px 88px 148px}.contact1-pic[_ngcontent-%COMP%]{width:296px}.contact1-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.contact1-form[_ngcontent-%COMP%]{width:390px}.contact1-form-title[_ngcontent-%COMP%]{display:block;font-size:24px;color:#333;line-height:1.2;text-align:center;padding-bottom:44px}input.input1[_ngcontent-%COMP%]{height:50px;border-radius:25px;padding:0 30px}input.input1[_ngcontent-%COMP%] + .shadow-input1[_ngcontent-%COMP%]{border-radius:25px}textarea.input1[_ngcontent-%COMP%]{min-height:150px;border-radius:25px;padding:12px 30px}textarea.input1[_ngcontent-%COMP%] + .shadow-input1[_ngcontent-%COMP%]{border-radius:25px}.wrap-input1[_ngcontent-%COMP%]{position:relative;width:100%;z-index:1;margin-bottom:20px}.input1[_ngcontent-%COMP%]{display:block;width:100%;background:#e6e6e6;font-size:15px;line-height:1.5;color:#666}.shadow-input1[_ngcontent-%COMP%]{content:"";display:block;position:absolute;bottom:0;left:0;z-index:-1;width:100%;height:100%;box-shadow:0 0;color:#57b84680}.input1[_ngcontent-%COMP%]:focus + .shadow-input1[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_anim-shadow .5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_anim-shadow{to{box-shadow:0 0 80px 30px;opacity:0}}.container-contact1-form-btn[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.contact1-form-btn[_ngcontent-%COMP%]{min-width:193px;height:50px;border-radius:25px;background:#57b846;font-size:15px;line-height:1.5;color:#fff;display:flex;justify-content:center;align-items:center;padding:0 25px;transition:all .4s}.contact1-form-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:7px;transition:all .4s}.contact1-form-btn[_ngcontent-%COMP%]:hover{background:#333}.contact1-form-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(10px)}@media (max-width:1200px){.contact1-pic[_ngcontent-%COMP%]{width:33.5%}.contact1-form[_ngcontent-%COMP%]{width:44%}}@media (max-width:992px){.container-contact1[_ngcontent-%COMP%]{padding:90px 80px 88px 90px}.contact1-pic[_ngcontent-%COMP%]{width:35%}.contact1-form[_ngcontent-%COMP%]{width:55%}}@media (max-width:768px){.container-contact1[_ngcontent-%COMP%]{padding:90px 80px 88px}.contact1-pic[_ngcontent-%COMP%]{display:none}.contact1-form[_ngcontent-%COMP%]{width:100%}}@media (max-width:576px){.container-contact1[_ngcontent-%COMP%]{padding:90px 15px 88px}}'],changeDetection:0})}}return V})();var kr=z(1303),lr=z(69);function Tr(V,v){1&V&&(o.j41(0,"div"),o.EFF(1," Name is Required "),o.k0s())}function si(V,v){if(1&V&&(o.j41(0,"div",13),o.DNE(1,Tr,2,0,"div",14),o.k0s()),2&V){o.XpG();const y=o.sdS(11);o.R7$(1),o.Y8G("ngIf",y.hasError("required"))}}function Xi(V,v){1&V&&(o.j41(0,"div"),o.EFF(1," Email is Required "),o.k0s())}function lo(V,v){if(1&V&&(o.j41(0,"div",13),o.DNE(1,Xi,2,0,"div",14),o.k0s()),2&V){o.XpG();const y=o.sdS(15);o.R7$(1),o.Y8G("ngIf",y.hasError("required"))}}const Yi=function(V){return{"is-invalid":V}};let Qs=(()=>{class V{constructor(){this.subscribersService=(0,o.WQX)(lr.t),this.toastr=(0,o.WQX)(Fe.tw)}onSubmit(y){const P={name:y.value.name,email:y.value.email};this.subscription=this.subscribersService.checkSubs(P.email).subscribe(Q=>{0==Q.length?this.subscribersService.saveData(P):this.toastr.error("Email already subscribed !"),this.subscription.unsubscribe(),y.reset()})}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(P){return new(P||V)}}static{this.\u0275cmp=o.VBU({type:V,selectors:[["app-subscription-form"]],standalone:!0,features:[o.aNF],decls:20,vars:8,consts:[[1,"card","shadow-effect"],[1,"card-body"],[1,"text-center","mt-3","mb-5"],[1,"m-auto","subs-text"],[1,"d-flex","mb-5","mt-5","gap-3","justify-content-center",3,"ngSubmit"],["subForm","ngForm"],[1,"form-group","col-md-5"],["type","text","placeholder","Your Name","name","name","required","","ngModel","",1,"form-control",3,"ngClass"],["Name","ngModel"],["class","text-danger",4,"ngIf"],["type","email","placeholder","Email Address","name","email","required","","ngModel","","email","",1,"form-control",3,"ngClass"],["Email","ngModel"],[1,"btn","btn-info","btn-block","btn-theme","text-white"],[1,"text-danger"],[4,"ngIf"]],template:function(P,Q){if(1&P){const le=o.RV6();o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),o.EFF(4,"SUBSCRIPTION FORM"),o.k0s(),o.j41(5,"p",3),o.EFF(6," Ready to be part of the cool crowd? Subscribe now for the inside scoop on all things. Be the first to know about promos, updates, and awesome stuff! "),o.k0s(),o.j41(7,"form",4,5),o.bIt("ngSubmit",function(){o.eBV(le);const xe=o.sdS(8);return o.Njj(Q.onSubmit(xe))}),o.j41(9,"div",6),o.nrm(10,"input",7,8),o.DNE(12,si,2,1,"div",9),o.k0s(),o.j41(13,"div",6),o.nrm(14,"input",10,11),o.DNE(16,lo,2,1,"div",9),o.k0s(),o.j41(17,"div")(18,"button",12),o.EFF(19,"SUBSCRIBE"),o.k0s()()()()()()}if(2&P){const le=o.sdS(11),Ae=o.sdS(15);o.R7$(10),o.Y8G("ngClass",o.eq3(4,Yi,le.touched&&le.invalid)),o.R7$(2),o.Y8G("ngIf",le.touched&&le.invalid),o.R7$(2),o.Y8G("ngClass",o.eq3(6,Yi,Ae.touched&&Ae.invalid)),o.R7$(2),o.Y8G("ngIf",Ae.touched&&Ae.invalid)}},dependencies:[ur.YN,ur.qT,ur.me,ur.BC,ur.cb,ur.YS,ur.Dg,ur.vS,ur.cV,Rr.YU,Rr.bT],styles:[".card[_ngcontent-%COMP%]{background-color:var(--secondary-color);width:1200px}input[_ngcontent-%COMP%]{width:100%}.subs-text[_ngcontent-%COMP%]{width:500px}"],changeDetection:0})}}return V})();var ki=z(7562);const Xs=function(V,v){return["/category",V,v]};function No(V,v){if(1&V&&(o.j41(0,"ul",4)(1,"li",5)(2,"a",6),o.EFF(3),o.k0s()()()),2&V){const y=v.$implicit;o.R7$(2),o.Y8G("routerLink",o.l_i(2,Xs,y.category,y.id)),o.R7$(1),o.JRh(y.category)}}let jo=(()=>{class V{constructor(){this.categoryService=(0,o.WQX)(ki.w),this.categories$=this.categoryService.loadData()}static{this.\u0275fac=function(P){return new(P||V)}}static{this.\u0275cmp=o.VBU({type:V,selectors:[["app-category-navbar"]],standalone:!0,features:[o.aNF],decls:5,vars:3,consts:[[1,"navbar","navbar-expand-lg","fixed-top"],[1,"container"],[1,"collapse","navbar-collapse","justify-content-center"],["class","navbar-nav",4,"ngFor","ngForOf"],[1,"navbar-nav"],[1,"nav-item","ml-3"],[1,"nav-link",3,"routerLink"]],template:function(P,Q){1&P&&(o.j41(0,"nav",0)(1,"div",1)(2,"div",2),o.DNE(3,No,4,5,"ul",3),o.nI1(4,"async"),o.k0s()()()),2&P&&(o.R7$(3),o.Y8G("ngForOf",o.bMT(4,1,Q.categories$)))},dependencies:[Rr.pM,se.Wk,Rr.Jj],styles:["nav[_ngcontent-%COMP%]{margin-top:100px;height:50px;background-color:var(--navbar-footer-color)}.nav-link[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--primary-color)}"],changeDetection:0})}}return V})();var fu=z(3687);let Bi=(()=>{class V{static{this.\u0275fac=function(P){return new(P||V)}}static{this.\u0275cmp=o.VBU({type:V,selectors:[["app-main"]],standalone:!0,features:[o.aNF],decls:7,vars:0,consts:[[1,"app-body"],[1,"mt-5","mb-5","d-flex","justify-content-center"]],template:function(P,Q){1&P&&(o.nrm(0,"app-header")(1,"app-category-navbar"),o.j41(2,"div",0),o.nrm(3,"router-outlet"),o.k0s(),o.j41(4,"div",1),o.nrm(5,"app-subscription-form"),o.k0s(),o.nrm(6,"app-footer"))},dependencies:[fu.l,jo,se.n3,Qs,kr.n],styles:[".app-body[_ngcontent-%COMP%]{margin-top:150px;min-height:45vh}"]})}}return V})();var Mr=z(6013);const pu=[{path:"",component:Bi,children:[{path:"",component:Oo},{path:"category/:category/:id",component:uo,resolve:{categoryPosts:(V,v)=>(0,o.WQX)(Oi.t).loadCategoryPosts(V.params.id),categoryName:(V,v)=>V.params.category}},{path:"post/:postLink",component:gt,resolve:{postData:(V,v)=>{const y=(0,o.WQX)(se.Ix),P=(0,o.WQX)(Oi.t);return P.loadDataWithPostLink(V.params.postLink).pipe((0,ks.T)(le=>le?(P.countViews(le.id),P.loadOneData(le.id)):(y.navigate(["/error"]),null)))},similarPosts:(V,v)=>{const y=(0,o.WQX)(se.Ix),P=(0,o.WQX)(Oi.t);return P.loadDataWithPostLink(V.params.postLink).pipe((0,ks.T)(le=>le?P.loadSimilarPosts(le.category.categoryId):(y.navigate(["/error"]),null)))}}},{path:"contact",component:pi}]},{path:"dashboard",loadChildren:()=>z.e(215).then(z.bind(z,215)).then(V=>V.DashboardModule)},{path:"error",component:Mr.z},{path:"**",component:Mr.z}];(0,Ne.B8)(Je,{providers:[(0,o.oKB)(Ne.Bb,(()=>{class V{static{this.\u0275fac=function(P){return new(P||V)}}static{this.\u0275mod=o.$C({type:V})}static{this.\u0275inj=o.G2t({imports:[se.iI.forRoot(pu),se.iI]})}}return V})(),(0,Mo.MW)(()=>(0,Mo.Wp)({apiKey:"AIzaSyCvI7L1C8UR8qgu9THArFj23OlflcTAKqM",authDomain:"blog-app-a3a4f.firebaseapp.com",projectId:"blog-app-a3a4f",storageBucket:"blog-app-a3a4f.appspot.com",messagingSenderId:"613877446325",appId:"1:613877446325:web:215334c7308c637d31f0fc"})),(0,Mi.Xm)(()=>(0,Mi.c7)()),(0,ii._q)(()=>(0,ii.xI)()),fi.Qi,ur.YN,Fe._B.forRoot(),re.Qt,ur.X1),function Zr(){return[...Vt]}(),(0,Ce.$R)((0,Ce.Sx)())]}).catch(V=>console.error(V))},4412:(gn,dt,z)=>{z.d(dt,{t:()=>se});var o=z(1413);class se extends o.B{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const re=super._subscribe(Ce);return!re.closed&&Ce.next(this._value),re}getValue(){const{hasError:Ce,thrownError:re,_value:Fe}=this;if(Ce)throw re;return this._throwIfClosed(),Fe}next(Ce){super.next(this._value=Ce)}}},1985:(gn,dt,z)=>{z.d(dt,{c:()=>je});var o=z(7707),se=z(8359),Je=z(3494),Ce=z(1203),re=z(1026),Fe=z(8071),Ne=z(9786);let je=(()=>{class Qe{constructor(bt){bt&&(this._subscribe=bt)}lift(bt){const ht=new Qe;return ht.source=this,ht.operator=bt,ht}subscribe(bt,ht,Ft){const Qt=function Te(Qe){return Qe&&Qe instanceof o.vU||function ge(Qe){return Qe&&(0,Fe.T)(Qe.next)&&(0,Fe.T)(Qe.error)&&(0,Fe.T)(Qe.complete)}(Qe)&&(0,se.Uv)(Qe)}(bt)?bt:new o.Ms(bt,ht,Ft);return(0,Ne.Y)(()=>{const{operator:on,source:Mn}=this;Qt.add(on?on.call(Qt,Mn):Mn?this._subscribe(Qt):this._trySubscribe(Qt))}),Qt}_trySubscribe(bt){try{return this._subscribe(bt)}catch(ht){bt.error(ht)}}forEach(bt,ht){return new(ht=Ze(ht))((Ft,Qt)=>{const on=new o.Ms({next:Mn=>{try{bt(Mn)}catch(nn){Qt(nn),on.unsubscribe()}},error:Qt,complete:Ft});this.subscribe(on)})}_subscribe(bt){var ht;return null===(ht=this.source)||void 0===ht?void 0:ht.subscribe(bt)}[Je.s](){return this}pipe(...bt){return(0,Ce.m)(bt)(this)}toPromise(bt){return new(bt=Ze(bt))((ht,Ft)=>{let Qt;this.subscribe(on=>Qt=on,on=>Ft(on),()=>ht(Qt))})}}return Qe.create=Ct=>new Qe(Ct),Qe})();function Ze(Qe){var Ct;return null!==(Ct=Qe??re.$.Promise)&&void 0!==Ct?Ct:Promise}},1413:(gn,dt,z)=>{z.d(dt,{B:()=>Ne});var o=z(1985),se=z(8359);const Ce=(0,z(1853).L)(Ze=>function(){Ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=z(7908),Fe=z(9786);let Ne=(()=>{class Ze extends o.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Te){const Qe=new je(this,this);return Qe.operator=Te,Qe}_throwIfClosed(){if(this.closed)throw new Ce}next(Te){(0,Fe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Qe of this.currentObservers)Qe.next(Te)}})}error(Te){(0,Fe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Te;const{observers:Qe}=this;for(;Qe.length;)Qe.shift().error(Te)}})}complete(){(0,Fe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Te}=this;for(;Te.length;)Te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Te;return(null===(Te=this.observers)||void 0===Te?void 0:Te.length)>0}_trySubscribe(Te){return this._throwIfClosed(),super._trySubscribe(Te)}_subscribe(Te){return this._throwIfClosed(),this._checkFinalizedStatuses(Te),this._innerSubscribe(Te)}_innerSubscribe(Te){const{hasError:Qe,isStopped:Ct,observers:bt}=this;return Qe||Ct?se.Kn:(this.currentObservers=null,bt.push(Te),new se.yU(()=>{this.currentObservers=null,(0,re.o)(bt,Te)}))}_checkFinalizedStatuses(Te){const{hasError:Qe,thrownError:Ct,isStopped:bt}=this;Qe?Te.error(Ct):bt&&Te.complete()}asObservable(){const Te=new o.c;return Te.source=this,Te}}return Ze.create=(ge,Te)=>new je(ge,Te),Ze})();class je extends Ne{constructor(ge,Te){super(),this.destination=ge,this.source=Te}next(ge){var Te,Qe;null===(Qe=null===(Te=this.destination)||void 0===Te?void 0:Te.next)||void 0===Qe||Qe.call(Te,ge)}error(ge){var Te,Qe;null===(Qe=null===(Te=this.destination)||void 0===Te?void 0:Te.error)||void 0===Qe||Qe.call(Te,ge)}complete(){var ge,Te;null===(Te=null===(ge=this.destination)||void 0===ge?void 0:ge.complete)||void 0===Te||Te.call(ge)}_subscribe(ge){var Te,Qe;return null!==(Qe=null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(ge))&&void 0!==Qe?Qe:se.Kn}}},7707:(gn,dt,z)=>{z.d(dt,{Ms:()=>Ft,vU:()=>Qe});var o=z(8071),se=z(8359),Je=z(1026),Ce=z(5334),re=z(5343);const Fe=Ze("C",void 0,void 0);function Ze(Oe,it,pt){return{kind:Oe,value:it,error:pt}}var ge=z(9270),Te=z(9786);class Qe extends se.yU{constructor(it){super(),this.isStopped=!1,it?(this.destination=it,(0,se.Uv)(it)&&it.add(this)):this.destination=nn}static create(it,pt,Pt){return new Ft(it,pt,Pt)}next(it){this.isStopped?Mn(function je(Oe){return Ze("N",Oe,void 0)}(it),this):this._next(it)}error(it){this.isStopped?Mn(function Ne(Oe){return Ze("E",void 0,Oe)}(it),this):(this.isStopped=!0,this._error(it))}complete(){this.isStopped?Mn(Fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(it){this.destination.next(it)}_error(it){try{this.destination.error(it)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ct=Function.prototype.bind;function bt(Oe,it){return Ct.call(Oe,it)}class ht{constructor(it){this.partialObserver=it}next(it){const{partialObserver:pt}=this;if(pt.next)try{pt.next(it)}catch(Pt){Qt(Pt)}}error(it){const{partialObserver:pt}=this;if(pt.error)try{pt.error(it)}catch(Pt){Qt(Pt)}else Qt(it)}complete(){const{partialObserver:it}=this;if(it.complete)try{it.complete()}catch(pt){Qt(pt)}}}class Ft extends Qe{constructor(it,pt,Pt){let $t;if(super(),(0,o.T)(it)||!it)$t={next:it??void 0,error:pt??void 0,complete:Pt??void 0};else{let Bt;this&&Je.$.useDeprecatedNextContext?(Bt=Object.create(it),Bt.unsubscribe=()=>this.unsubscribe(),$t={next:it.next&&bt(it.next,Bt),error:it.error&&bt(it.error,Bt),complete:it.complete&&bt(it.complete,Bt)}):$t=it}this.destination=new ht($t)}}function Qt(Oe){Je.$.useDeprecatedSynchronousErrorHandling?(0,Te.l)(Oe):(0,Ce.m)(Oe)}function Mn(Oe,it){const{onStoppedNotification:pt}=Je.$;pt&&ge.f.setTimeout(()=>pt(Oe,it))}const nn={closed:!0,next:re.l,error:function on(Oe){throw Oe},complete:re.l}},8359:(gn,dt,z)=>{z.d(dt,{Kn:()=>Fe,yU:()=>re,Uv:()=>Ne});var o=z(8071);const Je=(0,z(1853).L)(Ze=>function(Te){Ze(this),this.message=Te?`${Te.length} errors occurred during unsubscription:\n${Te.map((Qe,Ct)=>`${Ct+1}) ${Qe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Te});var Ce=z(7908);class re{constructor(ge){this.initialTeardown=ge,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ge;if(!this.closed){this.closed=!0;const{_parentage:Te}=this;if(Te)if(this._parentage=null,Array.isArray(Te))for(const bt of Te)bt.remove(this);else Te.remove(this);const{initialTeardown:Qe}=this;if((0,o.T)(Qe))try{Qe()}catch(bt){ge=bt instanceof Je?bt.errors:[bt]}const{_finalizers:Ct}=this;if(Ct){this._finalizers=null;for(const bt of Ct)try{je(bt)}catch(ht){ge=ge??[],ht instanceof Je?ge=[...ge,...ht.errors]:ge.push(ht)}}if(ge)throw new Je(ge)}}add(ge){var Te;if(ge&&ge!==this)if(this.closed)je(ge);else{if(ge instanceof re){if(ge.closed||ge._hasParent(this))return;ge._addParent(this)}(this._finalizers=null!==(Te=this._finalizers)&&void 0!==Te?Te:[]).push(ge)}}_hasParent(ge){const{_parentage:Te}=this;return Te===ge||Array.isArray(Te)&&Te.includes(ge)}_addParent(ge){const{_parentage:Te}=this;this._parentage=Array.isArray(Te)?(Te.push(ge),Te):Te?[Te,ge]:ge}_removeParent(ge){const{_parentage:Te}=this;Te===ge?this._parentage=null:Array.isArray(Te)&&(0,Ce.o)(Te,ge)}remove(ge){const{_finalizers:Te}=this;Te&&(0,Ce.o)(Te,ge),ge instanceof re&&ge._removeParent(this)}}re.EMPTY=(()=>{const Ze=new re;return Ze.closed=!0,Ze})();const Fe=re.EMPTY;function Ne(Ze){return Ze instanceof re||Ze&&"closed"in Ze&&(0,o.T)(Ze.remove)&&(0,o.T)(Ze.add)&&(0,o.T)(Ze.unsubscribe)}function je(Ze){(0,o.T)(Ze)?Ze():Ze.unsubscribe()}},1026:(gn,dt,z)=>{z.d(dt,{$:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(gn,dt,z)=>{z.d(dt,{w:()=>se});const se=new(z(1985).c)(re=>re.complete())},8455:(gn,dt,z)=>{z.d(dt,{H:()=>it});var o=z(8750),se=z(941),Je=z(6745),Fe=z(1985),je=z(4761),Ze=z(8071),ge=z(5225);function Qe(pt,Pt){if(!pt)throw new Error("Iterable cannot be null");return new Fe.c($t=>{(0,ge.N)($t,Pt,()=>{const Bt=pt[Symbol.asyncIterator]();(0,ge.N)($t,Pt,()=>{Bt.next().then(Le=>{Le.done?$t.complete():$t.next(Le.value)})},0,!0)})})}var Ct=z(5055),bt=z(9858),ht=z(7441),Ft=z(5397),Qt=z(7953),on=z(591),Mn=z(5196);function it(pt,Pt){return Pt?function Oe(pt,Pt){if(null!=pt){if((0,Ct.l)(pt))return function Ce(pt,Pt){return(0,o.Tg)(pt).pipe((0,Je._)(Pt),(0,se.Q)(Pt))}(pt,Pt);if((0,ht.X)(pt))return function Ne(pt,Pt){return new Fe.c($t=>{let Bt=0;return Pt.schedule(function(){Bt===pt.length?$t.complete():($t.next(pt[Bt++]),$t.closed||this.schedule())})})}(pt,Pt);if((0,bt.y)(pt))return function re(pt,Pt){return(0,o.Tg)(pt).pipe((0,Je._)(Pt),(0,se.Q)(Pt))}(pt,Pt);if((0,Qt.T)(pt))return Qe(pt,Pt);if((0,Ft.x)(pt))return function Te(pt,Pt){return new Fe.c($t=>{let Bt;return(0,ge.N)($t,Pt,()=>{Bt=pt[je.l](),(0,ge.N)($t,Pt,()=>{let Le,Jt;try{({value:Le,done:Jt}=Bt.next())}catch(Kn){return void $t.error(Kn)}Jt?$t.complete():$t.next(Le)},0,!0)}),()=>(0,Ze.T)(Bt?.return)&&Bt.return()})}(pt,Pt);if((0,Mn.U)(pt))return function nn(pt,Pt){return Qe((0,Mn.C)(pt),Pt)}(pt,Pt)}throw(0,on.L)(pt)}(pt,Pt):(0,o.Tg)(pt)}},8750:(gn,dt,z)=>{z.d(dt,{Tg:()=>Ct});var o=z(1635),se=z(7441),Je=z(9858),Ce=z(1985),re=z(5055),Fe=z(7953),Ne=z(591),je=z(5397),Ze=z(5196),ge=z(8071),Te=z(5334),Qe=z(3494);function Ct(Oe){if(Oe instanceof Ce.c)return Oe;if(null!=Oe){if((0,re.l)(Oe))return function bt(Oe){return new Ce.c(it=>{const pt=Oe[Qe.s]();if((0,ge.T)(pt.subscribe))return pt.subscribe(it);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,se.X)(Oe))return function ht(Oe){return new Ce.c(it=>{for(let pt=0;pt<Oe.length&&!it.closed;pt++)it.next(Oe[pt]);it.complete()})}(Oe);if((0,Je.y)(Oe))return function Ft(Oe){return new Ce.c(it=>{Oe.then(pt=>{it.closed||(it.next(pt),it.complete())},pt=>it.error(pt)).then(null,Te.m)})}(Oe);if((0,Fe.T)(Oe))return on(Oe);if((0,je.x)(Oe))return function Qt(Oe){return new Ce.c(it=>{for(const pt of Oe)if(it.next(pt),it.closed)return;it.complete()})}(Oe);if((0,Ze.U)(Oe))return function Mn(Oe){return on((0,Ze.C)(Oe))}(Oe)}throw(0,Ne.L)(Oe)}function on(Oe){return new Ce.c(it=>{(function nn(Oe,it){var pt,Pt,$t,Bt;return(0,o.sH)(this,void 0,void 0,function*(){try{for(pt=(0,o.xN)(Oe);!(Pt=yield pt.next()).done;)if(it.next(Pt.value),it.closed)return}catch(Le){$t={error:Le}}finally{try{Pt&&!Pt.done&&(Bt=pt.return)&&(yield Bt.call(pt))}finally{if($t)throw $t.error}}it.complete()})})(Oe,it).catch(pt=>it.error(pt))})}},7673:(gn,dt,z)=>{z.d(dt,{of:()=>Je});var o=z(3794),se=z(8455);function Je(...Ce){const re=(0,o.lI)(Ce);return(0,se.H)(Ce,re)}},8810:(gn,dt,z)=>{z.d(dt,{$:()=>Je});var o=z(1985),se=z(8071);function Je(Ce,re){const Fe=(0,se.T)(Ce)?Ce:()=>Ce,Ne=je=>je.error(Fe());return new o.c(re?je=>re.schedule(Ne,0,je):Ne)}},4360:(gn,dt,z)=>{z.d(dt,{_:()=>se});var o=z(7707);function se(Ce,re,Fe,Ne,je){return new Je(Ce,re,Fe,Ne,je)}class Je extends o.vU{constructor(re,Fe,Ne,je,Ze,ge){super(re),this.onFinalize=Ze,this.shouldUnsubscribe=ge,this._next=Fe?function(Te){try{Fe(Te)}catch(Qe){re.error(Qe)}}:super._next,this._error=je?function(Te){try{je(Te)}catch(Qe){re.error(Qe)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(Te){re.error(Te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Fe}=this;super.unsubscribe(),!Fe&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},9437:(gn,dt,z)=>{z.d(dt,{W:()=>Ce});var o=z(8750),se=z(4360),Je=z(9974);function Ce(re){return(0,Je.N)((Fe,Ne)=>{let ge,je=null,Ze=!1;je=Fe.subscribe((0,se._)(Ne,void 0,void 0,Te=>{ge=(0,o.Tg)(re(Te,Ce(re)(Fe))),je?(je.unsubscribe(),je=null,ge.subscribe(Ne)):Ze=!0})),Ze&&(je.unsubscribe(),je=null,ge.subscribe(Ne))})}},274:(gn,dt,z)=>{z.d(dt,{H:()=>Je});var o=z(1397),se=z(8071);function Je(Ce,re){return(0,se.T)(re)?(0,o.Z)(Ce,re,1):(0,o.Z)(Ce,1)}},5964:(gn,dt,z)=>{z.d(dt,{p:()=>Je});var o=z(9974),se=z(4360);function Je(Ce,re){return(0,o.N)((Fe,Ne)=>{let je=0;Fe.subscribe((0,se._)(Ne,Ze=>Ce.call(re,Ze,je++)&&Ne.next(Ze)))})}},980:(gn,dt,z)=>{z.d(dt,{j:()=>se});var o=z(9974);function se(Je){return(0,o.N)((Ce,re)=>{try{Ce.subscribe(re)}finally{re.add(Je)}})}},6354:(gn,dt,z)=>{z.d(dt,{T:()=>Je});var o=z(9974),se=z(4360);function Je(Ce,re){return(0,o.N)((Fe,Ne)=>{let je=0;Fe.subscribe((0,se._)(Ne,Ze=>{Ne.next(Ce.call(re,Ze,je++))}))})}},6365:(gn,dt,z)=>{z.d(dt,{U:()=>Je});var o=z(1397),se=z(3669);function Je(Ce=1/0){return(0,o.Z)(se.D,Ce)}},1397:(gn,dt,z)=>{z.d(dt,{Z:()=>je});var o=z(6354),se=z(8750),Je=z(9974),Ce=z(5225),re=z(4360),Ne=z(8071);function je(Ze,ge,Te=1/0){return(0,Ne.T)(ge)?je((Qe,Ct)=>(0,o.T)((bt,ht)=>ge(Qe,bt,Ct,ht))((0,se.Tg)(Ze(Qe,Ct))),Te):("number"==typeof ge&&(Te=ge),(0,Je.N)((Qe,Ct)=>function Fe(Ze,ge,Te,Qe,Ct,bt,ht,Ft){const Qt=[];let on=0,Mn=0,nn=!1;const Oe=()=>{nn&&!Qt.length&&!on&&ge.complete()},it=Pt=>on<Qe?pt(Pt):Qt.push(Pt),pt=Pt=>{bt&&ge.next(Pt),on++;let $t=!1;(0,se.Tg)(Te(Pt,Mn++)).subscribe((0,re._)(ge,Bt=>{Ct?.(Bt),bt?it(Bt):ge.next(Bt)},()=>{$t=!0},void 0,()=>{if($t)try{for(on--;Qt.length&&on<Qe;){const Bt=Qt.shift();ht?(0,Ce.N)(ge,ht,()=>pt(Bt)):pt(Bt)}Oe()}catch(Bt){ge.error(Bt)}}))};return Ze.subscribe((0,re._)(ge,it,()=>{nn=!0,Oe()})),()=>{Ft?.()}}(Qe,Ct,Ze,Te)))}},941:(gn,dt,z)=>{z.d(dt,{Q:()=>Ce});var o=z(5225),se=z(9974),Je=z(4360);function Ce(re,Fe=0){return(0,se.N)((Ne,je)=>{Ne.subscribe((0,Je._)(je,Ze=>(0,o.N)(je,re,()=>je.next(Ze),Fe),()=>(0,o.N)(je,re,()=>je.complete(),Fe),Ze=>(0,o.N)(je,re,()=>je.error(Ze),Fe)))})}},2816:(gn,dt,z)=>{z.d(dt,{S:()=>Ce});var o=z(9974),se=z(4360);function Ce(re,Fe){return(0,o.N)(function Je(re,Fe,Ne,je,Ze){return(ge,Te)=>{let Qe=Ne,Ct=Fe,bt=0;ge.subscribe((0,se._)(Te,ht=>{const Ft=bt++;Ct=Qe?re(Ct,ht,Ft):(Qe=!0,ht),je&&Te.next(Ct)},Ze&&(()=>{Qe&&Te.next(Ct),Te.complete()})))}}(re,Fe,arguments.length>=2,!0))}},6745:(gn,dt,z)=>{z.d(dt,{_:()=>se});var o=z(9974);function se(Je,Ce=0){return(0,o.N)((re,Fe)=>{Fe.add(Je.schedule(()=>re.subscribe(Fe),Ce))})}},5558:(gn,dt,z)=>{z.d(dt,{n:()=>Ce});var o=z(8750),se=z(9974),Je=z(4360);function Ce(re,Fe){return(0,se.N)((Ne,je)=>{let Ze=null,ge=0,Te=!1;const Qe=()=>Te&&!Ze&&je.complete();Ne.subscribe((0,Je._)(je,Ct=>{Ze?.unsubscribe();let bt=0;const ht=ge++;(0,o.Tg)(re(Ct,ht)).subscribe(Ze=(0,Je._)(je,Ft=>je.next(Fe?Fe(Ct,Ft,ht,bt++):Ft),()=>{Ze=null,Qe()}))},()=>{Te=!0,Qe()}))})}},6697:(gn,dt,z)=>{z.d(dt,{s:()=>Ce});var o=z(983),se=z(9974),Je=z(4360);function Ce(re){return re<=0?()=>o.w:(0,se.N)((Fe,Ne)=>{let je=0;Fe.subscribe((0,Je._)(Ne,Ze=>{++je<=re&&(Ne.next(Ze),re<=je&&Ne.complete())}))})}},8141:(gn,dt,z)=>{z.d(dt,{M:()=>re});var o=z(8071),se=z(9974),Je=z(4360),Ce=z(3669);function re(Fe,Ne,je){const Ze=(0,o.T)(Fe)||Ne||je?{next:Fe,error:Ne,complete:je}:Fe;return Ze?(0,se.N)((ge,Te)=>{var Qe;null===(Qe=Ze.subscribe)||void 0===Qe||Qe.call(Ze);let Ct=!0;ge.subscribe((0,Je._)(Te,bt=>{var ht;null===(ht=Ze.next)||void 0===ht||ht.call(Ze,bt),Te.next(bt)},()=>{var bt;Ct=!1,null===(bt=Ze.complete)||void 0===bt||bt.call(Ze),Te.complete()},bt=>{var ht;Ct=!1,null===(ht=Ze.error)||void 0===ht||ht.call(Ze,bt),Te.error(bt)},()=>{var bt,ht;Ct&&(null===(bt=Ze.unsubscribe)||void 0===bt||bt.call(Ze)),null===(ht=Ze.finalize)||void 0===ht||ht.call(Ze)}))}):Ce.D}},9270:(gn,dt,z)=>{z.d(dt,{f:()=>o});const o={setTimeout(se,Je,...Ce){const{delegate:re}=o;return re?.setTimeout?re.setTimeout(se,Je,...Ce):setTimeout(se,Je,...Ce)},clearTimeout(se){const{delegate:Je}=o;return(Je?.clearTimeout||clearTimeout)(se)},delegate:void 0}},4761:(gn,dt,z)=>{z.d(dt,{l:()=>se});const se=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(gn,dt,z)=>{z.d(dt,{s:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(gn,dt,z)=>{z.d(dt,{R0:()=>Fe,ms:()=>Ce,lI:()=>re});var o=z(8071);function Je(Ne){return Ne[Ne.length-1]}function Ce(Ne){return(0,o.T)(Je(Ne))?Ne.pop():void 0}function re(Ne){return function se(Ne){return Ne&&(0,o.T)(Ne.schedule)}(Je(Ne))?Ne.pop():void 0}function Fe(Ne,je){return"number"==typeof Je(Ne)?Ne.pop():je}},3073:(gn,dt,z)=>{z.d(dt,{D:()=>re});const{isArray:o}=Array,{getPrototypeOf:se,prototype:Je,keys:Ce}=Object;function re(Ne){if(1===Ne.length){const je=Ne[0];if(o(je))return{args:je,keys:null};if(function Fe(Ne){return Ne&&"object"==typeof Ne&&se(Ne)===Je}(je)){const Ze=Ce(je);return{args:Ze.map(ge=>je[ge]),keys:Ze}}}return{args:Ne,keys:null}}},7908:(gn,dt,z)=>{function o(se,Je){if(se){const Ce=se.indexOf(Je);0<=Ce&&se.splice(Ce,1)}}z.d(dt,{o:()=>o})},1853:(gn,dt,z)=>{function o(se){const Ce=se(re=>{Error.call(re),re.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}z.d(dt,{L:()=>o})},8496:(gn,dt,z)=>{function o(se,Je){return se.reduce((Ce,re,Fe)=>(Ce[re]=Je[Fe],Ce),{})}z.d(dt,{e:()=>o})},9786:(gn,dt,z)=>{z.d(dt,{Y:()=>Je,l:()=>Ce});var o=z(1026);let se=null;function Je(re){if(o.$.useDeprecatedSynchronousErrorHandling){const Fe=!se;if(Fe&&(se={errorThrown:!1,error:null}),re(),Fe){const{errorThrown:Ne,error:je}=se;if(se=null,Ne)throw je}}else re()}function Ce(re){o.$.useDeprecatedSynchronousErrorHandling&&se&&(se.errorThrown=!0,se.error=re)}},5225:(gn,dt,z)=>{function o(se,Je,Ce,re=0,Fe=!1){const Ne=Je.schedule(function(){Ce(),Fe?se.add(this.schedule(null,re)):this.unsubscribe()},re);if(se.add(Ne),!Fe)return Ne}z.d(dt,{N:()=>o})},3669:(gn,dt,z)=>{function o(se){return se}z.d(dt,{D:()=>o})},7441:(gn,dt,z)=>{z.d(dt,{X:()=>o});const o=se=>se&&"number"==typeof se.length&&"function"!=typeof se},7953:(gn,dt,z)=>{z.d(dt,{T:()=>se});var o=z(8071);function se(Je){return Symbol.asyncIterator&&(0,o.T)(Je?.[Symbol.asyncIterator])}},8071:(gn,dt,z)=>{function o(se){return"function"==typeof se}z.d(dt,{T:()=>o})},5055:(gn,dt,z)=>{z.d(dt,{l:()=>Je});var o=z(3494),se=z(8071);function Je(Ce){return(0,se.T)(Ce[o.s])}},5397:(gn,dt,z)=>{z.d(dt,{x:()=>Je});var o=z(4761),se=z(8071);function Je(Ce){return(0,se.T)(Ce?.[o.l])}},9858:(gn,dt,z)=>{z.d(dt,{y:()=>se});var o=z(8071);function se(Je){return(0,o.T)(Je?.then)}},5196:(gn,dt,z)=>{z.d(dt,{C:()=>Je,U:()=>Ce});var o=z(1635),se=z(8071);function Je(re){return(0,o.AQ)(this,arguments,function*(){const Ne=re.getReader();try{for(;;){const{value:je,done:Ze}=yield(0,o.N3)(Ne.read());if(Ze)return yield(0,o.N3)(void 0);yield yield(0,o.N3)(je)}}finally{Ne.releaseLock()}})}function Ce(re){return(0,se.T)(re?.getReader)}},9974:(gn,dt,z)=>{z.d(dt,{N:()=>Je,S:()=>se});var o=z(8071);function se(Ce){return(0,o.T)(Ce?.lift)}function Je(Ce){return re=>{if(se(re))return re.lift(function(Fe){try{return Ce(Fe,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(gn,dt,z)=>{z.d(dt,{I:()=>Ce});var o=z(6354);const{isArray:se}=Array;function Ce(re){return(0,o.T)(Fe=>function Je(re,Fe){return se(Fe)?re(...Fe):re(Fe)}(re,Fe))}},5343:(gn,dt,z)=>{function o(){}z.d(dt,{l:()=>o})},1203:(gn,dt,z)=>{z.d(dt,{F:()=>se,m:()=>Je});var o=z(3669);function se(...Ce){return Je(Ce)}function Je(Ce){return 0===Ce.length?o.D:1===Ce.length?Ce[0]:function(Fe){return Ce.reduce((Ne,je)=>je(Ne),Fe)}}},5334:(gn,dt,z)=>{z.d(dt,{m:()=>Je});var o=z(1026),se=z(9270);function Je(Ce){se.f.setTimeout(()=>{const{onUnhandledError:re}=o.$;if(!re)throw Ce;re(Ce)})}},591:(gn,dt,z)=>{function o(se){return new TypeError(`You provided ${null!==se&&"object"==typeof se?"an invalid object":`'${se}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(dt,{L:()=>o})},9969:(gn,dt,z)=>{z.d(dt,{FX:()=>Mn,K2:()=>Ne,Ro:()=>se,S6:()=>o,hZ:()=>Ce,i0:()=>re,iF:()=>je,kY:()=>Te,kp:()=>Je,sf:()=>Qt,ui:()=>on,wk:()=>Ze});class o{}class se{}const Je="*";function Ce(nn,Oe){return{type:7,name:nn,definitions:Oe,options:{}}}function re(nn,Oe=null){return{type:4,styles:Oe,timings:nn}}function Ne(nn,Oe=null){return{type:2,steps:nn,options:Oe}}function je(nn){return{type:6,styles:nn,offset:null}}function Ze(nn,Oe,it){return{type:0,name:nn,styles:Oe,options:it}}function Te(nn,Oe,it=null){return{type:1,expr:nn,animation:Oe,options:it}}class Qt{constructor(Oe=0,it=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Oe+it}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Oe=>Oe()),this._onDoneFns=[])}onStart(Oe){this._originalOnStartFns.push(Oe),this._onStartFns.push(Oe)}onDone(Oe){this._originalOnDoneFns.push(Oe),this._onDoneFns.push(Oe)}onDestroy(Oe){this._onDestroyFns.push(Oe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Oe=>Oe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Oe=>Oe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Oe){this._position=this.totalTime?Oe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Oe){const it="start"==Oe?this._onStartFns:this._onDoneFns;it.forEach(pt=>pt()),it.length=0}}class on{constructor(Oe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Oe;let it=0,pt=0,Pt=0;const $t=this.players.length;0==$t?queueMicrotask(()=>this._onFinish()):this.players.forEach(Bt=>{Bt.onDone(()=>{++it==$t&&this._onFinish()}),Bt.onDestroy(()=>{++pt==$t&&this._onDestroy()}),Bt.onStart(()=>{++Pt==$t&&this._onStart()})}),this.totalTime=this.players.reduce((Bt,Le)=>Math.max(Bt,Le.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Oe=>Oe()),this._onDoneFns=[])}init(){this.players.forEach(Oe=>Oe.init())}onStart(Oe){this._onStartFns.push(Oe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Oe=>Oe()),this._onStartFns=[])}onDone(Oe){this._onDoneFns.push(Oe)}onDestroy(Oe){this._onDestroyFns.push(Oe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Oe=>Oe.play())}pause(){this.players.forEach(Oe=>Oe.pause())}restart(){this.players.forEach(Oe=>Oe.restart())}finish(){this._onFinish(),this.players.forEach(Oe=>Oe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Oe=>Oe.destroy()),this._onDestroyFns.forEach(Oe=>Oe()),this._onDestroyFns=[])}reset(){this.players.forEach(Oe=>Oe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Oe){const it=Oe*this.totalTime;this.players.forEach(pt=>{const Pt=pt.totalTime?Math.min(1,it/pt.totalTime):1;pt.setPosition(Pt)})}getPosition(){const Oe=this.players.reduce((it,pt)=>null===it||pt.totalTime>it.totalTime?pt:it,null);return null!=Oe?Oe.getPosition():0}beforeDestroy(){this.players.forEach(Oe=>{Oe.beforeDestroy&&Oe.beforeDestroy()})}triggerCallback(Oe){const it="start"==Oe?this._onStartFns:this._onDoneFns;it.forEach(pt=>pt()),it.length=0}}const Mn="!"},177:(gn,dt,z)=>{z.d(dt,{AJ:()=>Ps,Jj:()=>os,MD:()=>qs,N0:()=>$s,QT:()=>Je,Sm:()=>ht,Sq:()=>dr,T3:()=>xi,VF:()=>re,Vy:()=>Jn,Xr:()=>sr,YU:()=>fn,ZD:()=>Ce,_b:()=>Yt,aZ:()=>Qt,bT:()=>Ar,fw:()=>Ft,hb:()=>Ct,hj:()=>je,pM:()=>dr,qQ:()=>Fe,vh:()=>Qi});var o=z(540);let se=null;function Je(){return se}function Ce(A){se||(se=A)}class re{}const Fe=new o.nKC("DocumentToken");let Ne=(()=>{class A{historyGo(F){throw new Error("Not implemented")}static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275prov=o.jDH({token:A,factory:function(){return(0,o.WQX)(Ze)},providedIn:"platform"})}}return A})();const je=new o.nKC("Location Initialized");let Ze=(()=>{class A extends Ne{constructor(){super(),this._doc=(0,o.WQX)(Fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Je().getBaseHref(this._doc)}onPopState(F){const G=Je().getGlobalEventTarget(this._doc,"window");return G.addEventListener("popstate",F,!1),()=>G.removeEventListener("popstate",F)}onHashChange(F){const G=Je().getGlobalEventTarget(this._doc,"window");return G.addEventListener("hashchange",F,!1),()=>G.removeEventListener("hashchange",F)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(F){this._location.pathname=F}pushState(F,G,Ie){this._history.pushState(F,G,Ie)}replaceState(F,G,Ie){this._history.replaceState(F,G,Ie)}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275prov=o.jDH({token:A,factory:function(){return new A},providedIn:"platform"})}}return A})();function ge(A,Z){if(0==A.length)return Z;if(0==Z.length)return A;let F=0;return A.endsWith("/")&&F++,Z.startsWith("/")&&F++,2==F?A+Z.substring(1):1==F?A+Z:A+"/"+Z}function Te(A){const Z=A.match(/#|\?|$/),F=Z&&Z.index||A.length;return A.slice(0,F-("/"===A[F-1]?1:0))+A.slice(F)}function Qe(A){return A&&"?"!==A[0]?"?"+A:A}let Ct=(()=>{class A{historyGo(F){throw new Error("Not implemented")}static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275prov=o.jDH({token:A,factory:function(){return(0,o.WQX)(ht)},providedIn:"root"})}}return A})();const bt=new o.nKC("appBaseHref");let ht=(()=>{class A extends Ct{constructor(F,G){super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=G??this._platformLocation.getBaseHrefFromDOM()??(0,o.WQX)(Fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return ge(this._baseHref,F)}path(F=!1){const G=this._platformLocation.pathname+Qe(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&F?`${G}${Ie}`:G}pushState(F,G,Ie,gt){const Rt=this.prepareExternalUrl(Ie+Qe(gt));this._platformLocation.pushState(F,G,Rt)}replaceState(F,G,Ie,gt){const Rt=this.prepareExternalUrl(Ie+Qe(gt));this._platformLocation.replaceState(F,G,Rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}static{this.\u0275fac=function(G){return new(G||A)(o.KVO(Ne),o.KVO(bt,8))}}static{this.\u0275prov=o.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})(),Ft=(()=>{class A extends Ct{constructor(F,G){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=G&&(this._baseHref=G)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let G=this._platformLocation.hash;return null==G&&(G="#"),G.length>0?G.substring(1):G}prepareExternalUrl(F){const G=ge(this._baseHref,F);return G.length>0?"#"+G:G}pushState(F,G,Ie,gt){let Rt=this.prepareExternalUrl(Ie+Qe(gt));0==Rt.length&&(Rt=this._platformLocation.pathname),this._platformLocation.pushState(F,G,Rt)}replaceState(F,G,Ie,gt){let Rt=this.prepareExternalUrl(Ie+Qe(gt));0==Rt.length&&(Rt=this._platformLocation.pathname),this._platformLocation.replaceState(F,G,Rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}static{this.\u0275fac=function(G){return new(G||A)(o.KVO(Ne),o.KVO(bt,8))}}static{this.\u0275prov=o.jDH({token:A,factory:A.\u0275fac})}}return A})(),Qt=(()=>{class A{constructor(F){this._subject=new o.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const G=this._locationStrategy.getBaseHref();this._basePath=function Oe(A){if(new RegExp("^(https?:)?//").test(A)){const[,F]=A.split(/\/\/[^\/]+/);return F}return A}(Te(nn(G))),this._locationStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,G=""){return this.path()==this.normalize(F+Qe(G))}normalize(F){return A.stripTrailingSlash(function Mn(A,Z){if(!A||!Z.startsWith(A))return Z;const F=Z.substring(A.length);return""===F||["/",";","?","#"].includes(F[0])?F:Z}(this._basePath,nn(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,G="",Ie=null){this._locationStrategy.pushState(Ie,"",F,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Qe(G)),Ie)}replaceState(F,G="",Ie=null){this._locationStrategy.replaceState(Ie,"",F,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Qe(G)),Ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){this._locationStrategy.historyGo?.(F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(G=>{this._notifyUrlChangeListeners(G.url,G.state)})),()=>{const G=this._urlChangeListeners.indexOf(F);this._urlChangeListeners.splice(G,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",G){this._urlChangeListeners.forEach(Ie=>Ie(F,G))}subscribe(F,G,Ie){return this._subject.subscribe({next:F,error:G,complete:Ie})}static{this.normalizeQueryParams=Qe}static{this.joinWithSlash=ge}static{this.stripTrailingSlash=Te}static{this.\u0275fac=function(G){return new(G||A)(o.KVO(Ct))}}static{this.\u0275prov=o.jDH({token:A,factory:function(){return function on(){return new Qt((0,o.KVO)(Ct))}()},providedIn:"root"})}}return A})();function nn(A){return A.replace(/\/index.html$/,"")}var $t=function(A){return A[A.Format=0]="Format",A[A.Standalone=1]="Standalone",A}($t||{}),Bt=function(A){return A[A.Narrow=0]="Narrow",A[A.Abbreviated=1]="Abbreviated",A[A.Wide=2]="Wide",A[A.Short=3]="Short",A}(Bt||{}),Le=function(A){return A[A.Short=0]="Short",A[A.Medium=1]="Medium",A[A.Long=2]="Long",A[A.Full=3]="Full",A}(Le||{}),Jt=function(A){return A[A.Decimal=0]="Decimal",A[A.Group=1]="Group",A[A.List=2]="List",A[A.PercentSign=3]="PercentSign",A[A.PlusSign=4]="PlusSign",A[A.MinusSign=5]="MinusSign",A[A.Exponential=6]="Exponential",A[A.SuperscriptingExponent=7]="SuperscriptingExponent",A[A.PerMille=8]="PerMille",A[A.Infinity=9]="Infinity",A[A.NaN=10]="NaN",A[A.TimeSeparator=11]="TimeSeparator",A[A.CurrencyDecimal=12]="CurrencyDecimal",A[A.CurrencyGroup=13]="CurrencyGroup",A}(Jt||{});function Nt(A,Z){return wn((0,o.H5H)(A)[o.KH2.DateFormat],Z)}function ke(A,Z){return wn((0,o.H5H)(A)[o.KH2.TimeFormat],Z)}function _e(A,Z){return wn((0,o.H5H)(A)[o.KH2.DateTimeFormat],Z)}function me(A,Z){const F=(0,o.H5H)(A),G=F[o.KH2.NumberSymbols][Z];if(typeof G>"u"){if(Z===Jt.CurrencyDecimal)return F[o.KH2.NumberSymbols][Jt.Decimal];if(Z===Jt.CurrencyGroup)return F[o.KH2.NumberSymbols][Jt.Group]}return G}function dn(A){if(!A[o.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${A[o.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wn(A,Z){for(let F=Z;F>-1;F--)if(typeof A[F]<"u")return A[F];throw new Error("Locale data API: locale data undefined")}function Dn(A){const[Z,F]=A.split(":");return{hours:+Z,minutes:+F}}const vi=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ir={},At=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var di=function(A){return A[A.Short=0]="Short",A[A.ShortGMT=1]="ShortGMT",A[A.Long=2]="Long",A[A.Extended=3]="Extended",A}(di||{}),Qn=function(A){return A[A.FullYear=0]="FullYear",A[A.Month=1]="Month",A[A.Date=2]="Date",A[A.Hours=3]="Hours",A[A.Minutes=4]="Minutes",A[A.Seconds=5]="Seconds",A[A.FractionalSeconds=6]="FractionalSeconds",A[A.Day=7]="Day",A}(Qn||{}),yn=function(A){return A[A.DayPeriods=0]="DayPeriods",A[A.Days=1]="Days",A[A.Months=2]="Months",A[A.Eras=3]="Eras",A}(yn||{});function Wi(A,Z,F,G){let Ie=function ft(A){if(j(A))return A;if("number"==typeof A&&!isNaN(A))return new Date(A);if("string"==typeof A){if(A=A.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(A)){const[Ie,gt=1,Rt=1]=A.split("-").map(On=>+On);return Dr(Ie,gt-1,Rt)}const F=parseFloat(A);if(!isNaN(A-F))return new Date(F);let G;if(G=A.match(vi))return function ee(A){const Z=new Date(0);let F=0,G=0;const Ie=A[8]?Z.setUTCFullYear:Z.setFullYear,gt=A[8]?Z.setUTCHours:Z.setHours;A[9]&&(F=Number(A[9]+A[10]),G=Number(A[9]+A[11])),Ie.call(Z,Number(A[1]),Number(A[2])-1,Number(A[3]));const Rt=Number(A[4]||0)-F,On=Number(A[5]||0)-G,Hr=Number(A[6]||0),pi=Math.floor(1e3*parseFloat("0."+(A[7]||0)));return gt.call(Z,Rt,On,Hr,pi),Z}(G)}const Z=new Date(A);if(!j(Z))throw new Error(`Unable to convert "${A}" into a date`);return Z}(A);Z=fr(F,Z)||Z;let On,Rt=[];for(;Z;){if(On=At.exec(Z),!On){Rt.push(Z);break}{Rt=Rt.concat(On.slice(1));const kr=Rt.pop();if(!kr)break;Z=kr}}let Hr=Ie.getTimezoneOffset();G&&(Hr=oi(G,Hr),Ie=function ai(A,Z,F){const G=F?-1:1,Ie=A.getTimezoneOffset();return function bi(A,Z){return(A=new Date(A.getTime())).setMinutes(A.getMinutes()+Z),A}(A,G*(oi(Z,Ie)-Ie))}(Ie,G,!0));let pi="";return Rt.forEach(kr=>{const lr=function Zn(A){if(kn[A])return kn[A];let Z;switch(A){case"G":case"GG":case"GGG":Z=cn(yn.Eras,Bt.Abbreviated);break;case"GGGG":Z=cn(yn.Eras,Bt.Wide);break;case"GGGGG":Z=cn(yn.Eras,Bt.Narrow);break;case"y":Z=jn(Qn.FullYear,1,0,!1,!0);break;case"yy":Z=jn(Qn.FullYear,2,0,!0,!0);break;case"yyy":Z=jn(Qn.FullYear,3,0,!1,!0);break;case"yyyy":Z=jn(Qn.FullYear,4,0,!1,!0);break;case"Y":Z=Ci(1);break;case"YY":Z=Ci(2,!0);break;case"YYY":Z=Ci(3);break;case"YYYY":Z=Ci(4);break;case"M":case"L":Z=jn(Qn.Month,1,1);break;case"MM":case"LL":Z=jn(Qn.Month,2,1);break;case"MMM":Z=cn(yn.Months,Bt.Abbreviated);break;case"MMMM":Z=cn(yn.Months,Bt.Wide);break;case"MMMMM":Z=cn(yn.Months,Bt.Narrow);break;case"LLL":Z=cn(yn.Months,Bt.Abbreviated,$t.Standalone);break;case"LLLL":Z=cn(yn.Months,Bt.Wide,$t.Standalone);break;case"LLLLL":Z=cn(yn.Months,Bt.Narrow,$t.Standalone);break;case"w":Z=Ji(1);break;case"ww":Z=Ji(2);break;case"W":Z=Ji(1,!0);break;case"d":Z=jn(Qn.Date,1);break;case"dd":Z=jn(Qn.Date,2);break;case"c":case"cc":Z=jn(Qn.Day,1);break;case"ccc":Z=cn(yn.Days,Bt.Abbreviated,$t.Standalone);break;case"cccc":Z=cn(yn.Days,Bt.Wide,$t.Standalone);break;case"ccccc":Z=cn(yn.Days,Bt.Narrow,$t.Standalone);break;case"cccccc":Z=cn(yn.Days,Bt.Short,$t.Standalone);break;case"E":case"EE":case"EEE":Z=cn(yn.Days,Bt.Abbreviated);break;case"EEEE":Z=cn(yn.Days,Bt.Wide);break;case"EEEEE":Z=cn(yn.Days,Bt.Narrow);break;case"EEEEEE":Z=cn(yn.Days,Bt.Short);break;case"a":case"aa":case"aaa":Z=cn(yn.DayPeriods,Bt.Abbreviated);break;case"aaaa":Z=cn(yn.DayPeriods,Bt.Wide);break;case"aaaaa":Z=cn(yn.DayPeriods,Bt.Narrow);break;case"b":case"bb":case"bbb":Z=cn(yn.DayPeriods,Bt.Abbreviated,$t.Standalone,!0);break;case"bbbb":Z=cn(yn.DayPeriods,Bt.Wide,$t.Standalone,!0);break;case"bbbbb":Z=cn(yn.DayPeriods,Bt.Narrow,$t.Standalone,!0);break;case"B":case"BB":case"BBB":Z=cn(yn.DayPeriods,Bt.Abbreviated,$t.Format,!0);break;case"BBBB":Z=cn(yn.DayPeriods,Bt.Wide,$t.Format,!0);break;case"BBBBB":Z=cn(yn.DayPeriods,Bt.Narrow,$t.Format,!0);break;case"h":Z=jn(Qn.Hours,1,-12);break;case"hh":Z=jn(Qn.Hours,2,-12);break;case"H":Z=jn(Qn.Hours,1);break;case"HH":Z=jn(Qn.Hours,2);break;case"m":Z=jn(Qn.Minutes,1);break;case"mm":Z=jn(Qn.Minutes,2);break;case"s":Z=jn(Qn.Seconds,1);break;case"ss":Z=jn(Qn.Seconds,2);break;case"S":Z=jn(Qn.FractionalSeconds,1);break;case"SS":Z=jn(Qn.FractionalSeconds,2);break;case"SSS":Z=jn(Qn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Z=ti(di.Short);break;case"ZZZZZ":Z=ti(di.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Z=ti(di.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Z=ti(di.Long);break;default:return null}return kn[A]=Z,Z}(kr);pi+=lr?lr(Ie,F,Hr):"''"===kr?"'":kr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),pi}function Dr(A,Z,F){const G=new Date(0);return G.setFullYear(A,Z,F),G.setHours(0,0,0),G}function fr(A,Z){const F=function mr(A){return(0,o.H5H)(A)[o.KH2.LocaleId]}(A);if(ir[F]=ir[F]||{},ir[F][Z])return ir[F][Z];let G="";switch(Z){case"shortDate":G=Nt(A,Le.Short);break;case"mediumDate":G=Nt(A,Le.Medium);break;case"longDate":G=Nt(A,Le.Long);break;case"fullDate":G=Nt(A,Le.Full);break;case"shortTime":G=ke(A,Le.Short);break;case"mediumTime":G=ke(A,Le.Medium);break;case"longTime":G=ke(A,Le.Long);break;case"fullTime":G=ke(A,Le.Full);break;case"short":const Ie=fr(A,"shortTime"),gt=fr(A,"shortDate");G=Er(_e(A,Le.Short),[Ie,gt]);break;case"medium":const Rt=fr(A,"mediumTime"),On=fr(A,"mediumDate");G=Er(_e(A,Le.Medium),[Rt,On]);break;case"long":const Hr=fr(A,"longTime"),pi=fr(A,"longDate");G=Er(_e(A,Le.Long),[Hr,pi]);break;case"full":const kr=fr(A,"fullTime"),lr=fr(A,"fullDate");G=Er(_e(A,Le.Full),[kr,lr])}return G&&(ir[F][Z]=G),G}function Er(A,Z){return Z&&(A=A.replace(/\{([^}]+)}/g,function(F,G){return null!=Z&&G in Z?Z[G]:F})),A}function Sr(A,Z,F="-",G,Ie){let gt="";(A<0||Ie&&A<=0)&&(Ie?A=1-A:(A=-A,gt=F));let Rt=String(A);for(;Rt.length<Z;)Rt="0"+Rt;return G&&(Rt=Rt.slice(Rt.length-Z)),gt+Rt}function jn(A,Z,F=0,G=!1,Ie=!1){return function(gt,Rt){let On=function ss(A,Z){switch(A){case Qn.FullYear:return Z.getFullYear();case Qn.Month:return Z.getMonth();case Qn.Date:return Z.getDate();case Qn.Hours:return Z.getHours();case Qn.Minutes:return Z.getMinutes();case Qn.Seconds:return Z.getSeconds();case Qn.FractionalSeconds:return Z.getMilliseconds();case Qn.Day:return Z.getDay();default:throw new Error(`Unknown DateType value "${A}".`)}}(A,gt);if((F>0||On>-F)&&(On+=F),A===Qn.Hours)0===On&&-12===F&&(On=12);else if(A===Qn.FractionalSeconds)return function Ki(A,Z){return Sr(A,3).substring(0,Z)}(On,Z);const Hr=me(Rt,Jt.MinusSign);return Sr(On,Z,Hr,G,Ie)}}function cn(A,Z,F=$t.Format,G=!1){return function(Ie,gt){return function Ri(A,Z,F,G,Ie,gt){switch(F){case yn.Months:return function qt(A,Z,F){const G=(0,o.H5H)(A),gt=wn([G[o.KH2.MonthsFormat],G[o.KH2.MonthsStandalone]],Z);return wn(gt,F)}(Z,Ie,G)[A.getMonth()];case yn.Days:return function Re(A,Z,F){const G=(0,o.H5H)(A),gt=wn([G[o.KH2.DaysFormat],G[o.KH2.DaysStandalone]],Z);return wn(gt,F)}(Z,Ie,G)[A.getDay()];case yn.DayPeriods:const Rt=A.getHours(),On=A.getMinutes();if(gt){const pi=function Gn(A){const Z=(0,o.H5H)(A);return dn(Z),(Z[o.KH2.ExtraData][2]||[]).map(G=>"string"==typeof G?Dn(G):[Dn(G[0]),Dn(G[1])])}(Z),kr=function jt(A,Z,F){const G=(0,o.H5H)(A);dn(G);const gt=wn([G[o.KH2.ExtraData][0],G[o.KH2.ExtraData][1]],Z)||[];return wn(gt,F)||[]}(Z,Ie,G),lr=pi.findIndex(Tr=>{if(Array.isArray(Tr)){const[si,Xi]=Tr,lo=Rt>=si.hours&&On>=si.minutes,Yi=Rt<Xi.hours||Rt===Xi.hours&&On<Xi.minutes;if(si.hours<Xi.hours){if(lo&&Yi)return!0}else if(lo||Yi)return!0}else if(Tr.hours===Rt&&Tr.minutes===On)return!0;return!1});if(-1!==lr)return kr[lr]}return function qe(A,Z,F){const G=(0,o.H5H)(A),gt=wn([G[o.KH2.DayPeriodsFormat],G[o.KH2.DayPeriodsStandalone]],Z);return wn(gt,F)}(Z,Ie,G)[Rt<12?0:1];case yn.Eras:return function N(A,Z){return wn((0,o.H5H)(A)[o.KH2.Eras],Z)}(Z,G)[A.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${F}`)}}(Ie,gt,A,Z,F,G)}}function ti(A){return function(Z,F,G){const Ie=-1*G,gt=me(F,Jt.MinusSign),Rt=Ie>0?Math.floor(Ie/60):Math.ceil(Ie/60);switch(A){case di.Short:return(Ie>=0?"+":"")+Sr(Rt,2,gt)+Sr(Math.abs(Ie%60),2,gt);case di.ShortGMT:return"GMT"+(Ie>=0?"+":"")+Sr(Rt,1,gt);case di.Long:return"GMT"+(Ie>=0?"+":"")+Sr(Rt,2,gt)+":"+Sr(Math.abs(Ie%60),2,gt);case di.Extended:return 0===G?"Z":(Ie>=0?"+":"")+Sr(Rt,2,gt)+":"+Sr(Math.abs(Ie%60),2,gt);default:throw new Error(`Unknown zone width "${A}"`)}}}const br=0,ze=4;function Pn(A){return Dr(A.getFullYear(),A.getMonth(),A.getDate()+(ze-A.getDay()))}function Ji(A,Z=!1){return function(F,G){let Ie;if(Z){const gt=new Date(F.getFullYear(),F.getMonth(),1).getDay()-1,Rt=F.getDate();Ie=1+Math.floor((Rt+gt)/7)}else{const gt=Pn(F),Rt=function hn(A){const Z=Dr(A,br,1).getDay();return Dr(A,0,1+(Z<=ze?ze:ze+7)-Z)}(gt.getFullYear()),On=gt.getTime()-Rt.getTime();Ie=1+Math.round(On/6048e5)}return Sr(Ie,A,me(G,Jt.MinusSign))}}function Ci(A,Z=!1){return function(F,G){return Sr(Pn(F).getFullYear(),A,me(G,Jt.MinusSign),Z)}}const kn={};function oi(A,Z){A=A.replace(/:/g,"");const F=Date.parse("Jan 01, 1970 00:00:00 "+A)/6e4;return isNaN(F)?Z:F}function j(A){return A instanceof Date&&!isNaN(A.valueOf())}function Yt(A,Z){Z=encodeURIComponent(Z);for(const F of A.split(";")){const G=F.indexOf("="),[Ie,gt]=-1==G?[F,""]:[F.slice(0,G),F.slice(G+1)];if(Ie.trim()===Z)return decodeURIComponent(gt)}return null}const En=/\s+/,Zt=[];let fn=(()=>{class A{constructor(F,G,Ie,gt){this._iterableDiffers=F,this._keyValueDiffers=G,this._ngEl=Ie,this._renderer=gt,this.initialClasses=Zt,this.stateMap=new Map}set klass(F){this.initialClasses=null!=F?F.trim().split(En):Zt}set ngClass(F){this.rawClass="string"==typeof F?F.trim().split(En):F}ngDoCheck(){for(const G of this.initialClasses)this._updateState(G,!0);const F=this.rawClass;if(Array.isArray(F)||F instanceof Set)for(const G of F)this._updateState(G,!0);else if(null!=F)for(const G of Object.keys(F))this._updateState(G,!!F[G]);this._applyStateDiff()}_updateState(F,G){const Ie=this.stateMap.get(F);void 0!==Ie?(Ie.enabled!==G&&(Ie.changed=!0,Ie.enabled=G),Ie.touched=!0):this.stateMap.set(F,{enabled:G,changed:!0,touched:!0})}_applyStateDiff(){for(const F of this.stateMap){const G=F[0],Ie=F[1];Ie.changed?(this._toggleClass(G,Ie.enabled),Ie.changed=!1):Ie.touched||(Ie.enabled&&this._toggleClass(G,!1),this.stateMap.delete(G)),Ie.touched=!1}}_toggleClass(F,G){(F=F.trim()).length>0&&F.split(En).forEach(Ie=>{G?this._renderer.addClass(this._ngEl.nativeElement,Ie):this._renderer.removeClass(this._ngEl.nativeElement,Ie)})}static{this.\u0275fac=function(G){return new(G||A)(o.rXU(o._q3),o.rXU(o.MKu),o.rXU(o.aKT),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return A})();class In{constructor(Z,F,G,Ie){this.$implicit=Z,this.ngForOf=F,this.index=G,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dr=(()=>{class A{set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}constructor(F,G,Ie){this._viewContainer=F,this._template=G,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const G=this._viewContainer;F.forEachOperation((Ie,gt,Rt)=>{if(null==Ie.previousIndex)G.createEmbeddedView(this._template,new In(Ie.item,this._ngForOf,-1,-1),null===Rt?void 0:Rt);else if(null==Rt)G.remove(null===gt?void 0:gt);else if(null!==gt){const On=G.get(gt);G.move(On,Rt),qi(On,Ie)}});for(let Ie=0,gt=G.length;Ie<gt;Ie++){const On=G.get(Ie).context;On.index=Ie,On.count=gt,On.ngForOf=this._ngForOf}F.forEachIdentityChange(Ie=>{qi(G.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(F,G){return!0}static{this.\u0275fac=function(G){return new(G||A)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(o._q3))}}static{this.\u0275dir=o.FsC({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return A})();function qi(A,Z){A.context.$implicit=Z.item}let Ar=(()=>{class A{constructor(F,G){this._viewContainer=F,this._context=new en,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=G}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){Dt("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){Dt("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,G){return!0}static{this.\u0275fac=function(G){return new(G||A)(o.rXU(o.c1b),o.rXU(o.C4Q))}}static{this.\u0275dir=o.FsC({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return A})();class en{constructor(){this.$implicit=null,this.ngIf=null}}function Dt(A,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,o.Tbb)(Z)}'.`)}let xi=(()=>{class A{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(F){if(F.ngTemplateOutlet||F.ngTemplateOutletInjector){const G=this._viewContainerRef;if(this._viewRef&&G.remove(G.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ie,ngTemplateOutletContext:gt,ngTemplateOutletInjector:Rt}=this;this._viewRef=G.createEmbeddedView(Ie,gt,Rt?{injector:Rt}:void 0)}else this._viewRef=null}else this._viewRef&&F.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(G){return new(G||A)(o.rXU(o.c1b))}}static{this.\u0275dir=o.FsC({type:A,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.OA$]})}}return A})();function Ir(A,Z){return new o.wOt(2100,!1)}class Us{createSubscription(Z,F){return(0,o.O8t)(()=>Z.subscribe({next:F,error:G=>{throw G}}))}dispose(Z){(0,o.O8t)(()=>Z.unsubscribe())}}class Li{createSubscription(Z,F){return Z.then(F,G=>{throw G})}dispose(Z){}}const ri=new Li,Rs=new Us;let os=(()=>{class A{constructor(F){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=F}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,G=>this._updateLatestValue(F,G))}_selectStrategy(F){if((0,o.jNT)(F))return ri;if((0,o.zjR)(F))return Rs;throw Ir()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,G){F===this._obj&&(this._latestValue=G,this._ref.markForCheck())}static{this.\u0275fac=function(G){return new(G||A)(o.rXU(o.gRc,16))}}static{this.\u0275pipe=o.EJ8({name:"async",type:A,pure:!1,standalone:!0})}}return A})();const Jo=new o.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),Es=new o.nKC("DATE_PIPE_DEFAULT_OPTIONS");let Qi=(()=>{class A{constructor(F,G,Ie){this.locale=F,this.defaultTimezone=G,this.defaultOptions=Ie}transform(F,G,Ie,gt){if(null==F||""===F||F!=F)return null;try{return Wi(F,G??this.defaultOptions?.dateFormat??"mediumDate",gt||this.locale,Ie??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Rt){throw Ir()}}static{this.\u0275fac=function(G){return new(G||A)(o.rXU(o.xe9,16),o.rXU(Jo,24),o.rXU(Es,24))}}static{this.\u0275pipe=o.EJ8({name:"date",type:A,pure:!0,standalone:!0})}}return A})(),qs=(()=>{class A{static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275mod=o.$C({type:A})}static{this.\u0275inj=o.G2t({})}}return A})();const Ps="browser",Ms="server";function Jn(A){return A===Ms}let sr=(()=>{class A{static{this.\u0275prov=(0,o.jDH)({token:A,providedIn:"root",factory:()=>new ls((0,o.KVO)(Fe),window)})}}return A})();class ls{constructor(Z,F){this.document=Z,this.window=F,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const F=function qn(A,Z){const F=A.getElementById(Z)||A.getElementsByName(Z)[0];if(F)return F;if("function"==typeof A.createTreeWalker&&A.body&&"function"==typeof A.body.attachShadow){const G=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let Ie=G.currentNode;for(;Ie;){const gt=Ie.shadowRoot;if(gt){const Rt=gt.getElementById(Z)||gt.querySelector(`[name="${Z}"]`);if(Rt)return Rt}Ie=G.nextNode()}}return null}(this.document,Z);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(Z){this.supportsScrolling()&&(this.window.history.scrollRestoration=Z)}scrollToElement(Z){const F=Z.getBoundingClientRect(),G=F.left+this.window.pageXOffset,Ie=F.top+this.window.pageYOffset,gt=this.offset();this.window.scrollTo(G-gt[0],Ie-gt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class $s{}},1626:(gn,dt,z)=>{z.d(dt,{$R:()=>Ji,Qq:()=>ue,Sx:()=>Zn,q1:()=>Y});var o=z(540),se=z(7673),Je=z(8455),Ce=z(1985),re=z(274),Fe=z(5964),Ne=z(6354),je=z(980),Ze=z(5558),ge=z(177);class Te{}class Qe{}class Ct{constructor(be){this.normalizedNames=new Map,this.lazyUpdate=null,be?"string"==typeof be?this.lazyInit=()=>{this.headers=new Map,be.split("\n").forEach(Se=>{const Tt=Se.indexOf(":");if(Tt>0){const Gt=Se.slice(0,Tt),un=Gt.toLowerCase(),zt=Se.slice(Tt+1).trim();this.maybeSetNormalizedName(Gt,un),this.headers.has(un)?this.headers.get(un).push(zt):this.headers.set(un,[zt])}})}:typeof Headers<"u"&&be instanceof Headers?(this.headers=new Map,be.forEach((Se,Tt)=>{this.setHeaderEntries(Tt,Se)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(be).forEach(([Se,Tt])=>{this.setHeaderEntries(Se,Tt)})}:this.headers=new Map}has(be){return this.init(),this.headers.has(be.toLowerCase())}get(be){this.init();const Se=this.headers.get(be.toLowerCase());return Se&&Se.length>0?Se[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(be){return this.init(),this.headers.get(be.toLowerCase())||null}append(be,Se){return this.clone({name:be,value:Se,op:"a"})}set(be,Se){return this.clone({name:be,value:Se,op:"s"})}delete(be,Se){return this.clone({name:be,value:Se,op:"d"})}maybeSetNormalizedName(be,Se){this.normalizedNames.has(Se)||this.normalizedNames.set(Se,be)}init(){this.lazyInit&&(this.lazyInit instanceof Ct?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(be=>this.applyUpdate(be)),this.lazyUpdate=null))}copyFrom(be){be.init(),Array.from(be.headers.keys()).forEach(Se=>{this.headers.set(Se,be.headers.get(Se)),this.normalizedNames.set(Se,be.normalizedNames.get(Se))})}clone(be){const Se=new Ct;return Se.lazyInit=this.lazyInit&&this.lazyInit instanceof Ct?this.lazyInit:this,Se.lazyUpdate=(this.lazyUpdate||[]).concat([be]),Se}applyUpdate(be){const Se=be.name.toLowerCase();switch(be.op){case"a":case"s":let Tt=be.value;if("string"==typeof Tt&&(Tt=[Tt]),0===Tt.length)return;this.maybeSetNormalizedName(be.name,Se);const Gt=("a"===be.op?this.headers.get(Se):void 0)||[];Gt.push(...Tt),this.headers.set(Se,Gt);break;case"d":const un=be.value;if(un){let zt=this.headers.get(Se);if(!zt)return;zt=zt.filter(wr=>-1===un.indexOf(wr)),0===zt.length?(this.headers.delete(Se),this.normalizedNames.delete(Se)):this.headers.set(Se,zt)}else this.headers.delete(Se),this.normalizedNames.delete(Se)}}setHeaderEntries(be,Se){const Tt=(Array.isArray(Se)?Se:[Se]).map(un=>un.toString()),Gt=be.toLowerCase();this.headers.set(Gt,Tt),this.maybeSetNormalizedName(be,Gt)}forEach(be){this.init(),Array.from(this.normalizedNames.keys()).forEach(Se=>be(this.normalizedNames.get(Se),this.headers.get(Se)))}}class ht{encodeKey(be){return Mn(be)}encodeValue(be){return Mn(be)}decodeKey(be){return decodeURIComponent(be)}decodeValue(be){return decodeURIComponent(be)}}const Qt=/%(\d[a-f0-9])/gi,on={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Mn(Ue){return encodeURIComponent(Ue).replace(Qt,(be,Se)=>on[Se]??be)}function nn(Ue){return`${Ue}`}class Oe{constructor(be={}){if(this.updates=null,this.cloneFrom=null,this.encoder=be.encoder||new ht,be.fromString){if(be.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ft(Ue,be){const Se=new Map;return Ue.length>0&&Ue.replace(/^\?/,"").split("&").forEach(Gt=>{const un=Gt.indexOf("="),[zt,wr]=-1==un?[be.decodeKey(Gt),""]:[be.decodeKey(Gt.slice(0,un)),be.decodeValue(Gt.slice(un+1))],an=Se.get(zt)||[];an.push(wr),Se.set(zt,an)}),Se}(be.fromString,this.encoder)}else be.fromObject?(this.map=new Map,Object.keys(be.fromObject).forEach(Se=>{const Tt=be.fromObject[Se],Gt=Array.isArray(Tt)?Tt.map(nn):[nn(Tt)];this.map.set(Se,Gt)})):this.map=null}has(be){return this.init(),this.map.has(be)}get(be){this.init();const Se=this.map.get(be);return Se?Se[0]:null}getAll(be){return this.init(),this.map.get(be)||null}keys(){return this.init(),Array.from(this.map.keys())}append(be,Se){return this.clone({param:be,value:Se,op:"a"})}appendAll(be){const Se=[];return Object.keys(be).forEach(Tt=>{const Gt=be[Tt];Array.isArray(Gt)?Gt.forEach(un=>{Se.push({param:Tt,value:un,op:"a"})}):Se.push({param:Tt,value:Gt,op:"a"})}),this.clone(Se)}set(be,Se){return this.clone({param:be,value:Se,op:"s"})}delete(be,Se){return this.clone({param:be,value:Se,op:"d"})}toString(){return this.init(),this.keys().map(be=>{const Se=this.encoder.encodeKey(be);return this.map.get(be).map(Tt=>Se+"="+this.encoder.encodeValue(Tt)).join("&")}).filter(be=>""!==be).join("&")}clone(be){const Se=new Oe({encoder:this.encoder});return Se.cloneFrom=this.cloneFrom||this,Se.updates=(this.updates||[]).concat(be),Se}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(be=>this.map.set(be,this.cloneFrom.map.get(be))),this.updates.forEach(be=>{switch(be.op){case"a":case"s":const Se=("a"===be.op?this.map.get(be.param):void 0)||[];Se.push(nn(be.value)),this.map.set(be.param,Se);break;case"d":if(void 0===be.value){this.map.delete(be.param);break}{let Tt=this.map.get(be.param)||[];const Gt=Tt.indexOf(nn(be.value));-1!==Gt&&Tt.splice(Gt,1),Tt.length>0?this.map.set(be.param,Tt):this.map.delete(be.param)}}}),this.cloneFrom=this.updates=null)}}class pt{constructor(){this.map=new Map}set(be,Se){return this.map.set(be,Se),this}get(be){return this.map.has(be)||this.map.set(be,be.defaultValue()),this.map.get(be)}delete(be){return this.map.delete(be),this}has(be){return this.map.has(be)}keys(){return this.map.keys()}}function $t(Ue){return typeof ArrayBuffer<"u"&&Ue instanceof ArrayBuffer}function Bt(Ue){return typeof Blob<"u"&&Ue instanceof Blob}function Le(Ue){return typeof FormData<"u"&&Ue instanceof FormData}class Kn{constructor(be,Se,Tt,Gt){let un;if(this.url=Se,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=be.toUpperCase(),function Pt(Ue){switch(Ue){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Gt?(this.body=void 0!==Tt?Tt:null,un=Gt):un=Tt,un&&(this.reportProgress=!!un.reportProgress,this.withCredentials=!!un.withCredentials,un.responseType&&(this.responseType=un.responseType),un.headers&&(this.headers=un.headers),un.context&&(this.context=un.context),un.params&&(this.params=un.params)),this.headers||(this.headers=new Ct),this.context||(this.context=new pt),this.params){const zt=this.params.toString();if(0===zt.length)this.urlWithParams=Se;else{const wr=Se.indexOf("?");this.urlWithParams=Se+(-1===wr?"?":wr<Se.length-1?"&":"")+zt}}else this.params=new Oe,this.urlWithParams=Se}serializeBody(){return null===this.body?null:$t(this.body)||Bt(this.body)||Le(this.body)||function Jt(Ue){return typeof URLSearchParams<"u"&&Ue instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Oe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Le(this.body)?null:Bt(this.body)?this.body.type||null:$t(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Oe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(be={}){const Se=be.method||this.method,Tt=be.url||this.url,Gt=be.responseType||this.responseType,un=void 0!==be.body?be.body:this.body,zt=void 0!==be.withCredentials?be.withCredentials:this.withCredentials,wr=void 0!==be.reportProgress?be.reportProgress:this.reportProgress;let an=be.headers||this.headers,ui=be.params||this.params;const tt=be.context??this.context;return void 0!==be.setHeaders&&(an=Object.keys(be.setHeaders).reduce((We,vt)=>We.set(vt,be.setHeaders[vt]),an)),be.setParams&&(ui=Object.keys(be.setParams).reduce((We,vt)=>We.set(vt,be.setParams[vt]),ui)),new Kn(Se,Tt,un,{params:ui,headers:an,context:tt,reportProgress:wr,responseType:Gt,withCredentials:zt})}}var mr=function(Ue){return Ue[Ue.Sent=0]="Sent",Ue[Ue.UploadProgress=1]="UploadProgress",Ue[Ue.ResponseHeader=2]="ResponseHeader",Ue[Ue.DownloadProgress=3]="DownloadProgress",Ue[Ue.Response=4]="Response",Ue[Ue.User=5]="User",Ue}(mr||{});class qe{constructor(be,Se=200,Tt="OK"){this.headers=be.headers||new Ct,this.status=void 0!==be.status?be.status:Se,this.statusText=be.statusText||Tt,this.url=be.url||null,this.ok=this.status>=200&&this.status<300}}class Re extends qe{constructor(be={}){super(be),this.type=mr.ResponseHeader}clone(be={}){return new Re({headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class qt extends qe{constructor(be={}){super(be),this.type=mr.Response,this.body=void 0!==be.body?be.body:null}clone(be={}){return new qt({body:void 0!==be.body?be.body:this.body,headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class N extends qe{constructor(be){super(be,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${be.url||"(unknown url)"}`:`Http failure response for ${be.url||"(unknown url)"}: ${be.status} ${be.statusText}`,this.error=be.error||null}}function X(Ue,be){return{body:be,headers:Ue.headers,context:Ue.context,observe:Ue.observe,params:Ue.params,reportProgress:Ue.reportProgress,responseType:Ue.responseType,withCredentials:Ue.withCredentials}}let ue=(()=>{class Ue{constructor(Se){this.handler=Se}request(Se,Tt,Gt={}){let un;if(Se instanceof Kn)un=Se;else{let an,ui;an=Gt.headers instanceof Ct?Gt.headers:new Ct(Gt.headers),Gt.params&&(ui=Gt.params instanceof Oe?Gt.params:new Oe({fromObject:Gt.params})),un=new Kn(Se,Tt,void 0!==Gt.body?Gt.body:null,{headers:an,context:Gt.context,params:ui,reportProgress:Gt.reportProgress,responseType:Gt.responseType||"json",withCredentials:Gt.withCredentials})}const zt=(0,se.of)(un).pipe((0,re.H)(an=>this.handler.handle(an)));if(Se instanceof Kn||"events"===Gt.observe)return zt;const wr=zt.pipe((0,Fe.p)(an=>an instanceof qt));switch(Gt.observe||"body"){case"body":switch(un.responseType){case"arraybuffer":return wr.pipe((0,Ne.T)(an=>{if(null!==an.body&&!(an.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return an.body}));case"blob":return wr.pipe((0,Ne.T)(an=>{if(null!==an.body&&!(an.body instanceof Blob))throw new Error("Response is not a Blob.");return an.body}));case"text":return wr.pipe((0,Ne.T)(an=>{if(null!==an.body&&"string"!=typeof an.body)throw new Error("Response is not a string.");return an.body}));default:return wr.pipe((0,Ne.T)(an=>an.body))}case"response":return wr;default:throw new Error(`Unreachable: unhandled observe type ${Gt.observe}}`)}}delete(Se,Tt={}){return this.request("DELETE",Se,Tt)}get(Se,Tt={}){return this.request("GET",Se,Tt)}head(Se,Tt={}){return this.request("HEAD",Se,Tt)}jsonp(Se,Tt){return this.request("JSONP",Se,{params:(new Oe).append(Tt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Se,Tt={}){return this.request("OPTIONS",Se,Tt)}patch(Se,Tt,Gt={}){return this.request("PATCH",Se,X(Gt,Tt))}post(Se,Tt,Gt={}){return this.request("POST",Se,X(Gt,Tt))}put(Se,Tt,Gt={}){return this.request("PUT",Se,X(Gt,Tt))}static{this.\u0275fac=function(Tt){return new(Tt||Ue)(o.KVO(Te))}}static{this.\u0275prov=o.jDH({token:Ue,factory:Ue.\u0275fac})}}return Ue})();function st(Ue,be){return be(Ue)}function Mt(Ue,be){return(Se,Tt)=>be.intercept(Se,{handle:Gt=>Ue(Gt,Tt)})}const dn=new o.nKC(""),Gn=new o.nKC(""),jt=new o.nKC("");function Nr(){let Ue=null;return(be,Se)=>{null===Ue&&(Ue=((0,o.WQX)(dn,{optional:!0})??[]).reduceRight(Mt,st));const Tt=(0,o.WQX)(o.$K3),Gt=Tt.add();return Ue(be,Se).pipe((0,je.j)(()=>Tt.remove(Gt)))}}let wn=(()=>{class Ue extends Te{constructor(Se,Tt){super(),this.backend=Se,this.injector=Tt,this.chain=null,this.pendingTasks=(0,o.WQX)(o.$K3)}handle(Se){if(null===this.chain){const Gt=Array.from(new Set([...this.injector.get(Gn),...this.injector.get(jt,[])]));this.chain=Gt.reduceRight((un,zt)=>function Ln(Ue,be,Se){return(Tt,Gt)=>Se.runInContext(()=>be(Tt,un=>Ue(un,Gt)))}(un,zt,this.injector),st)}const Tt=this.pendingTasks.add();return this.chain(Se,Gt=>this.backend.handle(Gt)).pipe((0,je.j)(()=>this.pendingTasks.remove(Tt)))}static{this.\u0275fac=function(Tt){return new(Tt||Ue)(o.KVO(Qe),o.KVO(o.uvJ))}}static{this.\u0275prov=o.jDH({token:Ue,factory:Ue.\u0275fac})}}return Ue})();const Dr=/^\)\]\}',?\n/;let Er=(()=>{class Ue{constructor(Se){this.xhrFactory=Se}handle(Se){if("JSONP"===Se.method)throw new o.wOt(-2800,!1);const Tt=this.xhrFactory;return(Tt.\u0275loadImpl?(0,Je.H)(Tt.\u0275loadImpl()):(0,se.of)(null)).pipe((0,Ze.n)(()=>new Ce.c(un=>{const zt=Tt.build();if(zt.open(Se.method,Se.urlWithParams),Se.withCredentials&&(zt.withCredentials=!0),Se.headers.forEach((Zt,fn)=>zt.setRequestHeader(Zt,fn.join(","))),Se.headers.has("Accept")||zt.setRequestHeader("Accept","application/json, text/plain, */*"),!Se.headers.has("Content-Type")){const Zt=Se.detectContentTypeHeader();null!==Zt&&zt.setRequestHeader("Content-Type",Zt)}if(Se.responseType){const Zt=Se.responseType.toLowerCase();zt.responseType="json"!==Zt?Zt:"text"}const wr=Se.serializeBody();let an=null;const ui=()=>{if(null!==an)return an;const Zt=zt.statusText||"OK",fn=new Ct(zt.getAllResponseHeaders()),er=function fr(Ue){return"responseURL"in Ue&&Ue.responseURL?Ue.responseURL:/^X-Request-URL:/m.test(Ue.getAllResponseHeaders())?Ue.getResponseHeader("X-Request-URL"):null}(zt)||Se.url;return an=new Re({headers:fn,status:zt.status,statusText:Zt,url:er}),an},tt=()=>{let{headers:Zt,status:fn,statusText:er,url:cr}=ui(),In=null;204!==fn&&(In=typeof zt.response>"u"?zt.responseText:zt.response),0===fn&&(fn=In?200:0);let dr=fn>=200&&fn<300;if("json"===Se.responseType&&"string"==typeof In){const qi=In;In=In.replace(Dr,"");try{In=""!==In?JSON.parse(In):null}catch(Ss){In=qi,dr&&(dr=!1,In={error:Ss,text:In})}}dr?(un.next(new qt({body:In,headers:Zt,status:fn,statusText:er,url:cr||void 0})),un.complete()):un.error(new N({error:In,headers:Zt,status:fn,statusText:er,url:cr||void 0}))},We=Zt=>{const{url:fn}=ui(),er=new N({error:Zt,status:zt.status||0,statusText:zt.statusText||"Unknown Error",url:fn||void 0});un.error(er)};let vt=!1;const Yt=Zt=>{vt||(un.next(ui()),vt=!0);let fn={type:mr.DownloadProgress,loaded:Zt.loaded};Zt.lengthComputable&&(fn.total=Zt.total),"text"===Se.responseType&&zt.responseText&&(fn.partialText=zt.responseText),un.next(fn)},En=Zt=>{let fn={type:mr.UploadProgress,loaded:Zt.loaded};Zt.lengthComputable&&(fn.total=Zt.total),un.next(fn)};return zt.addEventListener("load",tt),zt.addEventListener("error",We),zt.addEventListener("timeout",We),zt.addEventListener("abort",We),Se.reportProgress&&(zt.addEventListener("progress",Yt),null!==wr&&zt.upload&&zt.upload.addEventListener("progress",En)),zt.send(wr),un.next({type:mr.Sent}),()=>{zt.removeEventListener("error",We),zt.removeEventListener("abort",We),zt.removeEventListener("load",tt),zt.removeEventListener("timeout",We),Se.reportProgress&&(zt.removeEventListener("progress",Yt),null!==wr&&zt.upload&&zt.upload.removeEventListener("progress",En)),zt.readyState!==zt.DONE&&zt.abort()}})))}static{this.\u0275fac=function(Tt){return new(Tt||Ue)(o.KVO(ge.N0))}}static{this.\u0275prov=o.jDH({token:Ue,factory:Ue.\u0275fac})}}return Ue})();const Sr=new o.nKC("XSRF_ENABLED"),jn=new o.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),cn=new o.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ri{}let ti=(()=>{class Ue{constructor(Se,Tt,Gt){this.doc=Se,this.platform=Tt,this.cookieName=Gt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Se=this.doc.cookie||"";return Se!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ge._b)(Se,this.cookieName),this.lastCookieString=Se),this.lastToken}static{this.\u0275fac=function(Tt){return new(Tt||Ue)(o.KVO(ge.qQ),o.KVO(o.Agw),o.KVO(jn))}}static{this.\u0275prov=o.jDH({token:Ue,factory:Ue.\u0275fac})}}return Ue})();function br(Ue,be){const Se=Ue.url.toLowerCase();if(!(0,o.WQX)(Sr)||"GET"===Ue.method||"HEAD"===Ue.method||Se.startsWith("http://")||Se.startsWith("https://"))return be(Ue);const Tt=(0,o.WQX)(Ri).getToken(),Gt=(0,o.WQX)(cn);return null!=Tt&&!Ue.headers.has(Gt)&&(Ue=Ue.clone({headers:Ue.headers.set(Gt,Tt)})),be(Ue)}var hn=function(Ue){return Ue[Ue.Interceptors=0]="Interceptors",Ue[Ue.LegacyInterceptors=1]="LegacyInterceptors",Ue[Ue.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ue[Ue.NoXsrfProtection=3]="NoXsrfProtection",Ue[Ue.JsonpSupport=4]="JsonpSupport",Ue[Ue.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ue[Ue.Fetch=6]="Fetch",Ue}(hn||{});function Ji(...Ue){const be=[ue,Er,wn,{provide:Te,useExisting:wn},{provide:Qe,useExisting:Er},{provide:Gn,useValue:br,multi:!0},{provide:Sr,useValue:!0},{provide:Ri,useClass:ti}];for(const Se of Ue)be.push(...Se.\u0275providers);return(0,o.EmA)(be)}const kn=new o.nKC("LEGACY_INTERCEPTOR_FN");function Zn(){return function Pn(Ue,be){return{\u0275kind:Ue,\u0275providers:be}}(hn.LegacyInterceptors,[{provide:kn,useFactory:Nr},{provide:Gn,useExisting:kn,multi:!0}])}let Y=(()=>{class Ue{static{this.\u0275fac=function(Tt){return new(Tt||Ue)}}static{this.\u0275mod=o.$C({type:Ue})}static{this.\u0275inj=o.G2t({providers:[Ji(Zn())]})}}return Ue})()},540:(gn,dt,z)=>{z.d(dt,{bc$:()=>Wm,iLQ:()=>$v,sZ2:()=>Cf,hnV:()=>XT,Hbi:()=>UA,o8S:()=>op,BIS:()=>wf,gRc:()=>wA,Ql9:()=>Gw,OM3:()=>gl,Ocv:()=>jw,Z63:()=>is,aKT:()=>jc,uvJ:()=>Mu,zcH:()=>oc,bkB:()=>ia,$GK:()=>cn,nKC:()=>kn,zZn:()=>au,_q3:()=>qv,MKu:()=>Qv,xe9:()=>ey,Co$:()=>QI,Vns:()=>Ph,NEm:()=>mA,SKi:()=>go,Xx1:()=>wu,Agw:()=>sg,PLl:()=>zm,sFG:()=>Xm,_9s:()=>dg,czy:()=>Od,WPN:()=>ul,kdw:()=>Ju,C4Q:()=>sm,NYb:()=>hA,giA:()=>s0,xvI:()=>Zm,RxE:()=>nh,c1b:()=>J_,gXe:()=>er,L39:()=>XA,Ol2:()=>YI,w6W:()=>Rb,Rfq:()=>Bt,oKB:()=>Cy,WQX:()=>an,QuC:()=>Cs,EmA:()=>Tf,HJs:()=>JA,O8t:()=>Yi,H3F:()=>YT,H8p:()=>jm,$K3:()=>JT,KH2:()=>np,wOt:()=>Re,WHO:()=>n0,e01:()=>r0,lNU:()=>qe,h9k:()=>Nm,$MX:()=>xc,ZF7:()=>La,Kcf:()=>_f,e5t:()=>_y,UyX:()=>gy,cWb:()=>py,osQ:()=>my,H5H:()=>gv,mq5:()=>EI,JZv:()=>Pn,TL3:()=>vA,LfX:()=>Wi,plB:()=>Ov,jNT:()=>_o,zjR:()=>pc,TL$:()=>Up,Tbb:()=>pt,rcV:()=>ou,Vt3:()=>hh,GFd:()=>Wf,OA$:()=>fu,Jv_:()=>qI,aNF:()=>JI,R7$:()=>O,BMQ:()=>Kf,HbH:()=>KE,AVh:()=>cv,wni:()=>ST,VBU:()=>Qi,FsC:()=>Is,jDH:()=>At,G2t:()=>Qn,$C:()=>Bs,EJ8:()=>Ts,rXU:()=>ne,nrm:()=>Tl,eu8:()=>pn,bVm:()=>Et,qex:()=>rt,k0s:()=>Ah,j41:()=>wh,RV6:()=>Ro,xGo:()=>Ol,Mr5:()=>fv,KVO:()=>zt,kS0:()=>Iu,QTQ:()=>he,bIt:()=>ga,lsd:()=>RT,joV:()=>up,qSk:()=>Oh,XpG:()=>PE,nI1:()=>fT,bMT:()=>pT,SdG:()=>OE,NAR:()=>ME,Y8G:()=>Zf,FS9:()=>rv,FCK:()=>sv,lJ4:()=>sT,eq3:()=>oT,l_i:()=>aT,mGM:()=>AT,sdS:()=>Qg,Njj:()=>Js,EBC:()=>a_,eBV:()=>es,npT:()=>Yp,B4B:()=>Zp,n$t:()=>tg,muq:()=>cI,xc7:()=>lv,zvX:()=>pv,DNE:()=>bh,C5r:()=>xT,EFF:()=>eI,JRh:()=>hv,SpI:()=>z_,GBs:()=>DT});var o=z(1413),se=z(8359),Je=z(1985),Ce=z(6365),re=z(8750),Fe=z(983),Ne=z(3794),je=z(8455),ge=z(4412),Te=z(7673),Qe=z(7707),Ct=z(9974);function bt(t={}){const{connector:n=(()=>new o.B),resetOnError:i=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return h=>{let _,C,D,U=0,te=!1,pe=!1;const He=()=>{C?.unsubscribe(),C=void 0},et=()=>{He(),_=D=void 0,te=pe=!1},St=()=>{const Kt=_;et(),Kt?.unsubscribe()};return(0,Ct.N)((Kt,vn)=>{U++,!pe&&!te&&He();const Wn=D=D??n();vn.add(()=>{U--,0===U&&!pe&&!te&&(C=ht(St,c))}),Wn.subscribe(vn),!_&&U>0&&(_=new Qe.Ms({next:Lt=>Wn.next(Lt),error:Lt=>{pe=!0,He(),C=ht(et,i,Lt),Wn.error(Lt)},complete:()=>{te=!0,He(),C=ht(et,a),Wn.complete()}}),(0,re.Tg)(Kt).subscribe(_))})(h)}}function ht(t,n,...i){if(!0===n)return void t();if(!1===n)return;const a=new Qe.Ms({next:()=>{a.unsubscribe(),t()}});return(0,re.Tg)(n(...i)).subscribe(a)}var Ft=z(5558),Qt=z(3669),on=z(4360);function nn(t,n){return t===n}function Oe(t){for(let n in t)if(t[n]===Oe)return n;throw Error("Could not find renamed property on target object.")}function it(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function pt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(pt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Pt(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const $t=Oe({__forward_ref__:Oe});function Bt(t){return t.__forward_ref__=Bt,t.toString=function(){return pt(this())},t}function Le(t){return Jt(t)?t():t}function Jt(t){return"function"==typeof t&&t.hasOwnProperty($t)&&t.__forward_ref__===Bt}function Kn(t){return t&&!!t.\u0275providers}const qe="https://g.co/ng/security#xss";class Re extends Error{constructor(n,i){super(function qt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function N(t){return"string"==typeof t?t:null==t?"":String(t)}function _e(t,n){throw new Re(-201,!1)}function Wt(t,n){null==t&&function sn(t,n,i,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${i} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function At(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qn(t){return{providers:t.providers||[],imports:t.imports||[]}}function yn(t){return Dr(t,Sr)||Dr(t,jn)}function Wi(t){return null!==yn(t)}function Dr(t,n){return t.hasOwnProperty(n)?t[n]:null}function Er(t){return t&&(t.hasOwnProperty(Ki)||t.hasOwnProperty(ss))?t[Ki]:null}const Sr=Oe({\u0275prov:Oe}),Ki=Oe({\u0275inj:Oe}),jn=Oe({ngInjectableDef:Oe}),ss=Oe({ngInjectorDef:Oe});var cn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(cn||{});let Ri;function br(t){const n=Ri;return Ri=t,n}function ze(t,n,i){const a=yn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&cn.Optional?null:void 0!==n?n:void _e(pt(t))}const Pn=globalThis;class kn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=At({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const kt={},mn="__NG_DI_FLAG__",Xn="ngTempTokenPath",Kr=/\n/gm,be="__source";let Se;function Gt(t){const n=Se;return Se=t,n}function un(t,n=cn.Default){if(void 0===Se)throw new Re(-203,!1);return null===Se?ze(t,void 0,n):Se.get(t,n&cn.Optional?null:void 0,n)}function zt(t,n=cn.Default){return(function ti(){return Ri}()||un)(Le(t),n)}function an(t,n=cn.Default){return zt(t,ui(n))}function ui(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function tt(t){const n=[];for(let i=0;i<t.length;i++){const a=Le(t[i]);if(Array.isArray(a)){if(0===a.length)throw new Re(900,!1);let c,h=cn.Default;for(let _=0;_<a.length;_++){const C=a[_],D=vt(C);"number"==typeof D?-1===D?c=C.token:h|=D:c=C}n.push(zt(c,h))}else n.push(zt(a))}return n}function We(t,n){return t[mn]=n,t.prototype[mn]=n,t}function vt(t){return t[mn]}function Zt(t){return{toString:t}.toString()}var fn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(fn||{}),er=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(er||{});const cr={},In=[],dr=Oe({\u0275cmp:Oe}),qi=Oe({\u0275dir:Oe}),Ss=Oe({\u0275pipe:Oe}),Ar=Oe({\u0275mod:Oe}),en=Oe({\u0275fac:Oe}),Dt=Oe({__NG_ELEMENT_ID__:Oe}),Nn=Oe({__NG_ENV_ID__:Oe});function tn(t,n,i){let a=t.length;for(;;){const c=t.indexOf(n,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=n.length;if(c+h===a||t.charCodeAt(c+h)<=32)return c}i=c+1}}function ni(t,n,i){let a=0;for(;a<i.length;){const c=i[a];if("number"==typeof c){if(0!==c)break;a++;const h=i[a++],_=i[a++],C=i[a++];t.setAttribute(n,_,C,h)}else{const h=c,_=i[++a];pr(h)?t.setProperty(n,h,_):t.setAttribute(n,h,_),a++}}return a}function Jr(t){return 3===t||4===t||6===t}function pr(t){return 64===t.charCodeAt(0)}function mi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?i=c:0===i||Ur(t,i,c,null,-1===i||2===i?n[++a]:null)}}return t}function Ur(t,n,i,a,c){let h=0,_=t.length;if(-1===n)_=-1;else for(;h<t.length;){const C=t[h++];if("number"==typeof C){if(C===n){_=-1;break}if(C>n){_=h-1;break}}}for(;h<t.length;){const C=t[h];if("number"==typeof C)break;if(C===i){if(null===a)return void(null!==c&&(t[h+1]=c));if(a===t[h+1])return void(t[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==_&&(t.splice(_,0,n),h=_+1),t.splice(h++,0,i),null!==a&&t.splice(h++,0,a),null!==c&&t.splice(h++,0,c)}const ar="ng-template";function xi(t,n,i){let a=0,c=!0;for(;a<t.length;){let h=t[a++];if("string"==typeof h&&c){const _=t[a++];if(i&&"class"===h&&-1!==tn(_.toLowerCase(),n,0))return!0}else{if(1===h){for(;a<t.length&&"string"==typeof(h=t[a++]);)if(h.toLowerCase()===n)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function vs(t){return 4===t.type&&t.value!==ar}function Ir(t,n,i){return n===(4!==t.type||i?t.value:ar)}function Us(t,n,i){let a=4;const c=t.attrs||[],h=function Gr(t){for(let n=0;n<t.length;n++)if(Jr(t[n]))return n;return t.length}(c);let _=!1;for(let C=0;C<n.length;C++){const D=n[C];if("number"!=typeof D){if(!_)if(4&a){if(a=2|1&a,""!==D&&!Ir(t,D,i)||""===D&&1===n.length){if(Li(a))return!1;_=!0}}else{const U=8&a?D:n[++C];if(8&a&&null!==t.attrs){if(!xi(t.attrs,U,i)){if(Li(a))return!1;_=!0}continue}const pe=ri(8&a?"class":D,c,vs(t),i);if(-1===pe){if(Li(a))return!1;_=!0;continue}if(""!==U){let He;He=pe>h?"":c[pe+1].toLowerCase();const et=8&a?He:null;if(et&&-1!==tn(et,U,0)||2&a&&U!==He){if(Li(a))return!1;_=!0}}}}else{if(!_&&!Li(a)&&!Li(D))return!1;if(_&&Li(D))continue;_=!1,a=D|1&a}}return Li(a)||_}function Li(t){return 0==(1&t)}function ri(t,n,i,a){if(null===n)return-1;let c=0;if(a||!i){let h=!1;for(;c<n.length;){const _=n[c];if(_===t)return c;if(3===_||6===_)h=!0;else{if(1===_||2===_){let C=n[++c];for(;"string"==typeof C;)C=n[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=h?1:2}return-1}return function ds(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function Rs(t,n,i=!1){for(let a=0;a<n.length;a++)if(Us(t,n[a],i))return!0;return!1}function yo(t,n){e:for(let i=0;i<n.length;i++){const a=n[i];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function Ks(t,n){return t?":not("+n.trim()+")":n}function ro(t){let n=t[0],i=1,a=2,c="",h=!1;for(;i<t.length;){let _=t[i];if("string"==typeof _)if(2&a){const C=t[++i];c+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&a?c+="."+_:4&a&&(c+=" "+_);else""!==c&&!Li(_)&&(n+=Ks(h,c),c=""),a=_,h=h||!Li(a);i++}return""!==c&&(n+=Ks(h,c)),n}function Qi(t){return Zt(()=>{const n=js(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===fn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||er.Emulated,styles:t.styles||In,_:null,schemas:t.schemas||null,tView:null,id:""};qs(i);const a=t.dependencies;return i.directiveDefs=Ps(a,!1),i.pipeDefs=Ps(a,!0),i.id=function io(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of i)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function as(t){return Yn(t)||Br(t)}function fs(t){return null!==t}function Bs(t){return Zt(()=>({type:t.type,bootstrap:t.bootstrap||In,declarations:t.declarations||In,imports:t.imports||In,exports:t.exports||In,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function vo(t,n){if(null==t)return cr;const i={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),i[c]=a,n&&(n[c]=h)}return i}function Is(t){return Zt(()=>{const n=js(t);return qs(n),n})}function Ts(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Yn(t){return t[dr]||null}function Br(t){return t[qi]||null}function zr(t){return t[Ss]||null}function Cs(t){const n=Yn(t)||Br(t)||zr(t);return null!==n&&n.standalone}function Ei(t,n){const i=t[Ar]||null;if(!i&&!0===n)throw new Error(`Type ${pt(t)} does not have '\u0275mod' property.`);return i}function js(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||cr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||In,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vo(t.inputs,n),outputs:vo(t.outputs)}}function qs(t){t.features?.forEach(n=>n(t))}function Ps(t,n){if(!t)return null;const i=n?zr:as;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(fs)}const Wr=0,ln=1,Jn=2,_r=3,Pi=4,us=5,sr=6,ls=7,qn=8,qr=9,$s=10,Un=11,Ai=12,Eo=13,Os=14,Rn=15,yr=16,Qr=17,hi=18,xs=19,sa=20,ps=21,gs=22,Io=23,Hs=24,tr=25,bs=1,Ns=2,Gs=7,Rr=9,Ui=11;function li(t){return Array.isArray(t)&&"object"==typeof t[bs]}function W(t){return Array.isArray(t)&&!0===t[bs]}function q(t){return 0!=(4&t.flags)}function fe(t){return t.componentOffset>-1}function Ee(t){return 1==(1&t.flags)}function Ke(t){return!!t.template}function yt(t){return 0!=(512&t[Jn])}function ao(t,n){return t.hasOwnProperty(en)?t[en]:null}let _i=null,Zo=!1;function $n(t){const n=_i;return _i=t,n}const du={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ya(t){if(!uo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!hu(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Bo(t){t.dirty=!0,function aa(t){if(void 0===t.liveConsumerNode)return;const n=Zo;Zo=!0;try{for(const i of t.liveConsumerNode)i.dirty||Bo(i)}finally{Zo=n}}(t),t.consumerMarkedDirty?.(t)}function $a(t){return t&&(t.nextProducerIndex=0),$n(t)}function va(t,n){if($n(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(uo(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)ea(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function hu(t){ta(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==i.version||(ya(i),a!==i.version))return!0}return!1}function Oo(t){if(ta(t),uo(t))for(let n=0;n<t.producerNode.length;n++)ea(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ea(t,n){if(function xo(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ta(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)ea(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];ta(c),c.producerIndexOfThis[a]=n}}function uo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ta(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ie=null;function Yi(t){const n=$n(null);try{return t()}finally{$n(n)}}const ki=()=>{},Xs=(()=>({...du,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:ki}))();class jo{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function fu(){return Bi}function Bi(t){return t.type.prototype.ngOnChanges&&(t.setInput=mc),Mr}function Mr(){const t=la(this),n=t?.current;if(n){const i=t.previous;if(i===cr)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function mc(t,n,i,a){const c=this.declaredInputs[i],h=la(t)||function Ha(t,n){return t[Al]=n}(t,{previous:cr,current:null}),_=h.current||(h.current={}),C=h.previous,D=C[c];_[c]=new jo(D&&D.currentValue,n,C===cr),t[a]=n}fu.ngInherit=!0;const Al="__ngSimpleChanges__";function la(t){return t[Al]||null}const V=function(t,n,i){},v="svg";function P(t){for(;Array.isArray(t);)t=t[Wr];return t}function le(t,n){return P(n[t])}function Ae(t,n){return P(n[t.index])}function ut(t,n){return t.data[n]}function wt(t,n){return t[n]}function rn(t,n){const i=n[t];return li(i)?i:i[Wr]}function Fn(t,n){return null==n?null:t[n]}function or(t){t[Qr]=0}function Fr(t){1024&t[Jn]||(t[Jn]|=1024,Fi(t,1))}function Di(t){1024&t[Jn]&&(t[Jn]&=-1025,Fi(t,-1))}function Fi(t,n){let i=t[_r];if(null===i)return;i[us]+=n;let a=i;for(i=i[_r];null!==i&&(1===n&&1===a[us]||-1===n&&0===a[us]);)i[us]+=n,a=i,i=i[_r]}const zn={lFrame:zo(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Pa(){return zn.bindingsEnabled}function Ws(){return null!==zn.skipHydrationRootTNode}function ot(){return zn.lFrame.lView}function An(){return zn.lFrame.tView}function es(t){return zn.lFrame.contextLView=t,t[qn]}function Js(t){return zn.lFrame.contextLView=null,t}function Xr(){let t=Zs();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zs(){return zn.lFrame.currentTNode}function Fs(t,n){const i=zn.lFrame;i.currentTNode=t,i.isParent=n}function da(){return zn.lFrame.isParent}function ts(){zn.lFrame.isParent=!1}function $i(){const t=zn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ga(){return zn.lFrame.bindingIndex++}function T(t){const n=zn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function R(t,n){const i=zn.lFrame;i.bindingIndex=i.bindingRootIndex=t,ie(n)}function ie(t){zn.lFrame.currentDirectiveIndex=t}function ye(t){const n=zn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function ct(){return zn.lFrame.currentQueryIndex}function at(t){zn.lFrame.currentQueryIndex=t}function _n(t){const n=t[ln];return 2===n.type?n.declTNode:1===n.type?t[sr]:null}function hr(t,n,i){if(i&cn.SkipSelf){let c=n,h=t;for(;!(c=c.parent,null!==c||i&cn.Host||(c=_n(h),null===c||(h=h[Os],10&c.type))););if(null===c)return!1;n=c,t=h}const a=zn.lFrame=jr();return a.currentTNode=n,a.lView=t,!0}function gi(t){const n=jr(),i=t[ln];zn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function jr(){const t=zn.lFrame,n=null===t?null:t.child;return null===n?zo(t):n}function zo(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function za(){const t=zn.lFrame;return zn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ma=za;function Wa(){const t=za();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ko(){return zn.lFrame.selectedIndex}function Wo(t){zn.lFrame.selectedIndex=t}function Hi(){const t=zn.lFrame;return ut(t.tView,t.selectedIndex)}function Oh(){zn.lFrame.currentNamespace=v}function up(){!function ud(){zn.lFrame.currentNamespace=null}()}let Ea=!0;function Ko(){return Ea}function ha(t){Ea=t}function mu(t,n){for(let i=n.directiveStart,a=n.directiveEnd;i<a;i++){const h=t.data[i].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:U,ngOnDestroy:te}=h;_&&(t.contentHooks??=[]).push(-i,_),C&&((t.contentHooks??=[]).push(i,C),(t.contentCheckHooks??=[]).push(i,C)),D&&(t.viewHooks??=[]).push(-i,D),U&&((t.viewHooks??=[]).push(i,U),(t.viewCheckHooks??=[]).push(i,U)),null!=te&&(t.destroyHooks??=[]).push(i,te)}}function ld(t,n,i){cd(t,n,3,i)}function ra(t,n,i,a){(3&t[Jn])===i&&cd(t,n,i,a)}function _u(t,n){let i=t[Jn];(3&i)===n&&(i&=8191,i+=1,t[Jn]=i)}function cd(t,n,i,a){const h=a??-1,_=n.length-1;let C=0;for(let D=void 0!==a?65535&t[Qr]:0;D<_;D++)if("number"==typeof n[D+1]){if(C=n[D],null!=a&&C>=a)break}else n[D]<0&&(t[Qr]+=65536),(C<h||-1==h)&&(dd(t,i,n,D),t[Qr]=(4294901760&t[Qr])+D+2),D++}function yc(t,n){V(4,t,n);const i=$n(null);try{n.call(t)}finally{$n(i),V(5,t,n)}}function dd(t,n,i,a){const c=i[a]<0,h=i[a+1],C=t[c?-i[a]:i[a]];c?t[Jn]>>13<t[Qr]>>16&&(3&t[Jn])===n&&(t[Jn]+=8192,yc(C,h)):yc(C,h)}const Oa=-1;class Ka{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function Ec(t){return t!==Oa}function Ia(t){return 32767&t}function Gu(t,n){let i=function ho(t){return t>>16}(t),a=n;for(;i>0;)a=a[Os],i--;return a}let Qa=!0;function xa(t){const n=Qa;return Qa=t,n}const Xa=255,vu=5;let fd=0;const to={};function Na(t,n){const i=Ya(t,n);if(-1!==i)return i;const a=n[ln];a.firstCreatePass&&(t.injectorIndex=n.length,zu(a.data,t),zu(n,null),zu(a.blueprint,null));const c=Rl(t,n),h=t.injectorIndex;if(Ec(c)){const _=Ia(c),C=Gu(c,n),D=C[ln].data;for(let U=0;U<8;U++)n[h+U]=C[_+U]|D[_+U]}return n[h+8]=c,h}function zu(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ya(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Rl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,c=n;for(;null!==c;){if(a=Nh(c),null===a)return Oa;if(i++,c=c[Os],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return Oa}function Pl(t,n,i){!function lm(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(Dt)&&(a=i[Dt]),null==a&&(a=i[Dt]=fd++);const c=a&Xa;n.data[t+(c>>vu)]|=1<<c}(t,n,i)}function xh(t,n,i){if(i&cn.Optional||void 0!==t)return t;_e()}function Ml(t,n,i,a){if(i&cn.Optional&&void 0===a&&(a=null),!(i&(cn.Self|cn.Host))){const c=t[qr],h=br(void 0);try{return c?c.get(n,a,i&cn.Optional):ze(n,a,i&cn.Optional)}finally{br(h)}}return xh(a,0,i)}function hp(t,n,i,a=cn.Default,c){if(null!==t){if(2048&n[Jn]&&!(a&cn.Self)){const _=function pp(t,n,i,a,c){let h=t,_=n;for(;null!==h&&null!==_&&2048&_[Jn]&&!(512&_[Jn]);){const C=Eu(h,_,i,a|cn.Self,to);if(C!==to)return C;let D=h.parent;if(!D){const U=_[sa];if(U){const te=U.get(i,to,a);if(te!==to)return te}D=Nh(_),_=_[Os]}h=D}return c}(t,n,i,a,to);if(_!==to)return _}const h=Eu(t,n,i,a,to);if(h!==to)return h}return Ml(n,i,a,c)}function Eu(t,n,i,a,c){const h=function gd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Dt)?t[Dt]:void 0;return"number"==typeof n?n>=0?n&Xa:fp:n}(i);if("function"==typeof h){if(!hr(n,t,a))return a&cn.Host?xh(c,0,a):Ml(n,i,a,c);try{let _;if(_=h(a),null!=_||a&cn.Optional)return _;_e()}finally{Ma()}}else if("number"==typeof h){let _=null,C=Ya(t,n),D=Oa,U=a&cn.Host?n[Rn][sr]:null;for((-1===C||a&cn.SkipSelf)&&(D=-1===C?Rl(t,n):n[C+8],D!==Oa&&Ja(a,!1)?(_=n[ln],C=Ia(D),n=Gu(D,n)):C=-1);-1!==C;){const te=n[ln];if(md(h,C,te.data)){const pe=pd(C,n,i,_,a,U);if(pe!==to)return pe}D=n[C+8],D!==Oa&&Ja(a,n[ln].data[C+8]===U)&&md(h,C,n)?(_=te,C=Ia(D),n=Gu(D,n)):C=-1}}return c}function pd(t,n,i,a,c,h){const _=n[ln],C=_.data[t+8],te=Wu(C,_,i,null==a?fe(C)&&Qa:a!=_&&0!=(3&C.type),c&cn.Host&&h===C);return null!==te?ka(n,_,te,C):to}function Wu(t,n,i,a,c){const h=t.providerIndexes,_=n.data,C=1048575&h,D=t.directiveStart,te=h>>20,He=c?C+te:t.directiveEnd;for(let et=a?C:C+te;et<He;et++){const St=_[et];if(et<D&&i===St||et>=D&&St.type===i)return et}if(c){const et=_[D];if(et&&Ke(et)&&et.type===i)return D}return null}function ka(t,n,i,a){let c=t[i];const h=n.data;if(function um(t){return t instanceof Ka}(c)){const _=c;_.resolving&&function ue(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Re(-200,`Circular dependency in DI detected for ${t}${i}`)}(function X(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():N(t)}(h[i]));const C=xa(_.canSeeViewProviders);_.resolving=!0;const U=_.injectImpl?br(_.injectImpl):null;hr(t,a,cn.Default);try{c=t[i]=_.factory(void 0,h,t,a),n.firstCreatePass&&i>=a.directiveStart&&function lp(t,n,i){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(a){const _=Bi(n);(i.preOrderHooks??=[]).push(t,_),(i.preOrderCheckHooks??=[]).push(t,_)}c&&(i.preOrderHooks??=[]).push(0-t,c),h&&((i.preOrderHooks??=[]).push(t,h),(i.preOrderCheckHooks??=[]).push(t,h))}(i,h[i],n)}finally{null!==U&&br(U),xa(C),_.resolving=!1,Ma()}}return c}function md(t,n,i){return!!(i[n+(t>>vu)]&1<<t)}function Ja(t,n){return!(t&cn.Self||t&cn.Host&&n)}class fo{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return hp(this._tNode,this._lView,n,ui(a),i)}}function fp(){return new fo(Xr(),ot())}function Ol(t){return Zt(()=>{const n=t.prototype.constructor,i=n[en]||yd(n),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const h=c[en]||yd(c);if(h&&h!==i)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function yd(t){return Jt(t)?()=>{const n=yd(Le(t));return n&&n()}:ao(t)}function Nh(t){const n=t[ln],i=n.type;return 2===i?n.declTNode:1===i?t[sr]:null}function Iu(t){return function dp(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let c=0;for(;c<a;){const h=i[c];if(Jr(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof i[c];)c++;else{if(h===n)return i[c+1];c+=2}}}return null}(Xr(),t)}const Ku="__parameters__";function Za(t,n,i){return Zt(()=>{const a=function qu(t){return function(...i){if(t){const a=t(...i);for(const c in a)this[c]=a[c]}}}(n);function c(...h){if(this instanceof c)return a.apply(this,h),this;const _=new c(...h);return C.annotation=_,C;function C(D,U,te){const pe=D.hasOwnProperty(Ku)?D[Ku]:Object.defineProperty(D,Ku,{value:[]})[Ku];for(;pe.length<=te;)pe.push(null);return(pe[te]=pe[te]||[]).push(_),D}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function eu(t,n){t.forEach(i=>Array.isArray(i)?eu(i,n):n(i))}function Bh(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function xl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Yu(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}function wo(t,n,i){let a=nu(t,n);return a>=0?t[1|a]=i:(a=~a,function tu(t,n,i,a){let c=t.length;if(c==n)t.push(i,a);else if(1===c)t.push(a,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function Cu(t,n){const i=nu(t,n);if(i>=0)return t[1|i]}function nu(t,n){return function jh(t,n,i){let a=0,c=t.length>>i;for(;c!==a;){const h=a+(c-a>>1),_=t[h<<i];if(n===_)return h<<i;_>n?c=h:a=h+1}return~(c<<i)}(t,n,1)}const wu=We(Za("Optional"),8),Ju=We(Za("SkipSelf"),4);function zl(t){return 128==(128&t.flags)}var Od=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Od||{});const bp=/^>|^->|<!--|-->|--!>|<!-$/g,wp=/(<|>)/g,ym="\u200b$1\u200b";const Qh=new Map;let Xh=0;const Du="__ngContext__";function rs(t,n){li(n)?(t[Du]=n[xs],function Yh(t){Qh.set(t[xs],t)}(n)):t[Du]=n}let d;function g(t,n){return d(t,n)}function K(t){const n=t[_r];return W(n)?n[_r]:n}function mt(t){return bn(t[Ai])}function Ut(t){return bn(t[Pi])}function bn(t){for(;null!==t&&!W(t);)t=t[Pi];return t}function Bn(t,n,i,a,c){if(null!=a){let h,_=!1;W(a)?h=a:li(a)&&(_=!0,a=a[Wr]);const C=P(a);0===t&&null!==i?null==c?Tm(n,i,C):Ru(n,i,C,c||null,!0):1===t&&null!==i?Ru(n,i,C,c||null,!0):2===t?function Pu(t,n,i){const a=Ld(t,n);a&&function Cm(t,n,i,a){t.removeChild(n,i,a)}(t,a,n,i)}(n,C,_):3===t&&n.destroyNode(C),null!=h&&function Np(t,n,i,a,c){const h=i[Gs];h!==P(i)&&Bn(n,t,a,h,c);for(let C=Ui;C<i.length;C++){const D=i[C];jd(D[ln],D,t,n,a,h)}}(n,t,h,i,c)}}function fa(t,n){return t.createComment(function xd(t){return t.replace(bp,n=>n.replace(wp,ym))}(n))}function ru(t,n,i){return t.createElement(n,i)}function Kl(t,n){const i=t[Rr],a=i.indexOf(n);Di(n),i.splice(a,1)}function Su(t,n){if(t.length<=Ui)return;const i=Ui+n,a=t[i];if(a){const c=a[yr];null!==c&&c!==t&&Kl(c,a),n>0&&(t[i-1][Pi]=a[Pi]);const h=xl(t,Ui+n);!function tf(t,n){jd(t,n,n[Un],2,null,null),n[Wr]=null,n[sr]=null}(a[ln],a);const _=h[hi];null!==_&&_.detachView(h[ln]),a[_r]=null,a[Pi]=null,a[Jn]&=-129}return a}function ol(t,n){if(!(256&n[Jn])){const i=n[Un];n[Io]&&Oo(n[Io]),n[Hs]&&Oo(n[Hs]),i.destroyNode&&jd(t,n,i,3,null,null),function rf(t){let n=t[Ai];if(!n)return ql(t[ln],t);for(;n;){let i=null;if(li(n))i=n[Ai];else{const a=n[Ui];a&&(i=a)}if(!i){for(;n&&!n[Pi]&&n!==t;)li(n)&&ql(n[ln],n),n=n[_r];null===n&&(n=t),li(n)&&ql(n[ln],n),i=n&&n[Pi]}n=i}}(n)}}function ql(t,n){if(!(256&n[Jn])){n[Jn]&=-129,n[Jn]|=256,function Pp(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const c=n[i[a]];if(!(c instanceof Ka)){const h=i[a+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const C=c[h[_]],D=h[_+1];V(4,C,D);try{D.call(C)}finally{V(5,C,D)}}else{V(4,c,h);try{h.call(c)}finally{V(5,c,h)}}}}}(t,n),function Ql(t,n){const i=t.cleanup,a=n[ls];if(null!==i)for(let h=0;h<i.length-1;h+=2)if("string"==typeof i[h]){const _=i[h+3];_>=0?a[_]():a[-_].unsubscribe(),h+=2}else i[h].call(a[i[h+1]]);null!==a&&(n[ls]=null);const c=n[ps];if(null!==c){n[ps]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(t,n),1===n[ln].type&&n[Un].destroy();const i=n[yr];if(null!==i&&W(n[_r])){i!==n[_r]&&Kl(i,n);const a=n[hi];null!==a&&a.detachView(t)}!function Jh(t){Qh.delete(t[xs])}(n)}}function Vd(t,n,i){return function Im(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[Wr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:h}=t.data[a.directiveStart+c];if(h===er.None||h===er.Emulated)return null}return Ae(a,i)}}(t,n.parent,i)}function Ru(t,n,i,a,c){t.insertBefore(n,i,a,c)}function Tm(t,n,i){t.appendChild(n,i)}function af(t,n,i,a,c){null!==a?Ru(t,n,i,a,c):Tm(t,n,i)}function Ld(t,n){return t.parentNode(n)}function uf(t,n,i){return lf(t,n,i)}let Mp,Mc,ff,pf,lf=function wm(t,n,i){return 40&t.type?Ae(t,i):null};function df(t,n,i,a){const c=Vd(t,a,n),h=n[Un],C=uf(a.parent||n[sr],a,n);if(null!=c)if(Array.isArray(i))for(let D=0;D<i.length;D++)af(h,c,i[D],C,!1);else af(h,c,i,C,!1);void 0!==Mp&&Mp(h,a,n,i,c)}function Xl(t,n){if(null!==n){const i=n.type;if(3&i)return Ae(n,t);if(4&i)return Ud(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return Xl(t,a);{const c=t[n.index];return W(c)?Ud(-1,c):P(c)}}if(32&i)return g(n,t)()||P(t[n.index]);{const a=hf(t,n);return null!==a?Array.isArray(a)?a[0]:Xl(K(t[Rn]),a):Xl(t,n.next)}}return null}function hf(t,n){return null!==n?t[Rn][sr].projection[n.projection]:null}function Ud(t,n){const i=Ui+t+1;if(i<n.length){const a=n[i],c=a[ln].firstChild;if(null!==c)return Xl(a,c)}return n[Gs]}function Bd(t,n,i,a,c,h,_){for(;null!=i;){const C=a[i.index],D=i.type;if(_&&0===n&&(C&&rs(P(C),a),i.flags|=2),32!=(32&i.flags))if(8&D)Bd(t,n,i.child,a,c,h,!1),Bn(n,t,c,C,h);else if(32&D){const U=g(i,a);let te;for(;te=U();)Bn(n,t,c,te,h);Bn(n,t,c,C,h)}else 16&D?iu(t,n,a,i,c,h):Bn(n,t,c,C,h);i=_?i.projectionNext:i.next}}function jd(t,n,i,a,c,h){Bd(i,a,t.firstChild,n,c,h,!1)}function iu(t,n,i,a,c,h){const _=i[Rn],D=_[sr].projection[a.projection];if(Array.isArray(D))for(let U=0;U<D.length;U++)Bn(n,t,c,D[U],h);else{let U=D;const te=_[_r];zl(a)&&(U.flags|=128),Bd(t,n,U,te,c,h,!0)}}function Am(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Dm(t,n,i){const{mergedAttrs:a,classes:c,styles:h}=i;null!==a&&ni(t,n,a),null!==c&&Am(t,n,c),null!==h&&function kp(t,n,i){t.setAttribute(n,"style",i)}(t,n,h)}function al(t){return function Fp(){if(void 0===Mc&&(Mc=null,Pn.trustedTypes))try{Mc=Pn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Mc}()?.createHTML(t)||t}function Up(t){ff=t}function Yl(){if(void 0!==ff)return ff;if(typeof document<"u")return document;throw new Re(210,!1)}function Bp(){if(void 0===pf&&(pf=null,Pn.trustedTypes))try{pf=Pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pf}function gf(t){return Bp()?.createHTML(t)||t}function mf(t){return Bp()?.createScriptURL(t)||t}class su{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qe})`}}class jp extends su{getTypeName(){return"HTML"}}class hy extends su{getTypeName(){return"Style"}}class Oc extends su{getTypeName(){return"Script"}}class fy extends su{getTypeName(){return"URL"}}class $p extends su{getTypeName(){return"ResourceURL"}}function ou(t){return t instanceof su?t.changingThisBreaksApplicationSecurity:t}function La(t,n){const i=function Rm(t){return t instanceof su&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${qe})`)}return i===n}function _f(t){return new jp(t)}function py(t){return new hy(t)}function gy(t){return new Oc(t)}function my(t){return new fy(t)}function _y(t){return new $p(t)}class Hp{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(al(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Pm{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=al(n),i}}const zp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xc(t){return(t=String(t)).match(zp)?t:"unsafe:"+t}function Ca(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Jl(...t){const n={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(n[a]=!0);return n}const Wp=Ca("area,br,col,hr,img,wbr"),Zl=Ca("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kp=Ca("rp,rt"),Hd=Jl(Wp,Jl(Zl,Ca("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jl(Kp,Ca("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jl(Kp,Zl)),qp=Ca("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qp=Jl(qp,Ca("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ca("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vy=Ca("script,style,template");class Om{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,a=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let c=this.checkClobberedElement(i,i.nextSibling);if(c){i=c;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Hd.hasOwnProperty(i))return this.sanitizedSomething=!0,!vy.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=n.attributes;for(let c=0;c<a.length;c++){const h=a.item(c),_=h.name,C=_.toLowerCase();if(!Qp.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=h.value;qp[C]&&(D=xc(D)),this.buf.push(" ",_,'="',xm(D),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Hd.hasOwnProperty(i)&&!Wp.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(xm(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const Ey=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Iy=/([^\#-~ |!])/g;function xm(t){return t.replace(/&/g,"&amp;").replace(Ey,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Iy,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vf;function Nm(t,n){let i=null;try{vf=vf||function yf(t){const n=new Pm(t);return function Gp(){try{return!!(new window.DOMParser).parseFromString(al(""),"text/html")}catch{return!1}}()?new Hp(n):n}(t);let a=n?String(n):"";i=vf.getInertBodyElement(a);let c=5,h=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=h,h=i.innerHTML,i=vf.getInertBodyElement(a)}while(a!==h);return al((new Om).sanitizeChildren(Xp(i)||i))}finally{if(i){const a=Xp(i)||i;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Xp(t){return"content"in t&&function Ty(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ul=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ul||{});function Yp(t){const n=Ls();return n?gf(n.sanitize(ul.HTML,t)||""):La(t,"HTML")?gf(ou(t)):Nm(Yl(),N(t))}function Zp(t){const n=Ls();return n?n.sanitize(ul.URL,t)||"":La(t,"URL")?ou(t):xc(N(t))}function eg(t){const n=Ls();if(n)return mf(n.sanitize(ul.RESOURCE_URL,t)||"");if(La(t,"ResourceURL"))return mf(ou(t));throw new Re(904,!1)}function tg(t,n,i){return function Fm(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?eg:Zp}(n,i)(t)}function Ls(){const t=ot();return t&&t[$s].sanitizer}const is=new kn("ENVIRONMENT_INITIALIZER"),Ua=new kn("INJECTOR",-1),Vm=new kn("INJECTOR_DEF_TYPES");class Lm{get(n,i=kt){if(i===kt){const a=new Error(`NullInjectorError: No provider for ${pt(n)}!`);throw a.name="NullInjectorError",a}return i}}function Tf(t){return{\u0275providers:t}}function Cy(...t){return{\u0275providers:ng(0,t),\u0275fromNgModule:!0}}function ng(t,...n){const i=[],a=new Set;let c;const h=_=>{i.push(_)};return eu(n,_=>{const C=_;Nc(C,h,[],a)&&(c||=[],c.push(C))}),void 0!==c&&rg(c,h),i}function rg(t,n){for(let i=0;i<t.length;i++){const{ngModule:a,providers:c}=t[i];Um(c,h=>{n(h,a)})}}function Nc(t,n,i,a){if(!(t=Le(t)))return!1;let c=null,h=Er(t);const _=!h&&Yn(t);if(h||_){if(_&&!_.standalone)return!1;c=t}else{const D=t.ngModule;if(h=Er(D),!h)return!1;c=D}const C=a.has(c);if(_){if(C)return!1;if(a.add(c),_.dependencies){const D="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const U of D)Nc(U,n,i,a)}}else{if(!h)return!1;{if(null!=h.imports&&!C){let U;a.add(c);try{eu(h.imports,te=>{Nc(te,n,i,a)&&(U||=[],U.push(te))})}finally{}void 0!==U&&rg(U,n)}if(!C){const U=ao(c)||(()=>new c);n({provide:c,useFactory:U,deps:In},c),n({provide:Vm,useValue:c,multi:!0},c),n({provide:is,useValue:()=>zt(c),multi:!0},c)}const D=h.providers;if(null!=D&&!C){const U=t;Um(D,te=>{n(te,U)})}}}return c!==t&&void 0!==t.providers}function Um(t,n){for(let i of t)Kn(i)&&(i=i.\u0275providers),Array.isArray(i)?Um(i,n):n(i)}const Gi=Oe({provide:String,useValue:Oe});function Bm(t){return null!==t&&"object"==typeof t&&Gi in t}function ll(t){return"function"==typeof t}const jm=new kn("Set Injector scope."),kc={},$m={};let Hm;function ig(){return void 0===Hm&&(Hm=new Lm),Hm}class Mu{}class Gd extends Mu{get destroyed(){return this._destroyed}constructor(n,i,a,c){super(),this.parent=i,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cl(n,_=>this.processProvider(_)),this.records.set(Ua,Vc(void 0,this)),c.has("environment")&&this.records.set(Mu,Vc(void 0,this));const h=this.records.get(jm);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Vm.multi,In,cn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Gt(this),a=br(void 0);try{return n()}finally{Gt(i),br(a)}}get(n,i=kt,a=cn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Nn))return n[Nn](this);a=ui(a);const h=Gt(this),_=br(void 0);try{if(!(a&cn.SkipSelf)){let D=this.records.get(n);if(void 0===D){const U=function oE(t){return"function"==typeof t||"object"==typeof t&&t instanceof kn}(n)&&yn(n);D=U&&this.injectableDefInScope(U)?Vc(Gm(n),kc):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D)}return(a&cn.Self?ig():this.parent).get(n,i=a&cn.Optional&&i===kt?null:i)}catch(C){if("NullInjectorError"===C.name){if((C[Xn]=C[Xn]||[]).unshift(pt(n)),h)throw C;return function Yt(t,n,i,a){const c=t[Xn];throw n[be]&&c.unshift(n[be]),t.message=function En(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=pt(n);if(Array.isArray(n))c=n.map(pt).join(" -> ");else if("object"==typeof n){let h=[];for(let _ in n)if(n.hasOwnProperty(_)){let C=n[_];h.push(_+":"+("string"==typeof C?JSON.stringify(C):pt(C)))}c=`{${h.join(", ")}}`}return`${i}${a?"("+a+")":""}[${c}]: ${t.replace(Kr,"\n  ")}`}("\n"+t.message,c,i,a),t.ngTokenPath=c,t[Xn]=null,t}(C,n,"R3InjectorError",this.source)}throw C}finally{br(_),Gt(h)}}resolveInjectorInitializers(){const n=Gt(this),i=br(void 0);try{const c=this.get(is.multi,In,cn.Self);for(const h of c)h()}finally{Gt(n),br(i)}}toString(){const n=[],i=this.records;for(const a of i.keys())n.push(pt(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(n){let i=ll(n=Le(n))?n:Le(n&&n.provide);const a=function sE(t){return Bm(t)?Vc(void 0,t.useValue):Vc(Fc(t),kc)}(n);if(ll(n)||!0!==n.multi)this.records.get(i);else{let c=this.records.get(i);c||(c=Vc(void 0,kc,!0),c.factory=()=>tt(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,a)}hydrate(n,i){return i.value===kc&&(i.value=$m,i.value=i.factory()),"object"==typeof i.value&&i.value&&function tc(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Le(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Gm(t){const n=yn(t),i=null!==n?n.factory:ao(t);if(null!==i)return i;if(t instanceof kn)throw new Re(204,!1);if(t instanceof Function)return function iE(t){const n=t.length;if(n>0)throw Yu(n,"?"),new Re(204,!1);const i=function fr(t){return t&&(t[Sr]||t[jn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Re(204,!1)}function Fc(t,n,i){let a;if(ll(t)){const c=Le(t);return ao(c)||Gm(c)}if(Bm(t))a=()=>Le(t.useValue);else if(function cs(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...tt(t.deps||[]));else if(function by(t){return!(!t||!t.useExisting)}(t))a=()=>zt(Le(t.useExisting));else{const c=Le(t&&(t.useClass||t.provide));if(!function ec(t){return!!t.deps}(t))return ao(c)||Gm(c);a=()=>new c(...tt(t.deps))}return a}function Vc(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function cl(t,n){for(const i of t)Array.isArray(i)?cl(i,n):i&&Kn(i)?cl(i.\u0275providers,n):n(i)}const Cf=new kn("AppId",{providedIn:"root",factory:()=>bf}),bf="ng",zm=new kn("Platform Initializer"),sg=new kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wm=new kn("AnimationModuleType"),wf=new kn("CSP nonce",{providedIn:"root",factory:()=>Yl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ug=(t,n,i)=>null;function Bc(t,n,i=!1){return ug(t,n,i)}class Of{}class qm{}class Ry{resolveComponentFactory(n){throw function lE(t){const n=Error(`No component factory found for ${pt(t)}.`);return n.ngComponent=t,n}(n)}}let gl=(()=>{class t{static{this.NULL=new Ry}}return t})();function cE(){return th(Xr(),ot())}function th(t,n){return new jc(Ae(t,n))}let jc=(()=>{class t{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=cE}}return t})();function Qm(t){return t instanceof jc?t.nativeElement:t}class dg{}let Xm=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Ym(){const t=ot(),i=rn(Xr().index,t);return(li(i)?i:t)[Un]}()}}return t})(),Jm=(()=>{class t{static{this.\u0275prov=At({token:t,providedIn:"root",factory:()=>null})}}return t})();class nh{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Zm=new nh("16.2.12"),e_={};function Ou(t,n=null,i=null,a){const c=Oy(t,n,i,a);return c.resolveInjectorInitializers(),c}function Oy(t,n=null,i=null,a,c=new Set){const h=[i||In,Cy(t)];return a=a||("object"==typeof t?void 0:pt(t)),new Gd(h,n||ig(),a||null,c)}let au=(()=>{class t{static{this.THROW_IF_NOT_FOUND=kt}static{this.NULL=new Lm}static create(i,a){if(Array.isArray(i))return Ou({name:""},a,i,"");{const c=i.name??"";return Ou({name:c},i.parent,i.providers,c)}}static{this.\u0275prov=At({token:t,providedIn:"any",factory:()=>zt(Ua)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function n_(t){return t.ngOriginalError}class oc{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&n_(n);for(;i&&n_(i);)i=n_(i);return i||null}}function r_(t){return n=>{setTimeout(t,void 0,n)}}const ia=class ky extends o.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,a){let c=n,h=i||(()=>null),_=a;if(n&&"object"==typeof n){const D=n;c=D.next?.bind(D),h=D.error?.bind(D),_=D.complete?.bind(D)}this.__isAsync&&(h=r_(h),c&&(c=r_(c)),_&&(_=r_(_)));const C=super.subscribe({next:c,error:h,complete:_});return n instanceof se.yU&&n.add(C),C}};function kf(...t){}class go{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ia(!1),this.onMicrotaskEmpty=new ia(!1),this.onStable=new ia(!1),this.onError=new ia(!1),typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&i,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function fE(){const t="function"==typeof Pn.requestAnimationFrame;let n=Pn[t?"requestAnimationFrame":"setTimeout"],i=Pn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function gE(t){const n=()=>{!function Vy(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,i_(t),t.isCheckStableRunning=!0,fg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),i_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,c,h,_,C)=>{if(function mE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(C))return i.invokeTask(c,h,_,C);try{return Ly(t),i.invokeTask(c,h,_,C)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),Uy(t)}},onInvoke:(i,a,c,h,_,C,D)=>{try{return Ly(t),i.invoke(c,h,_,C,D)}finally{t.shouldCoalesceRunChangeDetection&&n(),Uy(t)}},onHasTask:(i,a,c,h)=>{i.hasTask(c,h),a===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,i_(t),fg(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(i,a,c,h)=>(i.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!go.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if(go.isInAngularZone())throw new Re(909,!1)}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,c){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+c,n,Fy,kf,kf);try{return h.runTask(_,i,a)}finally{h.cancelTask(_)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const Fy={};function fg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function i_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ly(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Uy(t){t._nesting--,fg(t)}const s_=new kn("",{providedIn:"root",factory:o_});function o_(){const t=an(go);let n=!0;return function Ze(...t){const n=(0,Ne.lI)(t),i=(0,Ne.R0)(t,1/0),a=t;return a.length?1===a.length?(0,re.Tg)(a[0]):(0,Ce.U)(i)((0,je.H)(a,n)):Fe.w}(new Je.c(c=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(n),c.complete()})}),new Je.c(c=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{go.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,c.next(!0))})})});const _=t.onUnstable.subscribe(()=>{go.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{h.unsubscribe(),_.unsubscribe()}}).pipe(bt()))}function a_(t){return t.ownerDocument}function ml(t){return t instanceof Function?t():t}let l_=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=At({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Ff(t){for(;t;){t[Jn]|=64;const n=K(t);if(yt(t)&&!n)return t;t=n}return null}const c_=new kn("",{providedIn:"root",factory:()=>!1});let e=null;function r(t,n){return t[n]??m()}function s(t,n){const i=m();i.producerNode?.length&&(t[n]=e,i.lView=t,e=f())}const l={...du,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ff(t.lView)},lView:null};function f(){return Object.create(l)}function m(){return e??=f(),e}const b={};function O(t){$(An(),ot(),ko()+t,!1)}function $(t,n,i,a){if(!a)if(3==(3&n[Jn])){const h=t.preOrderCheckHooks;null!==h&&ld(n,h,i)}else{const h=t.preOrderHooks;null!==h&&ra(n,h,0,i)}Wo(i)}function ne(t,n=cn.Default){const i=ot();return null===i?zt(t,n):hp(Xr(),i,Le(t),n)}function he(){throw new Error("invalid")}function lt(t,n,i,a,c,h,_,C,D,U,te){const pe=n.blueprint.slice();return pe[Wr]=c,pe[Jn]=140|a,(null!==U||t&&2048&t[Jn])&&(pe[Jn]|=2048),or(pe),pe[_r]=pe[Os]=t,pe[qn]=i,pe[$s]=_||t&&t[$s],pe[Un]=C||t&&t[Un],pe[qr]=D||t&&t[qr]||null,pe[sr]=h,pe[xs]=function vm(){return Xh++}(),pe[gs]=te,pe[sa]=U,pe[Rn]=2==n.type?t[Rn]:pe,pe}function xt(t,n,i,a,c){let h=t.data[n];if(null===h)h=function Xt(t,n,i,a,c){const h=Zs(),_=da(),D=t.data[n]=function Nu(t,n,i,a,c,h){let _=n?n.injectorIndex:-1,C=0;return Ws()&&(C|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,i,n,a,c);return null===t.firstChild&&(t.firstChild=D),null!==h&&(_?null==h.child&&null!==D.parent&&(h.child=D):null===h.next&&(h.next=D,D.prev=h)),D}(t,n,i,a,c),function S(){return zn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=i,h.value=a,h.attrs=c;const _=function ci(){const t=zn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return Fs(h,!0),h}function Ht(t,n,i,a){if(0===i)return-1;const c=n.length;for(let h=0;h<i;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return c}function Vn(t,n,i,a,c){const h=r(n,Io),_=ko(),C=2&a;try{Wo(-1),C&&n.length>tr&&$(t,n,tr,!1),V(C?2:0,c);const U=C?h:null,te=$a(U);try{null!==U&&(U.dirty=!1),i(a,c)}finally{va(U,te)}}finally{C&&null===n[Io]&&s(n,Io),Wo(_),V(C?3:1,c)}}function rr(t,n,i){if(q(n)){const a=$n(null);try{const h=n.directiveEnd;for(let _=n.directiveStart;_<h;_++){const C=t.data[_];C.contentQueries&&C.contentQueries(1,i[_],_)}}finally{$n(a)}}}function Hn(t,n,i){Pa()&&(function uh(t,n,i,a){const c=i.directiveStart,h=i.directiveEnd;fe(i)&&function g_(t,n,i){const a=Ae(n,t),c=yi(i);let _=16;i.signals?_=4096:i.onPush&&(_=64);const C=zc(t,lt(t,c,null,_,a,n,null,t[$s].rendererFactory.createRenderer(a,i),null,null,null));t[n.index]=C}(n,i,t.data[c+i.componentOffset]),t.firstCreatePass||Na(i,n),rs(a,n);const _=i.initialInputs;for(let C=c;C<h;C++){const D=t.data[C],U=ka(n,t,C,i);rs(U,n),null!==_&&m_(0,C-c,U,D,0,_),Ke(D)&&(rn(i.index,n)[qn]=ka(n,t,C,i))}}(t,n,i,Ae(i,n)),64==(64&i.flags)&&p_(t,n,i))}function vr(t,n,i=Ae){const a=n.localNames;if(null!==a){let c=n.index+1;for(let h=0;h<a.length;h+=2){const _=a[h+1],C=-1===_?i(n,t):t[_];t[c++]=C}}}function yi(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Lr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Lr(t,n,i,a,c,h,_,C,D,U,te){const pe=tr+a,He=pe+c,et=function Xe(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:b);return i}(pe,He),St="function"==typeof U?U():U;return et[ln]={type:t,blueprint:et,template:i,queries:null,viewQuery:C,declTNode:n,data:et.slice().fill(null,pe),bindingStartIndex:pe,expandoStartIndex:He,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:D,consts:St,incompleteFirstPass:!1,ssrId:te}}let Ye=t=>null;function Hc(t,n,i,a){for(let c in t)if(t.hasOwnProperty(c)){i=null===i?{}:i;const h=t[c];null===a?d_(i,n,c,h):a.hasOwnProperty(c)&&d_(i,n,a[c],h)}return i}function d_(t,n,i,a){t.hasOwnProperty(i)?t[i].push(n,a):t[i]=[n,a]}function Qo(t,n,i,a,c,h,_,C){const D=Ae(n,i);let te,U=n.inputs;!C&&null!=U&&(te=U[a])?(Uf(t,i,te,a,c),fe(n)&&function h_(t,n){const i=rn(n,t);16&i[Jn]||(i[Jn]|=64)}(i,n.index)):3&n.type&&(a=function oh(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=_?_(c,n.value||"",a):c,h.setProperty(D,a,c))}function mo(t,n,i,a){if(Pa()){const c=null===a?null:{"":-1},h=function Lf(t,n){const i=t.directiveRegistry;let a=null,c=null;if(i)for(let h=0;h<i.length;h++){const _=i[h];if(Rs(n,_.selectors,!1))if(a||(a=[]),Ke(_))if(null!==_.findHostDirectiveDefs){const C=[];c=c||new Map,_.findHostDirectiveDefs(_,C,c),a.unshift(...C,_),Gc(t,n,C.length)}else a.unshift(_),Gc(t,n,0);else c=c||new Map,_.findHostDirectiveDefs?.(_,a,c),a.push(_)}return null===a?null:[a,c]}(t,i);let _,C;null===h?_=C=null:[_,C]=h,null!==_&&f_(t,n,i,_,c,C),c&&function _g(t,n,i){if(n){const a=t.localNames=[];for(let c=0;c<n.length;c+=2){const h=i[n[c+1]];if(null==h)throw new Re(-301,!1);a.push(n[c],h)}}}(i,a,c)}i.mergedAttrs=mi(i.mergedAttrs,i.attrs)}function f_(t,n,i,a,c,h){for(let U=0;U<a.length;U++)Pl(Na(i,n),t,a[U].type);!function vg(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,a.length);for(let U=0;U<a.length;U++){const te=a[U];te.providersResolver&&te.providersResolver(te)}let _=!1,C=!1,D=Ht(t,n,a.length,null);for(let U=0;U<a.length;U++){const te=a[U];i.mergedAttrs=mi(i.mergedAttrs,te.hostAttrs),Eg(t,i,n,D,te),yg(D,te,c),null!==te.contentQueries&&(i.flags|=4),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(i.flags|=64);const pe=te.type.prototype;!_&&(pe.ngOnChanges||pe.ngOnInit||pe.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),_=!0),!C&&(pe.ngOnChanges||pe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),C=!0),D++}!function sh(t,n,i){const c=n.directiveEnd,h=t.data,_=n.attrs,C=[];let D=null,U=null;for(let te=n.directiveStart;te<c;te++){const pe=h[te],He=i?i.get(pe):null,St=He?He.outputs:null;D=Hc(pe.inputs,te,D,He?He.inputs:null),U=Hc(pe.outputs,te,U,St);const Kt=null===D||null===_||vs(n)?null:Cg(D,te,_);C.push(Kt)}null!==D&&(D.hasOwnProperty("class")&&(n.flags|=8),D.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=C,n.inputs=D,n.outputs=U}(t,i,h)}function p_(t,n,i){const a=i.directiveStart,c=i.directiveEnd,h=i.index,_=function L(){return zn.lFrame.currentDirectiveIndex}();try{Wo(h);for(let C=a;C<c;C++){const D=t.data[C],U=n[C];ie(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Wy(D,U)}}finally{Wo(-1),ie(_)}}function Wy(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Gc(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function yg(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;Ke(n)&&(i[""]=t)}}function Eg(t,n,i,a,c){t.data[a]=c;const h=c.factory||(c.factory=ao(c.type)),_=new Ka(h,Ke(c),ne);t.blueprint[a]=_,i[a]=_,function ah(t,n,i,a,c){const h=c.hostBindings;if(h){let _=t.hostBindingOpCodes;null===_&&(_=t.hostBindingOpCodes=[]);const C=~n.index;(function zy(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(_)!=C&&_.push(C),_.push(i,a,h)}}(t,n,a,Ht(t,i,c.hostVars,b),c)}function Ba(t,n,i,a,c,h){const _=Ae(t,n);!function Ig(t,n,i,a,c,h,_){if(null==h)t.removeAttribute(n,c,i);else{const C=null==_?N(h):_(h,a||"",c);t.setAttribute(n,c,C,i)}}(n[Un],_,h,t.value,i,a,c)}function m_(t,n,i,a,c,h){const _=h[n];if(null!==_)for(let C=0;C<_.length;)Tg(a,i,_[C++],_[C++],_[C++])}function Tg(t,n,i,a,c){const h=$n(null);try{const _=t.inputTransforms;null!==_&&_.hasOwnProperty(a)&&(c=_[a].call(n,c)),null!==t.setInput?t.setInput(n,c,i,a):n[a]=c}finally{$n(h)}}function Cg(t,n,i){let a=null,c=0;for(;c<i.length;){const h=i[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const _=t[h];for(let C=0;C<_.length;C+=2)if(_[C]===n){a.push(h,_[C+1],i[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function bg(t,n,i,a){return[t,!0,!1,n,null,0,a,i,null,null,null]}function __(t,n){const i=t.contentQueries;if(null!==i)for(let a=0;a<i.length;a+=2){const h=i[a+1];if(-1!==h){const _=t.data[h];at(i[a]),_.contentQueries(2,n[h],h)}}}function zc(t,n){return t[Ai]?t[Eo][Pi]=n:t[Ai]=n,t[Eo]=n,n}function lh(t,n,i){at(0);const a=$n(null);try{n(t,i)}finally{$n(a)}}function Do(t){return t[ls]||(t[ls]=[])}function Fo(t){return t.cleanup||(t.cleanup=[])}function ch(t,n,i){return(null===t||Ke(t))&&(i=function Q(t){for(;Array.isArray(t);){if("object"==typeof t[bs])return t;t=t[Wr]}return null}(i[n.index])),i[Un]}function wg(t,n){const i=t[qr],a=i?i.get(oc,null):null;a&&a.handleError(n)}function Uf(t,n,i,a,c){for(let h=0;h<i.length;){const _=i[h++],C=i[h++];Tg(t.data[_],n[_],a,C,c)}}function dh(t,n){const i=rn(n,t),a=i[ln];!function v_(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(a,i);const c=i[Wr];null!==c&&null===i[gs]&&(i[gs]=Bc(c,i[qr])),Bf(a,i,i[qn])}function Bf(t,n,i){gi(n);try{const a=t.viewQuery;null!==a&&lh(1,a,i);const c=t.template;null!==c&&Vn(t,n,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&__(t,n),t.staticViewQueries&&lh(2,t.viewQuery,i);const h=t.components;null!==h&&function Ag(t,n){for(let i=0;i<n.length;i++)dh(t,n[i])}(n,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[Jn]&=-5,Wa()}}let E_=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,a,c){const h=typeof Zone>"u"?null:Zone.current,_=function Qs(t,n,i){const a=Object.create(Xs);i&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=n;const c=_=>{a.cleanupFn=_};return a.ref={notify:()=>Bo(a),run:()=>{if(a.dirty=!1,a.hasRun&&!hu(a))return;a.hasRun=!0;const _=$a(a);try{a.cleanupFn(),a.cleanupFn=ki,a.fn(c)}finally{va(a,_)}},cleanup:()=>a.cleanupFn()},a.ref}(i,U=>{this.all.has(U)&&this.queue.set(U,h)},c);let C;this.all.add(_),_.notify();const D=()=>{_.cleanup(),C?.(),this.all.delete(_),this.queue.delete(_)};return C=a?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[i,a]of this.queue)this.queue.delete(i),a?a.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=At({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Wc(t,n,i){let a=i?t.styles:null,c=i?t.classes:null,h=0;if(null!==n)for(let _=0;_<n.length;_++){const C=n[_];"number"==typeof C?h=C:1==h?c=Pt(c,C):2==h&&(a=Pt(a,C+": "+n[++_]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=c:t.classesWithoutHost=c}function Kc(t,n,i,a,c=!1){for(;null!==i;){const h=n[i.index];null!==h&&a.push(P(h)),W(h)&&Dg(h,a);const _=i.type;if(8&_)Kc(t,n,i.child,a);else if(32&_){const C=g(i,n);let D;for(;D=C();)a.push(D)}else if(16&_){const C=hf(n,i);if(Array.isArray(C))a.push(...C);else{const D=K(n[Rn]);Kc(D[ln],D,C,a,!0)}}i=c?i.projectionNext:i.next}return a}function Dg(t,n){for(let i=Ui;i<t.length;i++){const a=t[i],c=a[ln].firstChild;null!==c&&Kc(a[ln],a,c,n)}t[Gs]!==t[Wr]&&n.push(t[Gs])}function _l(t,n,i,a=!0){const c=n[$s],h=c.rendererFactory,_=c.afterRenderEventManager;h.begin?.(),_?.begin();try{yl(t,n,t.template,i)}catch(D){throw a&&wg(n,D),D}finally{h.end?.(),c.effectManager?.flush(),_?.end()}}function yl(t,n,i,a){const c=n[Jn];if(256!=(256&c)){n[$s].effectManager?.flush(),gi(n);try{or(n),function _c(t){return zn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Vn(t,n,i,2,a);const _=3==(3&c);if(_){const U=t.preOrderCheckHooks;null!==U&&ld(n,U,null)}else{const U=t.preOrderHooks;null!==U&&ra(n,U,0,null),_u(n,0)}if(function jf(t){for(let n=mt(t);null!==n;n=Ut(n)){if(!n[Ns])continue;const i=n[Rr];for(let a=0;a<i.length;a++){Fr(i[a])}}}(n),Rg(n,2),null!==t.contentQueries&&__(t,n),_){const U=t.contentCheckHooks;null!==U&&ld(n,U)}else{const U=t.contentHooks;null!==U&&ra(n,U,1),_u(n,1)}!function Ve(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const a=r(n,Hs);try{for(let c=0;c<i.length;c++){const h=i[c];if(h<0)Wo(~h);else{const _=h,C=i[++c],D=i[++c];R(C,_),a.dirty=!1;const U=$a(a);try{D(2,n[_])}finally{va(a,U)}}}}finally{null===n[Hs]&&s(n,Hs),Wo(-1)}}(t,n);const C=t.components;null!==C&&Pg(n,C,0);const D=t.viewQuery;if(null!==D&&lh(2,D,a),_){const U=t.viewCheckHooks;null!==U&&ld(n,U)}else{const U=t.viewHooks;null!==U&&ra(n,U,2),_u(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Jn]&=-73,Di(n)}finally{Wa()}}}function Rg(t,n){for(let i=mt(t);null!==i;i=Ut(i))for(let a=Ui;a<i.length;a++)qc(i[a],n)}function T_(t,n,i){qc(rn(n,t),i)}function qc(t,n){if(!function Or(t){return 128==(128&t[Jn])}(t))return;const i=t[ln],a=t[Jn];if(80&a&&0===n||1024&a||2===n)yl(i,t,i.template,t[qn]);else if(t[us]>0){Rg(t,1);const c=i.components;null!==c&&Pg(t,c,1)}}function Pg(t,n,i){for(let a=0;a<n.length;a++)T_(t,n[a],i)}class no{get rootNodes(){const n=this._lView,i=n[ln];return Kc(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qn]}set context(n){this._lView[qn]=n}get destroyed(){return 256==(256&this._lView[Jn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[_r];if(W(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(Su(n,a),xl(i,a))}this._attachedToViewContainer=!1}ol(this._lView[ln],this._lView)}onDestroy(n){!function ws(t,n){if(256==(256&t[Jn]))throw new Re(911,!1);null===t[ps]&&(t[ps]=[]),t[ps].push(n)}(this._lView,n)}markForCheck(){Ff(this._cdRefInjectingView||this._lView)}detach(){this._lView[Jn]&=-129}reattach(){this._lView[Jn]|=128}detectChanges(){_l(this._lView[ln],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nf(t,n){jd(t,n,n[Un],2,null,null)}(this._lView[ln],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=n}}class C_ extends no{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;_l(n[ln],n,n[qn],!1)}checkNoChanges(){}get context(){return null}}class Qc extends gl{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Yn(n);return new uu(i,this.ngModule)}}function Xc(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class Qy{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,a){a=ui(a);const c=this.injector.get(n,e_,a);return c!==e_||i===e_?c:this.parentInjector.get(n,i,a)}}class uu extends qm{get inputs(){const n=this.componentDef,i=n.inputTransforms,a=Xc(n.inputs);if(null!==i)for(const c of a)i.hasOwnProperty(c.propName)&&(c.transform=i[c.propName]);return a}get outputs(){return Xc(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Jo(t){return t.map(ro).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,a,c){let h=(c=c||this.ngModule)instanceof Mu?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const _=h?new Qy(n,h):n,C=_.get(dg,null);if(null===C)throw new Re(407,!1);const pe={rendererFactory:C,sanitizer:_.get(Jm,null),effectManager:_.get(E_,null),afterRenderEventManager:_.get(l_,null)},He=C.createRenderer(null,this.componentDef),et=this.componentDef.selectors[0][0]||"div",St=a?function Me(t,n,i,a){const h=a.get(c_,!1)||i===er.ShadowDom,_=t.selectRootElement(n,h);return function $e(t){Ye(t)}(_),_}(He,a,this.componentDef.encapsulation,_):ru(He,et,function qy(t){const n=t.toLowerCase();return"svg"===n?v:"math"===n?"math":null}(et)),Wn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Lt=null;null!==St&&(Lt=Bc(St,_,!0));const Cr=Lr(0,null,null,1,0,null,null,null,null,null,null),Yr=lt(null,Cr,null,Wn,null,null,pe,He,_,null,Lt);let zi,Da;gi(Yr);try{const gc=this.componentDef;let ap,Yv=null;gc.findHostDirectiveDefs?(ap=[],Yv=new Map,gc.findHostDirectiveDefs(gc,ap,Yv),ap.push(gc)):ap=[gc];const ZA=function Yy(t,n){const i=t[ln],a=tr;return t[a]=n,xt(i,a,2,"#host",null)}(Yr,St),eD=function $f(t,n,i,a,c,h,_){const C=c[ln];!function b_(t,n,i,a){for(const c of t)n.mergedAttrs=mi(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(Wc(n,n.mergedAttrs,!0),null!==i&&Dm(a,i,n))}(a,t,n,_);let D=null;null!==n&&(D=Bc(n,c[qr]));const U=h.rendererFactory.createRenderer(n,i);let te=16;i.signals?te=4096:i.onPush&&(te=64);const pe=lt(c,yi(i),null,te,c[t.index],t,h,U,null,null,D);return C.firstCreatePass&&Gc(C,t,a.length-1),zc(c,pe),c[t.index]=pe}(ZA,St,gc,ap,Yr,pe,He);Da=ut(Cr,tr),St&&function Hf(t,n,i,a){if(a)ni(t,i,["ng-version",Zm.full]);else{const{attrs:c,classes:h}=function Es(t){const n=[],i=[];let a=1,c=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===c?""!==h&&n.push(h,t[++a]):8===c&&i.push(h);else{if(!Li(c))break;c=h}a++}return{attrs:n,classes:i}}(n.selectors[0]);c&&ni(t,i,c),h&&h.length>0&&Am(t,i,h.join(" "))}}(He,gc,St,a),void 0!==i&&function vl(t,n,i){const a=t.projection=[];for(let c=0;c<n.length;c++){const h=i[c];a.push(null!=h?Array.from(h):null)}}(Da,this.ngContentSelectors,i),zi=function Mg(t,n,i,a,c,h){const _=Xr(),C=c[ln],D=Ae(_,c);f_(C,c,_,i,null,a);for(let te=0;te<i.length;te++)rs(ka(c,C,_.directiveStart+te,_),c);p_(C,c,_),D&&rs(D,c);const U=ka(c,C,_.directiveStart+_.componentOffset,_);if(t[qn]=c[qn]=U,null!==h)for(const te of h)te(U,n);return rr(C,_,t),U}(eD,gc,ap,Yv,Yr,[w_]),Bf(Cr,Yr,null)}finally{Wa()}return new Xy(this.componentType,zi,th(Da,Yr),Yr,Da)}}class Xy extends Of{constructor(n,i,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new C_(c),this.componentType=n}setInput(n,i){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const h=this._rootLView;Uf(h[ln],h,c,n,i),this.previousInputValues.set(n,i),Ff(rn(this._tNode.index,h))}}get injector(){return new fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function w_(){const t=Xr();mu(ot()[ln],t)}function hh(t){let n=function Og(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;n;){let c;if(Ke(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Re(903,!1);c=n.\u0275dir}if(c){if(i){a.push(c);const _=t;_.inputs=fh(t.inputs),_.inputTransforms=fh(t.inputTransforms),_.declaredInputs=fh(t.declaredInputs),_.outputs=fh(t.outputs);const C=c.hostBindings;C&&Gf(t,C);const D=c.viewQuery,U=c.contentQueries;if(D&&A_(t,D),U&&Jy(t,U),it(t.inputs,c.inputs),it(t.declaredInputs,c.declaredInputs),it(t.outputs,c.outputs),null!==c.inputTransforms&&(null===_.inputTransforms&&(_.inputTransforms={}),it(_.inputTransforms,c.inputTransforms)),Ke(c)&&c.data.animation){const te=t.data;te.animation=(te.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let _=0;_<h.length;_++){const C=h[_];C&&C.ngInherit&&C(t),C===hh&&(i=!1)}}n=Object.getPrototypeOf(n)}!function xg(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=n+=c.hostVars,c.hostAttrs=mi(c.hostAttrs,i=mi(i,c.hostAttrs))}}(a)}function fh(t){return t===cr?{}:t===In?[]:t}function A_(t,n){const i=t.viewQuery;t.viewQuery=i?(a,c)=>{n(a,c),i(a,c)}:n}function Jy(t,n){const i=t.contentQueries;t.contentQueries=i?(a,c,h)=>{n(a,c,h),i(a,c,h)}:n}function Gf(t,n){const i=t.hostBindings;t.hostBindings=i?(a,c)=>{n(a,c),i(a,c)}:n}function Wf(t){const n=t.inputConfig,i={};for(const a in n)if(n.hasOwnProperty(a)){const c=n[a];Array.isArray(c)&&c[2]&&(i[a]=c[2])}t.inputTransforms=i}function gh(t){return!!Fg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Fg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ja(t,n,i){return t[n]=i}function As(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Xo(t,n,i,a){const c=As(t,n,i);return As(t,n+1,a)||c}function Kf(t,n,i,a){const c=ot();return As(c,Ga(),n)&&(An(),Ba(Hi(),c,t,n,i,a)),Kf}function Fu(t,n,i,a){return As(t,Ga(),i)?n+N(i)+a:b}function lu(t,n,i,a,c,h){const C=Xo(t,function Go(){return zn.lFrame.bindingIndex}(),i,c);return T(2),C?n+N(i)+a+N(c)+h:b}function bh(t,n,i,a,c,h,_,C){const D=ot(),U=An(),te=t+tr,pe=U.firstCreatePass?function B_(t,n,i,a,c,h,_,C,D){const U=n.consts,te=xt(n,t,4,_||null,Fn(U,C));mo(n,i,te,Fn(U,D)),mu(n,te);const pe=te.tView=Lr(2,te,a,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,U,null);return null!==n.queries&&(n.queries.template(n,te),pe.queries=n.queries.embeddedTView(te)),te}(te,U,D,n,i,a,c,h,_):U.data[te];Fs(pe,!1);const He=Kg(U,D,pe,t);Ko()&&df(U,D,He,pe),rs(He,D),zc(D,D[te]=bg(He,D,He,pe)),Ee(pe)&&Hn(U,D,pe),null!=_&&vr(D,pe,C)}let Kg=function qg(t,n,i,a){return ha(!0),n[Un].createComment("")};function Qg(t){return wt(function Ho(){return zn.lFrame.contextLView}(),tr+t)}function Zf(t,n,i){const a=ot();return As(a,Ga(),n)&&Qo(An(),Hi(),a,t,n,a[Un],i,!1),Zf}function id(t,n,i,a,c){const _=c?"class":"style";Uf(t,i,n.inputs[_],_,a)}function wh(t,n,i,a){const c=ot(),h=An(),_=tr+t,C=c[Un],D=h.firstCreatePass?function pa(t,n,i,a,c,h){const _=n.consts,D=xt(n,t,2,a,Fn(_,c));return mo(n,i,D,Fn(_,h)),null!==D.attrs&&Wc(D,D.attrs,!1),null!==D.mergedAttrs&&Wc(D,D.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,D),D}(_,h,c,n,i,a):h.data[_],U=p(h,c,D,C,n,t);c[_]=U;const te=Ee(D);return Fs(D,!0),Dm(C,U,D),32!=(32&D.flags)&&Ko()&&df(h,c,U,D),0===function co(){return zn.lFrame.elementDepthCount}()&&rs(U,c),function Zi(){zn.lFrame.elementDepthCount++}(),te&&(Hn(h,c,D),rr(h,D,c)),null!==a&&vr(c,D),wh}function Ah(){let t=Xr();da()?ts():(t=t.parent,Fs(t,!1));const n=t;(function ca(t){return zn.skipHydrationRootTNode===t})(n)&&function nr(){zn.skipHydrationRootTNode=null}(),function $o(){zn.lFrame.elementDepthCount--}();const i=An();return i.firstCreatePass&&(mu(i,t),q(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function vc(t){return 0!=(8&t.flags)}(n)&&id(i,n,ot(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Sl(t){return 0!=(16&t.flags)}(n)&&id(i,n,ot(),n.stylesWithoutHost,!1),Ah}function Tl(t,n,i,a){return wh(t,n,i,a),Ah(),Tl}let p=(t,n,i,a,c,h)=>(ha(!0),ru(a,c,function Dl(){return zn.lFrame.currentNamespace}()));function rt(t,n,i){const a=ot(),c=An(),h=t+tr,_=c.firstCreatePass?function ce(t,n,i,a,c){const h=n.consts,_=Fn(h,a),C=xt(n,t,8,"ng-container",_);return null!==_&&Wc(C,_,!0),mo(n,i,C,Fn(h,c)),null!==n.queries&&n.queries.elementStart(n,C),C}(h,c,a,n,i):c.data[h];Fs(_,!0);const C=Vi(c,a,_,t);return a[h]=C,Ko()&&df(c,a,C,_),rs(C,a),Ee(_)&&(Hn(c,a,_),rr(c,_,a)),null!=i&&vr(a,_),rt}function Et(){let t=Xr();const n=An();return da()?ts():(t=t.parent,Fs(t,!1)),n.firstCreatePass&&(mu(n,t),q(t)&&n.queries.elementEnd(t)),Et}function pn(t,n,i){return rt(t,n,i),Et(),pn}let Vi=(t,n,i,a)=>(ha(!0),fa(n[Un],""));function Ro(){return ot()}function _o(t){return!!t&&"function"==typeof t.then}function pc(t){return!!t&&"function"==typeof t.subscribe}function ga(t,n,i,a){const c=ot(),h=An(),_=Xr();return function DE(t,n,i,a,c,h,_){const C=Ee(a),U=t.firstCreatePass&&Fo(t),te=n[qn],pe=Do(n);let He=!0;if(3&a.type||_){const Kt=Ae(a,n),vn=_?_(Kt):Kt,Wn=pe.length,Lt=_?Yr=>_(P(Yr[a.index])):a.index;let Cr=null;if(!_&&C&&(Cr=function Xg(t,n,i,a){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const _=c[h];if(_===i&&c[h+1]===a){const C=n[ls],D=c[h+2];return C.length>D?C[D]:null}"string"==typeof _&&(h+=2)}return null}(t,n,c,a.index)),null!==Cr)(Cr.__ngLastListenerFn__||Cr).__ngNextListenerFn__=h,Cr.__ngLastListenerFn__=h,He=!1;else{h=RE(a,n,te,h,!1);const Yr=i.listen(vn,c,h);pe.push(h,Yr),U&&U.push(c,Lt,Wn,Wn+1)}}else h=RE(a,n,te,h,!1);const et=a.outputs;let St;if(He&&null!==et&&(St=et[c])){const Kt=St.length;if(Kt)for(let vn=0;vn<Kt;vn+=2){const zi=n[St[vn]][St[vn+1]].subscribe(h),Da=pe.length;pe.push(h,zi),U&&U.push(c,a.index,Da,-(Da+1))}}}(h,c,c[Un],_,t,n,a),ga}function SE(t,n,i,a){try{return V(6,n,i),!1!==i(a)}catch(c){return wg(t,c),!1}finally{V(7,n,i)}}function RE(t,n,i,a,c){return function h(_){if(_===Function)return a;Ff(t.componentOffset>-1?rn(t.index,n):n);let D=SE(n,i,a,_),U=h.__ngNextListenerFn__;for(;U;)D=SE(n,i,U,_)&&D,U=U.__ngNextListenerFn__;return c&&!1===D&&_.preventDefault(),D}}function PE(t=1){return function na(t){return(zn.lFrame.contextLView=function gu(t,n){for(;t>0;)n=n[Os],t--;return n}(t,zn.lFrame.contextLView))[qn]}(t)}function j0(t,n){let i=null;const a=function os(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let c=0;c<n.length;c++){const h=n[c];if("*"!==h){if(null===a?Rs(t,h,!0):yo(a,h))return c}else i=c}return i}function ME(t){const n=ot()[Rn][sr];if(!n.projection){const a=n.projection=Yu(t?t.length:1,null),c=a.slice();let h=n.child;for(;null!==h;){const _=t?j0(h,t):0;null!==_&&(c[_]?c[_].projectionNext=h:a[_]=h,c[_]=h),h=h.next}}}function OE(t,n=0,i){const a=ot(),c=An(),h=xt(c,tr+t,16,null,i||null);null===h.projection&&(h.projection=n),ts(),(!a[gs]||Ws())&&32!=(32&h.flags)&&function xp(t,n,i){iu(n[Un],0,n,i,Vd(t,i,n),uf(i.parent||n[sr],i,n))}(c,a,h)}function rv(t,n,i){return iv(t,"",n,"",i),rv}function iv(t,n,i,a,c){const h=ot(),_=Fu(h,n,i,a);return _!==b&&Qo(An(),Hi(),h,t,_,h[Un],c,!1),iv}function sv(t,n,i,a,c,h,_){const C=ot(),D=lu(C,n,i,a,c,h);return D!==b&&Qo(An(),Hi(),C,t,D,C[Un],_,!1),sv}function H_(t,n){return t<<17|n<<2}function sd(t){return t>>17&32767}function ov(t){return 2|t}function Sh(t){return(131068&t)>>2}function av(t,n){return-131069&t|n<<2}function uv(t){return 1|t}function BE(t,n,i,a,c){const h=t[i+1],_=null===n;let C=a?sd(h):Sh(h),D=!1;for(;0!==C&&(!1===D||_);){const te=t[C+1];K0(t[C],n)&&(D=!0,t[C+1]=a?uv(te):ov(te)),C=a?sd(te):Sh(te)}D&&(t[i+1]=a?ov(h):uv(h))}function K0(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&nu(t,n)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jE(t){return t.substring(Po.key,Po.keyEnd)}function q0(t){return t.substring(Po.value,Po.valueEnd)}function $E(t,n){const i=Po.textEnd;return i===n?-1:(n=Po.keyEnd=function Y0(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Po.key=n,i),ep(t,n,i))}function HE(t,n){const i=Po.textEnd;let a=Po.key=ep(t,n,i);return i===a?-1:(a=Po.keyEnd=function J0(t,n,i){let a;for(;n<i&&(45===(a=t.charCodeAt(n))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)n++;return n}(t,a,i),a=zE(t,a,i),a=Po.value=ep(t,a,i),a=Po.valueEnd=function Z0(t,n,i){let a=-1,c=-1,h=-1,_=n,C=_;for(;_<i;){const D=t.charCodeAt(_++);if(59===D)return C;34===D||39===D?C=_=WE(t,D,_,i):n===_-4&&85===h&&82===c&&76===a&&40===D?C=_=WE(t,41,_,i):D>32&&(C=_),h=c,c=a,a=-33&D}return C}(t,a,i),zE(t,a,i))}function GE(t){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=t.length}function ep(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function zE(t,n,i,a){return(n=ep(t,n,i))<i&&n++,n}function WE(t,n,i,a){let c=-1,h=i;for(;h<a;){const _=t.charCodeAt(h++);if(_==n&&92!==c)return h;c=92==_&&92===c?0:_}throw new Error}function lv(t,n,i){return Uu(t,n,i,!1),lv}function cv(t,n){return Uu(t,n,null,!0),cv}function eC(t,n){for(let i=function X0(t){return GE(t),HE(t,ep(t,0,Po.textEnd))}(n);i>=0;i=HE(n,i))XE(t,jE(n),q0(n))}function KE(t){Bu(oC,bl,t,!0)}function bl(t,n){for(let i=function Q0(t){return GE(t),$E(t,ep(t,0,Po.textEnd))}(n);i>=0;i=$E(n,i))wo(t,jE(n),!0)}function Uu(t,n,i,a){const c=ot(),h=An(),_=T(2);h.firstUpdatePass&&QE(h,t,_,a),n!==b&&As(c,_,n)&&YE(h,h.data[ko()],c,c[Un],t,c[_+1]=function uC(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=pt(ou(t)))),t}(n,i),a,_)}function Bu(t,n,i,a){const c=An(),h=T(2);c.firstUpdatePass&&QE(c,null,h,a);const _=ot();if(i!==b&&As(_,h,i)){const C=c.data[ko()];if(ZE(C,a)&&!qE(c,h)){let D=a?C.classesWithoutHost:C.stylesWithoutHost;null!==D&&(i=Pt(D,i||"")),id(c,C,_,i,a)}else!function aC(t,n,i,a,c,h,_,C){c===b&&(c=In);let D=0,U=0,te=0<c.length?c[0]:null,pe=0<h.length?h[0]:null;for(;null!==te||null!==pe;){const He=D<c.length?c[D+1]:void 0,et=U<h.length?h[U+1]:void 0;let Kt,St=null;te===pe?(D+=2,U+=2,He!==et&&(St=pe,Kt=et)):null===pe||null!==te&&te<pe?(D+=2,St=te):(U+=2,St=pe,Kt=et),null!==St&&YE(t,n,i,a,St,Kt,_,C),te=D<c.length?c[D]:null,pe=U<h.length?h[U]:null}}(c,C,_,_[Un],_[h+1],_[h+1]=function sC(t,n,i){if(null==i||""===i)return In;const a=[],c=ou(i);if(Array.isArray(c))for(let h=0;h<c.length;h++)t(a,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&t(a,h,c[h]);else"string"==typeof c&&n(a,c);return a}(t,n,i),a,h)}}function qE(t,n){return n>=t.expandoStartIndex}function QE(t,n,i,a){const c=t.data;if(null===c[i+1]){const h=c[ko()],_=qE(t,i);ZE(h,a)&&null===n&&!_&&(n=!1),n=function tC(t,n,i,a){const c=ye(t);let h=a?n.residualClasses:n.residualStyles;if(null===c)0===(a?n.classBindings:n.styleBindings)&&(i=Yg(i=dv(null,t,n,i,a),n.attrs,a),h=null);else{const _=n.directiveStylingLast;if(-1===_||t[_]!==c)if(i=dv(c,t,n,i,a),null===h){let D=function nC(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==Sh(a))return t[sd(a)]}(t,n,a);void 0!==D&&Array.isArray(D)&&(D=dv(null,t,n,D[1],a),D=Yg(D,n.attrs,a),function rC(t,n,i,a){t[sd(i?n.classBindings:n.styleBindings)]=a}(t,n,a,D))}else h=function iC(t,n,i){let a;const c=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<c;h++)a=Yg(a,t[h].hostAttrs,i);return Yg(a,n.attrs,i)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),i}(c,h,n,a),function z0(t,n,i,a,c,h){let _=h?n.classBindings:n.styleBindings,C=sd(_),D=Sh(_);t[a]=i;let te,U=!1;if(Array.isArray(i)?(te=i[1],(null===te||nu(i,te)>0)&&(U=!0)):te=i,c)if(0!==D){const He=sd(t[C+1]);t[a+1]=H_(He,C),0!==He&&(t[He+1]=av(t[He+1],a)),t[C+1]=function H0(t,n){return 131071&t|n<<17}(t[C+1],a)}else t[a+1]=H_(C,0),0!==C&&(t[C+1]=av(t[C+1],a)),C=a;else t[a+1]=H_(D,0),0===C?C=a:t[D+1]=av(t[D+1],a),D=a;U&&(t[a+1]=ov(t[a+1])),BE(t,te,a,!0),BE(t,te,a,!1),function W0(t,n,i,a,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&nu(h,n)>=0&&(i[a+1]=uv(i[a+1]))}(n,te,t,a,h),_=H_(C,D),h?n.classBindings=_:n.styleBindings=_}(c,h,n,i,_,a)}}function dv(t,n,i,a,c){let h=null;const _=i.directiveEnd;let C=i.directiveStylingLast;for(-1===C?C=i.directiveStart:C++;C<_&&(h=n[C],a=Yg(a,h.hostAttrs,c),h!==t);)C++;return null!==t&&(i.directiveStylingLast=C),a}function Yg(t,n,i){const a=i?1:2;let c=-1;if(null!==n)for(let h=0;h<n.length;h++){const _=n[h];"number"==typeof _?c=_:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),wo(t,_,!!i||n[++h]))}return void 0===t?null:t}function XE(t,n,i){wo(t,n,ou(i))}function oC(t,n,i){const a=String(n);""!==a&&!a.includes(" ")&&wo(t,a,i)}function YE(t,n,i,a,c,h,_,C){if(!(3&n.type))return;const D=t.data,U=D[C+1],te=function G0(t){return 1==(1&t)}(U)?JE(D,n,i,c,Sh(U),_):void 0;G_(te)||(G_(h)||function $0(t){return 2==(2&t)}(U)&&(h=JE(D,null,i,c,C,_)),function cy(t,n,i,a,c){if(n)c?t.addClass(i,a):t.removeClass(i,a);else{let h=-1===a.indexOf("-")?void 0:Od.DashCase;null==c?t.removeStyle(i,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=Od.Important),t.setStyle(i,a,c,h))}}(a,_,le(ko(),i),c,h))}function JE(t,n,i,a,c,h){const _=null===n;let C;for(;c>0;){const D=t[c],U=Array.isArray(D),te=U?D[1]:D,pe=null===te;let He=i[c+1];He===b&&(He=pe?In:void 0);let et=pe?Cu(He,a):te===a?He:void 0;if(U&&!G_(et)&&(et=Cu(D,a)),G_(et)&&(C=et,_))return C;const St=t[c+1];c=_?sd(St):Sh(St)}if(null!==n){let D=h?n.residualClasses:n.residualStyles;null!=D&&(C=Cu(D,a))}return C}function G_(t){return void 0!==t}function ZE(t,n){return 0!=(t.flags&(n?8:16))}function eI(t,n=""){const i=ot(),a=An(),c=t+tr,h=a.firstCreatePass?xt(a,c,1,n,null):a.data[c],_=tI(a,i,h,n,t);i[c]=_,Ko()&&df(a,i,_,h),Fs(h,!1)}let tI=(t,n,i,a,c)=>(ha(!0),function xr(t,n){return t.createText(n)}(n[Un],a));function hv(t){return z_("",t,""),hv}function z_(t,n,i){const a=ot(),c=Fu(a,t,n,i);return c!==b&&function ku(t,n,i){const a=le(n,t);!function po(t,n,i){t.setValue(n,i)}(t[Un],a,i)}(a,ko(),c),z_}function cI(t,n,i){!function Cl(t){Bu(XE,eC,t,!1)}(Fu(ot(),t,n,i))}function fv(t,n,i){const a=ot();return As(a,Ga(),n)&&Qo(An(),Hi(),a,t,n,a[Un],i,!0),fv}function pv(t,n,i){const a=ot();if(As(a,Ga(),n)){const h=An(),_=Hi();Qo(h,_,a,t,n,ch(ye(h.data),_,a),i,!0)}return pv}const Rh=void 0;var RC=["en",[["a","p"],["AM","PM"],Rh],[["AM","PM"],Rh,Rh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rh,"{1} 'at' {0}",Rh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function SC(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let tp={};function gv(t){const n=function PC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=II(n);if(i)return i;const a=n.split("-")[0];if(i=II(a),i)return i;if("en"===a)return RC;throw new Re(701,!1)}function EI(t){return gv(t)[np.PluralCase]}function II(t){return t in tp||(tp[t]=Pn.ng&&Pn.ng.common&&Pn.ng.common.locales&&Pn.ng.common.locales[t]),tp[t]}var np=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(np||{});const rp="en-US";let TI=rp;function yv(t,n,i,a,c){if(t=Le(t),Array.isArray(t))for(let h=0;h<t.length;h++)yv(t[h],n,i,a,c);else{const h=An(),_=ot(),C=Xr();let D=ll(t)?t:Le(t.provide);const U=Fc(t),te=1048575&C.providerIndexes,pe=C.directiveStart,He=C.providerIndexes>>20;if(ll(t)||!t.multi){const et=new Ka(U,c,ne),St=Ev(D,n,c?te:te+He,pe);-1===St?(Pl(Na(C,_),h,D),vv(h,t,n.length),n.push(D),C.directiveStart++,C.directiveEnd++,c&&(C.providerIndexes+=1048576),i.push(et),_.push(et)):(i[St]=et,_[St]=et)}else{const et=Ev(D,n,te+He,pe),St=Ev(D,n,te,te+He),vn=St>=0&&i[St];if(c&&!vn||!c&&!(et>=0&&i[et])){Pl(Na(C,_),h,D);const Wn=function Sb(t,n,i,a,c){const h=new Ka(t,i,ne);return h.multi=[],h.index=n,h.componentProviders=0,KI(h,c,a&&!i),h}(c?Db:Ab,i.length,c,a,U);!c&&vn&&(i[St].providerFactory=Wn),vv(h,t,n.length,0),n.push(D),C.directiveStart++,C.directiveEnd++,c&&(C.providerIndexes+=1048576),i.push(Wn),_.push(Wn)}else vv(h,t,et>-1?et:St,KI(i[c?St:et],U,!c&&a));!c&&a&&vn&&i[St].componentProviders++}}}function vv(t,n,i,a){const c=ll(n),h=function rE(t){return!!t.useClass}(n);if(c||h){const D=(h?Le(n.useClass):n).prototype.ngOnDestroy;if(D){const U=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const te=U.indexOf(i);-1===te?U.push(i,[a,D]):U[te+1].push(a,D)}else U.push(i,D)}}}function KI(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Ev(t,n,i,a){for(let c=i;c<a;c++)if(n[c]===t)return c;return-1}function Ab(t,n,i,a){return Iv(this.multi,[])}function Db(t,n,i,a){const c=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=ka(i,i[ln],this.providerFactory.index,a);h=C.slice(0,_),Iv(c,h);for(let D=_;D<C.length;D++)h.push(C[D])}else h=[],Iv(c,h);return h}function Iv(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function qI(t,n=[]){return i=>{i.providersResolver=(a,c)=>function wb(t,n,i){const a=An();if(a.firstCreatePass){const c=Ke(t);yv(i,a.data,a.blueprint,c,!0),yv(n,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,n)}}class Ph{}class QI{}function Rb(t,n){return new Tv(t,n??null,[])}class Tv extends Ph{constructor(n,i,a){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qc(this);const c=Ei(n);this._bootstrapComponents=ml(c.bootstrap),this._r3Injector=Oy(n,i,[{provide:Ph,useValue:this},{provide:gl,useValue:this.componentFactoryResolver},...a],pt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Cv extends QI{constructor(n){super(),this.moduleType=n}create(n){return new Tv(this.moduleType,n,[])}}class XI extends Ph{constructor(n){super(),this.componentFactoryResolver=new Qc(this),this.instance=null;const i=new Gd([...n.providers,{provide:Ph,useValue:this},{provide:gl,useValue:this.componentFactoryResolver}],n.parent||ig(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function YI(t,n,i=null){return new XI({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let Mb=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const a=ng(0,i.type),c=a.length>0?YI([a],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=At({token:t,providedIn:"environment",factory:()=>new t(zt(Mu))})}}return t})();function JI(t){t.getStandaloneInjector=n=>n.get(Mb).getOrCreateStandaloneInjector(t)}function sT(t,n,i){const a=$i()+t,c=ot();return c[a]===b?ja(c,a,i?n.call(i):n()):function mh(t,n){return t[n]}(c,a)}function oT(t,n,i,a){return uT(ot(),$i(),t,n,i,a)}function aT(t,n,i,a,c){return function lT(t,n,i,a,c,h,_){const C=n+i;return Xo(t,C,c,h)?ja(t,C+2,_?a.call(_,c,h):a(c,h)):rm(t,C+2)}(ot(),$i(),t,n,i,a,c)}function rm(t,n){const i=t[n];return i===b?void 0:i}function uT(t,n,i,a,c,h){const _=n+i;return As(t,_,c)?ja(t,_+1,h?a.call(h,c):a(c)):rm(t,_+1)}function fT(t,n){const i=An();let a;const c=t+tr;i.firstCreatePass?(a=function Kb(t,n){if(n)for(let i=n.length-1;i>=0;i--){const a=n[i];if(t===a.name)return a}}(n,i.pipeRegistry),i.data[c]=a,a.onDestroy&&(i.destroyHooks??=[]).push(c,a.onDestroy)):a=i.data[c];const h=a.factory||(a.factory=ao(a.type)),C=br(ne);try{const D=xa(!1),U=h();return xa(D),function $_(t,n,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=a}(i,ot(),c,U),U}finally{br(C)}}function pT(t,n,i){const a=t+tr,c=ot(),h=wt(c,a);return function im(t,n){return t[ln].data[n].pure}(c,a)?uT(c,$i(),n,h.transform,i,h):h.transform(i)}function Jb(){return this._results[Symbol.iterator]()}class wv{get changes(){return this._changes||(this._changes=new ia)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=wv.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Jb)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const a=this;a.dirty=!1;const c=function qo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Uh(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],h=n[a];if(i&&(c=i(c),h=i(h)),h!==c)return!1}return!0}(a._results,c,i))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ew(t,n,i,a=!0){const c=n[ln];if(function Wl(t,n,i,a){const c=Ui+a,h=i.length;a>0&&(i[c-1][Pi]=n),a<h-Ui?(n[Pi]=i[c],Bh(i,Ui+a,n)):(i.push(n),n[Pi]=null),n[_r]=i;const _=n[yr];null!==_&&i!==_&&function sf(t,n){const i=t[Rr];n[Rn]!==n[_r][_r][Rn]&&(t[Ns]=!0),null===i?t[Rr]=[n]:i.push(n)}(_,n);const C=n[hi];null!==C&&C.insertView(t),n[Jn]|=128}(c,n,t,i),a){const h=Ud(i,t),_=n[Un],C=Ld(_,t[Gs]);null!==C&&function Fd(t,n,i,a,c,h){a[Wr]=c,a[sr]=n,jd(t,a,i,1,c,h)}(c,t[sr],_,n,C,h)}}let sm=(()=>{class t{static{this.__NG_ELEMENT_ID__=rw}}return t})();const tw=sm,nw=class extends tw{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,a){const c=function Zb(t,n,i,a){const c=n.tView,C=lt(t,c,i,4096&t[Jn]?4096:16,null,n,null,null,null,a?.injector??null,a?.hydrationInfo??null);C[yr]=t[n.index];const U=t[hi];return null!==U&&(C[hi]=U.createEmbeddedView(c)),Bf(c,C,i),C}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:a});return new no(c)}};function rw(){return X_(Xr(),ot())}function X_(t,n){return 4&t.type?new nw(n,t,th(t,n)):null}let J_=(()=>{class t{static{this.__NG_ELEMENT_ID__=lw}}return t})();function lw(){return IT(Xr(),ot())}const cw=J_,vT=class extends cw{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return th(this._hostTNode,this._hostLView)}get injector(){return new fo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Rl(this._hostTNode,this._hostLView);if(Ec(n)){const i=Gu(n,this._hostLView),a=Ia(n);return new fo(i[ln].data[a+8],i)}return new fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=ET(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Ui}createEmbeddedView(n,i,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const C=n.createEmbeddedViewImpl(i||{},h,null);return this.insertImpl(C,c,false),C}createComponent(n,i,a,c,h){const _=n&&!function Xu(t){return"function"==typeof t}(n);let C;if(_)C=i;else{const Kt=i||{};C=Kt.index,a=Kt.injector,c=Kt.projectableNodes,h=Kt.environmentInjector||Kt.ngModuleRef}const D=_?n:new uu(Yn(n)),U=a||this.parentInjector;if(!h&&null==D.ngModule){const vn=(_?U:this.parentInjector).get(Mu,null);vn&&(h=vn)}Yn(D.componentType??{});const et=D.create(U,c,null,h);return this.insertImpl(et.hostView,C,false),et}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,a){const c=n._lView;if(function gr(t){return W(t[_r])}(c)){const D=this.indexOf(n);if(-1!==D)this.detach(D);else{const U=c[_r],te=new vT(U,U[sr],U[_r]);te.detach(te.indexOf(n))}}const _=this._adjustIndex(i),C=this._lContainer;return ew(C,c,_,!a),n.attachToViewContainerRef(),Bh(Av(C),_,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=ET(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=Su(this._lContainer,i);a&&(xl(Av(this._lContainer),i),ol(a[ln],a))}detach(n){const i=this._adjustIndex(n,-1),a=Su(this._lContainer,i);return a&&null!=xl(Av(this._lContainer),i)?new no(a):null}_adjustIndex(n,i=0){return n??this.length+i}};function ET(t){return t[8]}function Av(t){return t[8]||(t[8]=[])}function IT(t,n){let i;const a=n[t.index];return W(a)?i=a:(i=bg(a,n,null,t),n[t.index]=i,zc(n,i)),TT(i,n,t,a),new vT(i,t,n)}let TT=function CT(t,n,i,a){if(t[Gs])return;let c;c=8&i.type?P(a):function dw(t,n){const i=t[Un],a=i.createComment(""),c=Ae(n,t);return Ru(i,Ld(i,c),a,function ly(t,n){return t.nextSibling(n)}(i,c),!1),a}(n,i),t[Gs]=c};class Dv{constructor(n){this.queryList=n,this.matches=null}clone(){return new Dv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let h=0;h<a;h++){const _=i.getByIndex(h);c.push(this.queries[_.indexInDeclarationView].clone())}return new Sv(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==OT(n,i).matches&&this.queries[i].setDirty()}}class bT{constructor(n,i,a=null){this.predicate=n,this.flags=i,this.read=a}}class Rv{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const c=null!==i?i.length:0,h=this.getByIndex(a).embeddedTView(n,c);h&&(h.indexInDeclarationView=a,null!==i?i.push(h):i=[h])}return null!==i?new Rv(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Pv{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Pv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(n,i,pw(i,h)),this.matchTNodeWithReadOption(n,i,Wu(i,n,h,!1,!1))}else a===sm?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Wu(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===jc||c===J_||c===sm&&4&i.type)this.addMatch(i.index,-2);else{const h=Wu(i,n,c,!1,!1);null!==h&&this.addMatch(i.index,h)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function pw(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function mw(t,n,i,a){return-1===i?function gw(t,n){return 11&t.type?th(t,n):4&t.type?X_(t,n):null}(n,t):-2===i?function _w(t,n,i){return i===jc?th(n,t):i===sm?X_(n,t):i===J_?IT(n,t):void 0}(t,n,a):ka(t,t[ln],i,n)}function wT(t,n,i,a){const c=n[hi].queries[a];if(null===c.matches){const h=t.data,_=i.matches,C=[];for(let D=0;D<_.length;D+=2){const U=_[D];C.push(U<0?null:mw(n,h[U],_[D+1],i.metadata.read))}c.matches=C}return c.matches}function Mv(t,n,i,a){const c=t.queries.getByIndex(i),h=c.matches;if(null!==h){const _=wT(t,n,c,i);for(let C=0;C<h.length;C+=2){const D=h[C];if(D>0)a.push(_[C/2]);else{const U=h[C+1],te=n[-D];for(let pe=Ui;pe<te.length;pe++){const He=te[pe];He[yr]===He[_r]&&Mv(He[ln],He,U,a)}if(null!==te[Rr]){const pe=te[Rr];for(let He=0;He<pe.length;He++){const et=pe[He];Mv(et[ln],et,U,a)}}}}}return a}function AT(t){const n=ot(),i=An(),a=ct();at(a+1);const c=OT(i,a);if(t.dirty&&function Cn(t){return 4==(4&t[Jn])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?Mv(i,n,a,[]):wT(i,n,c,a);t.reset(h,Qm),t.notifyOnChanges()}return!0}return!1}function DT(t,n,i){const a=An();a.firstCreatePass&&(MT(a,new bT(t,n,i),-1),2==(2&n)&&(a.staticViewQueries=!0)),PT(a,ot(),n)}function ST(t,n,i,a){const c=An();if(c.firstCreatePass){const h=Xr();MT(c,new bT(n,i,a),h.index),function vw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(c,t),2==(2&i)&&(c.staticContentQueries=!0)}PT(c,ot(),i)}function RT(){return function yw(t,n){return t[hi].queries[n].queryList}(ot(),ct())}function PT(t,n,i){const a=new wv(4==(4&i));(function Be(t,n,i,a){const c=Do(n);c.push(i),t.firstCreatePass&&Fo(t).push(a,c.length-1)})(t,n,a,a.destroy),null===n[hi]&&(n[hi]=new Sv),n[hi].queries.push(new Dv(a))}function MT(t,n,i){null===t.queries&&(t.queries=new Rv),t.queries.track(new Pv(n,i))}function OT(t,n){return t.queries.getByIndex(n)}function xT(t,n){return X_(t,n)}function Ov(t){return!!Ei(t)}const XT=new kn("Application Initializer");let Vv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a}),this.appInits=an(XT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const h=c();if(_o(h))i.push(h);else if(pc(h)){const _=new Promise((C,D)=>{h.subscribe({complete:C,error:D})});i.push(_)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{a()}).catch(c=>{this.reject(c)}),0===i.length&&a(),this.initialized=!0}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),YT=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const ey=new kn("LocaleId",{providedIn:"root",factory:()=>an(ey,cn.Optional|cn.SkipSelf)||function Bw(){return typeof $localize<"u"&&$localize.locale||rp}()}),jw=new kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let JT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ge.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Hw{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Gw=(()=>{class t{compileModuleSync(i){return new Cv(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const a=this.compileModuleSync(i),h=ml(Ei(i).declarations).reduce((_,C)=>{const D=Yn(C);return D&&_.push(new uu(D)),_},[]);return new Hw(a,h)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const n0=new kn(""),r0=new kn("");let Bv,hA=(()=>{class t{constructor(i,a,c){this._ngZone=i,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Bv||(function fA(t){Bv=t}(c),c.addToWindow(a)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{go.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),i(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:i,timeoutId:h,updateCb:c})}whenStable(i,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,a,c){return[]}static{this.\u0275fac=function(a){return new(a||t)(zt(go),zt(s0),zt(r0))}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac})}}return t})(),s0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return Bv?.findTestabilityInTree(this,i,a)??null}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),od=null;const jv=new kn("PlatformDestroyListeners"),$v=new kn("appBootstrapListener");class mA{constructor(n,i){this.name=n,this.token=i}}function vA(t){try{const{rootComponent:n,appProviders:i,platformProviders:a}=t,c=function yA(t=[]){if(od)return od;const n=function l0(t=[],n){return au.create({name:n,providers:[{provide:jm,useValue:"platform"},{provide:jv,useValue:new Set([()=>od=null])},...t]})}(t);return od=n,function a0(){!function Rt(t){Ie=t}(()=>{throw new Re(600,!1)})}(),function u0(t){t.get(zm,null)?.forEach(i=>i())}(n),n}(a),h=[bA(),...i||[]],C=new XI({providers:h,parent:c,debugName:"",runEnvironmentInitializers:!1}).injector,D=C.get(go);return D.run(()=>{C.resolveInjectorInitializers();const U=C.get(oc,null);let te;D.runOutsideAngular(()=>{te=D.onError.subscribe({next:et=>{U.handleError(et)}})});const pe=()=>C.destroy(),He=c.get(jv);return He.add(pe),C.onDestroy(()=>{te.unsubscribe(),He.delete(pe)}),function h0(t,n,i){try{const a=i();return _o(a)?a.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(U,D,()=>{const et=C.get(Vv);return et.runInitializers(),et.donePromise.then(()=>{!function CI(t){Wt(t,"Expected localeId to be defined"),"string"==typeof t&&(TI=t.toLowerCase().replace(/_/g,"-"))}(C.get(ey,rp)||rp);const Kt=C.get(op);return void 0!==n&&Kt.bootstrap(n),Kt})})})}catch(n){return Promise.reject(n)}}let op=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=an(g0),this.zoneIsStable=an(s_),this.componentTypes=[],this.components=[],this.isStable=an(JT).hasPendingTasks.pipe((0,Ft.n)(i=>i?(0,Te.of)(!1):this.zoneIsStable),function Mn(t,n=Qt.D){return t=t??nn,(0,Ct.N)((i,a)=>{let c,h=!0;i.subscribe((0,on._)(a,_=>{const C=n(_);(h||!t(c,C))&&(h=!1,c=C,a.next(_))}))})}(),bt()),this._injector=an(Mu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,a){const c=i instanceof qm;if(!this._injector.get(Vv).done)throw!c&&Cs(i),new Re(405,!1);let _;_=c?i:this._injector.get(gl).resolveComponentFactory(i),this.componentTypes.push(_.componentType);const C=function gA(t){return t.isBoundToModule}(_)?void 0:this._injector.get(Ph),U=_.create(au.NULL,[],a||_.selector,C),te=U.location.nativeElement,pe=U.injector.get(n0,null);return pe?.registerApplication(te),U.onDestroy(()=>{this.detachView(U.hostView),ny(this.components,U),pe?.unregisterApplication(te)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new Re(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;ny(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const a=this._injector.get($v,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>ny(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Re(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ny(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const g0=new kn("",{providedIn:"root",factory:()=>an(oc).handleError.bind(void 0)});function TA(){const t=an(go),n=an(oc);return i=>t.runOutsideAngular(()=>n.handleError(i))}let CA=(()=>{class t{constructor(){this.zone=an(go),this.applicationRef=an(op)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=At({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function m0(t){return[{provide:go,useFactory:t},{provide:is,multi:!0,useFactory:()=>{const n=an(CA,{optional:!0});return()=>n.initialize()}},{provide:g0,useFactory:TA},{provide:s_,useFactory:o_}]}function bA(t){return Tf([[],m0(()=>new go(function d0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}(t)))])}let wA=(()=>{class t{static{this.__NG_ELEMENT_ID__=AA}}return t})();function AA(t){return function DA(t,n,i){if(fe(t)&&!i){const a=rn(t.index,n);return new no(a,a)}return 47&t.type?new no(n[Rn],n):null}(Xr(),ot(),16==(16&t))}class I0{constructor(){}supports(n){return gh(n)}create(n){return new OA(n)}}const MA=(t,n)=>n;class OA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||MA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,c=0,h=null;for(;i||a;){const _=!a||i&&i.currentIndex<C0(a,c,h)?i:a,C=C0(_,c,h),D=_.currentIndex;if(_===a)c--,a=a._nextRemoved;else if(i=i._next,null==_.previousIndex)c++;else{h||(h=[]);const U=C-c,te=D-c;if(U!=te){for(let He=0;He<U;He++){const et=He<h.length?h[He]:h[He]=0,St=et+He;te<=St&&St<U&&(h[He]=et+1)}h[_.previousIndex]=te-U}}C!==D&&n(_,C,D)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!gh(n))throw new Re(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,_,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let C=0;C<this.length;C++)h=n[C],_=this._trackByFn(C,h),null!==i&&Object.is(i.trackById,_)?(a&&(i=this._verifyReinsertion(i,h,_,C)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,_,C),a=!0),i=i._next}else c=0,function ev(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,C=>{_=this._trackByFn(c,C),null!==i&&Object.is(i.trackById,_)?(a&&(i=this._verifyReinsertion(i,C,_,c)),Object.is(i.item,C)||this._addIdentityChange(i,C)):(i=this._mismatch(i,C,_,c),a=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,h,c)):n=this._addAfter(new xA(i,a),h,c),n}_verifyReinsertion(n,i,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new T0),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new T0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class xA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class NA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class T0{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new NA,this.map.set(i,a)),a.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function C0(t,n,i){const a=t.previousIndex;if(null===a)return a;let c=0;return i&&a<i.length&&(c=i[a]),a+n+c}class b0{constructor(){}supports(n){return n instanceof Map||Fg(n)}create(){return new kA}}class kA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Fg(n)))throw new Re(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(c,a);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const h=c._prev,_=c._next;return h&&(h._next=_),_&&(_._prev=h),c._next=null,c._prev=null,c}const a=new FA(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class FA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function w0(){return new qv([new I0])}let qv=(()=>{class t{static{this.\u0275prov=At({token:t,providedIn:"root",factory:w0})}constructor(i){this.factories=i}static create(i,a){if(null!=a){const c=a.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||w0()),deps:[[t,new Ju,new wu]]}}find(i){const a=this.factories.find(c=>c.supports(i));if(null!=a)return a;throw new Re(901,!1)}}return t})();function A0(){return new Qv([new b0])}let Qv=(()=>{class t{static{this.\u0275prov=At({token:t,providedIn:"root",factory:A0})}constructor(i){this.factories=i}static create(i,a){if(a){const c=a.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||A0()),deps:[[t,new Ju,new wu]]}}find(i){const a=this.factories.find(c=>c.supports(i));if(a)return a;throw new Re(901,!1)}}return t})(),UA=(()=>{class t{constructor(i){}static{this.\u0275fac=function(a){return new(a||t)(zt(op))}}static{this.\u0275mod=Bs({type:t})}static{this.\u0275inj=Qn({})}}return t})();function XA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function JA(t){const n=Yn(t);if(!n)return null;const i=new uu(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7440:(gn,dt,z)=>{z.d(dt,{MW:()=>Ct,Wp:()=>Qt,XU:()=>Ce,gL:()=>re});var o=z(2214),se=z(540),Je=z(3586);class Ce{constructor(it){return it}}class re{constructor(){return(0,o.Dk)()}}const je=new se.nKC("angularfire2._apps"),Ze={provide:Ce,useFactory:function Ne(Oe){return Oe&&1===Oe.length?Oe[0]:new Ce((0,o.Sx)())},deps:[[new se.Xx1,je]]},ge={provide:re,deps:[[new se.Xx1,je]]};function Te(Oe){return(it,pt)=>{const Pt=it.runOutsideAngular(()=>Oe(pt));return new Ce(Pt)}}let Qe=(()=>{class Oe{constructor(pt){(0,o.KO)("angularfire",Je.xv.full,"core"),(0,o.KO)("angularfire",Je.xv.full,"app"),(0,o.KO)("angular",se.xvI.full,pt.toString())}static \u0275fac=function(Pt){return new(Pt||Oe)(se.KVO(se.Agw))};static \u0275mod=se.$C({type:Oe});static \u0275inj=se.G2t({providers:[Ze,ge]})}return Oe})();function Ct(Oe,...it){return{ngModule:Qe,providers:[{provide:je,useFactory:Te(Oe),multi:!0,deps:[se.SKi,se.zZn,Je.u0,...it]}]}}const Qt=(0,Je.S3)(o.Wp,!0)},8563:(gn,dt,z)=>{z.d(dt,{Nj:()=>Va,DF:()=>ys,wh:()=>Dc,xI:()=>Hl,_q:()=>_p,x9:()=>Zh,CI:()=>rs});var o=z(3586),se=z(540),Je=z(7440),Ce=z(2214),re=z(467),Fe=z(7852),Ne=z(1076),je=z(8041),Ze=z(1635),ge=z(1362);const Mn=function Qt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nn=new Ne.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),it=new je.Vy("@firebase/auth");function Pt(I,...d){it.logLevel<=je.$b.ERROR&&it.error(`Auth (${Fe.MF}): ${I}`,...d)}function $t(I,...d){throw mr(I,...d)}function Bt(I,...d){return mr(I,...d)}function Le(I,d,g){const w=Object.assign(Object.assign({},Mn()),{[d]:g});return new Ne.FA("auth","Firebase",w).create(d,{appName:I.name})}function Jt(I){return Le(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mr(I,...d){if("string"!=typeof I){const g=d[0],w=[...d.slice(1)];return w[0]&&(w[0].appName=I.name),I._errorFactory.create(g,...w)}return nn.create(I,...d)}function qe(I,d,...g){if(!I)throw mr(d,...g)}function Re(I){const d="INTERNAL ASSERTION FAILED: "+I;throw Pt(d),new Error(d)}function qt(I,d){I||Re(d)}function N(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function ue(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class _e{constructor(d,g){this.shortDelay=d,this.longDelay=g,qt(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,Ne.jZ)()||(0,Ne.lV)()}get(){return function Nt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function X(){return"http:"===ue()||"https:"===ue()}()||(0,Ne.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function me(I,d){qt(I.emulator,"Emulator should always be set here");const{url:g}=I.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class oe{static initialize(d,g,w){this.fetchImpl=d,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const de={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},De=new _e(3e4,6e4);function st(I,d){return I.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:I.tenantId}):d}function Mt(I,d,g,w){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,re.A)(function*(I,d,g,w,K={}){return dn(I,K,(0,re.A)(function*(){let ae={},Ge={};w&&("GET"===d?Ge=w:ae={body:JSON.stringify(w)});const mt=(0,Ne.Am)(Object.assign({key:I.config.apiKey},Ge)).slice(1),Ut=yield I._getAdditionalHeaders();Ut["Content-Type"]="application/json",I.languageCode&&(Ut["X-Firebase-Locale"]=I.languageCode);const bn=Object.assign({method:d,headers:Ut},ae);return(0,Ne.c1)()||(bn.referrerPolicy="no-referrer"),oe.fetch()(wn(I,I.config.apiHost,g,mt),bn)}))})).apply(this,arguments)}function dn(I,d,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,re.A)(function*(I,d,g){I._canInitEmulator=!1;const w=Object.assign(Object.assign({},de),d);try{const K=new Wt(I),ae=yield Promise.race([g(),K.promise]);K.clearNetworkTimeout();const Ge=yield ae.json();if("needConfirmation"in Ge)throw sn(I,"account-exists-with-different-credential",Ge);if(ae.ok&&!("errorMessage"in Ge))return Ge;{const mt=ae.ok?Ge.errorMessage:Ge.error.message,[Ut,bn]=mt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ut)throw sn(I,"credential-already-in-use",Ge);if("EMAIL_EXISTS"===Ut)throw sn(I,"email-already-in-use",Ge);if("USER_DISABLED"===Ut)throw sn(I,"user-disabled",Ge);const Bn=w[Ut]||Ut.toLowerCase().replace(/[_\s]+/g,"-");if(bn)throw Le(I,Bn,bn);$t(I,Bn)}}catch(K){if(K instanceof Ne.g)throw K;$t(I,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function jt(I,d,g,w){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,re.A)(function*(I,d,g,w,K={}){const ae=yield Mt(I,d,g,w,K);return"mfaPendingCredential"in ae&&$t(I,"multi-factor-auth-required",{_serverResponse:ae}),ae})).apply(this,arguments)}function wn(I,d,g,w){const K=`${d}${g}?${w}`;return I.config.emulator?me(I.config,K):`${I.config.apiScheme}://${K}`}function Dn(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wt{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Bt(this.auth,"network-request-failed")),De.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sn(I,d,g){const w={appName:I.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const K=Bt(I,d,w);return K.customData._tokenResponse=g,K}function vi(I){return void 0!==I&&void 0!==I.enterprise}class ir{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===d)return Dn(g.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function Qn(I,d){return yn.apply(this,arguments)}function yn(){return(yn=(0,re.A)(function*(I,d){return Mt(I,"GET","/v2/recaptchaConfig",st(I,d))})).apply(this,arguments)}function Dr(){return(Dr=(0,re.A)(function*(I,d){return Mt(I,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Sr(I,d){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,re.A)(function*(I,d){return Mt(I,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function jn(I){if(I)try{const d=new Date(Number(I));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Ri(){return(Ri=(0,re.A)(function*(I,d=!1){const g=(0,Ne.Ku)(I),w=yield g.getIdToken(d),K=br(w);qe(K&&K.exp&&K.auth_time&&K.iat,g.auth,"internal-error");const ae="object"==typeof K.firebase?K.firebase:void 0,Ge=ae?.sign_in_provider;return{claims:K,token:w,authTime:jn(ti(K.auth_time)),issuedAtTime:jn(ti(K.iat)),expirationTime:jn(ti(K.exp)),signInProvider:Ge||null,signInSecondFactor:ae?.sign_in_second_factor||null}})).apply(this,arguments)}function ti(I){return 1e3*Number(I)}function br(I){const[d,g,w]=I.split(".");if(void 0===d||void 0===g||void 0===w)return Pt("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,Ne.u)(g);return K?JSON.parse(K):(Pt("Failed to decode base64 JWT payload"),null)}catch(K){return Pt("Caught error parsing JWT payload as JSON",K?.toString()),null}}function ze(I){const d=br(I);return qe(d,"internal-error"),qe(typeof d.exp<"u","internal-error"),qe(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function hn(I,d){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,re.A)(function*(I,d,g=!1){if(g)return d;try{return yield d}catch(w){throw w instanceof Ne.g&&function Ji({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(w)&&I.auth.currentUser===I&&(yield I.auth.signOut()),w}})).apply(this,arguments)}class Ci{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const K=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(d);this.timerId=setTimeout((0,re.A)(function*(){yield g.iteration()}),w)}iteration(){var d=this;return(0,re.A)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&d.schedule(!0))}d.schedule()})()}}class kn{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=jn(this.lastLoginAt),this.creationTime=jn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zn(I){return oi.apply(this,arguments)}function oi(){return(oi=(0,re.A)(function*(I){var d;const g=I.auth,w=yield I.getIdToken(),K=yield hn(I,Sr(g,{idToken:w}));qe(K?.users.length,g,"internal-error");const ae=K.users[0];I._notifyReloadListener(ae);const Ge=null!==(d=ae.providerUserInfo)&&void 0!==d&&d.length?ee(ae.providerUserInfo):[],mt=function ft(I,d){return[...I.filter(w=>!d.some(K=>K.providerId===w.providerId)),...d]}(I.providerData,Ge),Bn=!!I.isAnonymous&&!(I.email&&ae.passwordHash||mt?.length),xr={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:mt,metadata:new kn(ae.createdAt,ae.lastLoginAt),isAnonymous:Bn};Object.assign(I,xr)})).apply(this,arguments)}function ai(){return(ai=(0,re.A)(function*(I){const d=(0,Ne.Ku)(I);yield Zn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function ee(I){return I.map(d=>{var{providerId:g}=d,w=(0,Ze.Tt)(d,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Y(){return(Y=(0,re.A)(function*(I,d){const g=yield dn(I,{},(0,re.A)(function*(){const w=(0,Ne.Am)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:K,apiKey:ae}=I.config,Ge=wn(I,K,"/v1/token",`key=${ae}`),mt=yield I._getAdditionalHeaders();return mt["Content-Type"]="application/x-www-form-urlencoded",oe.fetch()(Ge,{method:"POST",headers:mt,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function Pe(){return(Pe=(0,re.A)(function*(I,d){return Mt(I,"POST","/v2/accounts:revokeToken",st(I,d))})).apply(this,arguments)}class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){qe(d.idToken,"internal-error"),qe(typeof d.idToken<"u","internal-error"),qe(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):ze(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}updateFromIdToken(d){qe(0!==d.length,"internal-error");const g=ze(d);this.updateTokensAndExpiration(d,null,g)}getToken(d,g=!1){var w=this;return(0,re.A)(function*(){return g||!w.accessToken||w.isExpired?(qe(w.refreshToken,d,"user-token-expired"),w.refreshToken?(yield w.refresh(d,w.refreshToken),w.accessToken):null):w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var w=this;return(0,re.A)(function*(){const{accessToken:K,refreshToken:ae,expiresIn:Ge}=yield function j(I,d){return Y.apply(this,arguments)}(d,g);w.updateTokensAndExpiration(K,ae,Number(Ge))})()}updateTokensAndExpiration(d,g,w){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(d,g){const{refreshToken:w,accessToken:K,expirationTime:ae}=g,Ge=new It;return w&&(qe("string"==typeof w,"internal-error",{appName:d}),Ge.refreshToken=w),K&&(qe("string"==typeof K,"internal-error",{appName:d}),Ge.accessToken=K),ae&&(qe("number"==typeof ae,"internal-error",{appName:d}),Ge.expirationTime=ae),Ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return Re("not implemented")}}function kt(I,d){qe("string"==typeof I||typeof I>"u","internal-error",{appName:d})}class mn{constructor(d){var{uid:g,auth:w,stsTokenManager:K}=d,ae=(0,Ze.Tt)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ci(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new kn(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,re.A)(function*(){const w=yield hn(g,g.stsTokenManager.getToken(g.auth,d));return qe(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(d){return function cn(I){return Ri.apply(this,arguments)}(this,d)}reload(){return function bi(I){return ai.apply(this,arguments)}(this)}_assign(d){this!==d&&(qe(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const g=new mn(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(d){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var w=this;return(0,re.A)(function*(){let K=!1;d.idToken&&d.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(d),K=!0),g&&(yield Zn(w)),yield w.auth._persistUserIfCurrent(w),K&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var d=this;return(0,re.A)(function*(){if((0,Fe.xZ)(d.auth.app))return Promise.reject(Jt(d.auth));const g=yield d.getIdToken();return yield hn(d,function Wi(I,d){return Dr.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var w,K,ae,Ge,mt,Ut,bn,Bn;const xr=null!==(w=g.displayName)&&void 0!==w?w:void 0,po=null!==(K=g.email)&&void 0!==K?K:void 0,fa=null!==(ae=g.phoneNumber)&&void 0!==ae?ae:void 0,ru=null!==(Ge=g.photoURL)&&void 0!==Ge?Ge:void 0,tf=null!==(mt=g.tenantId)&&void 0!==mt?mt:void 0,Fd=null!==(Ut=g._redirectEventId)&&void 0!==Ut?Ut:void 0,nf=null!==(bn=g.createdAt)&&void 0!==bn?bn:void 0,rf=null!==(Bn=g.lastLoginAt)&&void 0!==Bn?Bn:void 0,{uid:Wl,emailVerified:sf,isAnonymous:Kl,providerData:Su,stsTokenManager:ol}=g;qe(Wl&&ol,d,"internal-error");const ql=It.fromJSON(this.name,ol);qe("string"==typeof Wl,d,"internal-error"),kt(xr,d.name),kt(po,d.name),qe("boolean"==typeof sf,d,"internal-error"),qe("boolean"==typeof Kl,d,"internal-error"),kt(fa,d.name),kt(ru,d.name),kt(tf,d.name),kt(Fd,d.name),kt(nf,d.name),kt(rf,d.name);const Ql=new mn({uid:Wl,auth:d,email:po,emailVerified:sf,displayName:xr,isAnonymous:Kl,photoURL:ru,phoneNumber:fa,tenantId:tf,stsTokenManager:ql,createdAt:nf,lastLoginAt:rf});return Su&&Array.isArray(Su)&&(Ql.providerData=Su.map(Pp=>Object.assign({},Pp))),Fd&&(Ql._redirectEventId=Fd),Ql}static _fromIdTokenResponse(d,g,w=!1){return(0,re.A)(function*(){const K=new It;K.updateFromServerResponse(g);const ae=new mn({uid:g.localId,auth:d,stsTokenManager:K,isAnonymous:w});return yield Zn(ae),ae})()}static _fromGetAccountInfoResponse(d,g,w){return(0,re.A)(function*(){const K=g.users[0];qe(void 0!==K.localId,"internal-error");const ae=void 0!==K.providerUserInfo?ee(K.providerUserInfo):[],Ge=!(K.email&&K.passwordHash||ae?.length),mt=new It;mt.updateFromIdToken(w);const Ut=new mn({uid:K.localId,auth:d,stsTokenManager:mt,isAnonymous:Ge}),bn={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:ae,metadata:new kn(K.createdAt,K.lastLoginAt),isAnonymous:!(K.email&&K.passwordHash||ae?.length)};return Object.assign(Ut,bn),Ut})()}}const Xn=new Map;function Sn(I){qt(I instanceof Function,"Expected a class definition");let d=Xn.get(I);return d?(qt(d instanceof I,"Instance stored in cache mismatched with class"),d):(d=new I,Xn.set(I,d),d)}const Ue=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,re.A)(function*(){return!0})()}_set(g,w){var K=this;return(0,re.A)(function*(){K.storage[g]=w})()}_get(g){var w=this;return(0,re.A)(function*(){const K=w.storage[g];return void 0===K?null:K})()}_remove(g){var w=this;return(0,re.A)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return I.type="NONE",I})();function be(I,d,g){return`firebase:${I}:${d}:${g}`}class Se{constructor(d,g,w){this.persistence=d,this.auth=g,this.userKey=w;const{config:K,name:ae}=this.auth;this.fullUserKey=be(this.userKey,K.apiKey,ae),this.fullPersistenceKey=be("persistence",K.apiKey,ae),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,re.A)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?mn._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,re.A)(function*(){if(g.persistence===d)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,w="authUser"){return(0,re.A)(function*(){if(!g.length)return new Se(Sn(Ue),d,w);const K=(yield Promise.all(g.map(function(){var bn=(0,re.A)(function*(Bn){if(yield Bn._isAvailable())return Bn});return function(Bn){return bn.apply(this,arguments)}}()))).filter(bn=>bn);let ae=K[0]||Sn(Ue);const Ge=be(w,d.config.apiKey,d.name);let mt=null;for(const bn of g)try{const Bn=yield bn._get(Ge);if(Bn){const xr=mn._fromJSON(d,Bn);bn!==ae&&(mt=xr),ae=bn;break}}catch{}const Ut=K.filter(bn=>bn._shouldAllowMigration);return ae._shouldAllowMigration&&Ut.length?(ae=Ut[0],mt&&(yield ae._set(Ge,mt.toJSON())),yield Promise.all(g.map(function(){var bn=(0,re.A)(function*(Bn){if(Bn!==ae)try{yield Bn._remove(Ge)}catch{}});return function(Bn){return bn.apply(this,arguments)}}())),new Se(ae,d,w)):new Se(ae,d,w)})()}}function Tt(I){const d=I.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(wr(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Gt(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ui(d))return"Blackberry";if(tt(d))return"Webos";if(un(d))return"Safari";if((d.includes("chrome/")||zt(d))&&!d.includes("edge/"))return"Chrome";if(an(d))return"Android";{const w=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Gt(I=(0,Ne.ZQ)()){return/firefox\//i.test(I)}function un(I=(0,Ne.ZQ)()){const d=I.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function zt(I=(0,Ne.ZQ)()){return/crios\//i.test(I)}function wr(I=(0,Ne.ZQ)()){return/iemobile/i.test(I)}function an(I=(0,Ne.ZQ)()){return/android/i.test(I)}function ui(I=(0,Ne.ZQ)()){return/blackberry/i.test(I)}function tt(I=(0,Ne.ZQ)()){return/webos/i.test(I)}function We(I=(0,Ne.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Zt(I=(0,Ne.ZQ)()){return We(I)||an(I)||tt(I)||ui(I)||/windows phone/i.test(I)||wr(I)}function fn(I,d=[]){let g;switch(I){case"Browser":g=Tt((0,Ne.ZQ)());break;case"Worker":g=`${Tt((0,Ne.ZQ)())}-${I}`;break;default:g=I}const w=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${Fe.MF}/${w}`}class er{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const w=ae=>new Promise((Ge,mt)=>{try{Ge(d(ae))}catch(Ut){mt(Ut)}});w.onAbort=g,this.queue.push(w);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,re.A)(function*(){if(g.auth.currentUser===d)return;const w=[];try{for(const K of g.queue)yield K(d),K.onAbort&&w.push(K.onAbort)}catch(K){w.reverse();for(const ae of w)try{ae()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}function In(){return(In=(0,re.A)(function*(I,d={}){return Mt(I,"GET","/v2/passwordPolicy",st(I,d))})).apply(this,arguments)}class qi{constructor(d){var g,w,K,ae;const Ge=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=Ge.minPasswordLength)&&void 0!==g?g:6,Ge.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ge.maxPasswordLength),void 0!==Ge.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ge.containsLowercaseCharacter),void 0!==Ge.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ge.containsUppercaseCharacter),void 0!==Ge.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ge.containsNumericCharacter),void 0!==Ge.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ge.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(K=null===(w=d.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==K?K:"",this.forceUpgradeOnSignin=null!==(ae=d.forceUpgradeOnSignin)&&void 0!==ae&&ae,this.schemaVersion=d.schemaVersion}validatePassword(d){var g,w,K,ae,Ge,mt;const Ut={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,Ut),this.validatePasswordCharacterOptions(d,Ut),Ut.isValid&&(Ut.isValid=null===(g=Ut.meetsMinPasswordLength)||void 0===g||g),Ut.isValid&&(Ut.isValid=null===(w=Ut.meetsMaxPasswordLength)||void 0===w||w),Ut.isValid&&(Ut.isValid=null===(K=Ut.containsLowercaseLetter)||void 0===K||K),Ut.isValid&&(Ut.isValid=null===(ae=Ut.containsUppercaseLetter)||void 0===ae||ae),Ut.isValid&&(Ut.isValid=null===(Ge=Ut.containsNumericCharacter)||void 0===Ge||Ge),Ut.isValid&&(Ut.isValid=null===(mt=Ut.containsNonAlphanumericCharacter)||void 0===mt||mt),Ut}validatePasswordLengthOptions(d,g){const w=this.customStrengthOptions.minPasswordLength,K=this.customStrengthOptions.maxPasswordLength;w&&(g.meetsMinPasswordLength=d.length>=w),K&&(g.meetsMaxPasswordLength=d.length<=K)}validatePasswordCharacterOptions(d,g){let w;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let K=0;K<d.length;K++)w=d.charAt(K),this.updatePasswordCharacterOptionsStatuses(g,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(d,g,w,K,ae){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=K)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=ae))}}class Ss{constructor(d,g,w,K){this.app=d,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new en(this),this.idTokenSubscription=new en(this),this.beforeStateQueue=new er(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(d,g){var w=this;return g&&(this._popupRedirectResolver=Sn(g)),this._initializationPromise=this.queue((0,re.A)(function*(){var K,ae;if(!w._deleted&&(w.persistenceManager=yield Se.create(w,d),!w._deleted)){if(null!==(K=w._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(ae=w.currentUser)||void 0===ae?void 0:ae.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,re.A)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(d){var g=this;return(0,re.A)(function*(){try{const w=yield Sr(g,{idToken:d}),K=yield mn._fromGetAccountInfoResponse(g,w,d);yield g.directlySetCurrentUser(K)}catch(w){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",w),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var g=this;return(0,re.A)(function*(){var w;if((0,Fe.xZ)(g.app)){const mt=g.app.settings.authIdToken;return mt?new Promise(Ut=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(mt).then(Ut,Ut))}):g.directlySetCurrentUser(null)}const K=yield g.assertedPersistence.getCurrentUser();let ae=K,Ge=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const mt=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Ut=ae?._redirectEventId,bn=yield g.tryRedirectSignIn(d);(!mt||mt===Ut)&&bn?.user&&(ae=bn.user,Ge=!0)}if(!ae)return g.directlySetCurrentUser(null);if(!ae._redirectEventId){if(Ge)try{yield g.beforeStateQueue.runMiddleware(ae)}catch(mt){ae=K,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(mt))}return ae?g.reloadAndSetCurrentUserOrClear(ae):g.directlySetCurrentUser(null)}return qe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ae._redirectEventId?g.directlySetCurrentUser(ae):g.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(d){var g=this;return(0,re.A)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,re.A)(function*(){try{yield Zn(d)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function ke(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var d=this;return(0,re.A)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,re.A)(function*(){if((0,Fe.xZ)(g.app))return Promise.reject(Jt(g));const w=d?(0,Ne.Ku)(d):null;return w&&qe(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(d,g=!1){var w=this;return(0,re.A)(function*(){if(!w._deleted)return d&&qe(w.tenantId===d.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(d)),w.queue((0,re.A)(function*(){yield w.directlySetCurrentUser(d),w.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,re.A)(function*(){return(0,Fe.xZ)(d.app)?Promise.reject(Jt(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var g=this;return(0,Fe.xZ)(this.app)?Promise.reject(Jt(this)):this.queue((0,re.A)(function*(){yield g.assertedPersistence.setPersistence(Sn(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var g=this;return(0,re.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const w=g._getPasswordPolicyInternal();return w.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,re.A)(function*(){const g=yield function cr(I){return In.apply(this,arguments)}(d),w=new qi(g);null===d.tenantId?d._projectPasswordPolicy=w:d._tenantPasswordPolicies[d.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new Ne.FA("auth","Firebase",d())}onAuthStateChanged(d,g,w){return this.registerStateListener(this.authStateSubscription,d,g,w)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,w){return this.registerStateListener(this.idTokenSubscription,d,g,w)}authStateReady(){return new Promise((d,g)=>{if(this.currentUser)d();else{const w=this.onAuthStateChanged(()=>{w(),d()},g)}})}revokeAccessToken(d){var g=this;return(0,re.A)(function*(){if(g.currentUser){const w=yield g.currentUser.getIdToken(),K={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:w};null!=g.tenantId&&(K.tenantId=g.tenantId),yield function we(I,d){return Pe.apply(this,arguments)}(g,K)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var w=this;return(0,re.A)(function*(){const K=yield w.getOrInitRedirectPersistenceManager(g);return null===d?K.removeCurrentUser():K.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,re.A)(function*(){if(!g.redirectPersistenceManager){const w=d&&Sn(d)||g._popupRedirectResolver;qe(w,g,"argument-error"),g.redirectPersistenceManager=yield Se.create(g,[Sn(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,re.A)(function*(){var w,K;return g._isInitialized&&(yield g.queue((0,re.A)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===d?g._currentUser:(null===(K=g.redirectUser)||void 0===K?void 0:K._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,re.A)(function*(){if(d===g.currentUser)return g.queue((0,re.A)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,w,K){if(this._deleted)return()=>{};const ae="function"==typeof g?g:g.next.bind(g);let Ge=!1;const mt=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(mt,this,"internal-error"),mt.then(()=>{Ge||ae(this.currentUser)}),"function"==typeof g){const Ut=d.addObserver(g,w,K);return()=>{Ge=!0,Ut()}}{const Ut=d.addObserver(g);return()=>{Ge=!0,Ut()}}}directlySetCurrentUser(d){var g=this;return(0,re.A)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=fn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,re.A)(function*(){var g;const w={"X-Client-Version":d.clientVersion};d.app.options.appId&&(w["X-Firebase-gmpid"]=d.app.options.appId);const K=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();K&&(w["X-Firebase-Client"]=K);const ae=yield d._getAppCheckToken();return ae&&(w["X-Firebase-AppCheck"]=ae),w})()}_getAppCheckToken(){var d=this;return(0,re.A)(function*(){var g;const w=yield null===(g=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function pt(I,...d){it.logLevel<=je.$b.WARN&&it.warn(`Auth (${Fe.MF}): ${I}`,...d)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function Ar(I){return(0,Ne.Ku)(I)}class en{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,Ne.tD)(g=>this.observer=g)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dt={loadJS:()=>(0,re.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tn(I){return Dt.loadJS(I)}function mi(I){return`__${I}${Math.floor(1e6*Math.random())}`}class xi{constructor(d){this.type="recaptcha-enterprise",this.auth=Ar(d)}verify(d="verify",g=!1){var w=this;return(0,re.A)(function*(){function ae(){return ae=(0,re.A)(function*(mt){if(!g){if(null==mt.tenantId&&null!=mt._agentRecaptchaConfig)return mt._agentRecaptchaConfig.siteKey;if(null!=mt.tenantId&&void 0!==mt._tenantRecaptchaConfigs[mt.tenantId])return mt._tenantRecaptchaConfigs[mt.tenantId].siteKey}return new Promise(function(){var Ut=(0,re.A)(function*(bn,Bn){Qn(mt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(xr=>{if(void 0!==xr.recaptchaKey){const po=new ir(xr);return null==mt.tenantId?mt._agentRecaptchaConfig=po:mt._tenantRecaptchaConfigs[mt.tenantId]=po,bn(po.siteKey)}Bn(new Error("recaptcha Enterprise site key undefined"))}).catch(xr=>{Bn(xr)})});return function(bn,Bn){return Ut.apply(this,arguments)}}())}),ae.apply(this,arguments)}function Ge(mt,Ut,bn){const Bn=window.grecaptcha;vi(Bn)?Bn.enterprise.ready(()=>{Bn.enterprise.execute(mt,{action:d}).then(xr=>{Ut(xr)}).catch(()=>{Ut("NO_RECAPTCHA")})}):bn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((mt,Ut)=>{(function K(mt){return ae.apply(this,arguments)})(w.auth).then(bn=>{if(!g&&vi(window.grecaptcha))Ge(bn,mt,Ut);else{if(typeof window>"u")return void Ut(new Error("RecaptchaVerifier is only supported in browser"));let Bn=function Jr(){return Dt.recaptchaEnterpriseScript}();0!==Bn.length&&(Bn+=bn),tn(Bn).then(()=>{Ge(bn,mt,Ut)}).catch(xr=>{Ut(xr)})}}).catch(bn=>{Ut(bn)})})})()}}function vs(I,d,g){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,re.A)(function*(I,d,g,w=!1){const K=new xi(I);let ae;try{ae=yield K.verify(g)}catch{ae=yield K.verify(g,!0)}const Ge=Object.assign({},d);return Object.assign(Ge,w?{captchaResp:ae}:{captchaResponse:ae}),Object.assign(Ge,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ge,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ge})).apply(this,arguments)}function Us(I,d,g,w){return Li.apply(this,arguments)}function Li(){return Li=(0,re.A)(function*(I,d,g,w){var K;if(null!==(K=I._getRecaptchaConfig())&&void 0!==K&&K.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ae=yield vs(I,d,g,"getOobCode"===g);return w(I,ae)}return w(I,d).catch(function(){var ae=(0,re.A)(function*(Ge){if("auth/missing-recaptcha-token"===Ge.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const mt=yield vs(I,d,g,"getOobCode"===g);return w(I,mt)}return Promise.reject(Ge)});return function(Ge){return ae.apply(this,arguments)}}())}),Li.apply(this,arguments)}function yo(I){const d=I.indexOf(":");return d<0?"":I.substr(0,d+1)}function ro(I){if(!I)return null;const d=Number(I);return isNaN(d)?null:d}class Es{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return Re("not implemented")}_getIdTokenResponse(d){return Re("not implemented")}_linkToIdToken(d,g){return Re("not implemented")}_getReauthenticationResolver(d){return Re("not implemented")}}function Bs(I,d){return wi.apply(this,arguments)}function wi(){return(wi=(0,re.A)(function*(I,d){return Mt(I,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function Ts(I,d){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,re.A)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithPassword",st(I,d))})).apply(this,arguments)}function Jn(){return(Jn=(0,re.A)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithEmailLink",st(I,d))})).apply(this,arguments)}function Pi(){return(Pi=(0,re.A)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithEmailLink",st(I,d))})).apply(this,arguments)}class us extends Es{constructor(d,g,w,K=null){super("password",w),this._email=d,this._password=g,this._tenantId=K}static _fromEmailAndPassword(d,g){return new us(d,g,"password")}static _fromEmailAndCode(d,g,w=null){return new us(d,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,re.A)(function*(){switch(g.signInMethod){case"password":return Us(d,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ts);case"emailLink":return function ln(I,d){return Jn.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:$t(d,"internal-error")}})()}_linkToIdToken(d,g){var w=this;return(0,re.A)(function*(){switch(w.signInMethod){case"password":return Us(d,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bs);case"emailLink":return function _r(I,d){return Pi.apply(this,arguments)}(d,{idToken:g,email:w._email,oobCode:w._password});default:$t(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function sr(I,d){return ls.apply(this,arguments)}function ls(){return(ls=(0,re.A)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithIdp",st(I,d))})).apply(this,arguments)}class gs{constructor(d){var g,w,K,ae,Ge,mt;const Ut=(0,Ne.I9)((0,Ne.hp)(d)),bn=null!==(g=Ut.apiKey)&&void 0!==g?g:null,Bn=null!==(w=Ut.oobCode)&&void 0!==w?w:null,xr=function sa(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=Ut.mode)&&void 0!==K?K:null);qe(bn&&Bn&&xr,"argument-error"),this.apiKey=bn,this.operation=xr,this.code=Bn,this.continueUrl=null!==(ae=Ut.continueUrl)&&void 0!==ae?ae:null,this.languageCode=null!==(Ge=Ut.languageCode)&&void 0!==Ge?Ge:null,this.tenantId=null!==(mt=Ut.tenantId)&&void 0!==mt?mt:null}static parseLink(d){const g=function ps(I){const d=(0,Ne.I9)((0,Ne.hp)(I)).link,g=d?(0,Ne.I9)((0,Ne.hp)(d)).deep_link_id:null,w=(0,Ne.I9)((0,Ne.hp)(I)).deep_link_id;return(w?(0,Ne.I9)((0,Ne.hp)(w)).link:null)||w||g||d||I}(d);try{return new gs(g)}catch{return null}}}let Hs=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(g,w){return us._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const K=gs.parseLink(w);return qe(K,"argument-error"),us._fromEmailAndCode(g,K.code,K.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class tr{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Sa extends tr{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class fe{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,w,K=!1){return(0,re.A)(function*(){const ae=yield mn._fromIdTokenResponse(d,w,K),Ge=Ee(w);return new fe({user:ae,providerId:Ge,_tokenResponse:w,operationType:g})})()}static _forOperation(d,g,w){return(0,re.A)(function*(){yield d._updateTokensIfNecessary(w,!0);const K=Ee(w);return new fe({user:d,providerId:K,_tokenResponse:w,operationType:g})})()}}function Ee(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}class k extends Ne.g{constructor(d,g,w,K){var ae;super(g.code,g.message),this.operationType=w,this.user=K,Object.setPrototypeOf(this,k.prototype),this.customData={appName:d.name,tenantId:null!==(ae=d.tenantId)&&void 0!==ae?ae:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(d,g,w,K){return new k(d,g,w,K)}}function B(I,d,g,w){return("reauthenticate"===d?g._getReauthenticationResolver(I):g._getIdTokenResponse(I)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?k._fromErrorAndOperation(I,ae,d,w):ae})}function Tn(){return(Tn=(0,re.A)(function*(I,d,g=!1){const w=yield hn(I,d._linkToIdToken(I.auth,yield I.getIdToken()),g);return fe._forOperation(I,"link",w)})).apply(this,arguments)}function $r(){return($r=(0,re.A)(function*(I,d,g=!1){const{auth:w}=I;if((0,Fe.xZ)(w.app))return Promise.reject(Jt(w));const K="reauthenticate";try{const ae=yield hn(I,B(w,K,d,I),g);qe(ae.idToken,w,"internal-error");const Ge=br(ae.idToken);qe(Ge,w,"internal-error");const{sub:mt}=Ge;return qe(I.uid===mt,w,"user-mismatch"),fe._forOperation(I,K,ae)}catch(ae){throw"auth/user-not-found"===ae?.code&&$t(w,"user-mismatch"),ae}})).apply(this,arguments)}function ur(I,d){return fi.apply(this,arguments)}function fi(){return(fi=(0,re.A)(function*(I,d,g=!1){if((0,Fe.xZ)(I.app))return Promise.reject(Jt(I));const w="signIn",K=yield B(I,w,d),ae=yield fe._fromIdTokenResponse(I,w,K);return g||(yield I._updateCurrentUser(ae.user)),ae})).apply(this,arguments)}function Mi(){return(Mi=(0,re.A)(function*(I,d){return ur(Ar(I),d)})).apply(this,arguments)}function $n(){return($n=(0,re.A)(function*(I){const d=Ar(I);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function uo(I,d,g){return(0,Fe.xZ)(I.app)?Promise.reject(Jt(I)):function ii(I,d){return Mi.apply(this,arguments)}((0,Ne.Ku)(I),Hs.credential(d,g)).catch(function(){var w=(0,re.A)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&function Zo(I){return $n.apply(this,arguments)}(I),K});return function(K){return w.apply(this,arguments)}}())}function P(I){return(0,Ne.Ku)(I).signOut()}const Fi="__sak";class ws{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Fi,"1"),this.storage.removeItem(Fi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const _s=(()=>{class I extends ws{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const K=this.storage.getItem(w),ae=this.localCache[w];K!==ae&&g(w,ae,K)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((mt,Ut,bn)=>{this.notifyListeners(mt,bn)});const K=g.key;w?this.detachListener():this.stopPolling();const ae=()=>{const mt=this.storage.getItem(K);!w&&this.localCache[K]===mt||this.notifyListeners(K,mt)},Ge=this.storage.getItem(K);!function En(){return(0,Ne.lT)()&&10===document.documentMode}()||Ge===g.newValue||g.newValue===g.oldValue?ae():setTimeout(ae,10)}notifyListeners(g,w){this.localCache[g]=w;const K=this.listeners[g];if(K)for(const ae of Array.from(K))ae(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var K=()=>super._set,ae=this;return(0,re.A)(function*(){yield K().call(ae,g,w),ae.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,K=this;return(0,re.A)(function*(){const ae=yield w().call(K,g);return K.localCache[g]=JSON.stringify(ae),ae})()}_remove(g){var w=()=>super._remove,K=this;return(0,re.A)(function*(){yield w().call(K,g),delete K.localCache[g]})()}}return I.type="LOCAL",I})(),Zi=(()=>{class I extends ws{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return I.type="SESSION",I})();let Pa=(()=>{class I{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(ae=>ae.isListeningto(g));if(w)return w;const K=new I(g);return this.receivers.push(K),K}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,re.A)(function*(){const K=g,{eventId:ae,eventType:Ge,data:mt}=K.data,Ut=w.handlersMap[Ge];if(!Ut?.size)return;K.ports[0].postMessage({status:"ack",eventId:ae,eventType:Ge});const bn=Array.from(Ut).map(function(){var xr=(0,re.A)(function*(po){return po(K.origin,mt)});return function(po){return xr.apply(this,arguments)}}()),Bn=yield function $o(I){return Promise.all(I.map(function(){var d=(0,re.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return d.apply(this,arguments)}}()))}(bn);K.ports[0].postMessage({status:"done",eventId:ae,eventType:Ge,response:Bn})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Ws(I="",d=10){let g="";for(let w=0;w<d;w++)g+=Math.floor(10*Math.random());return I+g}class ca{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,w=50){var K=this;return(0,re.A)(function*(){const ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let Ge,mt;return new Promise((Ut,bn)=>{const Bn=Ws("",20);ae.port1.start();const xr=setTimeout(()=>{bn(new Error("unsupported_event"))},w);mt={messageChannel:ae,onMessage(po){const fa=po;if(fa.data.eventId===Bn)switch(fa.data.status){case"ack":clearTimeout(xr),Ge=setTimeout(()=>{bn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ge),Ut(fa.data.response);break;default:clearTimeout(xr),clearTimeout(Ge),bn(new Error("invalid_response"))}}},K.handlers.add(mt),ae.port1.addEventListener("message",mt.onMessage),K.target.postMessage({eventType:d,eventId:Bn,data:g},[ae.port2])}).finally(()=>{mt&&K.removeMessageHandler(mt)})})()}}function ji(){return window}function xn(){return typeof ji().WorkerGlobalScope<"u"&&"function"==typeof ji().importScripts}function ot(){return(ot=(0,re.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Js="firebaseLocalStorageDb",Zs="firebaseLocalStorage",ci="fbase_key";class Fs{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function da(I,d){return I.transaction([Zs],d?"readwrite":"readonly").objectStore(Zs)}function Ho(){const I=indexedDB.open(Js,1);return new Promise((d,g)=>{I.addEventListener("error",()=>{g(I.error)}),I.addEventListener("upgradeneeded",()=>{const w=I.result;try{w.createObjectStore(Zs,{keyPath:ci})}catch(K){g(K)}}),I.addEventListener("success",(0,re.A)(function*(){const w=I.result;w.objectStoreNames.contains(Zs)?d(w):(w.close(),yield function ts(){const I=indexedDB.deleteDatabase(Js);return new Fs(I).toPromise()}(),d(yield Ho()))}))})}function bo(I,d,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,re.A)(function*(I,d,g){const w=da(I,!0).put({[ci]:d,value:g});return new Fs(w).toPromise()})).apply(this,arguments)}function Go(){return(Go=(0,re.A)(function*(I,d){const g=da(I,!1).get(d),w=yield new Fs(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function _c(I,d){const g=da(I,!0).delete(d);return new Fs(g).toPromise()}const E=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,re.A)(function*(){return g.db||(g.db=yield Ho()),g.db})()}_withRetries(g){var w=this;return(0,re.A)(function*(){let K=0;for(;;)try{const ae=yield w._openDb();return yield g(ae)}catch(ae){if(K++>3)throw ae;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,re.A)(function*(){return xn()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,re.A)(function*(){g.receiver=Pa._getInstance(function es(){return xn()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,re.A)(function*(K,ae){return{keyProcessed:(yield g._poll()).includes(ae.key)}});return function(K,ae){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,re.A)(function*(K,ae){return["keyChanged"]});return function(K,ae){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,re.A)(function*(){var w,K;if(g.activeServiceWorker=yield function nr(){return ot.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ca(g.activeServiceWorker);const ae=yield g.sender._send("ping",{},800);ae&&null!==(w=ae[0])&&void 0!==w&&w.fulfilled&&null!==(K=ae[0])&&void 0!==K&&K.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,re.A)(function*(){if(w.sender&&w.activeServiceWorker&&function An(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,re.A)(function*(){try{if(!indexedDB)return!1;const g=yield Ho();return yield bo(g,Fi,"1"),yield _c(g,Fi),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,re.A)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var K=this;return(0,re.A)(function*(){return K._withPendingWrite((0,re.A)(function*(){return yield K._withRetries(ae=>bo(ae,g,w)),K.localCache[g]=w,K.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,re.A)(function*(){const K=yield w._withRetries(ae=>function $i(I,d){return Go.apply(this,arguments)}(ae,g));return w.localCache[g]=K,K})()}_remove(g){var w=this;return(0,re.A)(function*(){return w._withPendingWrite((0,re.A)(function*(){return yield w._withRetries(K=>_c(K,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,re.A)(function*(){const w=yield g._withRetries(Ge=>{const mt=da(Ge,!1).getAll();return new Fs(mt).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const K=[],ae=new Set;if(0!==w.length)for(const{fbase_key:Ge,value:mt}of w)ae.add(Ge),JSON.stringify(g.localCache[Ge])!==JSON.stringify(mt)&&(g.notifyListeners(Ge,mt),K.push(Ge));for(const Ge of Object.keys(g.localCache))g.localCache[Ge]&&!ae.has(Ge)&&(g.notifyListeners(Ge,null),K.push(Ge));return K})()}notifyListeners(g,w){this.localCache[g]=w;const K=this.listeners[g];if(K)for(const ae of Array.from(K))ae(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,re.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();mi("rcb"),new _e(3e4,6e4);class _u extends Es{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return sr(d,this._buildIdpRequest())}_linkToIdToken(d,g){return sr(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return sr(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function cd(I){return ur(I.auth,new _u(I),I.bypassAuthState)}function yc(I){const{auth:d,user:g}=I;return qe(g,d,"internal-error"),function Ii(I,d){return $r.apply(this,arguments)}(g,new _u(I),I.bypassAuthState)}function dd(I){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,re.A)(function*(I){const{auth:d,user:g}=I;return qe(g,d,"internal-error"),function Vt(I,d){return Tn.apply(this,arguments)}(g,new _u(I),I.bypassAuthState)})).apply(this,arguments)}class Ka{constructor(d,g,w,K,ae=!1){this.auth=d,this.resolver=w,this.user=K,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,re.A)(function*(w,K){d.pendingPromise={resolve:w,reject:K};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ae){d.reject(ae)}});return function(w,K){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,re.A)(function*(){const{urlResponse:w,sessionId:K,postBody:ae,tenantId:Ge,error:mt,type:Ut}=d;if(mt)return void g.reject(mt);const bn={auth:g.auth,requestUri:w,sessionId:K,tenantId:Ge||void 0,postBody:ae||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ut)(bn))}catch(Bn){g.reject(Bn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return cd;case"linkViaPopup":case"linkViaRedirect":return dd;case"reauthViaPopup":case"reauthViaRedirect":return yc;default:$t(this.auth,"internal-error")}}resolve(d){qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new _e(2e3,1e4);const Ec="pendingRedirect",Ia=new Map;class ho extends Ka{constructor(d,g,w=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,re.A)(function*(){let w=Ia.get(g.auth._key());if(!w){try{const ae=(yield function Gu(I,d){return Qa.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;w=()=>Promise.resolve(ae)}catch(K){w=()=>Promise.reject(K)}Ia.set(g.auth._key(),w)}return g.bypassAuthState||Ia.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,w=this;return(0,re.A)(function*(){if("signInViaRedirect"===d.type)return g().call(w,d);if("unknown"!==d.type){if(d.eventId){const K=yield w.auth._redirectUserForId(d.eventId);if(K)return w.user=K,g().call(w,d);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,re.A)(function*(){})()}cleanUp(){}}function Qa(){return(Qa=(0,re.A)(function*(I,d){const g=function to(I){return be(Ec,I.config.apiKey,I.name)}(d),w=function fd(I){return Sn(I._redirectPersistence)}(I);if(!(yield w._isAvailable()))return!1;const K="true"===(yield w._get(g));return yield w._remove(g),K})).apply(this,arguments)}function vu(I,d){Ia.set(I._key(),d)}function pd(I,d){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,re.A)(function*(I,d,g=!1){if((0,Fe.xZ)(I.app))return Promise.reject(Jt(I));const w=Ar(I),K=function ra(I,d){return d?Sn(d):(qe(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}(w,d),Ge=yield new ho(w,K,g).execute();return Ge&&!g&&(delete Ge.user._redirectEventId,yield w._persistUserIfCurrent(Ge.user),yield w._setRedirectUser(null,d)),Ge})).apply(this,arguments)}class Ja{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(d,w)&&(g=!0,this.sendToConsumer(d,w),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function fo(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _d(I);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var w;if(d.error&&!_d(d)){const K=(null===(w=d.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Bt(this.auth,K))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const w=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&w}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ta(d))}saveEventToCache(d){this.cachedEventUids.add(Ta(d)),this.lastProcessedEventTime=Date.now()}}function Ta(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(d=>d).join("-")}function _d({type:I,error:d}){return"unknown"===I&&"auth/no-auth-event"===d?.code}function Ol(){return(Ol=(0,re.A)(function*(I,d={}){return Mt(I,"GET","/v1/projects",d)})).apply(this,arguments)}const yd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pp=/^https?/;function Iu(){return Iu=(0,re.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:d}=yield function fp(I){return Ol.apply(this,arguments)}(I);for(const g of d)try{if(ns(g))return}catch{}$t(I,"unauthorized-domain")}),Iu.apply(this,arguments)}function ns(I){const d=N(),{protocol:g,hostname:w}=new URL(d);if(I.startsWith("chrome-extension://")){const Ge=new URL(I);return""===Ge.hostname&&""===w?"chrome-extension:"===g&&I.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&Ge.hostname===w}if(!pp.test(g))return!1;if(yd.test(I))return w===I;const K=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(w)}const Ku=new _e(3e4,6e4);function Tu(){const I=ji().___jsl;if(I?.H)for(const d of Object.keys(I.H))if(I.H[d].r=I.H[d].r||[],I.H[d].L=I.H[d].L||[],I.H[d].r=[...I.H[d].L],I.CP)for(let g=0;g<I.CP.length;g++)I.CP[g]=null}let qu=null;const cm=new _e(5e3,15e3),Ic="__/auth/iframe",vd="emulator/auth/iframe",dm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fh(I){const d=I.config;qe(d.authDomain,I,"auth-domain-config-required");const g=d.emulator?me(d,vd):`https://${I.config.authDomain}/${Ic}`,w={apiKey:d.apiKey,appName:I.name,v:Fe.MF},K=gp.get(I.config.apiHost);K&&(w.eid=K);const ae=I._getFrameworks();return ae.length&&(w.fw=ae.join(",")),`${g}?${(0,Ne.Am)(w).slice(1)}`}function Qu(){return Qu=(0,re.A)(function*(I){const d=yield function Za(I){return qu=qu||function kh(I){return new Promise((d,g)=>{var w,K,ae;function Ge(){Tu(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Tu(),g(Bt(I,"network-request-failed"))},timeout:Ku.get()})}if(null!==(K=null===(w=ji().gapi)||void 0===w?void 0:w.iframes)&&void 0!==K&&K.Iframe)d(gapi.iframes.getContext());else{if(null===(ae=ji().gapi)||void 0===ae||!ae.load){const mt=mi("iframefcb");return ji()[mt]=()=>{gapi.load?Ge():g(Bt(I,"network-request-failed"))},tn(`${function pr(){return Dt.gapiScript}()}?onload=${mt}`).catch(Ut=>g(Ut))}Ge()}}).catch(d=>{throw qu=null,d})}(I),qu}(I),g=ji().gapi;return qe(g,I,"internal-error"),d.open({where:document.body,url:Fh(I),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dm,dontclear:!0},w=>new Promise(function(){var K=(0,re.A)(function*(ae,Ge){yield w.restyle({setHideOnLeave:!1});const mt=Bt(I,"network-request-failed"),Ut=ji().setTimeout(()=>{Ge(mt)},cm.get());function bn(){ji().clearTimeout(Ut),ae(w)}w.ping(bn).then(bn,()=>{Ge(mt)})});return function(ae,Ge){return K.apply(this,arguments)}}()))}),Qu.apply(this,arguments)}const Fa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xu{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const eu="__/auth/handler",Bh="emulator/auth/handler",xl=encodeURIComponent("fac");function Yu(I,d,g,w,K,ae){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,re.A)(function*(I,d,g,w,K,ae){qe(I.config.authDomain,I,"auth-domain-config-required"),qe(I.config.apiKey,I,"invalid-api-key");const Ge={apiKey:I.config.apiKey,appName:I.name,authType:g,redirectUrl:w,v:Fe.MF,eventId:K};if(d instanceof tr){d.setDefaultLanguage(I.languageCode),Ge.providerId=d.providerId||"",(0,Ne.Im)(d.getCustomParameters())||(Ge.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Bn,xr]of Object.entries(ae||{}))Ge[Bn]=xr}if(d instanceof Sa){const Bn=d.getScopes().filter(xr=>""!==xr);Bn.length>0&&(Ge.scopes=Bn.join(","))}I.tenantId&&(Ge.tid=I.tenantId);const mt=Ge;for(const Bn of Object.keys(mt))void 0===mt[Bn]&&delete mt[Bn];const Ut=yield I._getAppCheckToken(),bn=Ut?`#${xl}=${encodeURIComponent(Ut)}`:"";return`${function hm({config:I}){return I.emulator?me(I,Bh):`https://${I.authDomain}/${eu}`}(I)}?${(0,Ne.Am)(mt).slice(1)}${bn}`})).apply(this,arguments)}const tu="webStorageSupport",wo=class Nl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zi,this._completeRedirectFn=pd,this._overrideRedirectResult=vu}_openPopup(d,g,w,K){var ae=this;return(0,re.A)(function*(){var Ge;qt(null===(Ge=ae.eventManagers[d._key()])||void 0===Ge?void 0:Ge.manager,"_initialize() not called before _openPopup()");const mt=yield Yu(d,g,w,N(),K);return function Uh(I,d,g,w=500,K=600){const ae=Math.max((window.screen.availHeight-K)/2,0).toString(),Ge=Math.max((window.screen.availWidth-w)/2,0).toString();let mt="";const Ut=Object.assign(Object.assign({},Fa),{width:w.toString(),height:K.toString(),top:ae,left:Ge}),bn=(0,Ne.ZQ)().toLowerCase();g&&(mt=zt(bn)?"_blank":g),Gt(bn)&&(d=d||"http://localhost",Ut.scrollbars="yes");const Bn=Object.entries(Ut).reduce((po,[fa,ru])=>`${po}${fa}=${ru},`,"");if(function Yt(I=(0,Ne.ZQ)()){var d;return We(I)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(bn)&&"_self"!==mt)return function qo(I,d){const g=document.createElement("a");g.href=I,g.target=d;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(d||"",mt),new Xu(null);const xr=window.open(d||"",mt,Bn);qe(xr,I,"popup-blocked");try{xr.focus()}catch{}return new Xu(xr)}(d,mt,Ws())})()}_openRedirect(d,g,w,K){var ae=this;return(0,re.A)(function*(){return yield ae._originValidation(d),function $u(I){ji().location.href=I}(yield Yu(d,g,w,N(),K)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:K,promise:ae}=this.eventManagers[g];return K?Promise.resolve(K):(qt(ae,"If manager is not set, promise should be"),ae)}const w=this.initAndGetManager(d);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(d){var g=this;return(0,re.A)(function*(){const w=yield function Vh(I){return Qu.apply(this,arguments)}(d),K=new Ja(d);return w.register("authEvent",ae=>(qe(ae?.authEvent,d,"invalid-auth-event"),{status:K.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:K},g.iframes[d._key()]=w,K})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(tu,{type:tu},K=>{var ae;const Ge=null===(ae=K?.[0])||void 0===ae?void 0:ae[tu];void 0!==Ge&&g(!!Ge),$t(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Nh(I){return Iu.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return Zt()||un()||We()}};var wc="@firebase/auth";class $h{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,re.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(w=>{d(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);g&&(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const wu=(0,Ne.XA)("authIdTokenMaxAge")||300;let Ac=null;const Ju=I=>function(){var d=(0,re.A)(function*(g){const w=g&&(yield g.getIdTokenResult()),K=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(K&&K>wu)return;const ae=w?.token;Ac!==ae&&(Ac=ae,yield fetch(I,{method:ae?"POST":"DELETE",headers:ae?{Authorization:`Bearer ${ae}`}:{}}))});return function(g){return d.apply(this,arguments)}}();function bd(I=(0,Fe.Sx)()){const d=(0,Fe.j6)(I,"auth");if(d.isInitialized())return d.getImmediate();const g=function os(I,d){const g=(0,Fe.j6)(I,"auth");if(g.isInitialized()){const K=g.getImmediate(),ae=g.getOptions();if((0,Ne.bD)(ae,d??{}))return K;$t(K,"already-initialized")}return g.initialize({options:d})}(I,{popupRedirectResolver:wo,persistence:[E,_s,Zi]}),w=(0,Ne.XA)("authTokenSyncURL");if(w&&"boolean"==typeof isSecureContext&&isSecureContext){const ae=new URL(w,location.origin);if(location.origin===ae.origin){const Ge=Ju(ae.toString());(function ju(I,d,g){(0,Ne.Ku)(I).beforeAuthStateChanged(d,g)})(g,Ge,()=>Ge(g.currentUser)),function pu(I,d,g,w){(0,Ne.Ku)(I).onIdTokenChanged(d,g,w)}(g,mt=>Ge(mt))}}const K=(0,Ne.Tj)("auth");return K&&function ds(I,d,g){const w=Ar(I);qe(w._canInitEmulator,w,"emulator-config-failed"),qe(/^https?:\/\//.test(d),w,"invalid-emulator-scheme");const K=!!g?.disableWarnings,ae=yo(d),{host:Ge,port:mt}=function Ks(I){const d=yo(I),g=/(\/\/)?([^?#/]+)/.exec(I.substr(d.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(w);if(K){const ae=K[1];return{host:ae,port:ro(w.substr(ae.length+1))}}{const[ae,Ge]=w.split(":");return{host:ae,port:ro(Ge)}}}(d);w.config.emulator={url:`${ae}//${Ge}${null===mt?"":`:${mt}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Ge,port:mt,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function Jo(){function I(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(g,`http://${K}`),g}(function Nn(I){Dt=I})({loadJS:I=>new Promise((d,g)=>{const w=document.createElement("script");w.setAttribute("src",I),w.onload=d,w.onerror=K=>{const ae=Bt("internal-error");ae.customData=K,g(ae)},w.type="text/javascript",w.charset="UTF-8",function wd(){var I,d;return null!==(d=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==d?d:document}().appendChild(w)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function bu(I){(0,Fe.om)(new ge.uA("auth",(d,{options:g})=>{const w=d.getProvider("app").getImmediate(),K=d.getProvider("heartbeat"),ae=d.getProvider("app-check-internal"),{apiKey:Ge,authDomain:mt}=w.options;qe(Ge&&!Ge.includes(":"),"invalid-api-key",{appName:w.name});const Ut={apiKey:Ge,authDomain:mt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fn(I)},bn=new Ss(w,K,ae,Ut);return function Gr(I,d){const g=d?.persistence||[],w=(Array.isArray(g)?g:[g]).map(Sn);d?.errorMap&&I._updateErrorMap(d.errorMap),I._initializeWithPersistence(w,d?.popupRedirectResolver)}(bn,g),bn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,w)=>{d.getProvider("auth-internal").initialize()})),(0,Fe.om)(new ge.uA("auth-internal",d=>{const g=Ar(d.getProvider("auth").getImmediate());return new $h(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Fe.KO)(wc,"1.7.9",function kl(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,Fe.KO)(wc,"1.7.9","esm2017")}("Browser");var Ad=z(1985);function Vl(I){return new Ad.c(function(d){var g=function V(I,d,g,w){return(0,Ne.Ku)(I).onAuthStateChanged(d,g,w)}(I,d.next.bind(d),d.error.bind(d),d.complete.bind(d));return{unsubscribe:g}})}class Va{constructor(d){return d}}class ys{constructor(){return(0,o.CA)("auth")}}const Dd=new se.nKC("angularfire2.auth-instances");function Bl(I){return(d,g)=>{const w=d.runOutsideAngular(()=>I(g));return new Va(w)}}const zh={provide:ys,deps:[[new se.Xx1,Dd]]},Wh={provide:Va,useFactory:function Ul(I,d){const g=(0,o.lR)("auth",I,d);return g&&new Va(g)},deps:[[new se.Xx1,Dd],Je.XU]};let mp=(()=>{class I{constructor(){(0,Ce.KO)("angularfire",o.xv.full,"auth")}static \u0275fac=function(w){return new(w||I)};static \u0275mod=se.$C({type:I});static \u0275inj=se.G2t({providers:[Wh,zh]})}return I})();function _p(I,...d){return{ngModule:mp,providers:[{provide:Dd,useFactory:Bl(I),multi:!0,deps:[se.SKi,se.zZn,o.u0,Je.gL,[new se.Xx1,o.Jv],...d]}]}}const Dc=(0,o.S3)(Vl,!0),Hl=(0,o.S3)(bd,!0),Zh=(0,o.S3)(uo,!0),rs=(0,o.S3)(P,!0)},9967:(gn,dt,z)=>{z.d(dt,{_7:()=>mr,Qi:()=>_e,gS:()=>Dn,rJ:()=>Qn,xs:()=>Mt,kd:()=>Er,H9:()=>ss,Bg:()=>jt,GG:()=>bi,GV:()=>Y,AB:()=>Pe,P:()=>wr,HM:()=>fn,mZ:()=>dr,_M:()=>Ss});var o=z(3586),se=z(540),Je=z(7440),Ce=z(2214),re=z(3273),Fe=z(1985),Ne=z(6354),je=function(){return je=Object.assign||function(Dt){for(var Nn,tn=1,ni=arguments.length;tn<ni;tn++)for(var Jr in Nn=arguments[tn])Object.prototype.hasOwnProperty.call(Nn,Jr)&&(Dt[Jr]=Nn[Jr]);return Dt},je.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var ge={includeMetadataChanges:!1};function Te(en,Dt){return void 0===Dt&&(Dt=ge),new Fe.c(function(Nn){return{unsubscribe:(0,re.aQ)(en,Dt,{next:Nn.next.bind(Nn),error:Nn.error.bind(Nn),complete:Nn.complete.bind(Nn)})}})}function Ct(en,Dt){return void 0===Dt&&(Dt={}),function Qe(en){return Te(en,{includeMetadataChanges:!0})}(en).pipe((0,Ne.T)(function(Nn){return bt(Nn,Dt)}))}function bt(en,Dt){var Nn;void 0===Dt&&(Dt={});var tn=en.data(Dt);return en.exists()&&"object"==typeof tn&&null!==tn&&Dt.idField?je(je({},tn),((Nn={})[Dt.idField]=en.id,Nn)):tn}function Le(en,Dt){return void 0===Dt&&(Dt={}),function Pt(en){return Te(en,{includeMetadataChanges:!0}).pipe((0,Ne.T)(function(Dt){return Dt.docs}))}(en).pipe((0,Ne.T)(function(Nn){return Nn.map(function(tn){return bt(tn,Dt)})}))}class mr{constructor(Dt){return Dt}}const qe="firestore",N=new se.nKC("angularfire2.firestore-instances"),Nt={provide:class Re{constructor(){return(0,o.CA)(qe)}},deps:[[new se.Xx1,N]]},ke={provide:mr,useFactory:function X(en,Dt){const Nn=(0,o.lR)(qe,en,Dt);return Nn&&new mr(Nn)},deps:[[new se.Xx1,N],Je.XU]};let _e=(()=>{class en{constructor(){(0,Ce.KO)("angularfire",o.xv.full,"fst")}static \u0275fac=function(tn){return new(tn||en)};static \u0275mod=se.$C({type:en});static \u0275inj=se.G2t({providers:[ke,Nt]})}return en})();const Mt=(0,o.S3)(Le,!0),jt=(0,o.S3)(Ct,!0),Dn=(0,o.S3)(re.gS,!0),Qn=(0,o.S3)(re.rJ,!0),Er=(0,o.S3)(re.kd,!0),ss=(0,o.S3)(re.H9,!0),bi=(0,o.S3)(re.GG,!0),Y=(0,o.S3)(re.GV,!0),Pe=(0,o.S3)(re.AB,!0),wr=(0,o.S3)(re.P,!0),fn=(0,o.S3)(re.HM,!0),dr=(0,o.S3)(re.mZ,!0),Ss=(0,o.S3)(re._M,!0)},2107:(gn,dt,z)=>{z.d(dt,{wc:()=>qn,qk:()=>tr,c7:()=>bs,Xm:()=>hi,KR:()=>Rr,D:()=>Ui});var o=z(3586),se=z(540),Je=z(7440),Ce=z(8563),re=z(2214),Fe=z(467),Ne=z(7852),je=z(1076),Ze=z(1362);const ge="firebasestorage.googleapis.com",Te="storageBucket";class ht extends je.g{constructor(q,fe,Ee=0){super(Qt(q),`Firebase Storage: ${fe} (${Qt(q)})`),this.status_=Ee,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ht.prototype)}get status(){return this.status_}set status(q){this.status_=q}_codeEquals(q){return Qt(q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(q){this.customData.serverResponse=q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ft=function(W){return W.UNKNOWN="unknown",W.OBJECT_NOT_FOUND="object-not-found",W.BUCKET_NOT_FOUND="bucket-not-found",W.PROJECT_NOT_FOUND="project-not-found",W.QUOTA_EXCEEDED="quota-exceeded",W.UNAUTHENTICATED="unauthenticated",W.UNAUTHORIZED="unauthorized",W.UNAUTHORIZED_APP="unauthorized-app",W.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",W.INVALID_CHECKSUM="invalid-checksum",W.CANCELED="canceled",W.INVALID_EVENT_NAME="invalid-event-name",W.INVALID_URL="invalid-url",W.INVALID_DEFAULT_BUCKET="invalid-default-bucket",W.NO_DEFAULT_BUCKET="no-default-bucket",W.CANNOT_SLICE_BLOB="cannot-slice-blob",W.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",W.NO_DOWNLOAD_URL="no-download-url",W.INVALID_ARGUMENT="invalid-argument",W.INVALID_ARGUMENT_COUNT="invalid-argument-count",W.APP_DELETED="app-deleted",W.INVALID_ROOT_OPERATION="invalid-root-operation",W.INVALID_FORMAT="invalid-format",W.INTERNAL_ERROR="internal-error",W.UNSUPPORTED_ENVIRONMENT="unsupported-environment",W}(Ft||{});function Qt(W){return"storage/"+W}function on(){return new ht(Ft.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function qt(W){return new ht(Ft.INVALID_ARGUMENT,W)}function N(){return new ht(Ft.APP_DELETED,"The Firebase app was deleted.")}function ue(W,q){return new ht(Ft.INVALID_FORMAT,"String does not match format '"+W+"': "+q)}function Nt(W){throw new ht(Ft.INTERNAL_ERROR,"Internal error: "+W)}class ke{constructor(q,fe){this.bucket=q,this.path_=fe}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const q=encodeURIComponent;return"/b/"+q(this.bucket)+"/o/"+q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(q,fe){let Ee;try{Ee=ke.makeFromUrl(q,fe)}catch{return new ke(q,"")}if(""===Ee.path)return Ee;throw function Le(W){return new ht(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+W+"'.")}(q)}static makeFromUrl(q,fe){let Ee=null;const Ke="([A-Za-z0-9.\\-_]+)",B=new RegExp("^gs://"+Ke+"(/(.*))?$","i");function J(Mi){Mi.path_=decodeURIComponent(Mi.path)}const Vt=fe.replace(/[.]/g,"\\."),ii=[{regex:B,indices:{bucket:1,path:3},postModify:function yt(Mi){"/"===Mi.path.charAt(Mi.path.length-1)&&(Mi.path_=Mi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Vt}/v[A-Za-z0-9_]+/b/${Ke}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:J},{regex:new RegExp(`^https?://${fe===ge?"(?:storage.googleapis.com|storage.cloud.google.com)":fe}/${Ke}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:J}];for(let Mi=0;Mi<ii.length;Mi++){const Mo=ii[Mi],oo=Mo.regex.exec(q);if(oo){let To=oo[Mo.indices.path];To||(To=""),Ee=new ke(oo[Mo.indices.bucket],To),Mo.postModify(Ee);break}}if(null==Ee)throw function Bt(W){return new ht(Ft.INVALID_URL,"Invalid URL '"+W+"'.")}(q);return Ee}}class _e{constructor(q){this.promise_=Promise.reject(q)}getPromise(){return this.promise_}cancel(q=!1){}}function Mt(W){return"string"==typeof W||W instanceof String}function Ln(W){return dn()&&W instanceof Blob}function dn(){return typeof Blob<"u"}function Gn(W,q,fe,Ee){if(Ee<q)throw qt(`Invalid value for '${W}'. Expected ${q} or greater.`);if(Ee>fe)throw qt(`Invalid value for '${W}'. Expected ${fe} or less.`)}function jt(W,q,fe){let Ee=q;return null==fe&&(Ee=`https://${q}`),`${fe}://${Ee}/v0${W}`}function Nr(W){const q=encodeURIComponent;let fe="?";for(const Ee in W)W.hasOwnProperty(Ee)&&(fe=fe+(q(Ee)+"=")+q(W[Ee])+"&");return fe=fe.slice(0,-1),fe}var wn=function(W){return W[W.NO_ERROR=0]="NO_ERROR",W[W.NETWORK_ERROR=1]="NETWORK_ERROR",W[W.ABORT=2]="ABORT",W}(wn||{});class Wt{constructor(q,fe,Ee,Ke,yt,k,B,M,J,ve,Vt,Tn=!0){this.url_=q,this.method_=fe,this.headers_=Ee,this.body_=Ke,this.successCodes_=yt,this.additionalRetryCodes_=k,this.callback_=B,this.errorCallback_=M,this.timeout_=J,this.progressCallback_=ve,this.connectionFactory_=Vt,this.retry=Tn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Pr,Zr)=>{this.resolve_=Pr,this.reject_=Zr,this.start_()})}start_(){const fe=(Ee,Ke)=>{const yt=this.resolve_,k=this.reject_,B=Ke.connection;if(Ke.wasSuccessCode)try{const M=this.callback_(B,B.getResponse());!function de(W){return void 0!==W}(M)?yt():yt(M)}catch(M){k(M)}else if(null!==B){const M=on();M.serverResponse=B.getErrorText(),k(this.errorCallback_?this.errorCallback_(B,M):M)}else k(Ke.canceled?this.appDelete_?N():function $t(){return new ht(Ft.CANCELED,"User canceled the upload/download.")}():function Pt(){return new ht(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?fe(0,new sn(!1,null,!0)):this.backoffId_=function me(W,q,fe){let Ee=1,Ke=null,yt=null,k=!1,B=0;function M(){return 2===B}let J=!1;function ve(...$r){J||(J=!0,q.apply(null,$r))}function Vt($r){Ke=setTimeout(()=>{Ke=null,W(Pr,M())},$r)}function Tn(){yt&&clearTimeout(yt)}function Pr($r,...ur){if(J)return void Tn();if($r)return Tn(),void ve.call(null,$r,...ur);if(M()||k)return Tn(),void ve.call(null,$r,...ur);let ii;Ee<64&&(Ee*=2),1===B?(B=2,ii=0):ii=1e3*(Ee+Math.random()),Vt(ii)}let Zr=!1;function Ii($r){Zr||(Zr=!0,Tn(),!J&&(null!==Ke?($r||(B=2),clearTimeout(Ke),Vt(0)):$r||(B=1)))}return Vt(0),yt=setTimeout(()=>{k=!0,Ii(!0)},fe),Ii}((Ee,Ke)=>{if(Ke)return void Ee(!1,new sn(!1,null,!0));const yt=this.connectionFactory_();this.pendingConnection_=yt;const k=B=>{null!==this.progressCallback_&&this.progressCallback_(B.loaded,B.lengthComputable?B.total:-1)};null!==this.progressCallback_&&yt.addUploadProgressListener(k),yt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&yt.removeUploadProgressListener(k),this.pendingConnection_=null;const B=yt.getErrorCode()===wn.NO_ERROR,M=yt.getStatus();if(!B||function Dn(W,q){const fe=W>=500&&W<600,Ke=-1!==[408,429].indexOf(W),yt=-1!==q.indexOf(W);return fe||Ke||yt}(M,this.additionalRetryCodes_)&&this.retry){const ve=yt.getErrorCode()===wn.ABORT;return void Ee(!1,new sn(!1,null,ve))}const J=-1!==this.successCodes_.indexOf(M);Ee(!0,new sn(J,yt))})},fe,this.timeout_)}getPromise(){return this.promise_}cancel(q){this.canceled_=!0,this.appDelete_=q||!1,null!==this.backoffId_&&function oe(W){W(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class sn{constructor(q,fe,Ee){this.wasSuccessCode=q,this.connection=fe,this.canceled=!!Ee}}function yn(...W){const q=function Qn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==q){const fe=new q;for(let Ee=0;Ee<W.length;Ee++)fe.append(W[Ee]);return fe.getBlob()}if(dn())return new Blob(W);throw new ht(Ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const fr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Er{constructor(q,fe){this.data=q,this.contentType=fe||null}}function Ki(W){const q=[];for(let fe=0;fe<W.length;fe++){let Ee=W.charCodeAt(fe);Ee<=127?q.push(Ee):Ee<=2047?q.push(192|Ee>>6,128|63&Ee):55296==(64512&Ee)?fe<W.length-1&&56320==(64512&W.charCodeAt(fe+1))?(Ee=65536|(1023&Ee)<<10|1023&W.charCodeAt(++fe),q.push(240|Ee>>18,128|Ee>>12&63,128|Ee>>6&63,128|63&Ee)):q.push(239,191,189):56320==(64512&Ee)?q.push(239,191,189):q.push(224|Ee>>12,128|Ee>>6&63,128|63&Ee)}return new Uint8Array(q)}function ss(W,q){switch(W){case fr.BASE64:{const Ke=-1!==q.indexOf("-"),yt=-1!==q.indexOf("_");if(Ke||yt)throw ue(W,"Invalid character '"+(Ke?"-":"_")+"' found: is it base64url encoded?");break}case fr.BASE64URL:{const Ke=-1!==q.indexOf("+"),yt=-1!==q.indexOf("/");if(Ke||yt)throw ue(W,"Invalid character '"+(Ke?"+":"/")+"' found: is it base64 encoded?");q=q.replace(/-/g,"+").replace(/_/g,"/");break}}let fe;try{fe=function Dr(W){if(typeof atob>"u")throw function Re(W){return new ht(Ft.UNSUPPORTED_ENVIRONMENT,`${W} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(W)}(q)}catch(Ke){throw Ke.message.includes("polyfill")?Ke:ue(W,"Invalid character found")}const Ee=new Uint8Array(fe.length);for(let Ke=0;Ke<fe.length;Ke++)Ee[Ke]=fe.charCodeAt(Ke);return Ee}class cn{constructor(q){this.base64=!1,this.contentType=null;const fe=q.match(/^data:([^,]+)?,/);if(null===fe)throw ue(fr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ee=fe[1]||null;null!=Ee&&(this.base64=function br(W,q){return W.length>=q.length&&W.substring(W.length-q.length)===q}(Ee,";base64"),this.contentType=this.base64?Ee.substring(0,Ee.length-7):Ee),this.rest=q.substring(q.indexOf(",")+1)}}class ze{constructor(q,fe){let Ee=0,Ke="";Ln(q)?(this.data_=q,Ee=q.size,Ke=q.type):q instanceof ArrayBuffer?(fe?this.data_=new Uint8Array(q):(this.data_=new Uint8Array(q.byteLength),this.data_.set(new Uint8Array(q))),Ee=this.data_.length):q instanceof Uint8Array&&(fe?this.data_=q:(this.data_=new Uint8Array(q.length),this.data_.set(q)),Ee=q.length),this.size_=Ee,this.type_=Ke}size(){return this.size_}type(){return this.type_}slice(q,fe){if(Ln(this.data_)){const Ke=function Wi(W,q,fe){return W.webkitSlice?W.webkitSlice(q,fe):W.mozSlice?W.mozSlice(q,fe):W.slice?W.slice(q,fe):null}(this.data_,q,fe);return null===Ke?null:new ze(Ke)}{const Ee=new Uint8Array(this.data_.buffer,q,fe-q);return new ze(Ee,!0)}}static getBlob(...q){if(dn()){const fe=q.map(Ee=>Ee instanceof ze?Ee.data_:Ee);return new ze(yn.apply(null,fe))}{const fe=q.map(k=>Mt(k)?function Sr(W,q){switch(W){case fr.RAW:return new Er(Ki(q));case fr.BASE64:case fr.BASE64URL:return new Er(ss(W,q));case fr.DATA_URL:return new Er(function Ri(W){const q=new cn(W);return q.base64?ss(fr.BASE64,q.rest):function jn(W){let q;try{q=decodeURIComponent(W)}catch{throw ue(fr.DATA_URL,"Malformed data URL.")}return Ki(q)}(q.rest)}(q),function ti(W){return new cn(W).contentType}(q))}throw on()}(fr.RAW,k).data:k.data_);let Ee=0;fe.forEach(k=>{Ee+=k.byteLength});const Ke=new Uint8Array(Ee);let yt=0;return fe.forEach(k=>{for(let B=0;B<k.length;B++)Ke[yt++]=k[B]}),new ze(Ke,!0)}}uploadData(){return this.data_}}function hn(W){let q;try{q=JSON.parse(W)}catch{return null}return function st(W){return"object"==typeof W&&!Array.isArray(W)}(q)?q:null}function Ci(W){const q=W.lastIndexOf("/",W.length-2);return-1===q?W:W.slice(q+1)}function kn(W,q){return q}class Zn{constructor(q,fe,Ee,Ke){this.server=q,this.local=fe||q,this.writable=!!Ee,this.xform=Ke||kn}}let oi=null;function ai(){if(oi)return oi;const W=[];W.push(new Zn("bucket")),W.push(new Zn("generation")),W.push(new Zn("metageneration")),W.push(new Zn("name","fullPath",!0));const fe=new Zn("name");fe.xform=function q(yt,k){return function bi(W){return!Mt(W)||W.length<2?W:Ci(W)}(k)},W.push(fe);const Ke=new Zn("size");return Ke.xform=function Ee(yt,k){return void 0!==k?Number(k):k},W.push(Ke),W.push(new Zn("timeCreated")),W.push(new Zn("updated")),W.push(new Zn("md5Hash",null,!0)),W.push(new Zn("cacheControl",null,!0)),W.push(new Zn("contentDisposition",null,!0)),W.push(new Zn("contentEncoding",null,!0)),W.push(new Zn("contentLanguage",null,!0)),W.push(new Zn("contentType",null,!0)),W.push(new Zn("metadata","customMetadata",!0)),oi=W,oi}function j(W,q,fe){const Ee=hn(q);return null===Ee?null:function ee(W,q,fe){const Ee={type:"file"},Ke=fe.length;for(let yt=0;yt<Ke;yt++){const k=fe[yt];Ee[k.local]=k.xform(Ee,q[k.server])}return function ft(W,q){Object.defineProperty(W,"ref",{get:function fe(){const yt=new ke(W.bucket,W.fullPath);return q._makeStorageReference(yt)}})}(Ee,W),Ee}(W,Ee,fe)}class Xn{constructor(q,fe,Ee,Ke){this.url=q,this.method=fe,this.handler=Ee,this.timeout=Ke,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Sn(W){if(!W)throw on()}function Se(W){return function q(fe,Ee){let Ke;return Ke=401===fe.getStatus()?fe.getErrorText().includes("Firebase App Check token is invalid")?function it(){return new ht(Ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Oe(){return new ht(Ft.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===fe.getStatus()?function nn(W){return new ht(Ft.QUOTA_EXCEEDED,"Quota for bucket '"+W+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(W.bucket):403===fe.getStatus()?function pt(W){return new ht(Ft.UNAUTHORIZED,"User does not have permission to access '"+W+"'.")}(W.path):Ee,Ke.status=fe.getStatus(),Ke.serverResponse=Ee.serverResponse,Ke}}function vt(W,q,fe,Ee,Ke){const yt=q.bucketOnlyServerUrl(),k={"X-Goog-Upload-Protocol":"multipart"},M=function B(){let ii="";for(let Mi=0;Mi<2;Mi++)ii+=Math.random().toString().slice(2);return ii}();k["Content-Type"]="multipart/related; boundary="+M;const J=function We(W,q,fe){const Ee=Object.assign({},fe);return Ee.fullPath=W.path,Ee.size=q.size(),Ee.contentType||(Ee.contentType=function tt(W,q){return W&&W.contentType||q&&q.type()||"application/octet-stream"}(null,q)),Ee}(q,Ee,Ke),ve=function we(W,q){const fe={},Ee=q.length;for(let Ke=0;Ke<Ee;Ke++){const yt=q[Ke];yt.writable&&(fe[yt.server]=W[yt.local])}return JSON.stringify(fe)}(J,fe),Pr=ze.getBlob("--"+M+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ve+"\r\n--"+M+"\r\nContent-Type: "+J.contentType+"\r\n\r\n",Ee,"\r\n--"+M+"--");if(null===Pr)throw function Kn(){return new ht(Ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const Zr={name:J.fullPath},Ii=jt(yt,W.host,W._protocol),ur=W.maxUploadRetryTime,fi=new Xn(Ii,"POST",function Kr(W,q){return function fe(Ee,Ke){const yt=j(W,Ke,q);return Sn(null!==yt),yt}}(W,fe),ur);return fi.urlParams=Zr,fi.headers=k,fi.body=Pr.uploadData(),fi.errorHandler=Se(q),fi}let en=null;class Dt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wn.NO_ERROR,this.sendPromise_=new Promise(q=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wn.ABORT,q()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wn.NETWORK_ERROR,q()}),this.xhr_.addEventListener("load",()=>{q()})})}send(q,fe,Ee,Ke){if(this.sent_)throw Nt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(fe,q,!0),void 0!==Ke)for(const yt in Ke)Ke.hasOwnProperty(yt)&&this.xhr_.setRequestHeader(yt,Ke[yt].toString());return void 0!==Ee?this.xhr_.send(Ee):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(q){return this.xhr_.getResponseHeader(q)}addUploadProgressListener(q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",q)}removeUploadProgressListener(q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",q)}}class Nn extends Dt{initXhr(){this.xhr_.responseType="text"}}function tn(){return en?en():new Nn}class ar{constructor(q,fe){this._service=q,this._location=fe instanceof ke?fe:ke.makeFromUrl(fe,q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(q,fe){return new ar(q,fe)}get root(){const q=new ke(this._location.bucket,"");return this._newRef(this._service,q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ci(this._location.path)}get storage(){return this._service}get parent(){const q=function Pn(W){if(0===W.length)return null;const q=W.lastIndexOf("/");return-1===q?"":W.slice(0,q)}(this._location.path);if(null===q)return null;const fe=new ke(this._location.bucket,q);return new ar(this._service,fe)}_throwIfRoot(q){if(""===this._location.path)throw function X(W){return new ht(Ft.INVALID_ROOT_OPERATION,"The operation '"+W+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(q)}}function Ks(W){W._throwIfRoot("getDownloadURL");const q=function wr(W,q,fe){const Ke=jt(q.fullServerUrl(),W.host,W._protocol),k=W.maxOperationRetryTime,B=new Xn(Ke,"GET",function be(W,q){return function fe(Ee,Ke){const yt=j(W,Ke,q);return Sn(null!==yt),function Y(W,q,fe,Ee){const Ke=hn(q);if(null===Ke||!Mt(Ke.downloadTokens))return null;const yt=Ke.downloadTokens;if(0===yt.length)return null;const k=encodeURIComponent;return yt.split(",").map(J=>{const Vt=W.fullPath;return jt("/b/"+k(W.bucket)+"/o/"+k(Vt),fe,Ee)+Nr({alt:"media",token:J})})[0]}(yt,Ke,W.host,W._protocol)}}(W,fe),k);return B.errorHandler=function Tt(W){const q=Se(W);return function fe(Ee,Ke){let yt=q(Ee,Ke);return 404===Ee.getStatus()&&(yt=function Mn(W){return new ht(Ft.OBJECT_NOT_FOUND,"Object '"+W+"' does not exist.")}(W.path)),yt.serverResponse=Ke.serverResponse,yt}}(q),B}(W.storage,W._location,ai());return W.storage.makeRequestWithTokens(q,tn).then(fe=>{if(null===fe)throw function qe(){return new ht(Ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return fe})}function hs(W,q){if(W instanceof wi){const fe=W;if(null==fe._bucket)throw function Jt(){return new ht(Ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Te+"' property when initializing the app?")}();const Ee=new ar(fe,fe._bucket);return null!=q?hs(Ee,q):Ee}return void 0!==q?function Jo(W,q){const fe=function Ji(W,q){const fe=q.split("/").filter(Ee=>Ee.length>0).join("/");return 0===W.length?fe:W+"/"+fe}(W._location.path,q),Ee=new ke(W._location.bucket,fe);return new ar(W.storage,Ee)}(W,q):W}function fs(W,q){const fe=q?.[Te];return null==fe?null:ke.makeFromBucketSpec(fe,W)}class wi{constructor(q,fe,Ee,Ke,yt){this.app=q,this._authProvider=fe,this._appCheckProvider=Ee,this._url=Ke,this._firebaseVersion=yt,this._bucket=null,this._host=ge,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ke?ke.makeFromBucketSpec(Ke,this._host):fs(this._host,this.app.options)}get host(){return this._host}set host(q){this._host=q,this._bucket=null!=this._url?ke.makeFromBucketSpec(this._url,q):fs(q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(q){Gn("time",0,Number.POSITIVE_INFINITY,q),this._maxUploadRetryTime=q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(q){Gn("time",0,Number.POSITIVE_INFINITY,q),this._maxOperationRetryTime=q}_getAuthToken(){var q=this;return(0,Fe.A)(function*(){if(q._overrideAuthToken)return q._overrideAuthToken;const fe=q._authProvider.getImmediate({optional:!0});if(fe){const Ee=yield fe.getToken();if(null!==Ee)return Ee.accessToken}return null})()}_getAppCheckToken(){var q=this;return(0,Fe.A)(function*(){const fe=q._appCheckProvider.getImmediate({optional:!0});return fe?(yield fe.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(q=>q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(q){return new ar(this,q)}_makeRequest(q,fe,Ee,Ke,yt=!0){if(this._deleted)return new _e(N());{const k=function di(W,q,fe,Ee,Ke,yt,k=!0){const B=Nr(W.urlParams),M=W.url+B,J=Object.assign({},W.headers);return function ir(W,q){q&&(W["X-Firebase-GMPID"]=q)}(J,q),function Ot(W,q){null!==q&&q.length>0&&(W.Authorization="Firebase "+q)}(J,fe),function vi(W,q){W["X-Firebase-Storage-Version"]="webjs/"+(q??"AppManager")}(J,yt),function At(W,q){null!==q&&(W["X-Firebase-AppCheck"]=q)}(J,Ee),new Wt(M,W.method,J,W.body,W.successCodes,W.additionalRetryCodes,W.handler,W.errorHandler,W.timeout,W.progressCallback,Ke,k)}(q,this._appId,Ee,Ke,fe,this._firebaseVersion,yt);return this._requests.add(k),k.getPromise().then(()=>this._requests.delete(k),()=>this._requests.delete(k)),k}}makeRequestWithTokens(q,fe){var Ee=this;return(0,Fe.A)(function*(){const[Ke,yt]=yield Promise.all([Ee._getAuthToken(),Ee._getAppCheckToken()]);return Ee._makeRequest(q,fe,Ke,yt).getPromise()})()}}const vo="@firebase/storage",Ts="storage";function Br(W,q,fe){return function Ir(W,q,fe){W._throwIfRoot("uploadBytes");const Ee=vt(W.storage,W._location,ai(),new ze(q,!0),fe);return W.storage.makeRequestWithTokens(Ee,tn).then(Ke=>({metadata:Ke,ref:W}))}(W=(0,je.Ku)(W),q,fe)}function Ms(W){return Ks(W=(0,je.Ku)(W))}function Wr(W,q){return function as(W,q){if(q&&function Es(W){return/^[A-Za-z]+:\/\//.test(W)}(q)){if(W instanceof wi)return function Qi(W,q){return new ar(W,q)}(W,q);throw qt("To use ref(service, url), the first argument must be a Storage instance.")}return hs(W,q)}(W=(0,je.Ku)(W),q)}function Jn(W=(0,Ne.Sx)(),q){W=(0,je.Ku)(W);const Ee=(0,Ne.j6)(W,Ts).getImmediate({identifier:q}),Ke=(0,je.yU)("storage");return Ke&&function _r(W,q,fe,Ee={}){!function Bs(W,q,fe,Ee={}){W.host=`${q}:${fe}`,W._protocol="http";const{mockUserToken:Ke}=Ee;Ke&&(W._overrideAuthToken="string"==typeof Ke?Ke:(0,je.Fy)(Ke,W.app.options.projectId))}(W,q,fe,Ee)}(Ee,...Ke),Ee}function sr(W,{instanceIdentifier:q}){const fe=W.getProvider("app").getImmediate(),Ee=W.getProvider("auth-internal"),Ke=W.getProvider("app-check-internal");return new wi(fe,Ee,Ke,q,Ne.MF)}!function ls(){(0,Ne.om)(new Ze.uA(Ts,sr,"PUBLIC").setMultipleInstances(!0)),(0,Ne.KO)(vo,"0.13.2",""),(0,Ne.KO)(vo,"0.13.2","esm2017")}();class qn{constructor(q){return q}}const qr="storage",Ai=new se.nKC("angularfire2.storage-instances");function Os(W){return(q,fe)=>{const Ee=q.runOutsideAngular(()=>W(fe));return new qn(Ee)}}const Rn={provide:class $s{constructor(){return(0,o.CA)(qr)}},deps:[[new se.Xx1,Ai]]},yr={provide:qn,useFactory:function Eo(W,q){const fe=(0,o.lR)(qr,W,q);return fe&&new qn(fe)},deps:[[new se.Xx1,Ai],Je.XU]};let Qr=(()=>{class W{constructor(){(0,re.KO)("angularfire",o.xv.full,"gcs")}static \u0275fac=function(Ee){return new(Ee||W)};static \u0275mod=se.$C({type:W});static \u0275inj=se.G2t({providers:[yr,Rn]})}return W})();function hi(W,...q){return{ngModule:Qr,providers:[{provide:Ai,useFactory:Os(W),multi:!0,deps:[se.SKi,se.zZn,o.u0,Je.gL,[new se.Xx1,Ce.DF],[new se.Xx1,o.Jv],...q]}]}}const tr=(0,o.S3)(Ms,!0),bs=(0,o.S3)(Jn,!0),Rr=(0,o.S3)(Wr,!0),Ui=(0,o.S3)(Br,!0)},3586:(gn,dt,z)=>{z.d(dt,{xv:()=>Oe,u0:()=>mr,Jv:()=>$t,CA:()=>Pt,lR:()=>pt,S3:()=>_e});var o=z(540),se=z(2214),Je=z(8359);class Ce extends Je.yU{constructor(oe,de){super()}schedule(oe,de=0){return this}}const re={setInterval(me,oe,...de){const{delegate:De}=re;return De?.setInterval?De.setInterval(me,oe,...de):setInterval(me,oe,...de)},clearInterval(me){const{delegate:oe}=re;return(oe?.clearInterval||clearInterval)(me)},delegate:void 0};var Fe=z(7908);class Ne extends Ce{constructor(oe,de){super(oe,de),this.scheduler=oe,this.work=de,this.pending=!1}schedule(oe,de=0){var De;if(this.closed)return this;this.state=oe;const st=this.id,Mt=this.scheduler;return null!=st&&(this.id=this.recycleAsyncId(Mt,st,de)),this.pending=!0,this.delay=de,this.id=null!==(De=this.id)&&void 0!==De?De:this.requestAsyncId(Mt,this.id,de),this}requestAsyncId(oe,de,De=0){return re.setInterval(oe.flush.bind(oe,this),De)}recycleAsyncId(oe,de,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return de;null!=de&&re.clearInterval(de)}execute(oe,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(oe,de);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,de){let st,De=!1;try{this.work(oe)}catch(Mt){De=!0,st=Mt||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),st}unsubscribe(){if(!this.closed){const{id:oe,scheduler:de}=this,{actions:De}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Fe.o)(De,this),null!=oe&&(this.id=this.recycleAsyncId(de,oe,null)),this.delay=null,super.unsubscribe()}}}const Ze={now:()=>(Ze.delegate||Date).now(),delegate:void 0};class ge{constructor(oe,de=ge.now){this.schedulerActionCtor=oe,this.now=de}schedule(oe,de=0,De){return new this.schedulerActionCtor(this,oe).schedule(De,de)}}ge.now=Ze.now;class Te extends ge{constructor(oe,de=ge.now){super(oe,de),this.actions=[],this._active=!1}flush(oe){const{actions:de}=this;if(this._active)return void de.push(oe);let De;this._active=!0;do{if(De=oe.execute(oe.state,oe.delay))break}while(oe=de.shift());if(this._active=!1,De){for(;oe=de.shift();)oe.unsubscribe();throw De}}}const Ct=new class Qe extends Te{}(class je extends Ne{constructor(oe,de){super(oe,de),this.scheduler=oe,this.work=de}schedule(oe,de=0){return de>0?super.schedule(oe,de):(this.delay=de,this.state=oe,this.scheduler.flush(this),this)}execute(oe,de){return de>0||this.closed?super.execute(oe,de):this._execute(oe,de)}requestAsyncId(oe,de,De=0){return null!=De&&De>0||null==De&&this.delay>0?super.requestAsyncId(oe,de,De):(oe.flush(this),0)}}),ht=new Te(Ne);var Qt=z(1985),on=z(8141),Mn=z(6745),nn=z(941);const Oe=new o.RxE("ANGULARFIRE2_VERSION");function pt(me,oe,de){if(oe){if(1===oe.length)return oe[0];const Mt=oe.filter(Ln=>Ln.app===de);if(1===Mt.length)return Mt[0]}return de.container.getProvider(me).getImmediate({optional:!0})}const Pt=(me,oe)=>{const de=oe?[oe]:(0,se.Dk)(),De=[];return de.forEach(st=>{st.container.getProvider(me).instances.forEach(Ln=>{De.includes(Ln)||De.push(Ln)})}),De};class $t{constructor(){return Pt(Bt)}}const Bt="app-check";function Le(){}class Jt{zone;delegate;constructor(oe,de=Ct){this.zone=oe,this.delegate=de}now(){return this.delegate.now()}schedule(oe,de,De){const st=this.zone;return this.delegate.schedule(function(Ln){st.runGuarded(()=>{oe.apply(this,[Ln])})},de,De)}}class Kn{zone;task=null;constructor(oe){this.zone=oe}call(oe,de){const De=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Le,{},Le,Le)),de.pipe((0,on.M)({next:De,complete:De,error:De})).subscribe(oe).add(De)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let mr=(()=>{class me{ngZone;outsideAngular;insideAngular;constructor(de){this.ngZone=de,this.outsideAngular=de.runOutsideAngular(()=>new Jt(Zone.current)),this.insideAngular=de.run(()=>new Jt(Zone.current,ht)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(De){return new(De||me)(o.KVO(o.SKi))};static \u0275prov=o.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})();function qe(){const me=globalThis.\u0275AngularFireScheduler;if(!me)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return me}function qt(me){return qe().ngZone.run(()=>me())}function ue(me){return function Nt(me){return function(de){return(de=de.lift(new Kn(me.ngZone))).pipe((0,Mn._)(me.outsideAngular),(0,nn.Q)(me.insideAngular))}}(qe())(me)}const ke=(me,oe)=>function(){const De=arguments;return oe&&setTimeout(()=>{"scheduled"===oe.state&&oe.invoke()},10),qt(()=>me.apply(void 0,De))},_e=(me,oe)=>function(){let de;const De=arguments;for(let Mt=0;Mt<arguments.length;Mt++)"function"==typeof De[Mt]&&(oe&&(de||=qt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Le,{},Le,Le))),De[Mt]=ke(De[Mt],de));const st=function Re(me){return qe().ngZone.runOutsideAngular(()=>me())}(()=>me.apply(this,De));if(!oe){if(st instanceof Qt.c){const Mt=qe();return st.pipe((0,Mn._)(Mt.outsideAngular),(0,nn.Q)(Mt.insideAngular))}return qt(()=>st)}return st instanceof Qt.c?st.pipe(ue):st instanceof Promise?qt(()=>new Promise((Mt,Ln)=>st.then(dn=>qt(()=>Mt(dn)),dn=>qt(()=>Ln(dn))))):"function"==typeof st&&de?function(){return setTimeout(()=>{de&&"scheduled"===de.state&&de.invoke()},10),st.apply(this,arguments)}:qt(()=>st)}},4341:(gn,dt,z)=>{z.d(dt,{me:()=>Oe,Dg:()=>ps,ok:()=>W,JD:()=>Ps,j4:()=>Yn,YN:()=>Ke,kq:()=>ht,BC:()=>Qn,cb:()=>yn,cV:()=>ni,vS:()=>ds,xH:()=>Jn,X1:()=>yt,YS:()=>hi,wz:()=>ln,k0:()=>Le,qT:()=>yo,y7:()=>qn});var o=z(540),se=z(177),Je=z(8455),Ce=z(1985),re=z(3073),Fe=z(8750),Ne=z(3794),je=z(4360),Ze=z(6450),ge=z(8496),Qe=z(6354);let Ct=(()=>{class k{constructor(M,J){this._renderer=M,this._elementRef=J,this.onChange=ve=>{},this.onTouched=()=>{}}setProperty(M,J){this._renderer.setProperty(this._elementRef.nativeElement,M,J)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}static{this.\u0275fac=function(J){return new(J||k)(o.rXU(o.sFG),o.rXU(o.aKT))}}static{this.\u0275dir=o.FsC({type:k})}}return k})(),bt=(()=>{class k extends Ct{static{this.\u0275fac=function(){let M;return function(ve){return(M||(M=o.xGo(k)))(ve||k)}}()}static{this.\u0275dir=o.FsC({type:k,features:[o.Vt3]})}}return k})();const ht=new o.nKC("NgValueAccessor"),on={provide:ht,useExisting:(0,o.Rfq)(()=>Oe),multi:!0},nn=new o.nKC("CompositionEventMode");let Oe=(()=>{class k extends Ct{constructor(M,J,ve){super(M,J),this._compositionMode=ve,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mn(){const k=(0,se.QT)()?(0,se.QT)().getUserAgent():"";return/android (\d+)/.test(k.toLowerCase())}())}writeValue(M){this.setProperty("value",M??"")}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}static{this.\u0275fac=function(J){return new(J||k)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(nn,8))}}static{this.\u0275dir=o.FsC({type:k,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(J,ve){1&J&&o.bIt("input",function(Tn){return ve._handleInput(Tn.target.value)})("blur",function(){return ve.onTouched()})("compositionstart",function(){return ve._compositionStart()})("compositionend",function(Tn){return ve._compositionEnd(Tn.target.value)})},features:[o.Jv_([on]),o.Vt3]})}}return k})();function it(k){return null==k||("string"==typeof k||Array.isArray(k))&&0===k.length}function pt(k){return null!=k&&"number"==typeof k.length}const Pt=new o.nKC("NgValidators"),$t=new o.nKC("NgAsyncValidators"),Bt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Le{static min(B){return function Jt(k){return B=>{if(it(B.value)||it(k))return null;const M=parseFloat(B.value);return!isNaN(M)&&M<k?{min:{min:k,actual:B.value}}:null}}(B)}static max(B){return function Kn(k){return B=>{if(it(B.value)||it(k))return null;const M=parseFloat(B.value);return!isNaN(M)&&M>k?{max:{max:k,actual:B.value}}:null}}(B)}static required(B){return mr(B)}static requiredTrue(B){return function qe(k){return!0===k.value?null:{required:!0}}(B)}static email(B){return Re(B)}static minLength(B){return function qt(k){return B=>it(B.value)||!pt(B.value)?null:B.value.length<k?{minlength:{requiredLength:k,actualLength:B.value.length}}:null}(B)}static maxLength(B){return function N(k){return B=>pt(B.value)&&B.value.length>k?{maxlength:{requiredLength:k,actualLength:B.value.length}}:null}(B)}static pattern(B){return function X(k){if(!k)return ue;let B,M;return"string"==typeof k?(M="","^"!==k.charAt(0)&&(M+="^"),M+=k,"$"!==k.charAt(k.length-1)&&(M+="$"),B=new RegExp(M)):(M=k.toString(),B=k),J=>{if(it(J.value))return null;const ve=J.value;return B.test(ve)?null:{pattern:{requiredPattern:M,actualValue:ve}}}}(B)}static nullValidator(B){return null}static compose(B){return De(B)}static composeAsync(B){return Mt(B)}}function mr(k){return it(k.value)?{required:!0}:null}function Re(k){return it(k.value)||Bt.test(k.value)?null:{email:!0}}function ue(k){return null}function Nt(k){return null!=k}function ke(k){return(0,o.jNT)(k)?(0,Je.H)(k):k}function _e(k){let B={};return k.forEach(M=>{B=null!=M?{...B,...M}:B}),0===Object.keys(B).length?null:B}function me(k,B){return B.map(M=>M(k))}function de(k){return k.map(B=>function oe(k){return!k.validate}(B)?B:M=>B.validate(M))}function De(k){if(!k)return null;const B=k.filter(Nt);return 0==B.length?null:function(M){return _e(me(M,B))}}function st(k){return null!=k?De(de(k)):null}function Mt(k){if(!k)return null;const B=k.filter(Nt);return 0==B.length?null:function(M){return function Te(...k){const B=(0,Ne.ms)(k),{args:M,keys:J}=(0,re.D)(k),ve=new Ce.c(Vt=>{const{length:Tn}=M;if(!Tn)return void Vt.complete();const Pr=new Array(Tn);let Zr=Tn,Ii=Tn;for(let $r=0;$r<Tn;$r++){let ur=!1;(0,Fe.Tg)(M[$r]).subscribe((0,je._)(Vt,fi=>{ur||(ur=!0,Ii--),Pr[$r]=fi},()=>Zr--,void 0,()=>{(!Zr||!ur)&&(Ii||Vt.next(J?(0,ge.e)(J,Pr):Pr),Vt.complete())}))}});return B?ve.pipe((0,Ze.I)(B)):ve}(me(M,B).map(ke)).pipe((0,Qe.T)(_e))}}function Ln(k){return null!=k?Mt(de(k)):null}function dn(k,B){return null===k?[B]:Array.isArray(k)?[...k,B]:[k,B]}function Gn(k){return k._rawValidators}function jt(k){return k._rawAsyncValidators}function Nr(k){return k?Array.isArray(k)?k:[k]:[]}function wn(k,B){return Array.isArray(k)?k.includes(B):k===B}function Dn(k,B){const M=Nr(B);return Nr(k).forEach(ve=>{wn(M,ve)||M.push(ve)}),M}function Wt(k,B){return Nr(B).filter(M=>!wn(k,M))}class sn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(B){this._rawValidators=B||[],this._composedValidatorFn=st(this._rawValidators)}_setAsyncValidators(B){this._rawAsyncValidators=B||[],this._composedAsyncValidatorFn=Ln(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(B){this._onDestroyCallbacks.push(B)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(B=>B()),this._onDestroyCallbacks=[]}reset(B=void 0){this.control&&this.control.reset(B)}hasError(B,M){return!!this.control&&this.control.hasError(B,M)}getError(B,M){return this.control?this.control.getError(B,M):null}}class Ot extends sn{get formDirective(){return null}get path(){return null}}class vi extends sn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ir{constructor(B){this._cd=B}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Qn=(()=>{class k extends ir{constructor(M){super(M)}static{this.\u0275fac=function(J){return new(J||k)(o.rXU(vi,2))}}static{this.\u0275dir=o.FsC({type:k,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(J,ve){2&J&&o.AVh("ng-untouched",ve.isUntouched)("ng-touched",ve.isTouched)("ng-pristine",ve.isPristine)("ng-dirty",ve.isDirty)("ng-valid",ve.isValid)("ng-invalid",ve.isInvalid)("ng-pending",ve.isPending)},features:[o.Vt3]})}}return k})(),yn=(()=>{class k extends ir{constructor(M){super(M)}static{this.\u0275fac=function(J){return new(J||k)(o.rXU(Ot,10))}}static{this.\u0275dir=o.FsC({type:k,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(J,ve){2&J&&o.AVh("ng-untouched",ve.isUntouched)("ng-touched",ve.isTouched)("ng-pristine",ve.isPristine)("ng-dirty",ve.isDirty)("ng-valid",ve.isValid)("ng-invalid",ve.isInvalid)("ng-pending",ve.isPending)("ng-submitted",ve.isSubmitted)},features:[o.Vt3]})}}return k})();const kn="VALID",Zn="INVALID",oi="PENDING",bi="DISABLED";function ai(k){return(Y(k)?k.validators:k)||null}function ee(k,B){return(Y(B)?B.asyncValidators:k)||null}function Y(k){return null!=k&&!Array.isArray(k)&&"object"==typeof k}function we(k,B,M){const J=k.controls;if(!(B?Object.keys(J):J).length)throw new o.wOt(1e3,"");if(!J[M])throw new o.wOt(1001,"")}function Pe(k,B,M){k._forEachChild((J,ve)=>{if(void 0===M[ve])throw new o.wOt(1002,"")})}class It{constructor(B,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(B),this._assignAsyncValidators(M)}get validator(){return this._composedValidatorFn}set validator(B){this._rawValidators=this._composedValidatorFn=B}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(B){this._rawAsyncValidators=this._composedAsyncValidatorFn=B}get parent(){return this._parent}get valid(){return this.status===kn}get invalid(){return this.status===Zn}get pending(){return this.status==oi}get disabled(){return this.status===bi}get enabled(){return this.status!==bi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(B){this._assignValidators(B)}setAsyncValidators(B){this._assignAsyncValidators(B)}addValidators(B){this.setValidators(Dn(B,this._rawValidators))}addAsyncValidators(B){this.setAsyncValidators(Dn(B,this._rawAsyncValidators))}removeValidators(B){this.setValidators(Wt(B,this._rawValidators))}removeAsyncValidators(B){this.setAsyncValidators(Wt(B,this._rawAsyncValidators))}hasValidator(B){return wn(this._rawValidators,B)}hasAsyncValidator(B){return wn(this._rawAsyncValidators,B)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(B={}){this.touched=!0,this._parent&&!B.onlySelf&&this._parent.markAsTouched(B)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(B=>B.markAllAsTouched())}markAsUntouched(B={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}markAsDirty(B={}){this.pristine=!1,this._parent&&!B.onlySelf&&this._parent.markAsDirty(B)}markAsPristine(B={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}markAsPending(B={}){this.status=oi,!1!==B.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!B.onlySelf&&this._parent.markAsPending(B)}disable(B={}){const M=this._parentMarkedDirty(B.onlySelf);this.status=bi,this.errors=null,this._forEachChild(J=>{J.disable({...B,onlySelf:!0})}),this._updateValue(),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...B,skipPristineCheck:M}),this._onDisabledChange.forEach(J=>J(!0))}enable(B={}){const M=this._parentMarkedDirty(B.onlySelf);this.status=kn,this._forEachChild(J=>{J.enable({...B,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent}),this._updateAncestors({...B,skipPristineCheck:M}),this._onDisabledChange.forEach(J=>J(!1))}_updateAncestors(B){this._parent&&!B.onlySelf&&(this._parent.updateValueAndValidity(B),B.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(B){this._parent=B}getRawValue(){return this.value}updateValueAndValidity(B={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kn||this.status===oi)&&this._runAsyncValidator(B.emitEvent)),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.updateValueAndValidity(B)}_updateTreeValidity(B={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(B)),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bi:kn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(B){if(this.asyncValidator){this.status=oi,this._hasOwnPendingAsyncValidator=!0;const M=ke(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(J=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(J,{emitEvent:B})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(B,M={}){this.errors=B,this._updateControlsErrors(!1!==M.emitEvent)}get(B){let M=B;return null==M||(Array.isArray(M)||(M=M.split(".")),0===M.length)?null:M.reduce((J,ve)=>J&&J._find(ve),this)}getError(B,M){const J=M?this.get(M):this;return J&&J.errors?J.errors[B]:null}hasError(B,M){return!!this.getError(B,M)}get root(){let B=this;for(;B._parent;)B=B._parent;return B}_updateControlsErrors(B){this.status=this._calculateStatus(),B&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(B)}_initObservables(){this.valueChanges=new o.bkB,this.statusChanges=new o.bkB}_calculateStatus(){return this._allControlsDisabled()?bi:this.errors?Zn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oi)?oi:this._anyControlsHaveStatus(Zn)?Zn:kn}_anyControlsHaveStatus(B){return this._anyControls(M=>M.status===B)}_anyControlsDirty(){return this._anyControls(B=>B.dirty)}_anyControlsTouched(){return this._anyControls(B=>B.touched)}_updatePristine(B={}){this.pristine=!this._anyControlsDirty(),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}_updateTouched(B={}){this.touched=this._anyControlsTouched(),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}_registerOnCollectionChange(B){this._onCollectionChange=B}_setUpdateStrategy(B){Y(B)&&null!=B.updateOn&&(this._updateOn=B.updateOn)}_parentMarkedDirty(B){return!B&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(B){return null}_assignValidators(B){this._rawValidators=Array.isArray(B)?B.slice():B,this._composedValidatorFn=function ft(k){return Array.isArray(k)?st(k):k||null}(this._rawValidators)}_assignAsyncValidators(B){this._rawAsyncValidators=Array.isArray(B)?B.slice():B,this._composedAsyncValidatorFn=function j(k){return Array.isArray(k)?Ln(k):k||null}(this._rawAsyncValidators)}}class kt extends It{constructor(B,M,J){super(ai(M),ee(J,M)),this.controls=B,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(B,M){return this.controls[B]?this.controls[B]:(this.controls[B]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(B,M,J={}){this.registerControl(B,M),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}removeControl(B,M={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(B,M,J={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],M&&this.registerControl(B,M),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}contains(B){return this.controls.hasOwnProperty(B)&&this.controls[B].enabled}setValue(B,M={}){Pe(this,0,B),Object.keys(B).forEach(J=>{we(this,!0,J),this.controls[J].setValue(B[J],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(B,M={}){null!=B&&(Object.keys(B).forEach(J=>{const ve=this.controls[J];ve&&ve.patchValue(B[J],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(B={},M={}){this._forEachChild((J,ve)=>{J.reset(B?B[ve]:null,{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(B,M,J)=>(B[J]=M.getRawValue(),B))}_syncPendingControls(){let B=this._reduceChildren(!1,(M,J)=>!!J._syncPendingControls()||M);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){Object.keys(this.controls).forEach(M=>{const J=this.controls[M];J&&B(J,M)})}_setUpControls(){this._forEachChild(B=>{B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(B){for(const[M,J]of Object.entries(this.controls))if(this.contains(M)&&B(J))return!0;return!1}_reduceValue(){return this._reduceChildren({},(M,J,ve)=>((J.enabled||this.disabled)&&(M[ve]=J.value),M))}_reduceChildren(B,M){let J=B;return this._forEachChild((ve,Vt)=>{J=M(J,ve,Vt)}),J}_allControlsDisabled(){for(const B of Object.keys(this.controls))if(this.controls[B].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(B){return this.controls.hasOwnProperty(B)?this.controls[B]:null}}class Sn extends kt{}const Ue=new o.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>be}),be="always";function Se(k,B){return[...B.path,k]}function Tt(k,B,M=be){wr(k,B),B.valueAccessor.writeValue(k.value),(k.disabled||"always"===M)&&B.valueAccessor.setDisabledState?.(k.disabled),function ui(k,B){B.valueAccessor.registerOnChange(M=>{k._pendingValue=M,k._pendingChange=!0,k._pendingDirty=!0,"change"===k.updateOn&&We(k,B)})}(k,B),function vt(k,B){const M=(J,ve)=>{B.valueAccessor.writeValue(J),ve&&B.viewToModelUpdate(J)};k.registerOnChange(M),B._registerOnDestroy(()=>{k._unregisterOnChange(M)})}(k,B),function tt(k,B){B.valueAccessor.registerOnTouched(()=>{k._pendingTouched=!0,"blur"===k.updateOn&&k._pendingChange&&We(k,B),"submit"!==k.updateOn&&k.markAsTouched()})}(k,B),function zt(k,B){if(B.valueAccessor.setDisabledState){const M=J=>{B.valueAccessor.setDisabledState(J)};k.registerOnDisabledChange(M),B._registerOnDestroy(()=>{k._unregisterOnDisabledChange(M)})}}(k,B)}function Gt(k,B,M=!0){const J=()=>{};B.valueAccessor&&(B.valueAccessor.registerOnChange(J),B.valueAccessor.registerOnTouched(J)),an(k,B),k&&(B._invokeOnDestroyCallbacks(),k._registerOnCollectionChange(()=>{}))}function un(k,B){k.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(B)})}function wr(k,B){const M=Gn(k);null!==B.validator?k.setValidators(dn(M,B.validator)):"function"==typeof M&&k.setValidators([M]);const J=jt(k);null!==B.asyncValidator?k.setAsyncValidators(dn(J,B.asyncValidator)):"function"==typeof J&&k.setAsyncValidators([J]);const ve=()=>k.updateValueAndValidity();un(B._rawValidators,ve),un(B._rawAsyncValidators,ve)}function an(k,B){let M=!1;if(null!==k){if(null!==B.validator){const ve=Gn(k);if(Array.isArray(ve)&&ve.length>0){const Vt=ve.filter(Tn=>Tn!==B.validator);Vt.length!==ve.length&&(M=!0,k.setValidators(Vt))}}if(null!==B.asyncValidator){const ve=jt(k);if(Array.isArray(ve)&&ve.length>0){const Vt=ve.filter(Tn=>Tn!==B.asyncValidator);Vt.length!==ve.length&&(M=!0,k.setAsyncValidators(Vt))}}}const J=()=>{};return un(B._rawValidators,J),un(B._rawAsyncValidators,J),M}function We(k,B){k._pendingDirty&&k.markAsDirty(),k.setValue(k._pendingValue,{emitModelToViewChange:!1}),B.viewToModelUpdate(k._pendingValue),k._pendingChange=!1}function Yt(k,B){wr(k,B)}function dr(k,B){if(!k.hasOwnProperty("model"))return!1;const M=k.model;return!!M.isFirstChange()||!Object.is(B,M.currentValue)}function Ss(k,B){k._syncPendingControls(),B.forEach(M=>{const J=M.control;"submit"===J.updateOn&&J._pendingChange&&(M.viewToModelUpdate(J._pendingValue),J._pendingChange=!1)})}function Ar(k,B){if(!B)return null;let M,J,ve;return Array.isArray(B),B.forEach(Vt=>{Vt.constructor===Oe?M=Vt:function qi(k){return Object.getPrototypeOf(k.constructor)===bt}(Vt)?J=Vt:ve=Vt}),ve||J||M||null}const Nn={provide:Ot,useExisting:(0,o.Rfq)(()=>ni)},tn=(()=>Promise.resolve())();let ni=(()=>{class k extends Ot{constructor(M,J,ve){super(),this.callSetDisabledState=ve,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.bkB,this.form=new kt({},st(M),Ln(J))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(M){tn.then(()=>{const J=this._findContainer(M.path);M.control=J.registerControl(M.name,M.control),Tt(M.control,M,this.callSetDisabledState),M.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(M)})}getControl(M){return this.form.get(M.path)}removeControl(M){tn.then(()=>{const J=this._findContainer(M.path);J&&J.removeControl(M.name),this._directives.delete(M)})}addFormGroup(M){tn.then(()=>{const J=this._findContainer(M.path),ve=new kt({});Yt(ve,M),J.registerControl(M.name,ve),ve.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(M){tn.then(()=>{const J=this._findContainer(M.path);J&&J.removeControl(M.name)})}getFormGroup(M){return this.form.get(M.path)}updateModel(M,J){tn.then(()=>{this.form.get(M.path).setValue(J)})}setValue(M){this.control.setValue(M)}onSubmit(M){return this.submitted=!0,Ss(this.form,this._directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M=void 0){this.form.reset(M),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(M){return M.pop(),M.length?this.form.get(M):this.form}static{this.\u0275fac=function(J){return new(J||k)(o.rXU(Pt,10),o.rXU($t,10),o.rXU(Ue,8))}}static{this.\u0275dir=o.FsC({type:k,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(J,ve){1&J&&o.bIt("submit",function(Tn){return ve.onSubmit(Tn)})("reset",function(){return ve.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([Nn]),o.Vt3]})}}return k})();function Jr(k,B){const M=k.indexOf(B);M>-1&&k.splice(M,1)}function pr(k){return"object"==typeof k&&null!==k&&2===Object.keys(k).length&&"value"in k&&"disabled"in k}const mi=class extends It{constructor(B=null,M,J){super(ai(M),ee(J,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(B),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Y(M)&&(M.nonNullable||M.initialValueIsDefault)&&(this.defaultValue=pr(B)?B.value:B)}setValue(B,M={}){this.value=this._pendingValue=B,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(J=>J(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(B,M={}){this.setValue(B,M)}reset(B=this.defaultValue,M={}){this._applyFormState(B),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(B){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(B){this._onChange.push(B)}_unregisterOnChange(B){Jr(this._onChange,B)}registerOnDisabledChange(B){this._onDisabledChange.push(B)}_unregisterOnDisabledChange(B){Jr(this._onDisabledChange,B)}_forEachChild(B){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(B){pr(B)?(this.value=this._pendingValue=B.value,B.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=B}},os={provide:vi,useExisting:(0,o.Rfq)(()=>ds)},Gr=(()=>Promise.resolve())();let ds=(()=>{class k extends vi{constructor(M,J,ve,Vt,Tn,Pr){super(),this._changeDetectorRef=Tn,this.callSetDisabledState=Pr,this.control=new mi,this._registered=!1,this.name="",this.update=new o.bkB,this._parent=M,this._setValidators(J),this._setAsyncValidators(ve),this.valueAccessor=Ar(0,Vt)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const J=M.name.previousValue;this.formDirective.removeControl({name:J,path:this._getPath(J)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),dr(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){Gr.then(()=>{this.control.setValue(M,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(M){const J=M.isDisabled.currentValue,ve=0!==J&&(0,o.L39)(J);Gr.then(()=>{ve&&!this.control.disabled?this.control.disable():!ve&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(M){return this._parent?Se(M,this._parent):[M]}static{this.\u0275fac=function(J){return new(J||k)(o.rXU(Ot,9),o.rXU(Pt,10),o.rXU($t,10),o.rXU(ht,10),o.rXU(o.gRc,8),o.rXU(Ue,8))}}static{this.\u0275dir=o.FsC({type:k,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o.Jv_([os]),o.Vt3,o.OA$]})}}return k})(),yo=(()=>{class k{static{this.\u0275fac=function(J){return new(J||k)}}static{this.\u0275dir=o.FsC({type:k,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return k})(),Qi=(()=>{class k{static{this.\u0275fac=function(J){return new(J||k)}}static{this.\u0275mod=o.$C({type:k})}static{this.\u0275inj=o.G2t({})}}return k})();const wi=new o.nKC("NgModelWithFormControlWarning"),Ts={provide:Ot,useExisting:(0,o.Rfq)(()=>Yn)};let Yn=(()=>{class k extends Ot{constructor(M,J,ve){super(),this.callSetDisabledState=ve,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.bkB,this._setValidators(M),this._setAsyncValidators(J)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(an(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const J=this.form.get(M.path);return Tt(J,M,this.callSetDisabledState),J.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),J}getControl(M){return this.form.get(M.path)}removeControl(M){Gt(M.control||null,M,!1),function en(k,B){const M=k.indexOf(B);M>-1&&k.splice(M,1)}(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,J){this.form.get(M.path).setValue(J)}onSubmit(M){return this.submitted=!0,Ss(this.form,this.directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M=void 0){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const J=M.control,ve=this.form.get(M.path);J!==ve&&(Gt(J||null,M),(k=>k instanceof mi)(ve)&&(Tt(ve,M,this.callSetDisabledState),M.control=ve))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const J=this.form.get(M.path);Yt(J,M),J.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const J=this.form.get(M.path);J&&function En(k,B){return an(k,B)}(J,M)&&J.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wr(this.form,this),this._oldForm&&an(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(J){return new(J||k)(o.rXU(Pt,10),o.rXU($t,10),o.rXU(Ue,8))}}static{this.\u0275dir=o.FsC({type:k,selectors:[["","formGroup",""]],hostBindings:function(J,ve){1&J&&o.bIt("submit",function(Tn){return ve.onSubmit(Tn)})("reset",function(){return ve.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([Ts]),o.Vt3,o.OA$]})}}return k})();const qs={provide:vi,useExisting:(0,o.Rfq)(()=>Ps)};let Ps=(()=>{class k extends vi{set isDisabled(M){}static{this._ngModelWarningSentOnce=!1}constructor(M,J,ve,Vt,Tn){super(),this._ngModelWarningConfig=Tn,this._added=!1,this.name=null,this.update=new o.bkB,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(J),this._setAsyncValidators(ve),this.valueAccessor=Ar(0,Vt)}ngOnChanges(M){this._added||this._setUpControl(),dr(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return Se(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(J){return new(J||k)(o.rXU(Ot,13),o.rXU(Pt,10),o.rXU($t,10),o.rXU(ht,10),o.rXU(wi,8))}}static{this.\u0275dir=o.FsC({type:k,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o.Jv_([qs]),o.Vt3,o.OA$]})}}return k})();const Ms={provide:ht,useExisting:(0,o.Rfq)(()=>ln),multi:!0};function io(k,B){return null==k?`${B}`:(B&&"object"==typeof B&&(B="Object"),`${k}: ${B}`.slice(0,50))}let ln=(()=>{class k extends bt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){this.value=M;const ve=io(this._getOptionId(M),M);this.setProperty("value",ve)}registerOnChange(M){this.onChange=J=>{this.value=this._getOptionValue(J),M(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(M){for(const J of this._optionMap.keys())if(this._compareWith(this._optionMap.get(J),M))return J;return null}_getOptionValue(M){const J=function Wr(k){return k.split(":")[0]}(M);return this._optionMap.has(J)?this._optionMap.get(J):M}static{this.\u0275fac=function(){let M;return function(ve){return(M||(M=o.xGo(k)))(ve||k)}}()}static{this.\u0275dir=o.FsC({type:k,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(J,ve){1&J&&o.bIt("change",function(Tn){return ve.onChange(Tn.target.value)})("blur",function(){return ve.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([Ms]),o.Vt3]})}}return k})(),Jn=(()=>{class k{constructor(M,J,ve){this._element=M,this._renderer=J,this._select=ve,this._select&&(this.id=this._select._registerOption())}set ngValue(M){null!=this._select&&(this._select._optionMap.set(this.id,M),this._setElementValue(io(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._setElementValue(M),this._select&&this._select.writeValue(this._select.value)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(J){return new(J||k)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(ln,9))}}static{this.\u0275dir=o.FsC({type:k,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return k})();const _r={provide:ht,useExisting:(0,o.Rfq)(()=>ls),multi:!0};function Pi(k,B){return null==k?`${B}`:("string"==typeof B&&(B=`'${B}'`),B&&"object"==typeof B&&(B="Object"),`${k}: ${B}`.slice(0,50))}let ls=(()=>{class k extends bt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){let J;if(this.value=M,Array.isArray(M)){const ve=M.map(Vt=>this._getOptionId(Vt));J=(Vt,Tn)=>{Vt._setSelected(ve.indexOf(Tn.toString())>-1)}}else J=(ve,Vt)=>{ve._setSelected(!1)};this._optionMap.forEach(J)}registerOnChange(M){this.onChange=J=>{const ve=[],Vt=J.selectedOptions;if(void 0!==Vt){const Tn=Vt;for(let Pr=0;Pr<Tn.length;Pr++){const Ii=this._getOptionValue(Tn[Pr].value);ve.push(Ii)}}else{const Tn=J.options;for(let Pr=0;Pr<Tn.length;Pr++){const Zr=Tn[Pr];if(Zr.selected){const Ii=this._getOptionValue(Zr.value);ve.push(Ii)}}}this.value=ve,M(ve)}}_registerOption(M){const J=(this._idCounter++).toString();return this._optionMap.set(J,M),J}_getOptionId(M){for(const J of this._optionMap.keys())if(this._compareWith(this._optionMap.get(J)._value,M))return J;return null}_getOptionValue(M){const J=function us(k){return k.split(":")[0]}(M);return this._optionMap.has(J)?this._optionMap.get(J)._value:M}static{this.\u0275fac=function(){let M;return function(ve){return(M||(M=o.xGo(k)))(ve||k)}}()}static{this.\u0275dir=o.FsC({type:k,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(J,ve){1&J&&o.bIt("change",function(Tn){return ve.onChange(Tn.target)})("blur",function(){return ve.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([_r]),o.Vt3]})}}return k})(),qn=(()=>{class k{constructor(M,J,ve){this._element=M,this._renderer=J,this._select=ve,this._select&&(this.id=this._select._registerOption(this))}set ngValue(M){null!=this._select&&(this._value=M,this._setElementValue(Pi(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._select?(this._value=M,this._setElementValue(Pi(this.id,M)),this._select.writeValue(this._select.value)):this._setElementValue(M)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}_setSelected(M){this._renderer.setProperty(this._element.nativeElement,"selected",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(J){return new(J||k)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(ls,9))}}static{this.\u0275dir=o.FsC({type:k,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return k})(),Un=(()=>{class k{constructor(){this._validator=ue}ngOnChanges(M){if(this.inputName in M){const J=this.normalizeInput(M[this.inputName].currentValue);this._enabled=this.enabled(J),this._validator=this._enabled?this.createValidator(J):ue,this._onChange&&this._onChange()}}validate(M){return this._validator(M)}registerOnValidatorChange(M){this._onChange=M}enabled(M){return null!=M}static{this.\u0275fac=function(J){return new(J||k)}}static{this.\u0275dir=o.FsC({type:k,features:[o.OA$]})}}return k})();const yr={provide:Pt,useExisting:(0,o.Rfq)(()=>hi),multi:!0};let hi=(()=>{class k extends Un{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.L39,this.createValidator=M=>mr}enabled(M){return M}static{this.\u0275fac=function(){let M;return function(ve){return(M||(M=o.xGo(k)))(ve||k)}}()}static{this.\u0275dir=o.FsC({type:k,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(J,ve){2&J&&o.BMQ("required",ve._enabled?"":null)},inputs:{required:"required"},features:[o.Jv_([yr]),o.Vt3]})}}return k})();const sa={provide:Pt,useExisting:(0,o.Rfq)(()=>ps),multi:!0};let ps=(()=>{class k extends Un{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=o.L39,this.createValidator=M=>Re}enabled(M){return M}static{this.\u0275fac=function(){let M;return function(ve){return(M||(M=o.xGo(k)))(ve||k)}}()}static{this.\u0275dir=o.FsC({type:k,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[o.Jv_([sa]),o.Vt3]})}}return k})(),Rr=(()=>{class k{static{this.\u0275fac=function(J){return new(J||k)}}static{this.\u0275mod=o.$C({type:k})}static{this.\u0275inj=o.G2t({imports:[Qi]})}}return k})();class zs extends It{constructor(B,M,J){super(ai(M),ee(J,M)),this.controls=B,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(B){return this.controls[this._adjustIndex(B)]}push(B,M={}){this.controls.push(B),this._registerControl(B),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(B,M,J={}){this.controls.splice(B,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:J.emitEvent})}removeAt(B,M={}){let J=this._adjustIndex(B);J<0&&(J=0),this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),this.controls.splice(J,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(B,M,J={}){let ve=this._adjustIndex(B);ve<0&&(ve=0),this.controls[ve]&&this.controls[ve]._registerOnCollectionChange(()=>{}),this.controls.splice(ve,1),M&&(this.controls.splice(ve,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(B,M={}){Pe(this,0,B),B.forEach((J,ve)=>{we(this,!1,ve),this.at(ve).setValue(J,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(B,M={}){null!=B&&(B.forEach((J,ve)=>{this.at(ve)&&this.at(ve).patchValue(J,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(B=[],M={}){this._forEachChild((J,ve)=>{J.reset(B[ve],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(B=>B.getRawValue())}clear(B={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:B.emitEvent}))}_adjustIndex(B){return B<0?B+this.length:B}_syncPendingControls(){let B=this.controls.reduce((M,J)=>!!J._syncPendingControls()||M,!1);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){this.controls.forEach((M,J)=>{B(M,J)})}_updateValue(){this.value=this.controls.filter(B=>B.enabled||this.disabled).map(B=>B.value)}_anyControls(B){return this.controls.some(M=>M.enabled&&B(M))}_setUpControls(){this._forEachChild(B=>this._registerControl(B))}_allControlsDisabled(){for(const B of this.controls)if(B.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(B){B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)}_find(B){return this.at(B)??null}}function li(k){return!!k&&(void 0!==k.asyncValidators||void 0!==k.validators||void 0!==k.updateOn)}let W=(()=>{class k{constructor(){this.useNonNullable=!1}get nonNullable(){const M=new k;return M.useNonNullable=!0,M}group(M,J=null){const ve=this._reduceControls(M);let Vt={};return li(J)?Vt=J:null!==J&&(Vt.validators=J.validator,Vt.asyncValidators=J.asyncValidator),new kt(ve,Vt)}record(M,J=null){const ve=this._reduceControls(M);return new Sn(ve,J)}control(M,J,ve){let Vt={};return this.useNonNullable?(li(J)?Vt=J:(Vt.validators=J,Vt.asyncValidators=ve),new mi(M,{...Vt,nonNullable:!0})):new mi(M,J,ve)}array(M,J,ve){const Vt=M.map(Tn=>this._createControl(Tn));return new zs(Vt,J,ve)}_reduceControls(M){const J={};return Object.keys(M).forEach(ve=>{J[ve]=this._createControl(M[ve])}),J}_createControl(M){return M instanceof mi||M instanceof It?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}static{this.\u0275fac=function(J){return new(J||k)}}static{this.\u0275prov=o.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})(),Ke=(()=>{class k{static withConfig(M){return{ngModule:k,providers:[{provide:Ue,useValue:M.callSetDisabledState??be}]}}static{this.\u0275fac=function(J){return new(J||k)}}static{this.\u0275mod=o.$C({type:k})}static{this.\u0275inj=o.G2t({imports:[Rr]})}}return k})(),yt=(()=>{class k{static withConfig(M){return{ngModule:k,providers:[{provide:wi,useValue:M.warnOnNgModelWithFormControl??"always"},{provide:Ue,useValue:M.callSetDisabledState??be}]}}static{this.\u0275fac=function(J){return new(J||k)}}static{this.\u0275mod=o.$C({type:k})}static{this.\u0275inj=o.G2t({imports:[Rr]})}}return k})()},345:(gn,dt,z)=>{z.d(dt,{B7:()=>Bt,B8:()=>_e,Bb:()=>wn,hE:()=>vi,up:()=>br});var o=z(540),se=z(177);class Je extends se.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends Je{static makeCurrent(){(0,se.ZD)(new Ce)}onAndCancel(ee,j,Y){return ee.addEventListener(j,Y),()=>{ee.removeEventListener(j,Y)}}dispatchEvent(ee,j){ee.dispatchEvent(j)}remove(ee){ee.parentNode&&ee.parentNode.removeChild(ee)}createElement(ee,j){return(j=j||this.getDefaultDocument()).createElement(ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ee){return ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(ee){return ee instanceof DocumentFragment}getGlobalEventTarget(ee,j){return"window"===j?window:"document"===j?ee:"body"===j?ee.body:null}getBaseHref(ee){const j=function Fe(){return re=re||document.querySelector("base"),re?re.getAttribute("href"):null}();return null==j?null:function je(ft){Ne=Ne||document.createElement("a"),Ne.setAttribute("href",ft);const ee=Ne.pathname;return"/"===ee.charAt(0)?ee:`/${ee}`}(j)}resetBaseElement(){re=null}getUserAgent(){return window.navigator.userAgent}getCookie(ee){return(0,se._b)(document.cookie,ee)}}let Ne,re=null,ge=(()=>{class ft{build(){return new XMLHttpRequest}static{this.\u0275fac=function(Y){return new(Y||ft)}}static{this.\u0275prov=o.jDH({token:ft,factory:ft.\u0275fac})}}return ft})();const Te=new o.nKC("EventManagerPlugins");let Qe=(()=>{class ft{constructor(j,Y){this._zone=Y,this._eventNameToPlugin=new Map,j.forEach(we=>{we.manager=this}),this._plugins=j.slice().reverse()}addEventListener(j,Y,we){return this._findPluginFor(Y).addEventListener(j,Y,we)}getZone(){return this._zone}_findPluginFor(j){let Y=this._eventNameToPlugin.get(j);if(Y)return Y;if(Y=this._plugins.find(Pe=>Pe.supports(j)),!Y)throw new o.wOt(5101,!1);return this._eventNameToPlugin.set(j,Y),Y}static{this.\u0275fac=function(Y){return new(Y||ft)(o.KVO(Te),o.KVO(o.SKi))}}static{this.\u0275prov=o.jDH({token:ft,factory:ft.\u0275fac})}}return ft})();class Ct{constructor(ee){this._doc=ee}}const bt="ng-app-id";let ht=(()=>{class ft{constructor(j,Y,we,Pe={}){this.doc=j,this.appId=Y,this.nonce=we,this.platformId=Pe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,se.Vy)(Pe),this.resetHostNodes()}addStyles(j){for(const Y of j)1===this.changeUsageCount(Y,1)&&this.onStyleAdded(Y)}removeStyles(j){for(const Y of j)this.changeUsageCount(Y,-1)<=0&&this.onStyleRemoved(Y)}ngOnDestroy(){const j=this.styleNodesInDOM;j&&(j.forEach(Y=>Y.remove()),j.clear());for(const Y of this.getAllStyles())this.onStyleRemoved(Y);this.resetHostNodes()}addHost(j){this.hostNodes.add(j);for(const Y of this.getAllStyles())this.addStyleToHost(j,Y)}removeHost(j){this.hostNodes.delete(j)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(j){for(const Y of this.hostNodes)this.addStyleToHost(Y,j)}onStyleRemoved(j){const Y=this.styleRef;Y.get(j)?.elements?.forEach(we=>we.remove()),Y.delete(j)}collectServerRenderedStyles(){const j=this.doc.head?.querySelectorAll(`style[${bt}="${this.appId}"]`);if(j?.length){const Y=new Map;return j.forEach(we=>{null!=we.textContent&&Y.set(we.textContent,we)}),Y}return null}changeUsageCount(j,Y){const we=this.styleRef;if(we.has(j)){const Pe=we.get(j);return Pe.usage+=Y,Pe.usage}return we.set(j,{usage:Y,elements:[]}),Y}getStyleElement(j,Y){const we=this.styleNodesInDOM,Pe=we?.get(Y);if(Pe?.parentNode===j)return we.delete(Y),Pe.removeAttribute(bt),Pe;{const It=this.doc.createElement("style");return this.nonce&&It.setAttribute("nonce",this.nonce),It.textContent=Y,this.platformIsServer&&It.setAttribute(bt,this.appId),It}}addStyleToHost(j,Y){const we=this.getStyleElement(j,Y);j.appendChild(we);const Pe=this.styleRef,It=Pe.get(Y)?.elements;It?It.push(we):Pe.set(Y,{elements:[we],usage:1})}resetHostNodes(){const j=this.hostNodes;j.clear(),j.add(this.doc.head)}static{this.\u0275fac=function(Y){return new(Y||ft)(o.KVO(se.qQ),o.KVO(o.sZ2),o.KVO(o.BIS,8),o.KVO(o.Agw))}}static{this.\u0275prov=o.jDH({token:ft,factory:ft.\u0275fac})}}return ft})();const Ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qt=/%COMP%/g,it=new o.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function $t(ft,ee){return ee.map(j=>j.replace(Qt,ft))}let Bt=(()=>{class ft{constructor(j,Y,we,Pe,It,kt,mn,Xn=null){this.eventManager=j,this.sharedStylesHost=Y,this.appId=we,this.removeStylesOnCompDestroy=Pe,this.doc=It,this.platformId=kt,this.ngZone=mn,this.nonce=Xn,this.rendererByCompId=new Map,this.platformIsServer=(0,se.Vy)(kt),this.defaultRenderer=new Le(j,It,mn,this.platformIsServer)}createRenderer(j,Y){if(!j||!Y)return this.defaultRenderer;this.platformIsServer&&Y.encapsulation===o.gXe.ShadowDom&&(Y={...Y,encapsulation:o.gXe.Emulated});const we=this.getOrCreateRenderer(j,Y);return we instanceof qt?we.applyToHost(j):we instanceof Re&&we.applyStyles(),we}getOrCreateRenderer(j,Y){const we=this.rendererByCompId;let Pe=we.get(Y.id);if(!Pe){const It=this.doc,kt=this.ngZone,mn=this.eventManager,Xn=this.sharedStylesHost,Sn=this.removeStylesOnCompDestroy,Kr=this.platformIsServer;switch(Y.encapsulation){case o.gXe.Emulated:Pe=new qt(mn,Xn,Y,this.appId,Sn,It,kt,Kr);break;case o.gXe.ShadowDom:return new qe(mn,Xn,j,Y,It,kt,this.nonce,Kr);default:Pe=new Re(mn,Xn,Y,Sn,It,kt,Kr)}we.set(Y.id,Pe)}return Pe}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(Y){return new(Y||ft)(o.KVO(Qe),o.KVO(ht),o.KVO(o.sZ2),o.KVO(it),o.KVO(se.qQ),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(o.BIS))}}static{this.\u0275prov=o.jDH({token:ft,factory:ft.\u0275fac})}}return ft})();class Le{constructor(ee,j,Y,we){this.eventManager=ee,this.doc=j,this.ngZone=Y,this.platformIsServer=we,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ee,j){return j?this.doc.createElementNS(Ft[j]||j,ee):this.doc.createElement(ee)}createComment(ee){return this.doc.createComment(ee)}createText(ee){return this.doc.createTextNode(ee)}appendChild(ee,j){(mr(ee)?ee.content:ee).appendChild(j)}insertBefore(ee,j,Y){ee&&(mr(ee)?ee.content:ee).insertBefore(j,Y)}removeChild(ee,j){ee&&ee.removeChild(j)}selectRootElement(ee,j){let Y="string"==typeof ee?this.doc.querySelector(ee):ee;if(!Y)throw new o.wOt(-5104,!1);return j||(Y.textContent=""),Y}parentNode(ee){return ee.parentNode}nextSibling(ee){return ee.nextSibling}setAttribute(ee,j,Y,we){if(we){j=we+":"+j;const Pe=Ft[we];Pe?ee.setAttributeNS(Pe,j,Y):ee.setAttribute(j,Y)}else ee.setAttribute(j,Y)}removeAttribute(ee,j,Y){if(Y){const we=Ft[Y];we?ee.removeAttributeNS(we,j):ee.removeAttribute(`${Y}:${j}`)}else ee.removeAttribute(j)}addClass(ee,j){ee.classList.add(j)}removeClass(ee,j){ee.classList.remove(j)}setStyle(ee,j,Y,we){we&(o.czy.DashCase|o.czy.Important)?ee.style.setProperty(j,Y,we&o.czy.Important?"important":""):ee.style[j]=Y}removeStyle(ee,j,Y){Y&o.czy.DashCase?ee.style.removeProperty(j):ee.style[j]=""}setProperty(ee,j,Y){ee[j]=Y}setValue(ee,j){ee.nodeValue=j}listen(ee,j,Y){if("string"==typeof ee&&!(ee=(0,se.QT)().getGlobalEventTarget(this.doc,ee)))throw new Error(`Unsupported event target ${ee} for event ${j}`);return this.eventManager.addEventListener(ee,j,this.decoratePreventDefault(Y))}decoratePreventDefault(ee){return j=>{if("__ngUnwrap__"===j)return ee;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ee(j)):ee(j))&&j.preventDefault()}}}function mr(ft){return"TEMPLATE"===ft.tagName&&void 0!==ft.content}class qe extends Le{constructor(ee,j,Y,we,Pe,It,kt,mn){super(ee,Pe,It,mn),this.sharedStylesHost=j,this.hostEl=Y,this.shadowRoot=Y.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Xn=$t(we.id,we.styles);for(const Sn of Xn){const Kr=document.createElement("style");kt&&Kr.setAttribute("nonce",kt),Kr.textContent=Sn,this.shadowRoot.appendChild(Kr)}}nodeOrShadowRoot(ee){return ee===this.hostEl?this.shadowRoot:ee}appendChild(ee,j){return super.appendChild(this.nodeOrShadowRoot(ee),j)}insertBefore(ee,j,Y){return super.insertBefore(this.nodeOrShadowRoot(ee),j,Y)}removeChild(ee,j){return super.removeChild(this.nodeOrShadowRoot(ee),j)}parentNode(ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ee)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Re extends Le{constructor(ee,j,Y,we,Pe,It,kt,mn){super(ee,Pe,It,kt),this.sharedStylesHost=j,this.removeStylesOnCompDestroy=we,this.styles=mn?$t(mn,Y.styles):Y.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class qt extends Re{constructor(ee,j,Y,we,Pe,It,kt,mn){const Xn=we+"-"+Y.id;super(ee,j,Y,Pe,It,kt,mn,Xn),this.contentAttr=function pt(ft){return"_ngcontent-%COMP%".replace(Qt,ft)}(Xn),this.hostAttr=function Pt(ft){return"_nghost-%COMP%".replace(Qt,ft)}(Xn)}applyToHost(ee){this.applyStyles(),this.setAttribute(ee,this.hostAttr,"")}createElement(ee,j){const Y=super.createElement(ee,j);return super.setAttribute(Y,this.contentAttr,""),Y}}let N=(()=>{class ft extends Ct{constructor(j){super(j)}supports(j){return!0}addEventListener(j,Y,we){return j.addEventListener(Y,we,!1),()=>this.removeEventListener(j,Y,we)}removeEventListener(j,Y,we){return j.removeEventListener(Y,we)}static{this.\u0275fac=function(Y){return new(Y||ft)(o.KVO(se.qQ))}}static{this.\u0275prov=o.jDH({token:ft,factory:ft.\u0275fac})}}return ft})();const X=["alt","control","meta","shift"],ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nt={alt:ft=>ft.altKey,control:ft=>ft.ctrlKey,meta:ft=>ft.metaKey,shift:ft=>ft.shiftKey};let ke=(()=>{class ft extends Ct{constructor(j){super(j)}supports(j){return null!=ft.parseEventName(j)}addEventListener(j,Y,we){const Pe=ft.parseEventName(Y),It=ft.eventCallback(Pe.fullKey,we,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,se.QT)().onAndCancel(j,Pe.domEventName,It))}static parseEventName(j){const Y=j.toLowerCase().split("."),we=Y.shift();if(0===Y.length||"keydown"!==we&&"keyup"!==we)return null;const Pe=ft._normalizeKey(Y.pop());let It="",kt=Y.indexOf("code");if(kt>-1&&(Y.splice(kt,1),It="code."),X.forEach(Xn=>{const Sn=Y.indexOf(Xn);Sn>-1&&(Y.splice(Sn,1),It+=Xn+".")}),It+=Pe,0!=Y.length||0===Pe.length)return null;const mn={};return mn.domEventName=we,mn.fullKey=It,mn}static matchEventFullKeyCode(j,Y){let we=ue[j.key]||j.key,Pe="";return Y.indexOf("code.")>-1&&(we=j.code,Pe="code."),!(null==we||!we)&&(we=we.toLowerCase()," "===we?we="space":"."===we&&(we="dot"),X.forEach(It=>{It!==we&&(0,Nt[It])(j)&&(Pe+=It+".")}),Pe+=we,Pe===Y)}static eventCallback(j,Y,we){return Pe=>{ft.matchEventFullKeyCode(Pe,j)&&we.runGuarded(()=>Y(Pe))}}static _normalizeKey(j){return"esc"===j?"escape":j}static{this.\u0275fac=function(Y){return new(Y||ft)(o.KVO(se.qQ))}}static{this.\u0275prov=o.jDH({token:ft,factory:ft.\u0275fac})}}return ft})();function _e(ft,ee){return(0,o.TL3)({rootComponent:ft,...oe(ee)})}function oe(ft){return{appProviders:[...Nr,...ft?.providers??[]],platformProviders:Ln}}const Ln=[{provide:o.Agw,useValue:se.AJ},{provide:o.PLl,useValue:function De(){Ce.makeCurrent()},multi:!0},{provide:se.qQ,useFactory:function Mt(){return(0,o.TL$)(document),document},deps:[]}],Gn=new o.nKC(""),jt=[{provide:o.e01,useClass:class Ze{addToWindow(ee){o.JZv.getAngularTestability=(Y,we=!0)=>{const Pe=ee.findTestabilityInTree(Y,we);if(null==Pe)throw new o.wOt(5103,!1);return Pe},o.JZv.getAllAngularTestabilities=()=>ee.getAllTestabilities(),o.JZv.getAllAngularRootElements=()=>ee.getAllRootElements(),o.JZv.frameworkStabilizers||(o.JZv.frameworkStabilizers=[]),o.JZv.frameworkStabilizers.push(Y=>{const we=o.JZv.getAllAngularTestabilities();let Pe=we.length,It=!1;const kt=function(mn){It=It||mn,Pe--,0==Pe&&Y(It)};we.forEach(mn=>{mn.whenStable(kt)})})}findTestabilityInTree(ee,j,Y){return null==j?null:ee.getTestability(j)??(Y?(0,se.QT)().isShadowRoot(j)?this.findTestabilityInTree(ee,j.host,!0):this.findTestabilityInTree(ee,j.parentElement,!0):null)}},deps:[]},{provide:o.WHO,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]},{provide:o.NYb,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]}],Nr=[{provide:o.H8p,useValue:"root"},{provide:o.zcH,useFactory:function st(){return new o.zcH},deps:[]},{provide:Te,useClass:N,multi:!0,deps:[se.qQ,o.SKi,o.Agw]},{provide:Te,useClass:ke,multi:!0,deps:[se.qQ]},Bt,ht,Qe,{provide:o._9s,useExisting:Bt},{provide:se.N0,useClass:ge,deps:[]},[]];let wn=(()=>{class ft{constructor(j){}static withServerTransition(j){return{ngModule:ft,providers:[{provide:o.sZ2,useValue:j.appId}]}}static{this.\u0275fac=function(Y){return new(Y||ft)(o.KVO(Gn,12))}}static{this.\u0275mod=o.$C({type:ft})}static{this.\u0275inj=o.G2t({providers:[...Nr,...jt],imports:[se.MD,o.Hbi]})}}return ft})(),vi=(()=>{class ft{constructor(j){this._doc=j}getTitle(){return this._doc.title}setTitle(j){this._doc.title=j||""}static{this.\u0275fac=function(Y){return new(Y||ft)(o.KVO(se.qQ))}}static{this.\u0275prov=o.jDH({token:ft,factory:function(Y){let we=null;return we=Y?new Y:function Ot(){return new vi((0,o.KVO)(se.qQ))}(),we},providedIn:"root"})}}return ft})();typeof window<"u"&&window;let br=(()=>{class ft{static{this.\u0275fac=function(Y){return new(Y||ft)}}static{this.\u0275prov=o.jDH({token:ft,factory:function(Y){let we=null;return we=Y?new(Y||ft):o.KVO(hn),we},providedIn:"root"})}}return ft})(),hn=(()=>{class ft extends br{constructor(j){super(),this._doc=j}sanitize(j,Y){if(null==Y)return null;switch(j){case o.WPN.NONE:return Y;case o.WPN.HTML:return(0,o.ZF7)(Y,"HTML")?(0,o.rcV)(Y):(0,o.h9k)(this._doc,String(Y)).toString();case o.WPN.STYLE:return(0,o.ZF7)(Y,"Style")?(0,o.rcV)(Y):Y;case o.WPN.SCRIPT:if((0,o.ZF7)(Y,"Script"))return(0,o.rcV)(Y);throw new o.wOt(5200,!1);case o.WPN.URL:return(0,o.ZF7)(Y,"URL")?(0,o.rcV)(Y):(0,o.$MX)(String(Y));case o.WPN.RESOURCE_URL:if((0,o.ZF7)(Y,"ResourceURL"))return(0,o.rcV)(Y);throw new o.wOt(5201,!1);default:throw new o.wOt(5202,!1)}}bypassSecurityTrustHtml(j){return(0,o.Kcf)(j)}bypassSecurityTrustStyle(j){return(0,o.cWb)(j)}bypassSecurityTrustScript(j){return(0,o.UyX)(j)}bypassSecurityTrustUrl(j){return(0,o.osQ)(j)}bypassSecurityTrustResourceUrl(j){return(0,o.e5t)(j)}static{this.\u0275fac=function(Y){return new(Y||ft)(o.KVO(se.qQ))}}static{this.\u0275prov=o.jDH({token:ft,factory:function(Y){let we=null;return we=Y?new Y:function ze(ft){return new hn(ft.get(se.qQ))}(o.KVO(o.zZn)),we},providedIn:"root"})}}return ft})()},3100:(gn,dt,z)=>{z.d(dt,{nX:()=>js,Ix:()=>y,Wk:()=>le,wQ:()=>Ae,iI:()=>Js,n3:()=>Pi});var o=z(540),se=z(1985),Je=z(8071),re=z(8455),Fe=z(7673),Ne=z(4412),je=z(3073),Ze=z(3669),ge=z(6450),Te=z(3794),Qe=z(8496),Ct=z(4360),bt=z(5225);function ht(...T){const S=(0,Te.lI)(T),E=(0,Te.ms)(T),{args:R,keys:L}=(0,je.D)(T);if(0===R.length)return(0,re.H)([],S);const ie=new se.c(function Ft(T,S,E=Ze.D){return R=>{Qt(S,()=>{const{length:L}=T,ie=new Array(L);let ye=L,ct=L;for(let at=0;at<L;at++)Qt(S,()=>{const _n=(0,re.H)(T[at],S);let hr=!1;_n.subscribe((0,Ct._)(R,gi=>{ie[at]=gi,hr||(hr=!0,ct--),ct||R.next(E(ie.slice()))},()=>{--ye||R.complete()}))},R)},R)}}(R,S,L?ye=>(0,Qe.e)(L,ye):Ze.D));return E?ie.pipe((0,ge.I)(E)):ie}function Qt(T,S,E){T?(0,bt.N)(E,T,S):S()}const Mn=(0,z(1853).L)(T=>function(){T(this),this.name="EmptyError",this.message="no elements in sequence"});var nn=z(6365);function it(...T){return function Oe(){return(0,nn.U)(1)}()((0,re.H)(T,(0,Te.lI)(T)))}var pt=z(8750);function Pt(T){return new se.c(S=>{(0,pt.Tg)(T()).subscribe(S)})}var $t=z(1203),Bt=z(8810),Le=z(983),Jt=z(8359),Kn=z(9974);function mr(){return(0,Kn.N)((T,S)=>{let E=null;T._refCount++;const R=(0,Ct._)(S,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(E=null);const L=T._connection,ie=E;E=null,L&&(!ie||L===ie)&&L.unsubscribe(),S.unsubscribe()});T.subscribe(R),R.closed||(E=T.connect())})}class qe extends se.c{constructor(S,E){super(),this.source=S,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,Kn.S)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new Jt.yU;const E=this.getSubject();S.add(this.source.subscribe((0,Ct._)(E,void 0,()=>{this._teardown(),E.complete()},R=>{this._teardown(),E.error(R)},()=>this._teardown()))),S.closed&&(this._connection=null,S=Jt.yU.EMPTY)}return S}refCount(){return mr()(this)}}var Re=z(1413),qt=z(177),N=z(6354),X=z(5558),ue=z(6697),ke=z(5964),_e=z(1397);function me(T){return(0,Kn.N)((S,E)=>{let R=!1;S.subscribe((0,Ct._)(E,L=>{R=!0,E.next(L)},()=>{R||E.next(T),E.complete()}))})}function oe(T=de){return(0,Kn.N)((S,E)=>{let R=!1;S.subscribe((0,Ct._)(E,L=>{R=!0,E.next(L)},()=>R?E.complete():E.error(T())))})}function de(){return new Mn}function De(T,S){const E=arguments.length>=2;return R=>R.pipe(T?(0,ke.p)((L,ie)=>T(L,ie,R)):Ze.D,(0,ue.s)(1),E?me(S):oe(()=>new Mn))}var st=z(274),Mt=z(8141),Ln=z(9437),dn=z(2816);function Gn(T){return T<=0?()=>Le.w:(0,Kn.N)((S,E)=>{let R=[];S.subscribe((0,Ct._)(E,L=>{R.push(L),T<R.length&&R.shift()},()=>{for(const L of R)E.next(L);E.complete()},void 0,()=>{R=null}))})}var wn=z(980),Dn=z(5343),sn=z(345);const Ot="primary",vi=Symbol("RouteTitle");class ir{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const E=this.params[S];return Array.isArray(E)?E[0]:E}return null}getAll(S){if(this.has(S)){const E=this.params[S];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function At(T){return new ir(T)}function di(T,S,E){const R=E.path.split("/");if(R.length>T.length||"full"===E.pathMatch&&(S.hasChildren()||R.length<T.length))return null;const L={};for(let ie=0;ie<R.length;ie++){const ye=R[ie],ct=T[ie];if(ye.startsWith(":"))L[ye.substring(1)]=ct;else if(ye!==ct.path)return null}return{consumed:T.slice(0,R.length),posParams:L}}function yn(T,S){const E=T?Object.keys(T):void 0,R=S?Object.keys(S):void 0;if(!E||!R||E.length!=R.length)return!1;let L;for(let ie=0;ie<E.length;ie++)if(L=E[ie],!Wi(T[L],S[L]))return!1;return!0}function Wi(T,S){if(Array.isArray(T)&&Array.isArray(S)){if(T.length!==S.length)return!1;const E=[...T].sort(),R=[...S].sort();return E.every((L,ie)=>R[ie]===L)}return T===S}function Dr(T){return T.length>0?T[T.length-1]:null}function fr(T){return function Ce(T){return!!T&&(T instanceof se.c||(0,Je.T)(T.lift)&&(0,Je.T)(T.subscribe))}(T)?T:(0,o.jNT)(T)?(0,re.H)(Promise.resolve(T)):(0,Fe.of)(T)}const Er={exact:function ss(T,S,E){if(!Ci(T.segments,S.segments)||!br(T.segments,S.segments,E)||T.numberOfChildren!==S.numberOfChildren)return!1;for(const R in S.children)if(!T.children[R]||!ss(T.children[R],S.children[R],E))return!1;return!0},subset:Ri},Sr={exact:function jn(T,S){return yn(T,S)},subset:function cn(T,S){return Object.keys(S).length<=Object.keys(T).length&&Object.keys(S).every(E=>Wi(T[E],S[E]))},ignored:()=>!0};function Ki(T,S,E){return Er[E.paths](T.root,S.root,E.matrixParams)&&Sr[E.queryParams](T.queryParams,S.queryParams)&&!("exact"===E.fragment&&T.fragment!==S.fragment)}function Ri(T,S,E){return ti(T,S,S.segments,E)}function ti(T,S,E,R){if(T.segments.length>E.length){const L=T.segments.slice(0,E.length);return!(!Ci(L,E)||S.hasChildren()||!br(L,E,R))}if(T.segments.length===E.length){if(!Ci(T.segments,E)||!br(T.segments,E,R))return!1;for(const L in S.children)if(!T.children[L]||!Ri(T.children[L],S.children[L],R))return!1;return!0}{const L=E.slice(0,T.segments.length),ie=E.slice(T.segments.length);return!!(Ci(T.segments,L)&&br(T.segments,L,R)&&T.children[Ot])&&ti(T.children[Ot],S,ie,R)}}function br(T,S,E){return S.every((R,L)=>Sr[E](T[L].parameters,R.parameters))}class ze{constructor(S=new hn([],{}),E={},R=null){this.root=S,this.queryParams=E,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap}toString(){return bi.serialize(this)}}class hn{constructor(S,E){this.segments=S,this.children=E,this.parent=null,Object.values(E).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ai(this)}}class Pn{constructor(S,E){this.path=S,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=At(this.parameters)),this._parameterMap}toString(){return kt(this)}}function Ci(T,S){return T.length===S.length&&T.every((E,R)=>E.path===S[R].path)}let Zn=(()=>{class T{static{this.\u0275fac=function(R){return new(R||T)}}static{this.\u0275prov=o.jDH({token:T,factory:function(){return new oi},providedIn:"root"})}}return T})();class oi{parse(S){const E=new zt(S);return new ze(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(S){const E=`/${ft(S.root,!0)}`,R=function Xn(T){const S=Object.keys(T).map(E=>{const R=T[E];return Array.isArray(R)?R.map(L=>`${j(E)}=${j(L)}`).join("&"):`${j(E)}=${j(R)}`}).filter(E=>!!E);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${E}${R}${"string"==typeof S.fragment?`#${function Y(T){return encodeURI(T)}(S.fragment)}`:""}`}}const bi=new oi;function ai(T){return T.segments.map(S=>kt(S)).join("/")}function ft(T,S){if(!T.hasChildren())return ai(T);if(S){const E=T.children[Ot]?ft(T.children[Ot],!1):"",R=[];return Object.entries(T.children).forEach(([L,ie])=>{L!==Ot&&R.push(`${L}:${ft(ie,!1)}`)}),R.length>0?`${E}(${R.join("//")})`:E}{const E=function kn(T,S){let E=[];return Object.entries(T.children).forEach(([R,L])=>{R===Ot&&(E=E.concat(S(L,R)))}),Object.entries(T.children).forEach(([R,L])=>{R!==Ot&&(E=E.concat(S(L,R)))}),E}(T,(R,L)=>L===Ot?[ft(T.children[Ot],!1)]:[`${L}:${ft(R,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Ot]?`${ai(T)}/${E[0]}`:`${ai(T)}/(${E.join("//")})`}}function ee(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function j(T){return ee(T).replace(/%3B/gi,";")}function we(T){return ee(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pe(T){return decodeURIComponent(T)}function It(T){return Pe(T.replace(/\+/g,"%20"))}function kt(T){return`${we(T.path)}${function mn(T){return Object.keys(T).map(S=>`;${we(S)}=${we(T[S])}`).join("")}(T.parameters)}`}const Sn=/^[^\/()?;#]+/;function Kr(T){const S=T.match(Sn);return S?S[0]:""}const Ue=/^[^\/()?;=#]+/,Se=/^[^=?&#]+/,Gt=/^[^&#]+/;class zt{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hn([],{}):new hn([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(S.length>0||Object.keys(E).length>0)&&(R[Ot]=new hn(S,E)),R}parseSegment(){const S=Kr(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new o.wOt(4009,!1);return this.capture(S),new Pn(Pe(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const E=function be(T){const S=T.match(Ue);return S?S[0]:""}(this.remaining);if(!E)return;this.capture(E);let R="";if(this.consumeOptional("=")){const L=Kr(this.remaining);L&&(R=L,this.capture(R))}S[Pe(E)]=Pe(R)}parseQueryParam(S){const E=function Tt(T){const S=T.match(Se);return S?S[0]:""}(this.remaining);if(!E)return;this.capture(E);let R="";if(this.consumeOptional("=")){const ye=function un(T){const S=T.match(Gt);return S?S[0]:""}(this.remaining);ye&&(R=ye,this.capture(R))}const L=It(E),ie=It(R);if(S.hasOwnProperty(L)){let ye=S[L];Array.isArray(ye)||(ye=[ye],S[L]=ye),ye.push(ie)}else S[L]=ie}parseParens(S){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Kr(this.remaining),L=this.remaining[R.length];if("/"!==L&&")"!==L&&";"!==L)throw new o.wOt(4010,!1);let ie;R.indexOf(":")>-1?(ie=R.slice(0,R.indexOf(":")),this.capture(ie),this.capture(":")):S&&(ie=Ot);const ye=this.parseChildren();E[ie]=1===Object.keys(ye).length?ye[Ot]:new hn([],ye),this.consumeOptional("//")}return E}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new o.wOt(4011,!1)}}function wr(T){return T.segments.length>0?new hn([],{[Ot]:T}):T}function an(T){const S={};for(const R of Object.keys(T.children)){const ie=an(T.children[R]);if(R===Ot&&0===ie.segments.length&&ie.hasChildren())for(const[ye,ct]of Object.entries(ie.children))S[ye]=ct;else(ie.segments.length>0||ie.hasChildren())&&(S[R]=ie)}return function ui(T){if(1===T.numberOfChildren&&T.children[Ot]){const S=T.children[Ot];return new hn(T.segments.concat(S.segments),S.children)}return T}(new hn(T.segments,S))}function tt(T){return T instanceof ze}function vt(T){let S;const L=wr(function E(ie){const ye={};for(const at of ie.children){const _n=E(at);ye[at.outlet]=_n}const ct=new hn(ie.url,ye);return ie===T&&(S=ct),ct}(T.root));return S??L}function Yt(T,S,E,R){let L=T;for(;L.parent;)L=L.parent;if(0===S.length)return fn(L,L,L,E,R);const ie=function In(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new cr(!0,0,T);let S=0,E=!1;const R=T.reduce((L,ie,ye)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const ct={};return Object.entries(ie.outlets).forEach(([at,_n])=>{ct[at]="string"==typeof _n?_n.split("/"):_n}),[...L,{outlets:ct}]}if(ie.segmentPath)return[...L,ie.segmentPath]}return"string"!=typeof ie?[...L,ie]:0===ye?(ie.split("/").forEach((ct,at)=>{0==at&&"."===ct||(0==at&&""===ct?E=!0:".."===ct?S++:""!=ct&&L.push(ct))}),L):[...L,ie]},[]);return new cr(E,S,R)}(S);if(ie.toRoot())return fn(L,L,new hn([],{}),E,R);const ye=function qi(T,S,E){if(T.isAbsolute)return new dr(S,!0,0);if(!E)return new dr(S,!1,NaN);if(null===E.parent)return new dr(E,!0,0);const R=En(T.commands[0])?0:1;return function Ss(T,S,E){let R=T,L=S,ie=E;for(;ie>L;){if(ie-=L,R=R.parent,!R)throw new o.wOt(4005,!1);L=R.segments.length}return new dr(R,!1,L-ie)}(E,E.segments.length-1+R,T.numberOfDoubleDots)}(ie,L,T),ct=ye.processChildren?Dt(ye.segmentGroup,ye.index,ie.commands):en(ye.segmentGroup,ye.index,ie.commands);return fn(L,ye.segmentGroup,ct,E,R)}function En(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function Zt(T){return"object"==typeof T&&null!=T&&T.outlets}function fn(T,S,E,R,L){let ye,ie={};R&&Object.entries(R).forEach(([at,_n])=>{ie[at]=Array.isArray(_n)?_n.map(hr=>`${hr}`):`${_n}`}),ye=T===S?E:er(T,S,E);const ct=wr(an(ye));return new ze(ct,ie,L)}function er(T,S,E){const R={};return Object.entries(T.children).forEach(([L,ie])=>{R[L]=ie===S?E:er(ie,S,E)}),new hn(T.segments,R)}class cr{constructor(S,E,R){if(this.isAbsolute=S,this.numberOfDoubleDots=E,this.commands=R,S&&R.length>0&&En(R[0]))throw new o.wOt(4003,!1);const L=R.find(Zt);if(L&&L!==Dr(R))throw new o.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dr{constructor(S,E,R){this.segmentGroup=S,this.processChildren=E,this.index=R}}function en(T,S,E){if(T||(T=new hn([],{})),0===T.segments.length&&T.hasChildren())return Dt(T,S,E);const R=function Nn(T,S,E){let R=0,L=S;const ie={match:!1,pathIndex:0,commandIndex:0};for(;L<T.segments.length;){if(R>=E.length)return ie;const ye=T.segments[L],ct=E[R];if(Zt(ct))break;const at=`${ct}`,_n=R<E.length-1?E[R+1]:null;if(L>0&&void 0===at)break;if(at&&_n&&"object"==typeof _n&&void 0===_n.outlets){if(!pr(at,_n,ye))return ie;R+=2}else{if(!pr(at,{},ye))return ie;R++}L++}return{match:!0,pathIndex:L,commandIndex:R}}(T,S,E),L=E.slice(R.commandIndex);if(R.match&&R.pathIndex<T.segments.length){const ie=new hn(T.segments.slice(0,R.pathIndex),{});return ie.children[Ot]=new hn(T.segments.slice(R.pathIndex),T.children),Dt(ie,0,L)}return R.match&&0===L.length?new hn(T.segments,{}):R.match&&!T.hasChildren()?tn(T,S,E):R.match?Dt(T,0,L):tn(T,S,E)}function Dt(T,S,E){if(0===E.length)return new hn(T.segments,{});{const R=function Ar(T){return Zt(T[0])?T[0].outlets:{[Ot]:T}}(E),L={};if(Object.keys(R).some(ie=>ie!==Ot)&&T.children[Ot]&&1===T.numberOfChildren&&0===T.children[Ot].segments.length){const ie=Dt(T.children[Ot],S,E);return new hn(T.segments,ie.children)}return Object.entries(R).forEach(([ie,ye])=>{"string"==typeof ye&&(ye=[ye]),null!==ye&&(L[ie]=en(T.children[ie],S,ye))}),Object.entries(T.children).forEach(([ie,ye])=>{void 0===R[ie]&&(L[ie]=ye)}),new hn(T.segments,L)}}function tn(T,S,E){const R=T.segments.slice(0,S);let L=0;for(;L<E.length;){const ie=E[L];if(Zt(ie)){const at=ni(ie.outlets);return new hn(R,at)}if(0===L&&En(E[0])){R.push(new Pn(T.segments[S].path,Jr(E[0]))),L++;continue}const ye=Zt(ie)?ie.outlets[Ot]:`${ie}`,ct=L<E.length-1?E[L+1]:null;ye&&ct&&En(ct)?(R.push(new Pn(ye,Jr(ct))),L+=2):(R.push(new Pn(ye,{})),L++)}return new hn(R,{})}function ni(T){const S={};return Object.entries(T).forEach(([E,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(S[E]=tn(new hn([],{}),0,R))}),S}function Jr(T){const S={};return Object.entries(T).forEach(([E,R])=>S[E]=`${R}`),S}function pr(T,S,E){return T==E.path&&yn(S,E.parameters)}const mi="imperative";class Ur{constructor(S,E){this.id=S,this.url=E}}class ar extends Ur{constructor(S,E,R="imperative",L=null){super(S,E),this.type=0,this.navigationTrigger=R,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xi extends Ur{constructor(S,E,R){super(S,E),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vs extends Ur{constructor(S,E,R,L){super(S,E),this.reason=R,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ir extends Ur{constructor(S,E,R,L){super(S,E),this.reason=R,this.code=L,this.type=16}}class Us extends Ur{constructor(S,E,R,L){super(S,E),this.error=R,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Li extends Ur{constructor(S,E,R,L){super(S,E),this.urlAfterRedirects=R,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ri extends Ur{constructor(S,E,R,L){super(S,E),this.urlAfterRedirects=R,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rs extends Ur{constructor(S,E,R,L,ie){super(S,E),this.urlAfterRedirects=R,this.state=L,this.shouldActivate=ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class os extends Ur{constructor(S,E,R,L){super(S,E),this.urlAfterRedirects=R,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gr extends Ur{constructor(S,E,R,L){super(S,E),this.urlAfterRedirects=R,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ds{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yo{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ks{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ro{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jo{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Es{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qi{constructor(S,E,R){this.routerEvent=S,this.position=E,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hs{}class as{constructor(S){this.url=S}}class Bs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wi,this.attachRef=null}}let wi=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(E,R){const L=this.getOrCreateContext(E);L.outlet=R,this.contexts.set(E,L)}onChildOutletDestroyed(E){const R=this.getContext(E);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let R=this.getContext(E);return R||(R=new Bs,this.contexts.set(E,R)),R}getContext(E){return this.contexts.get(E)||null}static{this.\u0275fac=function(R){return new(R||T)}}static{this.\u0275prov=o.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();class vo{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const E=this.pathFromRoot(S);return E.length>1?E[E.length-2]:null}children(S){const E=Is(S,this._root);return E?E.children.map(R=>R.value):[]}firstChild(S){const E=Is(S,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(S){const E=Ts(S,this._root);return E.length<2?[]:E[E.length-2].children.map(L=>L.value).filter(L=>L!==S)}pathFromRoot(S){return Ts(S,this._root).map(E=>E.value)}}function Is(T,S){if(T===S.value)return S;for(const E of S.children){const R=Is(T,E);if(R)return R}return null}function Ts(T,S){if(T===S.value)return[S];for(const E of S.children){const R=Ts(T,E);if(R.length)return R.unshift(S),R}return[]}class Yn{constructor(S,E){this.value=S,this.children=E}toString(){return`TreeNode(${this.value})`}}function Br(T){const S={};return T&&T.children.forEach(E=>S[E.value.outlet]=E),S}class zr extends vo{constructor(S,E){super(S),this.snapshot=E,Wr(this,S)}toString(){return this.snapshot.toString()}}function Cs(T,S){const E=function Ei(T,S){const ye=new Ms([],{},{},"",{},Ot,S,null,{});return new io("",new Yn(ye,[]))}(0,S),R=new Ne.t([new Pn("",{})]),L=new Ne.t({}),ie=new Ne.t({}),ye=new Ne.t({}),ct=new Ne.t(""),at=new js(R,L,ye,ct,ie,Ot,S,E.root);return at.snapshot=E.root,new zr(new Yn(at,[]),E)}class js{constructor(S,E,R,L,ie,ye,ct,at){this.urlSubject=S,this.paramsSubject=E,this.queryParamsSubject=R,this.fragmentSubject=L,this.dataSubject=ie,this.outlet=ye,this.component=ct,this._futureSnapshot=at,this.title=this.dataSubject?.pipe((0,N.T)(_n=>_n[vi]))??(0,Fe.of)(void 0),this.url=S,this.params=E,this.queryParams=R,this.fragment=L,this.data=ie}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,N.T)(S=>At(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,N.T)(S=>At(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qs(T,S="emptyOnly"){const E=T.pathFromRoot;let R=0;if("always"!==S)for(R=E.length-1;R>=1;){const L=E[R],ie=E[R-1];if(L.routeConfig&&""===L.routeConfig.path)R--;else{if(ie.component)break;R--}}return function Ps(T){return T.reduce((S,E)=>({params:{...S.params,...E.params},data:{...S.data,...E.data},resolve:{...E.data,...S.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(R))}class Ms{get title(){return this.data?.[vi]}constructor(S,E,R,L,ie,ye,ct,at,_n){this.url=S,this.params=E,this.queryParams=R,this.fragment=L,this.data=ie,this.outlet=ye,this.component=ct,this.routeConfig=at,this._resolve=_n}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=At(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class io extends vo{constructor(S,E){super(E),this.url=S,Wr(this,E)}toString(){return ln(this._root)}}function Wr(T,S){S.value._routerState=T,S.children.forEach(E=>Wr(T,E))}function ln(T){const S=T.children.length>0?` { ${T.children.map(ln).join(", ")} } `:"";return`${T.value}${S}`}function Jn(T){if(T.snapshot){const S=T.snapshot,E=T._futureSnapshot;T.snapshot=E,yn(S.queryParams,E.queryParams)||T.queryParamsSubject.next(E.queryParams),S.fragment!==E.fragment&&T.fragmentSubject.next(E.fragment),yn(S.params,E.params)||T.paramsSubject.next(E.params),function Qn(T,S){if(T.length!==S.length)return!1;for(let E=0;E<T.length;++E)if(!yn(T[E],S[E]))return!1;return!0}(S.url,E.url)||T.urlSubject.next(E.url),yn(S.data,E.data)||T.dataSubject.next(E.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function _r(T,S){const E=yn(T.params,S.params)&&function Ji(T,S){return Ci(T,S)&&T.every((E,R)=>yn(E.parameters,S[R].parameters))}(T.url,S.url);return E&&!(!T.parent!=!S.parent)&&(!T.parent||_r(T.parent,S.parent))}let Pi=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ot,this.activateEvents=new o.bkB,this.deactivateEvents=new o.bkB,this.attachEvents=new o.bkB,this.detachEvents=new o.bkB,this.parentContexts=(0,o.WQX)(wi),this.location=(0,o.WQX)(o.c1b),this.changeDetector=(0,o.WQX)(o.gRc),this.environmentInjector=(0,o.WQX)(o.uvJ),this.inputBinder=(0,o.WQX)(sr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(E){if(E.name){const{firstChange:R,previousValue:L}=E.name;if(R)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.wOt(4012,!1);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,R){this.activated=E,this._activatedRoute=R,this.location.insert(E.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,R){if(this.isActivated)throw new o.wOt(4013,!1);this._activatedRoute=E;const L=this.location,ye=E.snapshot.component,ct=this.parentContexts.getOrCreateContext(this.name).children,at=new us(E,ct,L.injector);this.activated=L.createComponent(ye,{index:L.length,injector:at,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(R){return new(R||T)}}static{this.\u0275dir=o.FsC({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.OA$]})}}return T})();class us{constructor(S,E,R){this.route=S,this.childContexts=E,this.parent=R}get(S,E){return S===js?this.route:S===wi?this.childContexts:this.parent.get(S,E)}}const sr=new o.nKC("");let ls=(()=>{class T{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){this.outletDataSubscriptions.get(E)?.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:R}=E,L=ht([R.queryParams,R.params,R.data]).pipe((0,X.n)(([ie,ye,ct],at)=>(ct={...ie,...ye,...ct},0===at?(0,Fe.of)(ct):Promise.resolve(ct)))).subscribe(ie=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(E);const ye=(0,o.HJs)(R.component);if(ye)for(const{templateName:ct}of ye.inputs)E.activatedComponentRef.setInput(ct,ie[ct]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,L)}static{this.\u0275fac=function(R){return new(R||T)}}static{this.\u0275prov=o.jDH({token:T,factory:T.\u0275fac})}}return T})();function qr(T,S,E){if(E&&T.shouldReuseRoute(S.value,E.value.snapshot)){const R=E.value;R._futureSnapshot=S.value;const L=function $s(T,S,E){return S.children.map(R=>{for(const L of E.children)if(T.shouldReuseRoute(R.value,L.value.snapshot))return qr(T,R,L);return qr(T,R)})}(T,S,E);return new Yn(R,L)}{if(T.shouldAttach(S.value)){const ie=T.retrieve(S.value);if(null!==ie){const ye=ie.route;return ye.value._futureSnapshot=S.value,ye.children=S.children.map(ct=>qr(T,ct)),ye}}const R=function Un(T){return new js(new Ne.t(T.url),new Ne.t(T.params),new Ne.t(T.queryParams),new Ne.t(T.fragment),new Ne.t(T.data),T.outlet,T.component,T)}(S.value),L=S.children.map(ie=>qr(T,ie));return new Yn(R,L)}}const Ai="ngNavigationCancelingError";function Eo(T,S){const{redirectTo:E,navigationBehaviorOptions:R}=tt(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,L=Os(!1,0,S);return L.url=E,L.navigationBehaviorOptions=R,L}function Os(T,S,E){const R=new Error("NavigationCancelingError: "+(T||""));return R[Ai]=!0,R.cancellationCode=S,E&&(R.url=E),R}function yr(T){return T&&T[Ai]}let Qr=(()=>{class T{static{this.\u0275fac=function(R){return new(R||T)}}static{this.\u0275cmp=o.VBU({type:T,selectors:[["ng-component"]],standalone:!0,features:[o.aNF],decls:1,vars:0,template:function(R,L){1&R&&o.nrm(0,"router-outlet")},dependencies:[Pi],encapsulation:2})}}return T})();function bs(T){const S=T.children&&T.children.map(bs),E=S?{...T,children:S}:{...T};return!E.component&&!E.loadComponent&&(S||E.loadChildren)&&E.outlet&&E.outlet!==Ot&&(E.component=Qr),E}function Ns(T){return T.outlet||Ot}function so(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let S=T.parent;S;S=S.parent){const E=S.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Ui{constructor(S,E,R,L,ie){this.routeReuseStrategy=S,this.futureState=E,this.currState=R,this.forwardEvent=L,this.inputBindingEnabled=ie}activate(S){const E=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,R,S),Jn(this.futureState.root),this.activateChildRoutes(E,R,S)}deactivateChildRoutes(S,E,R){const L=Br(E);S.children.forEach(ie=>{const ye=ie.value.outlet;this.deactivateRoutes(ie,L[ye],R),delete L[ye]}),Object.values(L).forEach(ie=>{this.deactivateRouteAndItsChildren(ie,R)})}deactivateRoutes(S,E,R){const L=S.value,ie=E?E.value:null;if(L===ie)if(L.component){const ye=R.getContext(L.outlet);ye&&this.deactivateChildRoutes(S,E,ye.children)}else this.deactivateChildRoutes(S,E,R);else ie&&this.deactivateRouteAndItsChildren(E,R)}deactivateRouteAndItsChildren(S,E){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,E):this.deactivateRouteAndOutlet(S,E)}detachAndStoreRouteSubtree(S,E){const R=E.getContext(S.value.outlet),L=R&&S.value.component?R.children:E,ie=Br(S);for(const ye of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[ye],L);if(R&&R.outlet){const ye=R.outlet.detach(),ct=R.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:ye,route:S,contexts:ct})}}deactivateRouteAndOutlet(S,E){const R=E.getContext(S.value.outlet),L=R&&S.value.component?R.children:E,ie=Br(S);for(const ye of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[ye],L);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(S,E,R){const L=Br(E);S.children.forEach(ie=>{this.activateRoutes(ie,L[ie.value.outlet],R),this.forwardEvent(new Es(ie.value.snapshot))}),S.children.length&&this.forwardEvent(new ro(S.value.snapshot))}activateRoutes(S,E,R){const L=S.value,ie=E?E.value:null;if(Jn(L),L===ie)if(L.component){const ye=R.getOrCreateContext(L.outlet);this.activateChildRoutes(S,E,ye.children)}else this.activateChildRoutes(S,E,R);else if(L.component){const ye=R.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const ct=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),ye.children.onOutletReAttached(ct.contexts),ye.attachRef=ct.componentRef,ye.route=ct.route.value,ye.outlet&&ye.outlet.attach(ct.componentRef,ct.route.value),Jn(ct.route.value),this.activateChildRoutes(S,null,ye.children)}else{const ct=so(L.snapshot);ye.attachRef=null,ye.route=L,ye.injector=ct,ye.outlet&&ye.outlet.activateWith(L,ye.injector),this.activateChildRoutes(S,null,ye.children)}}else this.activateChildRoutes(S,null,R)}}class Vo{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class li{constructor(S,E){this.component=S,this.route=E}}function W(T,S,E){const R=T._root;return Ee(R,S?S._root:null,E,[R.value])}function fe(T,S){const E=Symbol(),R=S.get(T,E);return R===E?"function"!=typeof T||(0,o.LfX)(T)?S.get(T):T:R}function Ee(T,S,E,R,L={canDeactivateChecks:[],canActivateChecks:[]}){const ie=Br(S);return T.children.forEach(ye=>{(function Ke(T,S,E,R,L={canDeactivateChecks:[],canActivateChecks:[]}){const ie=T.value,ye=S?S.value:null,ct=E?E.getContext(T.value.outlet):null;if(ye&&ie.routeConfig===ye.routeConfig){const at=function yt(T,S,E){if("function"==typeof E)return E(T,S);switch(E){case"pathParamsChange":return!Ci(T.url,S.url);case"pathParamsOrQueryParamsChange":return!Ci(T.url,S.url)||!yn(T.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_r(T,S)||!yn(T.queryParams,S.queryParams);default:return!_r(T,S)}}(ye,ie,ie.routeConfig.runGuardsAndResolvers);at?L.canActivateChecks.push(new Vo(R)):(ie.data=ye.data,ie._resolvedData=ye._resolvedData),Ee(T,S,ie.component?ct?ct.children:null:E,R,L),at&&ct&&ct.outlet&&ct.outlet.isActivated&&L.canDeactivateChecks.push(new li(ct.outlet.component,ye))}else ye&&k(S,ct,L),L.canActivateChecks.push(new Vo(R)),Ee(T,null,ie.component?ct?ct.children:null:E,R,L)})(ye,ie[ye.value.outlet],E,R.concat([ye.value]),L),delete ie[ye.value.outlet]}),Object.entries(ie).forEach(([ye,ct])=>k(ct,E.getContext(ye),L)),L}function k(T,S,E){const R=Br(T),L=T.value;Object.entries(R).forEach(([ie,ye])=>{k(ye,L.component?S?S.children.getContext(ie):null:S,E)}),E.canDeactivateChecks.push(new li(L.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,L))}function B(T){return"function"==typeof T}function $r(T){return T instanceof Mn||"EmptyError"===T?.name}const ur=Symbol("INITIAL_VALUE");function fi(){return(0,X.n)(T=>ht(T.map(S=>S.pipe((0,ue.s)(1),function Nt(...T){const S=(0,Te.lI)(T);return(0,Kn.N)((E,R)=>{(S?it(T,E,S):it(T,E)).subscribe(R)})}(ur)))).pipe((0,N.T)(S=>{for(const E of S)if(!0!==E){if(E===ur)return ur;if(!1===E||E instanceof ze)return E}return!0}),(0,ke.p)(S=>S!==ur),(0,ue.s)(1)))}function ao(T){return(0,$t.F)((0,Mt.M)(S=>{if(tt(S))throw Eo(0,S)}),(0,N.T)(S=>!0===S))}class Lo{constructor(S){this.segmentGroup=S||null}}class ks{constructor(S){this.urlTree=S}}function _i(T){return(0,Bt.$)(new Lo(T))}function Zo(T){return(0,Bt.$)(new ks(T))}class Uo{constructor(S,E){this.urlSerializer=S,this.urlTree=E}noMatchError(S){return new o.wOt(4002,!1)}lineralizeSegments(S,E){let R=[],L=E.root;for(;;){if(R=R.concat(L.segments),0===L.numberOfChildren)return(0,Fe.of)(R);if(L.numberOfChildren>1||!L.children[Ot])return(0,Bt.$)(new o.wOt(4e3,!1));L=L.children[Ot]}}applyRedirectCommands(S,E,R){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),S,R)}applyRedirectCreateUrlTree(S,E,R,L){const ie=this.createSegmentGroup(S,E.root,R,L);return new ze(ie,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(S,E){const R={};return Object.entries(S).forEach(([L,ie])=>{if("string"==typeof ie&&ie.startsWith(":")){const ct=ie.substring(1);R[L]=E[ct]}else R[L]=ie}),R}createSegmentGroup(S,E,R,L){const ie=this.createSegments(S,E.segments,R,L);let ye={};return Object.entries(E.children).forEach(([ct,at])=>{ye[ct]=this.createSegmentGroup(S,at,R,L)}),new hn(ie,ye)}createSegments(S,E,R,L){return E.map(ie=>ie.path.startsWith(":")?this.findPosParam(S,ie,L):this.findOrReturn(ie,R))}findPosParam(S,E,R){const L=R[E.path.substring(1)];if(!L)throw new o.wOt(4001,!1);return L}findOrReturn(S,E){let R=0;for(const L of E){if(L.path===S.path)return E.splice(R),L;R++}return S}}const ya={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aa(T,S,E,R,L){const ie=ua(T,S,E);return ie.matched?(R=function hi(T,S){return T.providers&&!T._injector&&(T._injector=(0,o.Ol2)(T.providers,S,`Route: ${T.path}`)),T._injector??S}(S,R),function Ni(T,S,E,R){const L=S.canMatch;if(!L||0===L.length)return(0,Fe.of)(!0);const ie=L.map(ye=>{const ct=fe(ye,T);return fr(function Pr(T){return T&&B(T.canMatch)}(ct)?ct.canMatch(S,E):T.runInContext(()=>ct(S,E)))});return(0,Fe.of)(ie).pipe(fi(),ao())}(R,S,E).pipe((0,N.T)(ye=>!0===ye?ie:{...ya}))):(0,Fe.of)(ie)}function ua(T,S,E){if(""===S.path)return"full"===S.pathMatch&&(T.hasChildren()||E.length>0)?{...ya}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const L=(S.matcher||di)(E,T,S);if(!L)return{...ya};const ie={};Object.entries(L.posParams??{}).forEach(([ct,at])=>{ie[ct]=at.path});const ye=L.consumed.length>0?{...ie,...L.consumed[L.consumed.length-1].parameters}:ie;return{matched:!0,consumedSegments:L.consumed,remainingSegments:E.slice(L.consumed.length),parameters:ye,positionalParamSegments:L.posParams??{}}}function Bo(T,S,E,R){return E.length>0&&function hu(T,S,E){return E.some(R=>Co(T,S,R)&&Ns(R)!==Ot)}(T,E,R)?{segmentGroup:new hn(S,va(R,new hn(E,T.children))),slicedSegments:[]}:0===E.length&&function Oo(T,S,E){return E.some(R=>Co(T,S,R))}(T,E,R)?{segmentGroup:new hn(T.segments,$a(T,0,E,R,T.children)),slicedSegments:E}:{segmentGroup:new hn(T.segments,T.children),slicedSegments:E}}function $a(T,S,E,R,L){const ie={};for(const ye of R)if(Co(T,E,ye)&&!L[Ns(ye)]){const ct=new hn([],{});ie[Ns(ye)]=ct}return{...L,...ie}}function va(T,S){const E={};E[Ot]=S;for(const R of T)if(""===R.path&&Ns(R)!==Ot){const L=new hn([],{});E[Ns(R)]=L}return E}function Co(T,S,E){return(!(T.hasChildren()||S.length>0)||"full"!==E.pathMatch)&&""===E.path}class xo{constructor(S,E,R,L,ie,ye,ct){this.injector=S,this.configLoader=E,this.rootComponentType=R,this.config=L,this.urlTree=ie,this.paramsInheritanceStrategy=ye,this.urlSerializer=ct,this.allowRedirects=!0,this.applyRedirects=new Uo(this.urlSerializer,this.urlTree)}noMatchError(S){return new o.wOt(4002,!1)}recognize(){const S=Bo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,Ot).pipe((0,Ln.W)(E=>{if(E instanceof ks)return this.allowRedirects=!1,this.urlTree=E.urlTree,this.match(E.urlTree);throw E instanceof Lo?this.noMatchError(E):E}),(0,N.T)(E=>{const R=new Ms([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,{}),L=new Yn(R,E),ie=new io("",L),ye=function We(T,S,E=null,R=null){return Yt(vt(T),S,E,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return ye.queryParams=this.urlTree.queryParams,ie.url=this.urlSerializer.serialize(ye),this.inheritParamsAndData(ie._root),{state:ie,tree:ye}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,Ot).pipe((0,Ln.W)(R=>{throw R instanceof Lo?this.noMatchError(R):R}))}inheritParamsAndData(S){const E=S.value,R=qs(E,this.paramsInheritanceStrategy);E.params=Object.freeze(R.params),E.data=Object.freeze(R.data),S.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(S,E,R,L){return 0===R.segments.length&&R.hasChildren()?this.processChildren(S,E,R):this.processSegment(S,E,R,R.segments,L,!0)}processChildren(S,E,R){const L=[];for(const ie of Object.keys(R.children))"primary"===ie?L.unshift(ie):L.push(ie);return(0,re.H)(L).pipe((0,st.H)(ie=>{const ye=R.children[ie],ct=function Gs(T,S){const E=T.filter(R=>Ns(R)===S);return E.push(...T.filter(R=>Ns(R)!==S)),E}(E,ie);return this.processSegmentGroup(S,ct,ye,ie)}),(0,dn.S)((ie,ye)=>(ie.push(...ye),ie)),me(null),function jt(T,S){const E=arguments.length>=2;return R=>R.pipe(T?(0,ke.p)((L,ie)=>T(L,ie,R)):Ze.D,Gn(1),E?me(S):oe(()=>new Mn))}(),(0,_e.Z)(ie=>{if(null===ie)return _i(R);const ye=A(ie);return function Ra(T){T.sort((S,E)=>S.value.outlet===Ot?-1:E.value.outlet===Ot?1:S.value.outlet.localeCompare(E.value.outlet))}(ye),(0,Fe.of)(ye)}))}processSegment(S,E,R,L,ie,ye){return(0,re.H)(E).pipe((0,st.H)(ct=>this.processSegmentAgainstRoute(ct._injector??S,E,ct,R,L,ie,ye).pipe((0,Ln.W)(at=>{if(at instanceof Lo)return(0,Fe.of)(null);throw at}))),De(ct=>!!ct),(0,Ln.W)(ct=>{if($r(ct))return function uo(T,S,E){return 0===S.length&&!T.children[E]}(R,L,ie)?(0,Fe.of)([]):_i(R);throw ct}))}processSegmentAgainstRoute(S,E,R,L,ie,ye,ct){return function ea(T,S,E,R){return!!(Ns(T)===R||R!==Ot&&Co(S,E,T))&&("**"===T.path||ua(S,T,E).matched)}(R,L,ie,ye)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(S,L,R,ie,ye,ct):ct&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,L,E,R,ie,ye):_i(L):_i(L)}expandSegmentAgainstRouteUsingRedirect(S,E,R,L,ie,ye){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,R,L,ye):this.expandRegularSegmentAgainstRouteUsingRedirect(S,E,R,L,ie,ye)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,E,R,L){const ie=this.applyRedirects.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?Zo(ie):this.applyRedirects.lineralizeSegments(R,ie).pipe((0,_e.Z)(ye=>{const ct=new hn(ye,{});return this.processSegment(S,E,ct,ye,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,E,R,L,ie,ye){const{matched:ct,consumedSegments:at,remainingSegments:_n,positionalParamSegments:hr}=ua(E,L,ie);if(!ct)return _i(E);const gi=this.applyRedirects.applyRedirectCommands(at,L.redirectTo,hr);return L.redirectTo.startsWith("/")?Zo(gi):this.applyRedirects.lineralizeSegments(L,gi).pipe((0,_e.Z)(jr=>this.processSegment(S,R,E,jr.concat(_n),ye,!1)))}matchSegmentAgainstRoute(S,E,R,L,ie,ye){let ct;if("**"===R.path){const at=L.length>0?Dr(L).parameters:{},_n=new Ms(L,at,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F(R),Ns(R),R.component??R._loadedComponent??null,R,G(R));ct=(0,Fe.of)({snapshot:_n,consumedSegments:[],remainingSegments:[]}),E.children={}}else ct=aa(E,R,L,S).pipe((0,N.T)(({matched:at,consumedSegments:_n,remainingSegments:hr,parameters:gi})=>at?{snapshot:new Ms(_n,gi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F(R),Ns(R),R.component??R._loadedComponent??null,R,G(R)),consumedSegments:_n,remainingSegments:hr}:null));return ct.pipe((0,X.n)(at=>null===at?_i(E):this.getChildConfig(S=R._injector??S,R,L).pipe((0,X.n)(({routes:_n})=>{const hr=R._loadedInjector??S,{snapshot:gi,consumedSegments:jr,remainingSegments:zo}=at,{segmentGroup:za,slicedSegments:Ma}=Bo(E,jr,zo,_n);if(0===Ma.length&&za.hasChildren())return this.processChildren(hr,_n,za).pipe((0,N.T)(na=>null===na?null:[new Yn(gi,na)]));if(0===_n.length&&0===Ma.length)return(0,Fe.of)([new Yn(gi,[])]);const Wa=Ns(R)===ie;return this.processSegment(hr,_n,za,Ma,Wa?Ot:ie,!0).pipe((0,N.T)(na=>[new Yn(gi,na)]))}))))}getChildConfig(S,E,R){return E.children?(0,Fe.of)({routes:E.children,injector:S}):E.loadChildren?void 0!==E._loadedRoutes?(0,Fe.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function _a(T,S,E,R){const L=S.canLoad;if(void 0===L||0===L.length)return(0,Fe.of)(!0);const ie=L.map(ye=>{const ct=fe(ye,T);return fr(function J(T){return T&&B(T.canLoad)}(ct)?ct.canLoad(S,E):T.runInContext(()=>ct(S,E)))});return(0,Fe.of)(ie).pipe(fi(),ao())}(S,E,R).pipe((0,_e.Z)(L=>L?this.configLoader.loadChildren(S,E).pipe((0,Mt.M)(ie=>{E._loadedRoutes=ie.routes,E._loadedInjector=ie.injector})):function du(T){return(0,Bt.$)(Os(!1,3))}())):(0,Fe.of)({routes:[],injector:S})}}function wl(T){const S=T.value.routeConfig;return S&&""===S.path}function A(T){const S=[],E=new Set;for(const R of T){if(!wl(R)){S.push(R);continue}const L=S.find(ie=>R.value.routeConfig===ie.value.routeConfig);void 0!==L?(L.children.push(...R.children),E.add(L)):S.push(R)}for(const R of E){const L=A(R.children);S.push(new Yn(R.value,L))}return S.filter(R=>!E.has(R))}function F(T){return T.data||{}}function G(T){return T.resolve||{}}function kr(T){return"string"==typeof T.title||null===T.title}function lr(T){return(0,X.n)(S=>{const E=T(S);return E?(0,re.H)(E).pipe((0,N.T)(()=>S)):(0,Fe.of)(S)})}const Tr=new o.nKC("ROUTES");let si=(()=>{class T{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.WQX)(o.Ql9)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,Fe.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const R=fr(E.loadComponent()).pipe((0,N.T)(Yi),(0,Mt.M)(ie=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=ie}),(0,wn.j)(()=>{this.componentLoaders.delete(E)})),L=new qe(R,()=>new Re.B).pipe(mr());return this.componentLoaders.set(E,L),L}loadChildren(E,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,Fe.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const ie=function Xi(T,S,E,R){return fr(T.loadChildren()).pipe((0,N.T)(Yi),(0,_e.Z)(L=>L instanceof o.Co$||Array.isArray(L)?(0,Fe.of)(L):(0,re.H)(S.compileModuleAsync(L))),(0,N.T)(L=>{R&&R(T);let ie,ye,ct=!1;return Array.isArray(L)?(ye=L,!0):(ie=L.create(E).injector,ye=ie.get(Tr,[],{optional:!0,self:!0}).flat()),{routes:ye.map(bs),injector:ie}}))}(R,this.compiler,E,this.onLoadEndListener).pipe((0,wn.j)(()=>{this.childrenLoaders.delete(R)})),ye=new qe(ie,()=>new Re.B).pipe(mr());return this.childrenLoaders.set(R,ye),ye}static{this.\u0275fac=function(R){return new(R||T)}}static{this.\u0275prov=o.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();function Yi(T){return function lo(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let Qs=(()=>{class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Re.B,this.transitionAbortSubject=new Re.B,this.configLoader=(0,o.WQX)(si),this.environmentInjector=(0,o.WQX)(o.uvJ),this.urlSerializer=(0,o.WQX)(Zn),this.rootContexts=(0,o.WQX)(wi),this.inputBindingEnabled=null!==(0,o.WQX)(sr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Fe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=L=>this.events.next(new yo(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new ds(L))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:R})}setupNavigations(E,R,L){return this.transitions=new Ne.t({id:0,currentUrlTree:R,currentRawUrl:R,currentBrowserUrl:R,extractedUrl:E.urlHandlingStrategy.extract(R),urlAfterRedirects:E.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mi,restoredState:null,currentSnapshot:L.snapshot,targetSnapshot:null,currentRouterState:L,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ke.p)(ie=>0!==ie.id),(0,N.T)(ie=>({...ie,extractedUrl:E.urlHandlingStrategy.extract(ie.rawUrl)})),(0,X.n)(ie=>{this.currentTransition=ie;let ye=!1,ct=!1;return(0,Fe.of)(ie).pipe((0,Mt.M)(at=>{this.currentNavigation={id:at.id,initialUrl:at.rawUrl,extractedUrl:at.extractedUrl,trigger:at.source,extras:at.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,X.n)(at=>{const _n=at.currentBrowserUrl.toString(),hr=!E.navigated||at.extractedUrl.toString()!==_n||_n!==at.currentUrlTree.toString();if(!hr&&"reload"!==(at.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const jr="";return this.events.next(new Ir(at.id,this.urlSerializer.serialize(at.rawUrl),jr,0)),at.resolve(null),Le.w}if(E.urlHandlingStrategy.shouldProcessUrl(at.rawUrl))return(0,Fe.of)(at).pipe((0,X.n)(jr=>{const zo=this.transitions?.getValue();return this.events.next(new ar(jr.id,this.urlSerializer.serialize(jr.extractedUrl),jr.source,jr.restoredState)),zo!==this.transitions?.getValue()?Le.w:Promise.resolve(jr)}),function Ie(T,S,E,R,L,ie){return(0,_e.Z)(ye=>function ta(T,S,E,R,L,ie,ye="emptyOnly"){return new xo(T,S,E,R,L,ye,ie).recognize()}(T,S,E,R,ye.extractedUrl,L,ie).pipe((0,N.T)(({state:ct,tree:at})=>({...ye,targetSnapshot:ct,urlAfterRedirects:at}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,Mt.M)(jr=>{ie.targetSnapshot=jr.targetSnapshot,ie.urlAfterRedirects=jr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:jr.urlAfterRedirects};const zo=new Li(jr.id,this.urlSerializer.serialize(jr.extractedUrl),this.urlSerializer.serialize(jr.urlAfterRedirects),jr.targetSnapshot);this.events.next(zo)}));if(hr&&E.urlHandlingStrategy.shouldProcessUrl(at.currentRawUrl)){const{id:jr,extractedUrl:zo,source:za,restoredState:Ma,extras:Wa}=at,na=new ar(jr,this.urlSerializer.serialize(zo),za,Ma);this.events.next(na);const gu=Cs(0,this.rootComponentType).snapshot;return this.currentTransition=ie={...at,targetSnapshot:gu,urlAfterRedirects:zo,extras:{...Wa,skipLocationChange:!1,replaceUrl:!1}},(0,Fe.of)(ie)}{const jr="";return this.events.next(new Ir(at.id,this.urlSerializer.serialize(at.extractedUrl),jr,1)),at.resolve(null),Le.w}}),(0,Mt.M)(at=>{const _n=new ri(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects),at.targetSnapshot);this.events.next(_n)}),(0,N.T)(at=>(this.currentTransition=ie={...at,guards:W(at.targetSnapshot,at.currentSnapshot,this.rootContexts)},ie)),function ii(T,S){return(0,_e.Z)(E=>{const{targetSnapshot:R,currentSnapshot:L,guards:{canActivateChecks:ie,canDeactivateChecks:ye}}=E;return 0===ye.length&&0===ie.length?(0,Fe.of)({...E,guardsResult:!0}):function Mi(T,S,E,R){return(0,re.H)(T).pipe((0,_e.Z)(L=>function oa(T,S,E,R,L){const ie=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,Fe.of)(!0);const ye=ie.map(ct=>{const at=so(S)??L,_n=fe(ct,at);return fr(function Tn(T){return T&&B(T.canDeactivate)}(_n)?_n.canDeactivate(T,S,E,R):at.runInContext(()=>_n(T,S,E,R))).pipe(De())});return(0,Fe.of)(ye).pipe(fi())}(L.component,L.route,E,S,R)),De(L=>!0!==L,!0))}(ye,R,L,T).pipe((0,_e.Z)(ct=>ct&&function M(T){return"boolean"==typeof T}(ct)?function Mo(T,S,E,R){return(0,re.H)(S).pipe((0,st.H)(L=>it(function ms(T,S){return null!==T&&S&&S(new Ks(T)),(0,Fe.of)(!0)}(L.route.parent,R),function oo(T,S){return null!==T&&S&&S(new Jo(T)),(0,Fe.of)(!0)}(L.route,R),function Oi(T,S,E){const R=S[S.length-1],ie=S.slice(0,S.length-1).reverse().map(ye=>function q(T){const S=T.routeConfig?T.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:T,guards:S}:null}(ye)).filter(ye=>null!==ye).map(ye=>Pt(()=>{const ct=ye.guards.map(at=>{const _n=so(ye.node)??E,hr=fe(at,_n);return fr(function Vt(T){return T&&B(T.canActivateChild)}(hr)?hr.canActivateChild(R,T):_n.runInContext(()=>hr(R,T))).pipe(De())});return(0,Fe.of)(ct).pipe(fi())}));return(0,Fe.of)(ie).pipe(fi())}(T,L.path,E),function To(T,S,E){const R=S.routeConfig?S.routeConfig.canActivate:null;if(!R||0===R.length)return(0,Fe.of)(!0);const L=R.map(ie=>Pt(()=>{const ye=so(S)??E,ct=fe(ie,ye);return fr(function ve(T){return T&&B(T.canActivate)}(ct)?ct.canActivate(S,T):ye.runInContext(()=>ct(S,T))).pipe(De())}));return(0,Fe.of)(L).pipe(fi())}(T,L.route,E))),De(L=>!0!==L,!0))}(R,ie,T,S):(0,Fe.of)(ct)),(0,N.T)(ct=>({...E,guardsResult:ct})))})}(this.environmentInjector,at=>this.events.next(at)),(0,Mt.M)(at=>{if(ie.guardsResult=at.guardsResult,tt(at.guardsResult))throw Eo(0,at.guardsResult);const _n=new Rs(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects),at.targetSnapshot,!!at.guardsResult);this.events.next(_n)}),(0,ke.p)(at=>!!at.guardsResult||(this.cancelNavigationTransition(at,"",3),!1)),lr(at=>{if(at.guards.canActivateChecks.length)return(0,Fe.of)(at).pipe((0,Mt.M)(_n=>{const hr=new os(_n.id,this.urlSerializer.serialize(_n.extractedUrl),this.urlSerializer.serialize(_n.urlAfterRedirects),_n.targetSnapshot);this.events.next(hr)}),(0,X.n)(_n=>{let hr=!1;return(0,Fe.of)(_n).pipe(function gt(T,S){return(0,_e.Z)(E=>{const{targetSnapshot:R,guards:{canActivateChecks:L}}=E;if(!L.length)return(0,Fe.of)(E);let ie=0;return(0,re.H)(L).pipe((0,st.H)(ye=>function Rt(T,S,E,R){const L=T.routeConfig,ie=T._resolve;return void 0!==L?.title&&!kr(L)&&(ie[vi]=L.title),function On(T,S,E,R){const L=function Hr(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===L.length)return(0,Fe.of)({});const ie={};return(0,re.H)(L).pipe((0,_e.Z)(ye=>function pi(T,S,E,R){const L=so(S)??R,ie=fe(T,L);return fr(ie.resolve?ie.resolve(S,E):L.runInContext(()=>ie(S,E)))}(T[ye],S,E,R).pipe(De(),(0,Mt.M)(ct=>{ie[ye]=ct}))),Gn(1),function Nr(T){return(0,N.T)(()=>T)}(ie),(0,Ln.W)(ye=>$r(ye)?Le.w:(0,Bt.$)(ye)))}(ie,T,S,R).pipe((0,N.T)(ye=>(T._resolvedData=ye,T.data=qs(T,E).resolve,L&&kr(L)&&(T.data[vi]=L.title),null)))}(ye.route,R,T,S)),(0,Mt.M)(()=>ie++),Gn(1),(0,_e.Z)(ye=>ie===L.length?(0,Fe.of)(E):Le.w))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,Mt.M)({next:()=>hr=!0,complete:()=>{hr||this.cancelNavigationTransition(_n,"",2)}}))}),(0,Mt.M)(_n=>{const hr=new Gr(_n.id,this.urlSerializer.serialize(_n.extractedUrl),this.urlSerializer.serialize(_n.urlAfterRedirects),_n.targetSnapshot);this.events.next(hr)}))}),lr(at=>{const _n=hr=>{const gi=[];hr.routeConfig?.loadComponent&&!hr.routeConfig._loadedComponent&&gi.push(this.configLoader.loadComponent(hr.routeConfig).pipe((0,Mt.M)(jr=>{hr.component=jr}),(0,N.T)(()=>{})));for(const jr of hr.children)gi.push(..._n(jr));return gi};return ht(_n(at.targetSnapshot.root)).pipe(me(),(0,ue.s)(1))}),lr(()=>this.afterPreactivation()),(0,N.T)(at=>{const _n=function qn(T,S,E){const R=qr(T,S._root,E?E._root:void 0);return new zr(R,S)}(E.routeReuseStrategy,at.targetSnapshot,at.currentRouterState);return this.currentTransition=ie={...at,targetRouterState:_n},ie}),(0,Mt.M)(()=>{this.events.next(new hs)}),((T,S,E,R)=>(0,N.T)(L=>(new Ui(S,L.targetRouterState,L.currentRouterState,E,R).activate(T),L)))(this.rootContexts,E.routeReuseStrategy,at=>this.events.next(at),this.inputBindingEnabled),(0,ue.s)(1),(0,Mt.M)({next:at=>{ye=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xi(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects))),E.titleStrategy?.updateTitle(at.targetRouterState.snapshot),at.resolve(!0)},complete:()=>{ye=!0}}),function Wt(T){return(0,Kn.N)((S,E)=>{(0,pt.Tg)(T).subscribe((0,Ct._)(E,()=>E.complete(),Dn.l)),!E.closed&&S.subscribe(E)})}(this.transitionAbortSubject.pipe((0,Mt.M)(at=>{throw at}))),(0,wn.j)(()=>{ye||ct||this.cancelNavigationTransition(ie,"",1),this.currentNavigation?.id===ie.id&&(this.currentNavigation=null)}),(0,Ln.W)(at=>{if(ct=!0,yr(at))this.events.next(new vs(ie.id,this.urlSerializer.serialize(ie.extractedUrl),at.message,at.cancellationCode)),function Rn(T){return yr(T)&&tt(T.url)}(at)?this.events.next(new as(at.url)):ie.resolve(!1);else{this.events.next(new Us(ie.id,this.urlSerializer.serialize(ie.extractedUrl),at,ie.targetSnapshot??void 0));try{ie.resolve(E.errorHandler(at))}catch(_n){ie.reject(_n)}}return Le.w}))}))}cancelNavigationTransition(E,R,L){const ie=new vs(E.id,this.urlSerializer.serialize(E.extractedUrl),R,L);this.events.next(ie),E.resolve(!1)}static{this.\u0275fac=function(R){return new(R||T)}}static{this.\u0275prov=o.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();function ki(T){return T!==mi}let Xs=(()=>{class T{buildTitle(E){let R,L=E.root;for(;void 0!==L;)R=this.getResolvedTitleForRoute(L)??R,L=L.children.find(ie=>ie.outlet===Ot);return R}getResolvedTitleForRoute(E){return E.data[vi]}static{this.\u0275fac=function(R){return new(R||T)}}static{this.\u0275prov=o.jDH({token:T,factory:function(){return(0,o.WQX)(No)},providedIn:"root"})}}return T})(),No=(()=>{class T extends Xs{constructor(E){super(),this.title=E}updateTitle(E){const R=this.buildTitle(E);void 0!==R&&this.title.setTitle(R)}static{this.\u0275fac=function(R){return new(R||T)(o.KVO(sn.hE))}}static{this.\u0275prov=o.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})(),jo=(()=>{class T{static{this.\u0275fac=function(R){return new(R||T)}}static{this.\u0275prov=o.jDH({token:T,factory:function(){return(0,o.WQX)(Bi)},providedIn:"root"})}}return T})();class fu{shouldDetach(S){return!1}store(S,E){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,E){return S.routeConfig===E.routeConfig}}let Bi=(()=>{class T extends fu{static{this.\u0275fac=function(){let E;return function(L){return(E||(E=o.xGo(T)))(L||T)}}()}static{this.\u0275prov=o.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();const Mr=new o.nKC("",{providedIn:"root",factory:()=>({})});let mc=(()=>{class T{static{this.\u0275fac=function(R){return new(R||T)}}static{this.\u0275prov=o.jDH({token:T,factory:function(){return(0,o.WQX)(Al)},providedIn:"root"})}}return T})(),Al=(()=>{class T{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,R){return E}static{this.\u0275fac=function(R){return new(R||T)}}static{this.\u0275prov=o.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();var la=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(la||{});function Ha(T,S){T.events.pipe((0,ke.p)(E=>E instanceof xi||E instanceof vs||E instanceof Us||E instanceof Ir),(0,N.T)(E=>E instanceof xi||E instanceof Ir?la.COMPLETE:E instanceof vs&&(0===E.code||1===E.code)?la.REDIRECTING:la.FAILED),(0,ke.p)(E=>E!==la.REDIRECTING),(0,ue.s)(1)).subscribe(()=>{S()})}function pu(T){throw T}function ju(T,S,E){return S.parse("/")}const V={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let y=(()=>{class T{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.WQX)(o.H3F),this.isNgZoneEnabled=!1,this._events=new Re.B,this.options=(0,o.WQX)(Mr,{optional:!0})||{},this.pendingTasks=(0,o.WQX)(o.$K3),this.errorHandler=this.options.errorHandler||pu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ju,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.WQX)(mc),this.routeReuseStrategy=(0,o.WQX)(jo),this.titleStrategy=(0,o.WQX)(Xs),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.WQX)(Tr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.WQX)(Qs),this.urlSerializer=(0,o.WQX)(Zn),this.location=(0,o.WQX)(qt.aZ),this.componentInputBindingEnabled=!!(0,o.WQX)(sr,{optional:!0}),this.eventsSubscription=new Jt.yU,this.isNgZoneEnabled=(0,o.WQX)(o.SKi)instanceof o.SKi&&o.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ze,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Cs(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const E=this.navigationTransitions.events.subscribe(R=>{try{const{currentTransition:L}=this.navigationTransitions;if(null===L)return void(Q(R)&&this._events.next(R));if(R instanceof ar)ki(L.source)&&(this.browserUrlTree=L.extractedUrl);else if(R instanceof Ir)this.rawUrlTree=L.rawUrl;else if(R instanceof Li){if("eager"===this.urlUpdateStrategy){if(!L.extras.skipLocationChange){const ie=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl);this.setBrowserUrl(ie,L)}this.browserUrlTree=L.urlAfterRedirects}}else if(R instanceof hs)this.currentUrlTree=L.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl),this.routerState=L.targetRouterState,"deferred"===this.urlUpdateStrategy&&(L.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,L),this.browserUrlTree=L.urlAfterRedirects);else if(R instanceof vs)0!==R.code&&1!==R.code&&(this.navigated=!0),(3===R.code||2===R.code)&&this.restoreHistory(L);else if(R instanceof as){const ie=this.urlHandlingStrategy.merge(R.url,L.currentRawUrl),ye={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ki(L.source)};this.scheduleNavigation(ie,mi,null,ye,{resolve:L.resolve,reject:L.reject,promise:L.promise})}R instanceof Us&&this.restoreHistory(L,!0),R instanceof xi&&(this.navigated=!0),Q(R)&&this._events.next(R)}catch(L){this.navigationTransitions.transitionAbortSubject.next(L)}});this.eventsSubscription.add(E)}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),mi,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const R="popstate"===E.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,R,E.state)},0)}))}navigateToSyncWithBrowser(E,R,L){const ie={replaceUrl:!0},ye=L?.navigationId?L:null;if(L){const at={...L};delete at.navigationId,delete at.\u0275routerPageId,0!==Object.keys(at).length&&(ie.state=at)}const ct=this.parseUrl(E);this.scheduleNavigation(ct,R,ye,ie)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(E){this.config=E.map(bs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(E,R={}){const{relativeTo:L,queryParams:ie,fragment:ye,queryParamsHandling:ct,preserveFragment:at}=R,_n=at?this.currentUrlTree.fragment:ye;let gi,hr=null;switch(ct){case"merge":hr={...this.currentUrlTree.queryParams,...ie};break;case"preserve":hr=this.currentUrlTree.queryParams;break;default:hr=ie||null}null!==hr&&(hr=this.removeEmptyProps(hr));try{gi=vt(L?L.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof E[0]||!E[0].startsWith("/"))&&(E=[]),gi=this.currentUrlTree.root}return Yt(gi,E,hr,_n??null)}navigateByUrl(E,R={skipLocationChange:!1}){const L=tt(E)?E:this.parseUrl(E),ie=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(ie,mi,null,R)}navigate(E,R={skipLocationChange:!1}){return function P(T){for(let S=0;S<T.length;S++)if(null==T[S])throw new o.wOt(4008,!1)}(E),this.navigateByUrl(this.createUrlTree(E,R),R)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let R;try{R=this.urlSerializer.parse(E)}catch(L){R=this.malformedUriErrorHandler(L,this.urlSerializer,E)}return R}isActive(E,R){let L;if(L=!0===R?{...V}:!1===R?{...v}:R,tt(E))return Ki(this.currentUrlTree,E,L);const ie=this.parseUrl(E);return Ki(this.currentUrlTree,ie,L)}removeEmptyProps(E){return Object.keys(E).reduce((R,L)=>{const ie=E[L];return null!=ie&&(R[L]=ie),R},{})}scheduleNavigation(E,R,L,ie,ye){if(this.disposed)return Promise.resolve(!1);let ct,at,_n;ye?(ct=ye.resolve,at=ye.reject,_n=ye.promise):_n=new Promise((gi,jr)=>{ct=gi,at=jr});const hr=this.pendingTasks.add();return Ha(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(hr))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:E,extras:ie,resolve:ct,reject:at,promise:_n,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_n.catch(gi=>Promise.reject(gi))}setBrowserUrl(E,R){const L=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(L)||R.extras.replaceUrl){const ye={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(L,"",ye)}else{const ie={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(L,"",ie)}}restoreHistory(E,R=!1){if("computed"===this.canceledNavigationResolution){const ie=this.currentPageId-this.browserPageId;0!==ie?this.location.historyGo(ie):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ie&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,R){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:R}:{navigationId:E}}static{this.\u0275fac=function(R){return new(R||T)}}static{this.\u0275prov=o.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();function Q(T){return!(T instanceof hs||T instanceof as)}let le=(()=>{class T{constructor(E,R,L,ie,ye,ct){this.router=E,this.route=R,this.tabIndexAttribute=L,this.renderer=ie,this.el=ye,this.locationStrategy=ct,this.href=null,this.commands=null,this.onChanges=new Re.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const at=ye.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===at||"area"===at,this.isAnchorElement?this.subscription=E.events.subscribe(_n=>{_n instanceof xi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,R,L,ie,ye){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||R||L||ie||ye||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,o.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,R){const L=this.renderer,ie=this.el.nativeElement;null!==R?L.setAttribute(ie,E,R):L.removeAttribute(ie,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(R){return new(R||T)(o.rXU(y),o.rXU(js),o.kS0("tabindex"),o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(qt.hb))}}static{this.\u0275dir=o.FsC({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,L){1&R&&o.bIt("click",function(ye){return L.onClick(ye.button,ye.ctrlKey,ye.shiftKey,ye.altKey,ye.metaKey)}),2&R&&o.BMQ("target",L.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.L39],skipLocationChange:["skipLocationChange","skipLocationChange",o.L39],replaceUrl:["replaceUrl","replaceUrl",o.L39],routerLink:"routerLink"},standalone:!0,features:[o.GFd,o.OA$]})}}return T})(),Ae=(()=>{class T{get isActive(){return this._isActive}constructor(E,R,L,ie,ye){this.router=E,this.element=R,this.renderer=L,this.cdr=ie,this.link=ye,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.bkB,this.routerEventsSubscription=E.events.subscribe(ct=>{ct instanceof xi&&this.update()})}ngAfterContentInit(){(0,Fe.of)(this.links.changes,(0,Fe.of)(null)).pipe((0,nn.U)()).subscribe(E=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const E=[...this.links.toArray(),this.link].filter(R=>!!R).map(R=>R.onChanges);this.linkInputChangesSubscription=(0,re.H)(E).pipe((0,nn.U)()).subscribe(R=>{this._isActive!==this.isLinkActive(this.router)(R)&&this.update()})}set routerLinkActive(E){const R=Array.isArray(E)?E:E.split(" ");this.classes=R.filter(L=>!!L)}ngOnChanges(E){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const E=this.hasActiveLinks();this._isActive!==E&&(this._isActive=E,this.cdr.markForCheck(),this.classes.forEach(R=>{E?this.renderer.addClass(this.element.nativeElement,R):this.renderer.removeClass(this.element.nativeElement,R)}),E&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(E))})}isLinkActive(E){const R=function xe(T){return!!T.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return L=>!!L.urlTree&&E.isActive(L.urlTree,R)}hasActiveLinks(){const E=this.isLinkActive(this.router);return this.link&&E(this.link)||this.links.some(E)}static{this.\u0275fac=function(R){return new(R||T)(o.rXU(y),o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(o.gRc),o.rXU(le,8))}}static{this.\u0275dir=o.FsC({type:T,selectors:[["","routerLinkActive",""]],contentQueries:function(R,L,ie){if(1&R&&o.wni(ie,le,5),2&R){let ye;o.mGM(ye=o.lsd())&&(L.links=ye)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[o.OA$]})}}return T})();class ut{}let Cn=(()=>{class T{constructor(E,R,L,ie,ye){this.router=E,this.injector=L,this.preloadingStrategy=ie,this.loader=ye}setUpPreloading(){this.subscription=this.router.events.pipe((0,ke.p)(E=>E instanceof xi),(0,st.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,R){const L=[];for(const ie of R){ie.providers&&!ie._injector&&(ie._injector=(0,o.Ol2)(ie.providers,E,`Route: ${ie.path}`));const ye=ie._injector??E,ct=ie._loadedInjector??ye;(ie.loadChildren&&!ie._loadedRoutes&&void 0===ie.canLoad||ie.loadComponent&&!ie._loadedComponent)&&L.push(this.preloadConfig(ye,ie)),(ie.children||ie._loadedRoutes)&&L.push(this.processRoutes(ct,ie.children??ie._loadedRoutes))}return(0,re.H)(L).pipe((0,nn.U)())}preloadConfig(E,R){return this.preloadingStrategy.preload(R,()=>{let L;L=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(E,R):(0,Fe.of)(null);const ie=L.pipe((0,_e.Z)(ye=>null===ye?(0,Fe.of)(void 0):(R._loadedRoutes=ye.routes,R._loadedInjector=ye.injector,this.processRoutes(ye.injector??E,ye.routes))));if(R.loadComponent&&!R._loadedComponent){const ye=this.loader.loadComponent(R);return(0,re.H)([ie,ye]).pipe((0,nn.U)())}return ie})}static{this.\u0275fac=function(R){return new(R||T)(o.KVO(y),o.KVO(o.Ql9),o.KVO(o.uvJ),o.KVO(ut),o.KVO(si))}}static{this.\u0275prov=o.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})();const Or=new o.nKC("");let gr=(()=>{class T{constructor(E,R,L,ie,ye={}){this.urlSerializer=E,this.transitions=R,this.viewportScroller=L,this.zone=ie,this.options=ye,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ye.scrollPositionRestoration=ye.scrollPositionRestoration||"disabled",ye.anchorScrolling=ye.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof ar?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof xi?(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment)):E instanceof Ir&&0===E.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof Qi&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qi(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(R){o.QTQ()}}static{this.\u0275prov=o.jDH({token:T,factory:T.\u0275fac})}}return T})();function Fr(T,S){return{\u0275kind:T,\u0275providers:S}}function zn(){const T=(0,o.WQX)(o.zZn);return S=>{const E=T.get(o.o8S);if(S!==E.components[0])return;const R=T.get(y),L=T.get(Ys);1===T.get(_s)&&R.initialNavigation(),T.get(Pa,null,o.$GK.Optional)?.setUpPreloading(),T.get(Or,null,o.$GK.Optional)?.init(),R.resetRootComponentType(E.componentTypes[0]),L.closed||(L.next(),L.complete(),L.unsubscribe())}}const Ys=new o.nKC("",{factory:()=>new Re.B}),_s=new o.nKC("",{providedIn:"root",factory:()=>1}),Pa=new o.nKC("");function Ws(T){return Fr(0,[{provide:Pa,useExisting:Cn},{provide:ut,useExisting:T}])}const ot=new o.nKC("ROUTER_FORROOT_GUARD"),An=[qt.aZ,{provide:Zn,useClass:oi},y,wi,{provide:js,useFactory:function or(T){return T.routerState.root},deps:[y]},si,[]];function es(){return new o.NEm("Router",y)}let Js=(()=>{class T{constructor(E){}static forRoot(E,R){return{ngModule:T,providers:[An,[],{provide:Tr,multi:!0,useValue:E},{provide:ot,useFactory:Fs,deps:[[y,new o.Xx1,new o.kdw]]},{provide:Mr,useValue:R||{}},R?.useHash?{provide:qt.hb,useClass:qt.fw}:{provide:qt.hb,useClass:qt.Sm},{provide:Or,useFactory:()=>{const T=(0,o.WQX)(qt.Xr),S=(0,o.WQX)(o.SKi),E=(0,o.WQX)(Mr),R=(0,o.WQX)(Qs),L=(0,o.WQX)(Zn);return E.scrollOffset&&T.setOffset(E.scrollOffset),new gr(L,R,T,S,E)}},R?.preloadingStrategy?Ws(R.preloadingStrategy).\u0275providers:[],{provide:o.NEm,multi:!0,useFactory:es},R?.initialNavigation?da(R):[],R?.bindToComponentInputs?Fr(8,[ls,{provide:sr,useExisting:ls}]).\u0275providers:[],[{provide:ts,useFactory:zn},{provide:o.iLQ,multi:!0,useExisting:ts}]]}}static forChild(E){return{ngModule:T,providers:[{provide:Tr,multi:!0,useValue:E}]}}static{this.\u0275fac=function(R){return new(R||T)(o.KVO(ot,8))}}static{this.\u0275mod=o.$C({type:T})}static{this.\u0275inj=o.G2t({})}}return T})();function Fs(T){return"guarded"}function da(T){return["disabled"===T.initialNavigation?Fr(3,[{provide:o.hnV,multi:!0,useFactory:()=>{const S=(0,o.WQX)(y);return()=>{S.setUpLocationChangeListener()}}},{provide:_s,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Fr(2,[{provide:_s,useValue:0},{provide:o.hnV,multi:!0,deps:[o.zZn],useFactory:S=>{const E=S.get(qt.hj,Promise.resolve());return()=>E.then(()=>new Promise(R=>{const L=S.get(y),ie=S.get(Ys);Ha(L,()=>{R(!0)}),S.get(Qs).afterPreactivation=()=>(R(!0),ie.closed?(0,Fe.of)(void 0):ie),L.initialNavigation()}))}}]).\u0275providers:[]]}const ts=new o.nKC("")},7852:(gn,dt,z)=>{z.d(dt,{MF:()=>Ci,j6:()=>ss,xZ:()=>ti,om:()=>jn,Sx:()=>oi,Dk:()=>bi,Wp:()=>kn,KO:()=>ee});var o=z(467),se=z(1362),Je=z(8041),Ce=z(1076);const re=(tt,We)=>We.some(vt=>tt instanceof vt);let Fe,Ne;const ge=new WeakMap,Te=new WeakMap,Qe=new WeakMap,Ct=new WeakMap,bt=new WeakMap;let Qt={get(tt,We,vt){if(tt instanceof IDBTransaction){if("done"===We)return Te.get(tt);if("objectStoreNames"===We)return tt.objectStoreNames||Qe.get(tt);if("store"===We)return vt.objectStoreNames[1]?void 0:vt.objectStore(vt.objectStoreNames[0])}return Oe(tt[We])},set:(tt,We,vt)=>(tt[We]=vt,!0),has:(tt,We)=>tt instanceof IDBTransaction&&("done"===We||"store"===We)||We in tt};function nn(tt){return"function"==typeof tt?function Mn(tt){return tt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ze(){return Ne||(Ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(tt)?function(...We){return tt.apply(it(this),We),Oe(ge.get(this))}:function(...We){return Oe(tt.apply(it(this),We))}:function(We,...vt){const Yt=tt.call(it(this),We,...vt);return Qe.set(Yt,We.sort?We.sort():[We]),Oe(Yt)}}(tt):(tt instanceof IDBTransaction&&function Ft(tt){if(Te.has(tt))return;const We=new Promise((vt,Yt)=>{const En=()=>{tt.removeEventListener("complete",Zt),tt.removeEventListener("error",fn),tt.removeEventListener("abort",fn)},Zt=()=>{vt(),En()},fn=()=>{Yt(tt.error||new DOMException("AbortError","AbortError")),En()};tt.addEventListener("complete",Zt),tt.addEventListener("error",fn),tt.addEventListener("abort",fn)});Te.set(tt,We)}(tt),re(tt,function je(){return Fe||(Fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(tt,Qt):tt)}function Oe(tt){if(tt instanceof IDBRequest)return function ht(tt){const We=new Promise((vt,Yt)=>{const En=()=>{tt.removeEventListener("success",Zt),tt.removeEventListener("error",fn)},Zt=()=>{vt(Oe(tt.result)),En()},fn=()=>{Yt(tt.error),En()};tt.addEventListener("success",Zt),tt.addEventListener("error",fn)});return We.then(vt=>{vt instanceof IDBCursor&&ge.set(vt,tt)}).catch(()=>{}),bt.set(We,tt),We}(tt);if(Ct.has(tt))return Ct.get(tt);const We=nn(tt);return We!==tt&&(Ct.set(tt,We),bt.set(We,tt)),We}const it=tt=>bt.get(tt),$t=["get","getKey","getAll","getAllKeys","count"],Bt=["put","add","delete","clear"],Le=new Map;function Jt(tt,We){if(!(tt instanceof IDBDatabase)||We in tt||"string"!=typeof We)return;if(Le.get(We))return Le.get(We);const vt=We.replace(/FromIndex$/,""),Yt=We!==vt,En=Bt.includes(vt);if(!(vt in(Yt?IDBIndex:IDBObjectStore).prototype)||!En&&!$t.includes(vt))return;const Zt=function(){var fn=(0,o.A)(function*(er,...cr){const In=this.transaction(er,En?"readwrite":"readonly");let dr=In.store;return Yt&&(dr=dr.index(cr.shift())),(yield Promise.all([dr[vt](...cr),En&&In.done]))[0]});return function(cr){return fn.apply(this,arguments)}}();return Le.set(We,Zt),Zt}!function on(tt){Qt=tt(Qt)}(tt=>({...tt,get:(We,vt,Yt)=>Jt(We,vt)||tt.get(We,vt,Yt),has:(We,vt)=>!!Jt(We,vt)||tt.has(We,vt)}));class Kn{constructor(We){this.container=We}getPlatformInfoString(){return this.container.getProviders().map(vt=>{if(function mr(tt){const We=tt.getComponent();return"VERSION"===We?.type}(vt)){const Yt=vt.getImmediate();return`${Yt.library}/${Yt.version}`}return null}).filter(vt=>vt).join(" ")}}const qe="@firebase/app",Re="0.10.13",qt=new Je.Vy("@firebase/app"),yn="[DEFAULT]",Wi={[qe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Dr=new Map,fr=new Map,Er=new Map;function Sr(tt,We){try{tt.container.addComponent(We)}catch(vt){qt.debug(`Component ${We.name} failed to register with FirebaseApp ${tt.name}`,vt)}}function jn(tt){const We=tt.name;if(Er.has(We))return qt.debug(`There were multiple attempts to register component ${We}.`),!1;Er.set(We,tt);for(const vt of Dr.values())Sr(vt,tt);for(const vt of fr.values())Sr(vt,tt);return!0}function ss(tt,We){const vt=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return vt&&vt.triggerHeartbeat(),tt.container.getProvider(We)}function ti(tt){return void 0!==tt.settings}const hn=new Ce.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Pn{constructor(We,vt,Yt){this._isDeleted=!1,this._options=Object.assign({},We),this._config=Object.assign({},vt),this._name=vt.name,this._automaticDataCollectionEnabled=vt.automaticDataCollectionEnabled,this._container=Yt,this.container.addComponent(new se.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this.checkDestroyed(),this._automaticDataCollectionEnabled=We}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(We){this._isDeleted=We}checkDestroyed(){if(this.isDeleted)throw hn.create("app-deleted",{appName:this._name})}}const Ci="10.14.1";function kn(tt,We={}){let vt=tt;"object"!=typeof We&&(We={name:We});const Yt=Object.assign({name:yn,automaticDataCollectionEnabled:!1},We),En=Yt.name;if("string"!=typeof En||!En)throw hn.create("bad-app-name",{appName:String(En)});if(vt||(vt=(0,Ce.T9)()),!vt)throw hn.create("no-options");const Zt=Dr.get(En);if(Zt){if((0,Ce.bD)(vt,Zt.options)&&(0,Ce.bD)(Yt,Zt.config))return Zt;throw hn.create("duplicate-app",{appName:En})}const fn=new se.h1(En);for(const cr of Er.values())fn.addComponent(cr);const er=new Pn(vt,Yt,fn);return Dr.set(En,er),er}function oi(tt=yn){const We=Dr.get(tt);if(!We&&tt===yn&&(0,Ce.T9)())return kn();if(!We)throw hn.create("no-app",{appName:tt});return We}function bi(){return Array.from(Dr.values())}function ee(tt,We,vt){var Yt;let En=null!==(Yt=Wi[tt])&&void 0!==Yt?Yt:tt;vt&&(En+=`-${vt}`);const Zt=En.match(/\s|\//),fn=We.match(/\s|\//);if(Zt||fn){const er=[`Unable to register library "${En}" with version "${We}":`];return Zt&&er.push(`library name "${En}" contains illegal characters (whitespace or "/")`),Zt&&fn&&er.push("and"),fn&&er.push(`version name "${We}" contains illegal characters (whitespace or "/")`),void qt.warn(er.join(" "))}jn(new se.uA(`${En}-version`,()=>({library:En,version:We}),"VERSION"))}const we="firebase-heartbeat-database",Pe=1,It="firebase-heartbeat-store";let kt=null;function mn(){return kt||(kt=function pt(tt,We,{blocked:vt,upgrade:Yt,blocking:En,terminated:Zt}={}){const fn=indexedDB.open(tt,We),er=Oe(fn);return Yt&&fn.addEventListener("upgradeneeded",cr=>{Yt(Oe(fn.result),cr.oldVersion,cr.newVersion,Oe(fn.transaction),cr)}),vt&&fn.addEventListener("blocked",cr=>vt(cr.oldVersion,cr.newVersion,cr)),er.then(cr=>{Zt&&cr.addEventListener("close",()=>Zt()),En&&cr.addEventListener("versionchange",In=>En(In.oldVersion,In.newVersion,In))}).catch(()=>{}),er}(we,Pe,{upgrade:(tt,We)=>{if(0===We)try{tt.createObjectStore(It)}catch(vt){console.warn(vt)}}}).catch(tt=>{throw hn.create("idb-open",{originalErrorMessage:tt.message})})),kt}function Sn(){return(Sn=(0,o.A)(function*(tt){try{const vt=(yield mn()).transaction(It),Yt=yield vt.objectStore(It).get(be(tt));return yield vt.done,Yt}catch(We){if(We instanceof Ce.g)qt.warn(We.message);else{const vt=hn.create("idb-get",{originalErrorMessage:We?.message});qt.warn(vt.message)}}})).apply(this,arguments)}function Kr(tt,We){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,o.A)(function*(tt,We){try{const Yt=(yield mn()).transaction(It,"readwrite");yield Yt.objectStore(It).put(We,be(tt)),yield Yt.done}catch(vt){if(vt instanceof Ce.g)qt.warn(vt.message);else{const Yt=hn.create("idb-set",{originalErrorMessage:vt?.message});qt.warn(Yt.message)}}})).apply(this,arguments)}function be(tt){return`${tt.name}!${tt.options.appId}`}class Gt{constructor(We){this.container=We,this._heartbeatsCache=null;const vt=this.container.getProvider("app").getImmediate();this._storage=new wr(vt),this._heartbeatsCachePromise=this._storage.read().then(Yt=>(this._heartbeatsCache=Yt,Yt))}triggerHeartbeat(){var We=this;return(0,o.A)(function*(){var vt,Yt;try{const Zt=We.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),fn=un();return null==(null===(vt=We._heartbeatsCache)||void 0===vt?void 0:vt.heartbeats)&&(We._heartbeatsCache=yield We._heartbeatsCachePromise,null==(null===(Yt=We._heartbeatsCache)||void 0===Yt?void 0:Yt.heartbeats))||We._heartbeatsCache.lastSentHeartbeatDate===fn||We._heartbeatsCache.heartbeats.some(er=>er.date===fn)?void 0:(We._heartbeatsCache.heartbeats.push({date:fn,agent:Zt}),We._heartbeatsCache.heartbeats=We._heartbeatsCache.heartbeats.filter(er=>{const cr=new Date(er.date).valueOf();return Date.now()-cr<=2592e6}),We._storage.overwrite(We._heartbeatsCache))}catch(En){qt.warn(En)}})()}getHeartbeatsHeader(){var We=this;return(0,o.A)(function*(){var vt;try{if(null===We._heartbeatsCache&&(yield We._heartbeatsCachePromise),null==(null===(vt=We._heartbeatsCache)||void 0===vt?void 0:vt.heartbeats)||0===We._heartbeatsCache.heartbeats.length)return"";const Yt=un(),{heartbeatsToSend:En,unsentEntries:Zt}=function zt(tt,We=1024){const vt=[];let Yt=tt.slice();for(const En of tt){const Zt=vt.find(fn=>fn.agent===En.agent);if(Zt){if(Zt.dates.push(En.date),an(vt)>We){Zt.dates.pop();break}}else if(vt.push({agent:En.agent,dates:[En.date]}),an(vt)>We){vt.pop();break}Yt=Yt.slice(1)}return{heartbeatsToSend:vt,unsentEntries:Yt}}(We._heartbeatsCache.heartbeats),fn=(0,Ce.Uj)(JSON.stringify({version:2,heartbeats:En}));return We._heartbeatsCache.lastSentHeartbeatDate=Yt,Zt.length>0?(We._heartbeatsCache.heartbeats=Zt,yield We._storage.overwrite(We._heartbeatsCache)):(We._heartbeatsCache.heartbeats=[],We._storage.overwrite(We._heartbeatsCache)),fn}catch(Yt){return qt.warn(Yt),""}})()}}function un(){return(new Date).toISOString().substring(0,10)}class wr{constructor(We){this.app=We,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.A)(function*(){return!!(0,Ce.zW)()&&(0,Ce.eX)().then(()=>!0).catch(()=>!1)})()}read(){var We=this;return(0,o.A)(function*(){if(yield We._canUseIndexedDBPromise){const Yt=yield function Xn(tt){return Sn.apply(this,arguments)}(We.app);return Yt?.heartbeats?Yt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(We){var vt=this;return(0,o.A)(function*(){var Yt;if(yield vt._canUseIndexedDBPromise){const Zt=yield vt.read();return Kr(vt.app,{lastSentHeartbeatDate:null!==(Yt=We.lastSentHeartbeatDate)&&void 0!==Yt?Yt:Zt.lastSentHeartbeatDate,heartbeats:We.heartbeats})}})()}add(We){var vt=this;return(0,o.A)(function*(){var Yt;if(yield vt._canUseIndexedDBPromise){const Zt=yield vt.read();return Kr(vt.app,{lastSentHeartbeatDate:null!==(Yt=We.lastSentHeartbeatDate)&&void 0!==Yt?Yt:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...We.heartbeats]})}})()}}function an(tt){return(0,Ce.Uj)(JSON.stringify({version:2,heartbeats:tt})).length}!function ui(tt){jn(new se.uA("platform-logger",We=>new Kn(We),"PRIVATE")),jn(new se.uA("heartbeat",We=>new Gt(We),"PRIVATE")),ee(qe,Re,tt),ee(qe,Re,"esm2017"),ee("fire-js","")}("")},1362:(gn,dt,z)=>{z.d(dt,{h1:()=>je,uA:()=>Je});var o=z(467),se=z(1076);class Je{constructor(ge,Te,Qe){this.name=ge,this.instanceFactory=Te,this.type=Qe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ge){return this.instantiationMode=ge,this}setMultipleInstances(ge){return this.multipleInstances=ge,this}setServiceProps(ge){return this.serviceProps=ge,this}setInstanceCreatedCallback(ge){return this.onInstanceCreated=ge,this}}const Ce="[DEFAULT]";class re{constructor(ge,Te){this.name=ge,this.container=Te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ge){const Te=this.normalizeInstanceIdentifier(ge);if(!this.instancesDeferred.has(Te)){const Qe=new se.cY;if(this.instancesDeferred.set(Te,Qe),this.isInitialized(Te)||this.shouldAutoInitialize())try{const Ct=this.getOrInitializeService({instanceIdentifier:Te});Ct&&Qe.resolve(Ct)}catch{}}return this.instancesDeferred.get(Te).promise}getImmediate(ge){var Te;const Qe=this.normalizeInstanceIdentifier(ge?.identifier),Ct=null!==(Te=ge?.optional)&&void 0!==Te&&Te;if(!this.isInitialized(Qe)&&!this.shouldAutoInitialize()){if(Ct)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Qe})}catch(bt){if(Ct)return null;throw bt}}getComponent(){return this.component}setComponent(ge){if(ge.name!==this.name)throw Error(`Mismatching Component ${ge.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ge,this.shouldAutoInitialize()){if(function Ne(Ze){return"EAGER"===Ze.instantiationMode}(ge))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[Te,Qe]of this.instancesDeferred.entries()){const Ct=this.normalizeInstanceIdentifier(Te);try{const bt=this.getOrInitializeService({instanceIdentifier:Ct});Qe.resolve(bt)}catch{}}}}clearInstance(ge=Ce){this.instancesDeferred.delete(ge),this.instancesOptions.delete(ge),this.instances.delete(ge)}delete(){var ge=this;return(0,o.A)(function*(){const Te=Array.from(ge.instances.values());yield Promise.all([...Te.filter(Qe=>"INTERNAL"in Qe).map(Qe=>Qe.INTERNAL.delete()),...Te.filter(Qe=>"_delete"in Qe).map(Qe=>Qe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ge=Ce){return this.instances.has(ge)}getOptions(ge=Ce){return this.instancesOptions.get(ge)||{}}initialize(ge={}){const{options:Te={}}=ge,Qe=this.normalizeInstanceIdentifier(ge.instanceIdentifier);if(this.isInitialized(Qe))throw Error(`${this.name}(${Qe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ct=this.getOrInitializeService({instanceIdentifier:Qe,options:Te});for(const[bt,ht]of this.instancesDeferred.entries())Qe===this.normalizeInstanceIdentifier(bt)&&ht.resolve(Ct);return Ct}onInit(ge,Te){var Qe;const Ct=this.normalizeInstanceIdentifier(Te),bt=null!==(Qe=this.onInitCallbacks.get(Ct))&&void 0!==Qe?Qe:new Set;bt.add(ge),this.onInitCallbacks.set(Ct,bt);const ht=this.instances.get(Ct);return ht&&ge(ht,Ct),()=>{bt.delete(ge)}}invokeOnInitCallbacks(ge,Te){const Qe=this.onInitCallbacks.get(Te);if(Qe)for(const Ct of Qe)try{Ct(ge,Te)}catch{}}getOrInitializeService({instanceIdentifier:ge,options:Te={}}){let Qe=this.instances.get(ge);if(!Qe&&this.component&&(Qe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ze=ge,Ze===Ce?void 0:Ze),options:Te}),this.instances.set(ge,Qe),this.instancesOptions.set(ge,Te),this.invokeOnInitCallbacks(Qe,ge),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ge,Qe)}catch{}var Ze;return Qe||null}normalizeInstanceIdentifier(ge=Ce){return this.component?this.component.multipleInstances?ge:Ce:ge}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class je{constructor(ge){this.name=ge,this.providers=new Map}addComponent(ge){const Te=this.getProvider(ge.name);if(Te.isComponentSet())throw new Error(`Component ${ge.name} has already been registered with ${this.name}`);Te.setComponent(ge)}addOrOverwriteComponent(ge){this.getProvider(ge.name).isComponentSet()&&this.providers.delete(ge.name),this.addComponent(ge)}getProvider(ge){if(this.providers.has(ge))return this.providers.get(ge);const Te=new re(ge,this);return this.providers.set(ge,Te),Te}getProviders(){return Array.from(this.providers.values())}}},8041:(gn,dt,z)=>{z.d(dt,{$b:()=>se,Vy:()=>Ne});const o=[];var se=function(ge){return ge[ge.DEBUG=0]="DEBUG",ge[ge.VERBOSE=1]="VERBOSE",ge[ge.INFO=2]="INFO",ge[ge.WARN=3]="WARN",ge[ge.ERROR=4]="ERROR",ge[ge.SILENT=5]="SILENT",ge}(se||{});const Je={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},Ce=se.INFO,re={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},Fe=(ge,Te,...Qe)=>{if(Te<ge.logLevel)return;const Ct=(new Date).toISOString(),bt=re[Te];if(!bt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Te})`);console[bt](`[${Ct}]  ${ge.name}:`,...Qe)};class Ne{constructor(Te){this.name=Te,this._logLevel=Ce,this._logHandler=Fe,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(Te){if(!(Te in se))throw new TypeError(`Invalid value "${Te}" assigned to \`logLevel\``);this._logLevel=Te}setLogLevel(Te){this._logLevel="string"==typeof Te?Je[Te]:Te}get logHandler(){return this._logHandler}set logHandler(Te){if("function"!=typeof Te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Te}get userLogHandler(){return this._userLogHandler}set userLogHandler(Te){this._userLogHandler=Te}debug(...Te){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...Te),this._logHandler(this,se.DEBUG,...Te)}log(...Te){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...Te),this._logHandler(this,se.VERBOSE,...Te)}info(...Te){this._userLogHandler&&this._userLogHandler(this,se.INFO,...Te),this._logHandler(this,se.INFO,...Te)}warn(...Te){this._userLogHandler&&this._userLogHandler(this,se.WARN,...Te),this._logHandler(this,se.WARN,...Te)}error(...Te){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...Te),this._logHandler(this,se.ERROR,...Te)}}},4056:(gn,dt,z)=>{z.d(dt,{Qt:()=>qe,Rj:()=>mr});var o=z(540),se=z(177),Je=z(1626),Ce=z(4341),re=z(345);const Fe=["*"];function Ne(Re,qt){if(1&Re&&(o.qex(0),o.qSk(),o.j41(1,"svg"),o.nrm(2,"use"),o.k0s(),o.bVm()),2&Re){const N=o.XpG();o.R7$(2),o.BMQ("href","assets/ae-icons/icons.svg#"+N.iconName)("href","assets/ae-icons/icons.svg#"+N.iconName,null,"xlink")}}function je(Re,qt){1&Re&&o.SdG(0)}const Ze=["labelButton"],ge=function(Re,qt){return{selected:Re,focused:qt}};function Te(Re,qt){if(1&Re){const N=o.RV6();o.j41(0,"button",6),o.bIt("click",function(ue){const ke=o.eBV(N).$implicit,_e=o.XpG();return o.Njj(_e.optionSelect(ke,ue))}),o.EFF(1),o.k0s()}if(2&Re){const N=qt.$implicit,X=qt.index,ue=o.XpG();o.Y8G("ngClass",o.l_i(2,ge,N.value===ue.value,X===ue.optionId)),o.R7$(1),o.SpI(" ",N.label," ")}}function Qe(Re,qt){1&Re&&(o.j41(0,"span",7),o.EFF(1,"No items for select"),o.k0s())}const Ct=function(Re){return{"ae-expanded":Re}},bt=["fileInput"];function ht(Re,qt){if(1&Re){const N=o.RV6();o.j41(0,"div",2)(1,"ae-select",37),o.bIt("ngModelChange",function(ue){o.eBV(N);const Nt=o.XpG(2);return o.Njj(Nt.customClassId=ue)})("change",function(){o.eBV(N);const ue=o.XpG(2);return o.Njj(ue.setCustomClass(ue.customClassId))}),o.k0s()()}if(2&Re){const N=o.XpG(2);o.R7$(1),o.Y8G("options",N.customClassList)("ngModel",N.customClassId)("disabled",N.htmlMode)("hidden",N.isButtonHidden("customClasses"))}}function Ft(Re,qt){if(1&Re){const N=o.RV6();o.j41(0,"div",1)(1,"div",2)(2,"button",3),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("undo"))}),o.k0s(),o.j41(3,"button",4),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("redo"))}),o.k0s()(),o.j41(4,"div",2)(5,"button",5),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("bold"))}),o.k0s(),o.j41(6,"button",6),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("italic"))}),o.k0s(),o.j41(7,"button",7),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("underline"))}),o.k0s(),o.j41(8,"button",8),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("strikeThrough"))}),o.k0s(),o.j41(9,"button",9),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("subscript"))}),o.k0s(),o.j41(10,"button",10),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("superscript"))}),o.k0s()(),o.j41(11,"div",2)(12,"button",11),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("justifyLeft"))}),o.k0s(),o.j41(13,"button",12),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("justifyCenter"))}),o.k0s(),o.j41(14,"button",13),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("justifyRight"))}),o.k0s(),o.j41(15,"button",14),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("justifyFull"))}),o.k0s()(),o.j41(16,"div",2)(17,"button",15),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("indent"))}),o.k0s(),o.j41(18,"button",16),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("outdent"))}),o.k0s()(),o.j41(19,"div",2)(20,"button",17),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("insertUnorderedList"))}),o.k0s(),o.j41(21,"button",18),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("insertOrderedList"))}),o.k0s()(),o.j41(22,"div",2)(23,"ae-select",19),o.bIt("ngModelChange",function(ue){o.eBV(N);const Nt=o.XpG();return o.Njj(Nt.block=ue)})("change",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand(ue.block))}),o.k0s()(),o.j41(24,"div",2)(25,"ae-select",20),o.bIt("ngModelChange",function(ue){o.eBV(N);const Nt=o.XpG();return o.Njj(Nt.fontName=ue)})("change",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.setFontName(ue.fontName))}),o.k0s()(),o.j41(26,"div",2)(27,"ae-select",21),o.bIt("ngModelChange",function(ue){o.eBV(N);const Nt=o.XpG();return o.Njj(Nt.fontSize=ue)})("change",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.setFontSize(ue.fontSize))}),o.k0s()(),o.j41(28,"div",2)(29,"input",22,23),o.bIt("change",function(){o.eBV(N);const ue=o.sdS(30),Nt=o.XpG();return o.Njj(Nt.insertColor(ue.value,"textColor"))}),o.k0s(),o.j41(31,"button",24),o.bIt("click",function(){o.eBV(N);const ue=o.sdS(30);return o.XpG().focus(),o.Njj(ue.click())}),o.k0s(),o.j41(32,"input",22,25),o.bIt("change",function(){o.eBV(N);const ue=o.sdS(33),Nt=o.XpG();return o.Njj(Nt.insertColor(ue.value,"backgroundColor"))}),o.k0s(),o.j41(34,"button",26),o.bIt("click",function(){o.eBV(N);const ue=o.sdS(33);return o.XpG().focus(),o.Njj(ue.click())}),o.k0s()(),o.DNE(35,ht,2,4,"div",27),o.j41(36,"div",2)(37,"button",28),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.insertUrl())}),o.k0s(),o.j41(38,"button",29),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("unlink"))}),o.k0s(),o.j41(39,"input",30,31),o.bIt("change",function(ue){o.eBV(N);const Nt=o.XpG();return o.Njj(Nt.onFileChanged(ue))}),o.k0s(),o.j41(41,"button",32),o.bIt("click",function(){o.eBV(N);const ue=o.sdS(40);return o.XpG().focus(),o.Njj(ue.click())}),o.k0s(),o.j41(42,"button",33),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.insertVideo())}),o.k0s(),o.j41(43,"button",34),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("insertHorizontalRule"))}),o.k0s()(),o.j41(44,"div",2)(45,"button",35),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("removeFormat"))}),o.k0s()(),o.j41(46,"div",2)(47,"button",36),o.bIt("click",function(){o.eBV(N);const ue=o.XpG();return o.Njj(ue.triggerCommand("toggleEditorMode"))}),o.k0s()(),o.SdG(48),o.k0s()}if(2&Re){const N=o.XpG();o.R7$(2),o.Y8G("hidden",N.isButtonHidden("undo")),o.R7$(1),o.Y8G("hidden",N.isButtonHidden("redo")),o.R7$(2),o.Y8G("id","bold-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("bold")),o.R7$(1),o.Y8G("id","italic-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("italic")),o.R7$(1),o.Y8G("id","underline-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("underline")),o.R7$(1),o.Y8G("id","strikeThrough-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("strikeThrough")),o.R7$(1),o.Y8G("id","subscript-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("subscript")),o.R7$(1),o.Y8G("id","superscript-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("superscript")),o.R7$(2),o.Y8G("id","justifyLeft-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("justifyLeft")),o.R7$(1),o.Y8G("id","justifyCenter-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("justifyCenter")),o.R7$(1),o.Y8G("id","justifyRight-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("justifyRight")),o.R7$(1),o.Y8G("id","justifyFull-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("justifyFull")),o.R7$(2),o.Y8G("id","indent-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("indent")),o.R7$(1),o.Y8G("id","outdent-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("outdent")),o.R7$(2),o.Y8G("id","insertUnorderedList-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("insertUnorderedList")),o.R7$(1),o.Y8G("id","insertOrderedList-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("insertOrderedList")),o.R7$(2),o.Y8G("options",N.headings)("ngModel",N.block)("disabled",N.htmlMode)("hidden",N.isButtonHidden("heading")),o.R7$(2),o.Y8G("options",N.fonts)("ngModel",N.fontName)("disabled",N.htmlMode)("hidden",N.isButtonHidden("fontName")),o.R7$(2),o.Y8G("options",N.fontSizes)("ngModel",N.fontSize)("disabled",N.htmlMode)("hidden",N.isButtonHidden("fontSize")),o.R7$(4),o.Y8G("id","foregroundColorPicker-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("textColor")),o.R7$(3),o.Y8G("id","backgroundColorPicker-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("backgroundColor")),o.R7$(1),o.Y8G("ngIf",N._customClasses),o.R7$(2),o.Y8G("id","link-"+N.id)("disabled",N.isLinkButtonDisabled)("hidden",N.isButtonHidden("link")),o.R7$(1),o.Y8G("id","unlink-"+N.id)("disabled",N.htmlMode||!N.linkSelected)("hidden",N.isButtonHidden("unlink")),o.R7$(3),o.Y8G("id","insertImage-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("insertImage")),o.R7$(1),o.Y8G("id","insertVideo-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("insertVideo")),o.R7$(1),o.Y8G("id","insertHorizontalRule-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("insertHorizontalRule")),o.R7$(2),o.Y8G("id","clearFormatting-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("removeFormat")),o.R7$(2),o.Y8G("id","toggleEditorMode-"+N.id)("hidden",N.isButtonHidden("toggleEditorMode"))}}const Qt=["customButtons"],on=["editor"],Mn=["editorWrapper"],nn=["editorToolbar"],Oe=function(Re){return{bottom:Re}},it=function(Re){return{executeCommandFn:Re}};let pt=(()=>{class Re{constructor(N,X){this.http=N,this.doc=X,this.saveSelection=()=>{if(this.doc.getSelection){const ue=this.doc.getSelection();ue.getRangeAt&&ue.rangeCount&&(this.savedSelection=ue.getRangeAt(0),this.selectedText=ue.toString())}else this.savedSelection=this.doc.getSelection&&this.doc.createRange?document.createRange():null}}executeCommand(N,X){["h1","h2","h3","h4","h5","h6","p","pre"].includes(N)?this.doc.execCommand("formatBlock",!1,N):this.doc.execCommand(N,!1,X)}createLink(N){N.includes("http")?this.insertHtml('<a href="'+N+'" target="_blank">'+this.selectedText+"</a>"):this.doc.execCommand("createlink",!1,N)}insertColor(N,X){this.restoreSelection()&&this.doc.execCommand("textColor"===X?"foreColor":"hiliteColor",!1,N)}setFontName(N){this.doc.execCommand("fontName",!1,N)}setFontSize(N){this.doc.execCommand("fontSize",!1,N)}insertHtml(N){if(!this.doc.execCommand("insertHTML",!1,N))throw new Error("Unable to perform the operation")}restoreSelection(){if(!this.savedSelection)return!1;if(this.doc.getSelection){const N=this.doc.getSelection();return N.removeAllRanges(),N.addRange(this.savedSelection),!0}return!!this.doc.getSelection||void 0}executeInNextQueueIteration(N,X=100){setTimeout(N,X)}checkSelection(){if(0===this.savedSelection.toString().length)throw new Error("No Selection Made");return!0}uploadImage(N){const X=new FormData;return X.append("file",N,N.name),this.http.post(this.uploadUrl,X,{reportProgress:!0,observe:"events",withCredentials:this.uploadWithCredentials})}insertImage(N){this.doc.execCommand("insertImage",!1,N)}setDefaultParagraphSeparator(N){this.doc.execCommand("defaultParagraphSeparator",!1,N)}createCustomClass(N){let X=this.selectedText;if(N){const ue=N.tag?N.tag:"span";X="<"+ue+' class="'+N.class+'">'+this.selectedText+"</"+ue+">"}this.insertHtml(X)}insertVideo(N){N.match("www.youtube.com")&&this.insertYouTubeVideoTag(N),N.match("vimeo.com")&&this.insertVimeoVideoTag(N)}insertYouTubeVideoTag(N){const ue=`https://img.youtube.com/vi/${N.split("v=")[1]}/0.jpg`;this.insertHtml(`\n      <div style='position: relative'>\n        <a href='${N}' target='_blank'>\n          <img src="${ue}" alt="click to watch"/>\n          <img style='position: absolute; left:200px; top:140px'\n          src="https://img.icons8.com/color/96/000000/youtube-play.png"/>\n        </a>\n      </div>`)}insertVimeoVideoTag(N){const X=this.http.get(`https://vimeo.com/api/oembed.json?url=${N}`).subscribe(ue=>{this.insertHtml(`<div>\n        <a href='${N}' target='_blank'>\n          <img src="${ue.thumbnail_url_with_play_button}" alt="${ue.title}"/>\n        </a>\n      </div>`),X.unsubscribe()})}nextNode(N){if(N.hasChildNodes())return N.firstChild;for(;N&&!N.nextSibling;)N=N.parentNode;return N?N.nextSibling:null}getRangeSelectedNodes(N,X){let ue=N.startContainer;const Nt=N.endContainer;let ke=[];if(ue===Nt)ke=[ue];else{for(;ue&&ue!==Nt;)ke.push(ue=this.nextNode(ue));for(ue=N.startContainer;ue&&ue!==N.commonAncestorContainer;)ke.unshift(ue),ue=ue.parentNode}if(X)for(ue=N.commonAncestorContainer;ue;)ke.push(ue),ue=ue.parentNode;return ke}getSelectedNodes(){const N=[];if(this.doc.getSelection){const X=this.doc.getSelection();for(let ue=0,Nt=X.rangeCount;ue<Nt;++ue)N.push.apply(N,this.getRangeSelectedNodes(X.getRangeAt(ue),!0))}return N}replaceWithOwnChildren(N){const X=N.parentNode;for(;N.hasChildNodes();)X.insertBefore(N.firstChild,N);X.removeChild(N)}removeSelectedElements(N){const X=N.toLowerCase().split(",");this.getSelectedNodes().forEach(ue=>{1===ue.nodeType&&X.indexOf(ue.tagName.toLowerCase())>-1&&this.replaceWithOwnChildren(ue)})}}return Re.\u0275fac=function(N){return new(N||Re)(o.KVO(Je.Qq),o.KVO(se.qQ))},Re.\u0275prov=o.jDH({token:Re,factory:Re.\u0275fac}),Re})();const Pt={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",outline:!0};function $t(Re){return null!=Re}let Bt=(()=>{class Re{constructor(){}}return Re.\u0275fac=function(N){return new(N||Re)},Re.\u0275cmp=o.VBU({type:Re,selectors:[["ae-toolbar-set"],["","aeToolbarSet",""]],hostAttrs:[1,"angular-editor-toolbar-set"],ngContentSelectors:Fe,decls:1,vars:0,template:function(N,X){1&N&&(o.NAR(),o.SdG(0))},styles:["a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-toolbar-set[_nghost-%COMP%]{display:flex;gap:1px;width:fit-content;vertical-align:baseline}"]}),Re})(),Le=(()=>{class Re{constructor(){this.iconName=""}}return Re.\u0275fac=function(N){return new(N||Re)},Re.\u0275cmp=o.VBU({type:Re,selectors:[["ae-button"],["button","aeButton",""]],hostAttrs:[1,"angular-editor-button"],hostVars:2,hostBindings:function(N,X){2&N&&o.Mr5("tabIndex",-1)("type","button")},inputs:{iconName:"iconName"},ngContentSelectors:Fe,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["contentTemplate",""]],template:function(N,X){if(1&N&&(o.NAR(),o.DNE(0,Ne,3,2,"ng-container",0),o.DNE(1,je,1,0,"ng-template",null,1,o.C5r)),2&N){const ue=o.sdS(2);o.Y8G("ngIf",X.iconName)("ngIfElse",ue)}},dependencies:[se.bT],styles:["a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-button[_nghost-%COMP%]{background-color:var(--ae-button-bg-color, white);vertical-align:middle;border:var(--ae-button-border, 1px solid #ddd);border-radius:var(--ae-button-radius, 4px);padding:.4rem;float:left;width:2rem;height:2rem}.angular-editor-button[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.angular-editor-button[_nghost-%COMP%]:hover{cursor:pointer;background-color:var(--ae-button-hover-bg-color, #f1f1f1);transition:.2s ease}.angular-editor-button[_nghost-%COMP%]:focus, .angular-editor-button.focus[_nghost-%COMP%]{outline:0}.angular-editor-button[_nghost-%COMP%]:disabled{background-color:var(--ae-button-disabled-bg-color, #f5f5f5);pointer-events:none;cursor:not-allowed}.angular-editor-button[_nghost-%COMP%]:disabled > .color-label[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.angular-editor-button[_nghost-%COMP%]:disabled > .color-label.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background:#555555}.angular-editor-button[_nghost-%COMP%]:disabled > .color-label.background[_ngcontent-%COMP%]{background:#555555}.angular-editor-button.active[_nghost-%COMP%]{background:var(--ae-button-active-bg-color, #fffbd3)}.angular-editor-button.active[_nghost-%COMP%]:hover{background-color:var(--ae-button-active-hover-bg-color, #fffaad)}"]}),Re})(),Jt=(()=>{class Re{constructor(N,X){this.elRef=N,this.r=X,this.options=[],this.disabled=!1,this.optionId=0,this.opened=!1,this.hidden="inline-block",this.changeEvent=new o.bkB,this.onChange=()=>{},this.onTouched=()=>{}}get label(){return this.selectedOption&&this.selectedOption.hasOwnProperty("label")?this.selectedOption.label:"Select"}get value(){return this.selectedOption.value}ngOnInit(){this.selectedOption=this.options[0],$t(this.isHidden)&&this.isHidden&&this.hide()}hide(){this.hidden="none"}optionSelect(N,X){X.stopPropagation(),this.setValue(N.value),this.onChange(this.selectedOption.value),this.changeEvent.emit(this.selectedOption.value),this.onTouched(),this.opened=!1}toggleOpen(N){this.disabled||(this.opened=!this.opened)}onClick(N){this.elRef.nativeElement.contains(N.target)||this.close()}close(){this.opened=!1}get isOpen(){return this.opened}writeValue(N){!N||"string"!=typeof N||this.setValue(N)}setValue(N){let X=0;const ue=this.options.find((Nt,ke)=>(X=ke,Nt.value===N));ue&&(this.selectedOption=ue,this.optionId=X)}registerOnChange(N){this.onChange=N}registerOnTouched(N){this.onTouched=N}setDisabledState(N){this.labelButton.nativeElement.disabled=N,this.r[N?"addClass":"removeClass"](this.labelButton.nativeElement,"disabled"),this.disabled=N}handleKeyDown(N){if(this.opened)switch(N.key){case"ArrowDown":this._handleArrowDown(N);break;case"ArrowUp":this._handleArrowUp(N);break;case"Space":this._handleSpace(N);break;case"Enter":this._handleEnter(N);break;case"Tab":this._handleTab(N);break;case"Escape":this.close(),N.preventDefault();break;case"Backspace":this._handleBackspace()}}_handleArrowDown(N){this.optionId<this.options.length-1&&this.optionId++}_handleArrowUp(N){this.optionId>=1&&this.optionId--}_handleSpace(N){}_handleEnter(N){this.optionSelect(this.options[this.optionId],N)}_handleTab(N){}_handleBackspace(){}}return Re.\u0275fac=function(N){return new(N||Re)(o.rXU(o.aKT),o.rXU(o.sFG))},Re.\u0275cmp=o.VBU({type:Re,selectors:[["ae-select"]],viewQuery:function(N,X){if(1&N&&o.GBs(Ze,7),2&N){let ue;o.mGM(ue=o.lsd())&&(X.labelButton=ue.first)}},hostVars:2,hostBindings:function(N,X){1&N&&o.bIt("click",function(Nt){return X.onClick(Nt)},!1,o.EBC)("keydown",function(Nt){return X.handleKeyDown(Nt)}),2&N&&o.xc7("display",X.hidden)},inputs:{options:"options",isHidden:["hidden","isHidden"]},outputs:{changeEvent:"change"},features:[o.Jv_([{provide:Ce.kq,useExisting:(0,o.Rfq)(()=>Re),multi:!0}])],decls:9,vars:9,consts:[[1,"ae-picker",3,"ngClass"],["tabindex","-1","type","button","role","button",1,"ae-picker-label",3,"tabIndex","click"],["labelButton",""],[1,"ae-picker-options"],["tabindex","-1","type","button","role","button","class","ae-picker-item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","dropdown-item",4,"ngIf"],["tabindex","-1","type","button","role","button",1,"ae-picker-item",3,"ngClass","click"],[1,"dropdown-item"]],template:function(N,X){1&N&&(o.j41(0,"span",0)(1,"button",1,2),o.bIt("click",function(Nt){return X.toggleOpen(Nt)}),o.EFF(3),o.qSk(),o.j41(4,"svg"),o.nrm(5,"use"),o.k0s()(),o.joV(),o.j41(6,"span",3),o.DNE(7,Te,2,5,"button",4),o.DNE(8,Qe,2,0,"span",5),o.k0s()()),2&N&&(o.Y8G("ngClass",o.eq3(7,Ct,X.isOpen)),o.R7$(1),o.Y8G("tabIndex",-1),o.R7$(2),o.SpI("",X.label," "),o.R7$(2),o.BMQ("href","assets/ae-icons/icons.svg#sort")("href","assets/ae-icons/icons.svg#sort",null,"xlink"),o.R7$(2),o.Y8G("ngForOf",X.options),o.R7$(1),o.Y8G("ngIf",!X.options.length))},dependencies:[se.YU,se.Sq,se.bT],styles:['a[_ngcontent-%COMP%]{cursor:pointer}svg[_ngcontent-%COMP%]{width:100%;height:100%}.ae-picker[_ngcontent-%COMP%]{color:var(--ae-picker-color, #444);display:inline-block;float:left;width:100%;position:relative;vertical-align:middle}.ae-picker-label[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;padding-left:8px;padding-right:10px;position:relative;width:100%;line-height:1.8rem;vertical-align:middle;font-size:85%;text-align:left;background-color:var(--ae-picker-label-color, white);min-width:2rem;float:left;border:1px solid #ddd;border-radius:var(--ae-button-radius, 4px);text-overflow:clip;overflow:hidden;white-space:nowrap;height:2rem}.ae-picker-label[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:0;width:20px;height:100%;background:linear-gradient(to right,var(--ae-picker-label-color, white),var(--ae-picker-label-color, white) 100%)}.ae-picker-label[_ngcontent-%COMP%]:focus{outline:none}.ae-picker-label[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.ae-picker-label[_ngcontent-%COMP%]:hover:before{background:linear-gradient(to right,#f5f5f5 100%,#ffffff 100%)}.ae-picker-label[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.ae-picker-label[_ngcontent-%COMP%]:disabled:before{background:linear-gradient(to right,#f5f5f5 100%,#ffffff 100%)}.ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;right:0;width:1rem}.ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:not(:root){overflow:hidden}.ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .ae-stroke[_ngcontent-%COMP%]{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ae-picker-options[_ngcontent-%COMP%]{background-color:var(--ae-picker-option-bg-color, #fff);display:none;min-width:100%;position:absolute;white-space:nowrap;z-index:3;border:1px solid transparent;box-shadow:#0003 0 2px 8px}.ae-picker-options[_ngcontent-%COMP%]   .ae-picker-item[_ngcontent-%COMP%]{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px;padding-left:5px;z-index:3;text-align:left;background-color:transparent;min-width:2rem;width:100%;border:0 solid #ddd}.ae-picker-options[_ngcontent-%COMP%]   .ae-picker-item.selected[_ngcontent-%COMP%]{color:#06c;background-color:var(--ae-picker-option-active-bg-color, #fff4c2)}.ae-picker-options[_ngcontent-%COMP%]   .ae-picker-item.focused[_ngcontent-%COMP%]{background-color:var(--ae-picker-option-focused-bg-color, #fbf9b0)}.ae-picker-options[_ngcontent-%COMP%]   .ae-picker-item[_ngcontent-%COMP%]:hover{background-color:var(--ae-picker-option-hover-bg-color, #fffa98)}.ae-expanded[_ngcontent-%COMP%]{display:block;margin-top:-1px;z-index:1}.ae-expanded[_ngcontent-%COMP%]   .ae-picker-label[_ngcontent-%COMP%]{color:#ccc;z-index:2}.ae-expanded[_ngcontent-%COMP%]   .ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#ccc;z-index:2}.ae-expanded[_ngcontent-%COMP%]   .ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .ae-stroke[_ngcontent-%COMP%]{stroke:#ccc}.ae-expanded[_ngcontent-%COMP%]   .ae-picker-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:-1px;top:100%;z-index:3;border-color:#ccc}']}),Re})(),Kn=(()=>{class Re{constructor(N,X,ue,Nt){this.r=N,this.editorService=X,this.er=ue,this.doc=Nt,this.htmlMode=!1,this.linkSelected=!1,this.block="default",this.fontName="Times New Roman",this.fontSize="3",this.headings=[{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"},{label:"Heading 5",value:"h5"},{label:"Heading 6",value:"h6"},{label:"Heading 7",value:"h7"},{label:"Paragraph",value:"p"},{label:"Predefined",value:"pre"},{label:"Standard",value:"div"},{label:"default",value:"default"}],this.fontSizes=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"}],this.customClassId="-1",this.customClassList=[{label:"",value:""}],this.tagMap={BLOCKQUOTE:"indent",A:"link"},this.select=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"],this.buttons=["bold","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent","insertUnorderedList","insertOrderedList","link"],this.fonts=[{label:"",value:""}],this.execute=new o.bkB}set customClasses(N){N&&(this._customClasses=N,this.customClassList=this._customClasses.map((X,ue)=>({label:X.name,value:ue.toString()})),this.customClassList.unshift({label:"Clear Class",value:"-1"}))}set defaultFontName(N){N&&(this.fontName=N)}set defaultFontSize(N){N&&(this.fontSize=N)}get isLinkButtonDisabled(){return this.htmlMode||!this.editorService.selectedText}triggerCommand(N){this.execute.emit(N)}triggerButtons(){this.showToolbar&&this.buttons.forEach(N=>{const X=this.doc.queryCommandState(N),ue=this.doc.getElementById(N+"-"+this.id);X?this.r.addClass(ue,"active"):this.r.removeClass(ue,"active")})}triggerBlocks(N){if(!this.showToolbar)return;this.linkSelected=N.findIndex(ue=>"A"===ue.nodeName)>-1;let X=!1;this.select.forEach(ue=>{const Nt=N.find(ke=>ke.nodeName===ue);void 0!==Nt&&ue===Nt.nodeName?!1===X&&(this.block=Nt.nodeName.toLowerCase(),X=!0):!1===X&&(this.block="default")}),X=!1,this._customClasses&&this._customClasses.forEach((ue,Nt)=>{void 0!==N.find(_e=>{if(_e instanceof Element)return _e.className===ue.class})?!1===X&&(this.customClassId=Nt.toString(),X=!0):!1===X&&(this.customClassId="-1")}),Object.keys(this.tagMap).map(ue=>{const Nt=this.doc.getElementById(this.tagMap[ue]+"-"+this.id),ke=N.find(_e=>_e.nodeName===ue);void 0!==ke&&ue===ke.nodeName?this.r.addClass(Nt,"active"):this.r.removeClass(Nt,"active")}),this.foreColour=this.doc.queryCommandValue("ForeColor"),this.fontSize=this.doc.queryCommandValue("FontSize"),this.fontName=this.doc.queryCommandValue("FontName").replace(/"/g,""),this.backColor=this.doc.queryCommandValue("backColor")}insertUrl(){let N="https://";const X=this.editorService.savedSelection;if(X&&"A"===X.commonAncestorContainer.parentElement.nodeName){const ue=X.commonAncestorContainer.parentElement;""!==ue.href&&(N=ue.href)}N=prompt("Insert URL link",N),N&&""!==N&&"https://"!==N&&this.editorService.createLink(N)}insertVideo(){this.execute.emit("");const N=prompt("Insert Video link","https://");N&&""!==N&&"https://"!==N&&this.editorService.insertVideo(N)}insertColor(N,X){this.editorService.insertColor(N,X),this.execute.emit("")}setFontName(N){this.editorService.setFontName(N),this.execute.emit("")}setFontSize(N){this.editorService.setFontSize(N),this.execute.emit("")}setEditorMode(N){const X=this.doc.getElementById("toggleEditorMode-"+this.id);N?this.r.addClass(X,"active"):this.r.removeClass(X,"active"),this.htmlMode=N}onFileChanged(N){const X=N.target.files[0];if(X.type.includes("image/"))if(this.upload)this.upload(X).subscribe(ue=>this.watchUploadImage(ue,N));else if(this.uploadUrl)this.editorService.uploadImage(X).subscribe(ue=>this.watchUploadImage(ue,N));else{const ue=new FileReader;ue.onload=Nt=>{this.editorService.insertImage(Nt.currentTarget.result.toString())},ue.readAsDataURL(X)}}watchUploadImage(N,X){const{imageUrl:ue}=N.body;this.editorService.insertImage(ue),X.srcElement.value=null}setCustomClass(N){"-1"===N?this.execute.emit("clear"):this.editorService.createCustomClass(this._customClasses[+N])}isButtonHidden(N){if(!(N&&this.hiddenButtons instanceof Array))return!1;let X;for(const ue of this.hiddenButtons)if(ue instanceof Array&&(X=ue.find(Nt=>Nt===N)),X)break;return void 0!==X}focus(){this.execute.emit("focus"),console.log("focused")}}return Re.\u0275fac=function(N){return new(N||Re)(o.rXU(o.sFG),o.rXU(pt),o.rXU(o.aKT),o.rXU(se.qQ))},Re.\u0275cmp=o.VBU({type:Re,selectors:[["angular-editor-toolbar"],["ae-toolbar"],["div","aeToolbar",""]],viewQuery:function(N,X){if(1&N&&o.GBs(bt,7),2&N){let ue;o.mGM(ue=o.lsd())&&(X.myInputFile=ue.first)}},inputs:{id:"id",uploadUrl:"uploadUrl",upload:"upload",showToolbar:"showToolbar",fonts:"fonts",customClasses:"customClasses",defaultFontName:"defaultFontName",defaultFontSize:"defaultFontSize",hiddenButtons:"hiddenButtons"},outputs:{execute:"execute"},ngContentSelectors:Fe,decls:1,vars:1,consts:[["class","angular-editor-toolbar",4,"ngIf"],[1,"angular-editor-toolbar"],["aeToolbarSet",""],["aeButton","","title","Undo","iconName","undo",3,"hidden","click"],["aeButton","","title","Redo","iconName","redo",3,"hidden","click"],["aeButton","","title","Bold","iconName","bold",3,"id","disabled","hidden","click"],["aeButton","","iconName","italic","title","Italic",3,"id","disabled","hidden","click"],["aeButton","","title","Underline","iconName","underline",3,"id","disabled","hidden","click"],["aeButton","","iconName","strikeThrough","title","Strikethrough",3,"id","disabled","hidden","click"],["aeButton","","title","Subscript","iconName","subscript",3,"id","disabled","hidden","click"],["aeButton","","iconName","superscript","title","Superscript",3,"id","disabled","hidden","click"],["aeButton","","iconName","justifyLeft","title","Justify Left",3,"id","disabled","hidden","click"],["aeButton","","iconName","justifyCenter","title","Justify Center",3,"id","disabled","hidden","click"],["aeButton","","iconName","justifyRight","title","Justify Right",3,"id","disabled","hidden","click"],["aeButton","","iconName","justifyFull","title","Justify Full",3,"id","disabled","hidden","click"],["aeButton","","iconName","indent","title","Indent",3,"id","disabled","hidden","click"],["aeButton","","iconName","outdent","title","Outdent",3,"id","disabled","hidden","click"],["aeButton","","iconName","unorderedList","title","Unordered List",3,"id","disabled","hidden","click"],["aeButton","","iconName","orderedList","title","Ordered List",3,"id","disabled","hidden","click"],["tabindex","-1",1,"select-heading",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["tabindex","-1",1,"select-font",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["tabindex","-1",1,"select-font-size",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["type","color",2,"display","none",3,"change"],["fgInput",""],["aeButton","","iconName","textColor","title","Text Color",3,"id","disabled","hidden","click"],["bgInput",""],["aeButton","","iconName","backgroundColor","title","Background Color",3,"id","disabled","hidden","click"],["aeToolbarSet","",4,"ngIf"],["aeButton","","iconName","link","title","Insert Link",3,"id","disabled","hidden","click"],["aeButton","","iconName","unlink","title","Unlink",3,"id","disabled","hidden","click"],["accept","image/*","type","file",2,"display","none",3,"change"],["fileInput",""],["aeButton","","iconName","image","title","Insert Image",3,"id","disabled","hidden","click"],["aeButton","","iconName","video","title","Insert Video",3,"id","disabled","hidden","click"],["aeButton","","iconName","horizontalLine","title","Horizontal Line",3,"id","disabled","hidden","click"],["aeButton","","iconName","removeFormat","title","Clear Formatting",1,"angular-editor-button",3,"id","disabled","hidden","click"],["aeButton","","iconName","htmlCode","title","HTML Code",3,"id","hidden","click"],["tabindex","-1",1,"select-custom-style",3,"options","ngModel","disabled","hidden","ngModelChange","change"]],template:function(N,X){1&N&&(o.NAR(),o.DNE(0,Ft,49,83,"div",0)),2&N&&o.Y8G("ngIf",X.showToolbar)},dependencies:[Bt,Le,Jt,se.bT,Ce.BC,Ce.vS],styles:['a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]{font:100 14px/15px Roboto,Arial,sans-serif;background-color:var(--ae-toolbar-bg-color, #f5f5f5);font-size:.8rem;padding:var(--ae-toolbar-padding, .2rem);border:var(--ae-toolbar-border-radius, 1px solid #ddd);display:flex;flex-wrap:wrap;gap:4px}.select-heading[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-heading[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.select-heading[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.select-heading[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{font-size:16px}.select-heading[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:24px}.select-heading[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}.select-heading[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}.select-heading[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:15px}.select-heading[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{font-size:14px}.select-heading[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{font-size:13px}.select-heading[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%], .select-heading[_ngcontent-%COMP%]   .pre[_ngcontent-%COMP%]{font-size:12px}}.select-heading[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-heading[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-font[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-font[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.select-font[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.select-font[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-font[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-font-size[_ngcontent-%COMP%]{display:inline-block;width:50px}@supports not (-moz-appearance: none){.select-font-size[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.select-font-size[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.select-font-size[_ngcontent-%COMP%]   .size1[_ngcontent-%COMP%]{font-size:10px}.select-font-size[_ngcontent-%COMP%]   .size2[_ngcontent-%COMP%]{font-size:12px}.select-font-size[_ngcontent-%COMP%]   .size3[_ngcontent-%COMP%]{font-size:14px}.select-font-size[_ngcontent-%COMP%]   .size4[_ngcontent-%COMP%]{font-size:16px}.select-font-size[_ngcontent-%COMP%]   .size5[_ngcontent-%COMP%]{font-size:18px}.select-font-size[_ngcontent-%COMP%]   .size6[_ngcontent-%COMP%]{font-size:20px}.select-font-size[_ngcontent-%COMP%]   .size7[_ngcontent-%COMP%]{font-size:22px}}.select-font-size[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-font-size[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-custom-style[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-custom-style[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.select-custom-style[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.select-custom-style[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-custom-style[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.color-label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.background[_ngcontent-%COMP%]{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{position:absolute;content:"";inset:auto auto -3px -1px;width:15px;height:2px;z-index:0;background:#1b1b1b}']}),Re})(),mr=(()=>{class Re{constructor(N,X,ue,Nt,ke,_e,me){this.r=N,this.editorService=X,this.doc=ue,this.sanitizer=Nt,this.cdRef=ke,this.autoFocus=me,this.modeVisual=!0,this.showPlaceholder=!1,this.disabled=!1,this.focused=!1,this.touched=!1,this.changed=!1,this.id="",this.config=Pt,this.placeholder="",this.executeCommandFn=this.executeCommand.bind(this),this.viewMode=new o.bkB,this.blurEvent=new o.bkB,this.focusEvent=new o.bkB,this.tabindex=-1;const oe=Number(_e);this.tabIndex=oe||0===oe?oe:null}onFocus(){this.focus()}ngOnInit(){this.config.toolbarPosition=this.config.toolbarPosition?this.config.toolbarPosition:Pt.toolbarPosition}ngAfterViewInit(){$t(this.autoFocus)&&this.focus()}onPaste(N){if(this.config.rawPaste){N.preventDefault();const X=N.clipboardData.getData("text/plain");return document.execCommand("insertHTML",!1,X),X}}executeCommand(N,X){this.focus(),"focus"!==N&&("toggleEditorMode"===N?this.toggleEditorMode(this.modeVisual):""!==N&&("clear"===N?(this.editorService.removeSelectedElements(this.getCustomTags()),this.onContentChange(this.textArea.nativeElement)):"default"===N?(this.editorService.removeSelectedElements("h1,h2,h3,h4,h5,h6,p,pre"),this.onContentChange(this.textArea.nativeElement)):this.editorService.executeCommand(N,X),this.exec()))}onTextAreaFocus(N){this.focused?N.stopPropagation():(this.focused=!0,this.focusEvent.emit(N),(!this.touched||!this.changed)&&this.editorService.executeInNextQueueIteration(()=>{this.configure(),this.touched=!0}))}onTextAreaMouseOut(N){this.editorService.saveSelection()}onTextAreaBlur(N){if(this.editorService.executeInNextQueueIteration(this.editorService.saveSelection),"function"==typeof this.onTouched&&this.onTouched(),null!==N.relatedTarget){const X=N.relatedTarget.parentElement;!X.classList.contains("angular-editor-toolbar-set")&&!X.classList.contains("ae-picker")&&(this.blurEvent.emit(N),this.focused=!1)}}focus(){this.modeVisual?this.textArea.nativeElement.focus():(this.doc.getElementById("sourceText"+this.id).focus(),this.focused=!0)}onContentChange(N){let X="";X=this.modeVisual?N.innerHTML:N.innerText,(!X||"<br>"===X)&&(X=""),"function"==typeof this.onChange&&(this.onChange(this.config.sanitize||void 0===this.config.sanitize?this.sanitizer.sanitize(o.WPN.HTML,X):X),!X!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder)),this.changed=!0}registerOnChange(N){this.onChange=X=>N("<br>"===X?"":X)}registerOnTouched(N){this.onTouched=N}writeValue(N){(!N||"<br>"===N||""===N)!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder),(void 0===N||""===N||"<br>"===N)&&(N=null),this.refreshView(N)}refreshView(N){this.r.setProperty(this.textArea.nativeElement,"innerHTML",null===N?"":N)}togglePlaceholder(N){N?(this.r.removeClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!1):(this.r.addClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!0)}setDisabledState(N){this.r[N?"addClass":"removeClass"](this.textArea.nativeElement,"disabled"),this.disabled=N}toggleEditorMode(N){let X;const ue=this.textArea.nativeElement;if(N){X=this.r.createText(ue.innerHTML),this.r.setProperty(ue,"innerHTML",""),this.r.setProperty(ue,"contentEditable",!1);const Nt=this.r.createElement("pre");this.r.setStyle(Nt,"margin","0"),this.r.setStyle(Nt,"outline","none");const ke=this.r.createElement("code");this.r.setProperty(ke,"id","sourceText"+this.id),this.r.setStyle(ke,"display","block"),this.r.setStyle(ke,"white-space","pre-wrap"),this.r.setStyle(ke,"word-break","keep-all"),this.r.setStyle(ke,"outline","none"),this.r.setStyle(ke,"margin","0"),this.r.setStyle(ke,"background-color","#fff5b9"),this.r.setProperty(ke,"contentEditable",!0),this.r.appendChild(ke,X),this.focusInstance=this.r.listen(ke,"focus",_e=>this.onTextAreaFocus(_e)),this.blurInstance=this.r.listen(ke,"blur",_e=>this.onTextAreaBlur(_e)),this.r.appendChild(Nt,ke),this.r.appendChild(ue,Nt),this.doc.execCommand("defaultParagraphSeparator",!1,"div"),this.modeVisual=!1,this.viewMode.emit(!1),ke.focus()}else this.doc.querySelectorAll?this.r.setProperty(ue,"innerHTML",ue.innerText):(X=this.doc.createRange(),X.selectNodeContents(ue.firstChild),this.r.setProperty(ue,"innerHTML",X.toString())),this.r.setProperty(ue,"contentEditable",!0),this.modeVisual=!0,this.viewMode.emit(!0),this.onContentChange(ue),ue.focus();this.editorToolbar.setEditorMode(!this.modeVisual)}exec(){let N;this.editorToolbar.triggerButtons(),this.doc.getSelection&&(N=this.doc.getSelection(),this.editorService.executeInNextQueueIteration(this.editorService.saveSelection));let X=N.focusNode;const ue=[];for(;X&&"editor"!==X.id;)ue.unshift(X),X=X.parentNode;this.editorToolbar.triggerBlocks(ue)}configure(){this.editorService.uploadUrl=this.config.uploadUrl,this.editorService.uploadWithCredentials=this.config.uploadWithCredentials,this.config.defaultParagraphSeparator&&this.editorService.setDefaultParagraphSeparator(this.config.defaultParagraphSeparator),this.config.defaultFontName&&this.editorService.setFontName(this.config.defaultFontName),this.config.defaultFontSize&&this.editorService.setFontSize(this.config.defaultFontSize)}getFonts(){return(this.config.fonts?this.config.fonts:Pt.fonts).map(X=>({label:X.name,value:X.name}))}getCustomTags(){const N=["span"];return this.config.customClasses.forEach(X=>{void 0!==X.tag&&(N.includes(X.tag)||N.push(X.tag))}),N.join(",")}ngOnDestroy(){this.blurInstance&&this.blurInstance(),this.focusInstance&&this.focusInstance()}filterStyles(N){return N.replace("position: fixed;","")}}return Re.\u0275fac=function(N){return new(N||Re)(o.rXU(o.sFG),o.rXU(pt),o.rXU(se.qQ),o.rXU(re.up),o.rXU(o.gRc),o.kS0("tabindex"),o.kS0("autofocus"))},Re.\u0275cmp=o.VBU({type:Re,selectors:[["angular-editor"]],contentQueries:function(N,X,ue){if(1&N&&o.wni(ue,Qt,5),2&N){let Nt;o.mGM(Nt=o.lsd())&&(X.customButtonsTemplateRef=Nt.first)}},viewQuery:function(N,X){if(1&N&&(o.GBs(on,7),o.GBs(Mn,7),o.GBs(nn,5)),2&N){let ue;o.mGM(ue=o.lsd())&&(X.textArea=ue.first),o.mGM(ue=o.lsd())&&(X.editorWrapper=ue.first),o.mGM(ue=o.lsd())&&(X.editorToolbar=ue.first)}},hostVars:1,hostBindings:function(N,X){1&N&&o.bIt("focus",function(){return X.onFocus()}),2&N&&o.BMQ("tabindex",X.tabindex)},inputs:{id:"id",config:"config",placeholder:"placeholder",tabIndex:"tabIndex"},outputs:{html:"html",viewMode:"viewMode",blurEvent:"blur",focusEvent:"focus"},features:[o.Jv_([{provide:Ce.kq,useExisting:(0,o.Rfq)(()=>Re),multi:!0},pt])],decls:11,vars:33,consts:[[1,"angular-editor",3,"ngClass"],["angularEditor",""],[3,"id","uploadUrl","upload","showToolbar","fonts","customClasses","defaultFontName","defaultFontSize","hiddenButtons","execute"],["editorToolbar",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"angular-editor-wrapper"],["editorWrapper",""],[1,"angular-editor-textarea",3,"input","focus","blur","click","keyup","mouseout","paste"],["editor",""],[1,"angular-editor-placeholder"]],template:function(N,X){1&N&&(o.j41(0,"div",0,1)(2,"angular-editor-toolbar",2,3),o.bIt("execute",function(Nt){return X.executeCommand(Nt)}),o.eu8(4,4),o.k0s(),o.j41(5,"div",5,6)(7,"div",7,8),o.bIt("input",function(Nt){return X.onContentChange(Nt.target)})("focus",function(Nt){return X.onTextAreaFocus(Nt)})("blur",function(Nt){return X.onTextAreaBlur(Nt)})("click",function(){return X.exec()})("keyup",function(){return X.exec()})("mouseout",function(Nt){return X.onTextAreaMouseOut(Nt)})("paste",function(Nt){return X.onPaste(Nt)}),o.k0s(),o.j41(9,"span",9),o.EFF(10),o.k0s()()()),2&N&&(o.xc7("width",X.config.width)("min-width",X.config.minWidth),o.Y8G("ngClass",o.eq3(29,Oe,"bottom"===X.config.toolbarPosition)),o.R7$(2),o.Y8G("id",X.id)("uploadUrl",X.config.uploadUrl)("upload",X.config.upload)("showToolbar",void 0===X.config.showToolbar||X.config.showToolbar)("fonts",X.getFonts())("customClasses",X.config.customClasses)("defaultFontName",X.config.defaultFontName)("defaultFontSize",X.config.defaultFontSize)("hiddenButtons",X.config.toolbarHiddenButtons),o.R7$(2),o.Y8G("ngTemplateOutlet",X.customButtonsTemplateRef)("ngTemplateOutletContext",o.eq3(31,it,X.executeCommandFn)),o.R7$(3),o.xc7("height",X.config.height)("min-height",X.config.minHeight)("max-height",X.config.maxHeight)("outline",!1===X.config.outline?"none":void 0),o.BMQ("contenteditable",X.config.editable)("tabindex",X.disabled?-1:X.tabIndex)("translate",X.config.translate)("spellcheck",X.config.spellcheck),o.R7$(3),o.JRh(X.placeholder||X.config.placeholder))},dependencies:[Kn,se.YU,se.T3],styles:['a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--ae-gap, 5px)}.angular-editor.bottom[_ngcontent-%COMP%]{flex-direction:column-reverse}.angular-editor[_ngcontent-%COMP%]     [contenteditable=true]:empty:before{content:attr(placeholder);color:#868e96;opacity:1}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]{position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]{min-height:150px;overflow:auto;resize:vertical}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;display:block;width:8px;height:8px;cursor:nwse-resize;background-color:#ffffff80}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]{min-height:5rem;padding:.5rem .8rem 1rem;border-radius:var(--ae-text-area-border-radius, .3rem);border:var(--ae-text-area-border, 1px solid #ddd);background-color:transparent;overflow-x:hidden;overflow-y:auto;position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]:focus, .angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea.focus[_ngcontent-%COMP%]{outline:var(--ae-focus-outline-color, -webkit-focus-ring-color auto 1px)}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]     blockquote{margin-left:1rem;border-left:.2em solid #dfe2e5;padding-left:.5rem}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]     p{margin-bottom:0}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:none;position:absolute;top:0;padding:.6rem .8rem 1rem .9rem;color:#6c757d;opacity:.75}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.show-placeholder[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:block}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5;pointer-events:none}']}),Re})(),qe=(()=>{class Re{}return Re.\u0275fac=function(N){return new(N||Re)},Re.\u0275mod=o.$C({type:Re}),Re.\u0275inj=o.G2t({imports:[[se.MD,Ce.YN,Ce.X1]]}),Re})()},2214:(gn,dt,z)=>{z.d(dt,{Dk:()=>o.Dk,KO:()=>o.KO,Sx:()=>o.Sx,Wp:()=>o.Wp});var o=z(7852);(0,o.KO)("firebase","10.14.1","app")},3273:(gn,dt,z)=>{z.d(dt,{gS:()=>Ny,rJ:()=>Vm,kd:()=>xy,H9:()=>Tf,GG:()=>t_,GV:()=>u_,AB:()=>qm,aQ:()=>ky,My:()=>Mf,P:()=>aE,HM:()=>Ry,mZ:()=>Nf,_M:()=>Pf});var je,Ze,o=z(467),se=z(7852),Je=z(1362),Ce=z(8041),re=z(1076),Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ne={};(function(){var u;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function l(Xe,Me,$e){$e||($e=0);var Ye=Array(16);if("string"==typeof Me)for(var nt=0;16>nt;++nt)Ye[nt]=Me.charCodeAt($e++)|Me.charCodeAt($e++)<<8|Me.charCodeAt($e++)<<16|Me.charCodeAt($e++)<<24;else for(nt=0;16>nt;++nt)Ye[nt]=Me[$e++]|Me[$e++]<<8|Me[$e++]<<16|Me[$e++]<<24;var _t=Xe.g[3],Be=(Me=Xe.g[0])+(_t^($e=Xe.g[1])&((nt=Xe.g[2])^_t))+Ye[0]+3614090360&4294967295;Be=($e=(nt=(_t=(Me=($e=(nt=(_t=(Me=($e=(nt=(_t=(Me=($e=(nt=(_t=(Me=($e=(nt=(_t=(Me=($e=(nt=(_t=(Me=($e=(nt=(_t=(Me=($e=(nt=(_t=(Me=($e=(nt=(_t=(Me=($e=(nt=(_t=(Me=($e=(nt=(_t=(Me=($e=(nt=(_t=(Me=($e=(nt=(_t=(Me=($e=(nt=(_t=(Me=($e=(nt=(_t=(Me=$e+(Be<<7&4294967295|Be>>>25))+((Be=_t+(nt^Me&($e^nt))+Ye[1]+3905402710&4294967295)<<12&4294967295|Be>>>20))+((Be=nt+($e^_t&(Me^$e))+Ye[2]+606105819&4294967295)<<17&4294967295|Be>>>15))+((Be=$e+(Me^nt&(_t^Me))+Ye[3]+3250441966&4294967295)<<22&4294967295|Be>>>10))+((Be=Me+(_t^$e&(nt^_t))+Ye[4]+4118548399&4294967295)<<7&4294967295|Be>>>25))+((Be=_t+(nt^Me&($e^nt))+Ye[5]+1200080426&4294967295)<<12&4294967295|Be>>>20))+((Be=nt+($e^_t&(Me^$e))+Ye[6]+2821735955&4294967295)<<17&4294967295|Be>>>15))+((Be=$e+(Me^nt&(_t^Me))+Ye[7]+4249261313&4294967295)<<22&4294967295|Be>>>10))+((Be=Me+(_t^$e&(nt^_t))+Ye[8]+1770035416&4294967295)<<7&4294967295|Be>>>25))+((Be=_t+(nt^Me&($e^nt))+Ye[9]+2336552879&4294967295)<<12&4294967295|Be>>>20))+((Be=nt+($e^_t&(Me^$e))+Ye[10]+4294925233&4294967295)<<17&4294967295|Be>>>15))+((Be=$e+(Me^nt&(_t^Me))+Ye[11]+2304563134&4294967295)<<22&4294967295|Be>>>10))+((Be=Me+(_t^$e&(nt^_t))+Ye[12]+1804603682&4294967295)<<7&4294967295|Be>>>25))+((Be=_t+(nt^Me&($e^nt))+Ye[13]+4254626195&4294967295)<<12&4294967295|Be>>>20))+((Be=nt+($e^_t&(Me^$e))+Ye[14]+2792965006&4294967295)<<17&4294967295|Be>>>15))+((Be=$e+(Me^nt&(_t^Me))+Ye[15]+1236535329&4294967295)<<22&4294967295|Be>>>10))+((Be=Me+(nt^_t&($e^nt))+Ye[1]+4129170786&4294967295)<<5&4294967295|Be>>>27))+((Be=_t+($e^nt&(Me^$e))+Ye[6]+3225465664&4294967295)<<9&4294967295|Be>>>23))+((Be=nt+(Me^$e&(_t^Me))+Ye[11]+643717713&4294967295)<<14&4294967295|Be>>>18))+((Be=$e+(_t^Me&(nt^_t))+Ye[0]+3921069994&4294967295)<<20&4294967295|Be>>>12))+((Be=Me+(nt^_t&($e^nt))+Ye[5]+3593408605&4294967295)<<5&4294967295|Be>>>27))+((Be=_t+($e^nt&(Me^$e))+Ye[10]+38016083&4294967295)<<9&4294967295|Be>>>23))+((Be=nt+(Me^$e&(_t^Me))+Ye[15]+3634488961&4294967295)<<14&4294967295|Be>>>18))+((Be=$e+(_t^Me&(nt^_t))+Ye[4]+3889429448&4294967295)<<20&4294967295|Be>>>12))+((Be=Me+(nt^_t&($e^nt))+Ye[9]+568446438&4294967295)<<5&4294967295|Be>>>27))+((Be=_t+($e^nt&(Me^$e))+Ye[14]+3275163606&4294967295)<<9&4294967295|Be>>>23))+((Be=nt+(Me^$e&(_t^Me))+Ye[3]+4107603335&4294967295)<<14&4294967295|Be>>>18))+((Be=$e+(_t^Me&(nt^_t))+Ye[8]+1163531501&4294967295)<<20&4294967295|Be>>>12))+((Be=Me+(nt^_t&($e^nt))+Ye[13]+2850285829&4294967295)<<5&4294967295|Be>>>27))+((Be=_t+($e^nt&(Me^$e))+Ye[2]+4243563512&4294967295)<<9&4294967295|Be>>>23))+((Be=nt+(Me^$e&(_t^Me))+Ye[7]+1735328473&4294967295)<<14&4294967295|Be>>>18))+((Be=$e+(_t^Me&(nt^_t))+Ye[12]+2368359562&4294967295)<<20&4294967295|Be>>>12))+((Be=Me+($e^nt^_t)+Ye[5]+4294588738&4294967295)<<4&4294967295|Be>>>28))+((Be=_t+(Me^$e^nt)+Ye[8]+2272392833&4294967295)<<11&4294967295|Be>>>21))+((Be=nt+(_t^Me^$e)+Ye[11]+1839030562&4294967295)<<16&4294967295|Be>>>16))+((Be=$e+(nt^_t^Me)+Ye[14]+4259657740&4294967295)<<23&4294967295|Be>>>9))+((Be=Me+($e^nt^_t)+Ye[1]+2763975236&4294967295)<<4&4294967295|Be>>>28))+((Be=_t+(Me^$e^nt)+Ye[4]+1272893353&4294967295)<<11&4294967295|Be>>>21))+((Be=nt+(_t^Me^$e)+Ye[7]+4139469664&4294967295)<<16&4294967295|Be>>>16))+((Be=$e+(nt^_t^Me)+Ye[10]+3200236656&4294967295)<<23&4294967295|Be>>>9))+((Be=Me+($e^nt^_t)+Ye[13]+681279174&4294967295)<<4&4294967295|Be>>>28))+((Be=_t+(Me^$e^nt)+Ye[0]+3936430074&4294967295)<<11&4294967295|Be>>>21))+((Be=nt+(_t^Me^$e)+Ye[3]+3572445317&4294967295)<<16&4294967295|Be>>>16))+((Be=$e+(nt^_t^Me)+Ye[6]+76029189&4294967295)<<23&4294967295|Be>>>9))+((Be=Me+($e^nt^_t)+Ye[9]+3654602809&4294967295)<<4&4294967295|Be>>>28))+((Be=_t+(Me^$e^nt)+Ye[12]+3873151461&4294967295)<<11&4294967295|Be>>>21))+((Be=nt+(_t^Me^$e)+Ye[15]+530742520&4294967295)<<16&4294967295|Be>>>16))+((Be=$e+(nt^_t^Me)+Ye[2]+3299628645&4294967295)<<23&4294967295|Be>>>9))+((Be=Me+(nt^($e|~_t))+Ye[0]+4096336452&4294967295)<<6&4294967295|Be>>>26))+((Be=_t+($e^(Me|~nt))+Ye[7]+1126891415&4294967295)<<10&4294967295|Be>>>22))+((Be=nt+(Me^(_t|~$e))+Ye[14]+2878612391&4294967295)<<15&4294967295|Be>>>17))+((Be=$e+(_t^(nt|~Me))+Ye[5]+4237533241&4294967295)<<21&4294967295|Be>>>11))+((Be=Me+(nt^($e|~_t))+Ye[12]+1700485571&4294967295)<<6&4294967295|Be>>>26))+((Be=_t+($e^(Me|~nt))+Ye[3]+2399980690&4294967295)<<10&4294967295|Be>>>22))+((Be=nt+(Me^(_t|~$e))+Ye[10]+4293915773&4294967295)<<15&4294967295|Be>>>17))+((Be=$e+(_t^(nt|~Me))+Ye[1]+2240044497&4294967295)<<21&4294967295|Be>>>11))+((Be=Me+(nt^($e|~_t))+Ye[8]+1873313359&4294967295)<<6&4294967295|Be>>>26))+((Be=_t+($e^(Me|~nt))+Ye[15]+4264355552&4294967295)<<10&4294967295|Be>>>22))+((Be=nt+(Me^(_t|~$e))+Ye[6]+2734768916&4294967295)<<15&4294967295|Be>>>17))+((Be=$e+(_t^(nt|~Me))+Ye[13]+1309151649&4294967295)<<21&4294967295|Be>>>11))+((_t=(Me=$e+((Be=Me+(nt^($e|~_t))+Ye[4]+4149444226&4294967295)<<6&4294967295|Be>>>26))+((Be=_t+($e^(Me|~nt))+Ye[11]+3174756917&4294967295)<<10&4294967295|Be>>>22))^((nt=_t+((Be=nt+(Me^(_t|~$e))+Ye[2]+718787259&4294967295)<<15&4294967295|Be>>>17))|~Me))+Ye[9]+3951481745&4294967295,Xe.g[0]=Xe.g[0]+Me&4294967295,Xe.g[1]=Xe.g[1]+(nt+(Be<<21&4294967295|Be>>>11))&4294967295,Xe.g[2]=Xe.g[2]+nt&4294967295,Xe.g[3]=Xe.g[3]+_t&4294967295}function m(Xe,Me){this.h=Me;for(var $e=[],Ye=!0,nt=Xe.length-1;0<=nt;nt--){var _t=0|Xe[nt];Ye&&_t==Me||($e[nt]=_t,Ye=!1)}this.g=$e}(function e(Xe,Me){function $e(){}$e.prototype=Me.prototype,Xe.D=Me.prototype,Xe.prototype=new $e,Xe.prototype.constructor=Xe,Xe.C=function(Ye,nt,_t){for(var Be=Array(arguments.length-2),Nu=2;Nu<arguments.length;Nu++)Be[Nu-2]=arguments[Nu];return Me.prototype[nt].apply(Ye,Be)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Xe,Me){void 0===Me&&(Me=Xe.length);for(var $e=Me-this.blockSize,Ye=this.B,nt=this.h,_t=0;_t<Me;){if(0==nt)for(;_t<=$e;)l(this,Xe,_t),_t+=this.blockSize;if("string"==typeof Xe){for(;_t<Me;)if(Ye[nt++]=Xe.charCodeAt(_t++),nt==this.blockSize){l(this,Ye),nt=0;break}}else for(;_t<Me;)if(Ye[nt++]=Xe[_t++],nt==this.blockSize){l(this,Ye),nt=0;break}}this.h=nt,this.o+=Me},s.prototype.v=function(){var Xe=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Xe[0]=128;for(var Me=1;Me<Xe.length-8;++Me)Xe[Me]=0;var $e=8*this.o;for(Me=Xe.length-8;Me<Xe.length;++Me)Xe[Me]=255&$e,$e/=256;for(this.u(Xe),Xe=Array(16),Me=$e=0;4>Me;++Me)for(var Ye=0;32>Ye;Ye+=8)Xe[$e++]=this.g[Me]>>>Ye&255;return Xe};var b={};function O(Xe){return-128<=Xe&&128>Xe?function f(Xe,Me){var $e=b;return Object.prototype.hasOwnProperty.call($e,Xe)?$e[Xe]:$e[Xe]=Me(Xe)}(Xe,function(Me){return new m([0|Me],0>Me?-1:0)}):new m([0|Xe],0>Xe?-1:0)}function $(Xe){if(isNaN(Xe)||!isFinite(Xe))return he;if(0>Xe)return Ht($(-Xe));for(var Me=[],$e=1,Ye=0;Xe>=$e;Ye++)Me[Ye]=Xe/$e|0,$e*=4294967296;return new m(Me,0)}var he=O(0),Ve=O(1),lt=O(16777216);function xt(Xe){if(0!=Xe.h)return!1;for(var Me=0;Me<Xe.g.length;Me++)if(0!=Xe.g[Me])return!1;return!0}function Xt(Xe){return-1==Xe.h}function Ht(Xe){for(var Me=Xe.g.length,$e=[],Ye=0;Ye<Me;Ye++)$e[Ye]=~Xe.g[Ye];return new m($e,~Xe.h).add(Ve)}function Vn(Xe,Me){return Xe.add(Ht(Me))}function rr(Xe,Me){for(;(65535&Xe[Me])!=Xe[Me];)Xe[Me+1]+=Xe[Me]>>>16,Xe[Me]&=65535,Me++}function Hn(Xe,Me){this.g=Xe,this.h=Me}function vr(Xe,Me){if(xt(Me))throw Error("division by zero");if(xt(Xe))return new Hn(he,he);if(Xt(Xe))return Me=vr(Ht(Xe),Me),new Hn(Ht(Me.g),Ht(Me.h));if(Xt(Me))return Me=vr(Xe,Ht(Me)),new Hn(Ht(Me.g),Me.h);if(30<Xe.g.length){if(Xt(Xe)||Xt(Me))throw Error("slowDivide_ only works with positive integers.");for(var $e=Ve,Ye=Me;0>=Ye.l(Xe);)$e=yi($e),Ye=yi(Ye);var nt=Lr($e,1),_t=Lr(Ye,1);for(Ye=Lr(Ye,2),$e=Lr($e,2);!xt(Ye);){var Be=_t.add(Ye);0>=Be.l(Xe)&&(nt=nt.add($e),_t=Be),Ye=Lr(Ye,1),$e=Lr($e,1)}return Me=Vn(Xe,nt.j(Me)),new Hn(nt,Me)}for(nt=he;0<=Xe.l(Me);){for($e=Math.max(1,Math.floor(Xe.m()/Me.m())),Ye=48>=(Ye=Math.ceil(Math.log($e)/Math.LN2))?1:Math.pow(2,Ye-48),Be=(_t=$($e)).j(Me);Xt(Be)||0<Be.l(Xe);)Be=(_t=$($e-=Ye)).j(Me);xt(_t)&&(_t=Ve),nt=nt.add(_t),Xe=Vn(Xe,Be)}return new Hn(nt,Xe)}function yi(Xe){for(var Me=Xe.g.length+1,$e=[],Ye=0;Ye<Me;Ye++)$e[Ye]=Xe.i(Ye)<<1|Xe.i(Ye-1)>>>31;return new m($e,Xe.h)}function Lr(Xe,Me){var $e=Me>>5;Me%=32;for(var Ye=Xe.g.length-$e,nt=[],_t=0;_t<Ye;_t++)nt[_t]=0<Me?Xe.i(_t+$e)>>>Me|Xe.i(_t+$e+1)<<32-Me:Xe.i(_t+$e);return new m(nt,Xe.h)}(u=m.prototype).m=function(){if(Xt(this))return-Ht(this).m();for(var Xe=0,Me=1,$e=0;$e<this.g.length;$e++){var Ye=this.i($e);Xe+=(0<=Ye?Ye:4294967296+Ye)*Me,Me*=4294967296}return Xe},u.toString=function(Xe){if(2>(Xe=Xe||10)||36<Xe)throw Error("radix out of range: "+Xe);if(xt(this))return"0";if(Xt(this))return"-"+Ht(this).toString(Xe);for(var Me=$(Math.pow(Xe,6)),$e=this,Ye="";;){var nt=vr($e,Me).g,_t=((0<($e=Vn($e,nt.j(Me))).g.length?$e.g[0]:$e.h)>>>0).toString(Xe);if(xt($e=nt))return _t+Ye;for(;6>_t.length;)_t="0"+_t;Ye=_t+Ye}},u.i=function(Xe){return 0>Xe?0:Xe<this.g.length?this.g[Xe]:this.h},u.l=function(Xe){return Xt(Xe=Vn(this,Xe))?-1:xt(Xe)?0:1},u.abs=function(){return Xt(this)?Ht(this):this},u.add=function(Xe){for(var Me=Math.max(this.g.length,Xe.g.length),$e=[],Ye=0,nt=0;nt<=Me;nt++){var _t=Ye+(65535&this.i(nt))+(65535&Xe.i(nt)),Be=(_t>>>16)+(this.i(nt)>>>16)+(Xe.i(nt)>>>16);Ye=Be>>>16,$e[nt]=(Be&=65535)<<16|(_t&=65535)}return new m($e,-2147483648&$e[$e.length-1]?-1:0)},u.j=function(Xe){if(xt(this)||xt(Xe))return he;if(Xt(this))return Xt(Xe)?Ht(this).j(Ht(Xe)):Ht(Ht(this).j(Xe));if(Xt(Xe))return Ht(this.j(Ht(Xe)));if(0>this.l(lt)&&0>Xe.l(lt))return $(this.m()*Xe.m());for(var Me=this.g.length+Xe.g.length,$e=[],Ye=0;Ye<2*Me;Ye++)$e[Ye]=0;for(Ye=0;Ye<this.g.length;Ye++)for(var nt=0;nt<Xe.g.length;nt++){var _t=this.i(Ye)>>>16,Be=65535&this.i(Ye),Nu=Xe.i(nt)>>>16,Hc=65535&Xe.i(nt);$e[2*Ye+2*nt]+=Be*Hc,rr($e,2*Ye+2*nt),$e[2*Ye+2*nt+1]+=_t*Hc,rr($e,2*Ye+2*nt+1),$e[2*Ye+2*nt+1]+=Be*Nu,rr($e,2*Ye+2*nt+1),$e[2*Ye+2*nt+2]+=_t*Nu,rr($e,2*Ye+2*nt+2)}for(Ye=0;Ye<Me;Ye++)$e[Ye]=$e[2*Ye+1]<<16|$e[2*Ye];for(Ye=Me;Ye<2*Me;Ye++)$e[Ye]=0;return new m($e,0)},u.A=function(Xe){return vr(this,Xe).h},u.and=function(Xe){for(var Me=Math.max(this.g.length,Xe.g.length),$e=[],Ye=0;Ye<Me;Ye++)$e[Ye]=this.i(Ye)&Xe.i(Ye);return new m($e,this.h&Xe.h)},u.or=function(Xe){for(var Me=Math.max(this.g.length,Xe.g.length),$e=[],Ye=0;Ye<Me;Ye++)$e[Ye]=this.i(Ye)|Xe.i(Ye);return new m($e,this.h|Xe.h)},u.xor=function(Xe){for(var Me=Math.max(this.g.length,Xe.g.length),$e=[],Ye=0;Ye<Me;Ye++)$e[Ye]=this.i(Ye)^Xe.i(Ye);return new m($e,this.h^Xe.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ze=Ne.Md5=s,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=$,m.fromString=function ne(Xe,Me){if(0==Xe.length)throw Error("number format error: empty string");if(2>(Me=Me||10)||36<Me)throw Error("radix out of range: "+Me);if("-"==Xe.charAt(0))return Ht(ne(Xe.substring(1),Me));if(0<=Xe.indexOf("-"))throw Error('number format error: interior "-" character');for(var $e=$(Math.pow(Me,8)),Ye=he,nt=0;nt<Xe.length;nt+=8){var _t=Math.min(8,Xe.length-nt),Be=parseInt(Xe.substring(nt,nt+_t),Me);8>_t?(_t=$(Math.pow(Me,_t)),Ye=Ye.j(_t).add($(Be))):Ye=(Ye=Ye.j($e)).add($(Be))}return Ye},je=Ne.Integer=m}).apply(typeof Fe<"u"?Fe:typeof self<"u"?self:typeof window<"u"?window:{});var Qe,bt,ht,Ft,Qt,on,Mn,nn,ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Te={};(function(){var u,e="function"==typeof Object.defineProperties?Object.defineProperty:function(p,x,H){return p==Array.prototype||p==Object.prototype||(p[x]=H.value),p},s=function r(p){p=["object"==typeof globalThis&&globalThis,p,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ge&&ge];for(var x=0;x<p.length;++x){var H=p[x];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}(this);!function l(p,x){if(x)e:{var H=s;p=p.split(".");for(var ce=0;ce<p.length-1;ce++){var rt=p[ce];if(!(rt in H))break e;H=H[rt]}(x=x(ce=H[p=p[p.length-1]]))!=ce&&null!=x&&e(H,p,{configurable:!0,writable:!0,value:x})}}("Array.prototype.values",function(p){return p||function(){return function f(p,x){p instanceof String&&(p+="");var H=0,ce=!1,rt={next:function(){if(!ce&&H<p.length){var Et=H++;return{value:x(Et,p[Et]),done:!1}}return ce=!0,{done:!0,value:void 0}}};return rt[Symbol.iterator]=function(){return rt},rt}(this,function(x,H){return H})}});var m=m||{},b=this||self;function O(p){var x=typeof p;return"array"==(x="object"!=x?x:p?Array.isArray(p)?"array":x:"null")||"object"==x&&"number"==typeof p.length}function $(p){var x=typeof p;return"object"==x&&null!=p||"function"==x}function ne(p,x,H){return p.call.apply(p.bind,arguments)}function he(p,x,H){if(!p)throw Error();if(2<arguments.length){var ce=Array.prototype.slice.call(arguments,2);return function(){var rt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(rt,ce),p.apply(x,rt)}}return function(){return p.apply(x,arguments)}}function Ve(p,x,H){return(Ve=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ne:he).apply(null,arguments)}function lt(p,x){var H=Array.prototype.slice.call(arguments,1);return function(){var ce=H.slice();return ce.push.apply(ce,arguments),p.apply(this,ce)}}function xt(p,x){function H(){}H.prototype=x.prototype,p.aa=x.prototype,p.prototype=new H,p.prototype.constructor=p,p.Qb=function(ce,rt,Et){for(var pn=Array(arguments.length-2),Vi=2;Vi<arguments.length;Vi++)pn[Vi-2]=arguments[Vi];return x.prototype[rt].apply(ce,pn)}}function Xt(p){const x=p.length;if(0<x){const H=Array(x);for(let ce=0;ce<x;ce++)H[ce]=p[ce];return H}return[]}function Ht(p,x){for(let H=1;H<arguments.length;H++){const ce=arguments[H];if(O(ce)){const rt=p.length||0,Et=ce.length||0;p.length=rt+Et;for(let pn=0;pn<Et;pn++)p[rt+pn]=ce[pn]}else p.push(ce)}}function rr(p){return/^[\s\xa0]*$/.test(p)}function Hn(){var p=b.navigator;return p&&(p=p.userAgent)?p:""}function vr(p){return vr[" "](p),p}vr[" "]=function(){};var yi=!(-1==Hn().indexOf("Gecko")||-1!=Hn().toLowerCase().indexOf("webkit")&&-1==Hn().indexOf("Edge")||-1!=Hn().indexOf("Trident")||-1!=Hn().indexOf("MSIE")||-1!=Hn().indexOf("Edge"));function Lr(p,x,H){for(const ce in p)x.call(H,p[ce],ce,p)}function Me(p){const x={};for(const H in p)x[H]=p[H];return x}const $e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ye(p,x){let H,ce;for(let rt=1;rt<arguments.length;rt++){for(H in ce=arguments[rt],ce)p[H]=ce[H];for(let Et=0;Et<$e.length;Et++)H=$e[Et],Object.prototype.hasOwnProperty.call(ce,H)&&(p[H]=ce[H])}}function nt(p){var x=1;p=p.split(":");const H=[];for(;0<x&&p.length;)H.push(p.shift()),x--;return p.length&&H.push(p.join(":")),H}function _t(p){b.setTimeout(()=>{throw p},0)}function Be(){var p=Qo;let x=null;return p.g&&(x=p.g,p.g=p.g.next,p.g||(p.h=null),x.next=null),x}var Hc=new class Vn{constructor(x,H){this.i=x,this.j=H,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}(()=>new d_,p=>p.reset());class d_{constructor(){this.next=this.g=this.h=null}set(x,H){this.h=x,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let sh,oh=!1,Qo=new class Nu{constructor(){this.h=this.g=null}add(x,H){const ce=Hc.get();ce.set(x,H),this.h?this.h.next=ce:this.g=ce,this.h=ce}},h_=()=>{const p=b.Promise.resolve(void 0);sh=()=>{p.then(Gy)}};var Gy=()=>{for(var p;p=Be();){try{p.h.call(p.g)}catch(H){_t(H)}var x=Hc;x.j(p),100>x.h&&(x.h++,p.next=x.g,x.g=p)}oh=!1};function ac(){this.s=this.s,this.C=this.C}function mo(p,x){this.type=p,this.g=this.target=x,this.defaultPrevented=!1}ac.prototype.s=!1,ac.prototype.ma=function(){this.s||(this.s=!0,this.N())},ac.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},mo.prototype.h=function(){this.defaultPrevented=!0};var f_=function(){if(!b.addEventListener||!Object.defineProperty)return!1;var p=!1,x=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const H=()=>{};b.addEventListener("test",H,x),b.removeEventListener("test",H,x)}catch{}return p}();function ah(p,x){if(mo.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var H=this.type=p.type,ce=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=x,x=p.relatedTarget){if(yi){e:{try{vr(x.nodeName);var rt=!0;break e}catch{}rt=!1}rt||(x=null)}}else"mouseover"==H?x=p.fromElement:"mouseout"==H&&(x=p.toElement);this.relatedTarget=x,ce?(this.clientX=void 0!==ce.clientX?ce.clientX:ce.pageX,this.clientY=void 0!==ce.clientY?ce.clientY:ce.pageY,this.screenX=ce.screenX||0,this.screenY=ce.screenY||0):(this.clientX=void 0!==p.clientX?p.clientX:p.pageX,this.clientY=void 0!==p.clientY?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType="string"==typeof p.pointerType?p.pointerType:zy[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ah.aa.h.call(this)}}xt(ah,mo);var zy={2:"touch",3:"pen",4:"mouse"};ah.prototype.h=function(){ah.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var uh="closure_listenable_"+(1e6*Math.random()|0),p_=0;function Wy(p,x,H,ce,rt){this.listener=p,this.proxy=null,this.src=x,this.type=H,this.capture=!!ce,this.ha=rt,this.key=++p_,this.da=this.fa=!1}function Lf(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Gc(p){this.src=p,this.g={},this.h=0}function _g(p,x){var H=x.type;if(H in p.g){var Et,ce=p.g[H],rt=Array.prototype.indexOf.call(ce,x,void 0);(Et=0<=rt)&&Array.prototype.splice.call(ce,rt,1),Et&&(Lf(x),0==p.g[H].length&&(delete p.g[H],p.h--))}}function yg(p,x,H,ce){for(var rt=0;rt<p.length;++rt){var Et=p[rt];if(!Et.da&&Et.listener==x&&Et.capture==!!H&&Et.ha==ce)return rt}return-1}Gc.prototype.add=function(p,x,H,ce,rt){var Et=p.toString();(p=this.g[Et])||(p=this.g[Et]=[],this.h++);var pn=yg(p,x,ce,rt);return-1<pn?(x=p[pn],H||(x.fa=!1)):((x=new Wy(x,this.src,Et,!!ce,rt)).fa=H,p.push(x)),x};var vg="closure_lm_"+(1e6*Math.random()|0),Eg={};function g_(p,x,H,ce,rt){if(ce&&ce.once)return m_(p,x,H,ce,rt);if(Array.isArray(x)){for(var Et=0;Et<x.length;Et++)g_(p,x[Et],H,ce,rt);return null}return H=y_(H),p&&p[uh]?p.K(x,H,$(ce)?!!ce.capture:!!ce,rt):Ba(p,x,H,!1,ce,rt)}function Ba(p,x,H,ce,rt,Et){if(!x)throw Error("Invalid event type");var pn=$(rt)?!!rt.capture:!!rt,Vi=zc(p);if(Vi||(p[vg]=Vi=new Gc(p)),(H=Vi.add(x,H,ce,pn,Et)).proxy)return H;if(ce=function Ig(){const x=__;return function p(H){return x.call(p.src,p.listener,H)}}(),H.proxy=ce,ce.src=p,ce.listener=H,p.addEventListener)f_||(rt=pn),void 0===rt&&(rt=!1),p.addEventListener(x.toString(),ce,rt);else if(p.attachEvent)p.attachEvent(bg(x.toString()),ce);else{if(!p.addListener||!p.removeListener)throw Error("addEventListener and attachEvent are unavailable.");p.addListener(ce)}return H}function m_(p,x,H,ce,rt){if(Array.isArray(x)){for(var Et=0;Et<x.length;Et++)m_(p,x[Et],H,ce,rt);return null}return H=y_(H),p&&p[uh]?p.L(x,H,$(ce)?!!ce.capture:!!ce,rt):Ba(p,x,H,!0,ce,rt)}function Tg(p,x,H,ce,rt){if(Array.isArray(x))for(var Et=0;Et<x.length;Et++)Tg(p,x[Et],H,ce,rt);else ce=$(ce)?!!ce.capture:!!ce,H=y_(H),p&&p[uh]?(p=p.i,(x=String(x).toString())in p.g&&-1<(H=yg(Et=p.g[x],H,ce,rt))&&(Lf(Et[H]),Array.prototype.splice.call(Et,H,1),0==Et.length&&(delete p.g[x],p.h--))):p&&(p=zc(p))&&(x=p.g[x.toString()],p=-1,x&&(p=yg(x,H,ce,rt)),(H=-1<p?x[p]:null)&&Cg(H))}function Cg(p){if("number"!=typeof p&&p&&!p.da){var x=p.src;if(x&&x[uh])_g(x.i,p);else{var H=p.type,ce=p.proxy;x.removeEventListener?x.removeEventListener(H,ce,p.capture):x.detachEvent?x.detachEvent(bg(H),ce):x.addListener&&x.removeListener&&x.removeListener(ce),(H=zc(x))?(_g(H,p),0==H.h&&(H.src=null,x[vg]=null)):Lf(p)}}}function bg(p){return p in Eg?Eg[p]:Eg[p]="on"+p}function __(p,x){if(p.da)p=!0;else{x=new ah(x,this);var H=p.listener,ce=p.ha||p.src;p.fa&&Cg(p),p=H.call(ce,x)}return p}function zc(p){return(p=p[vg])instanceof Gc?p:null}var lh="__closure_events_fn_"+(1e9*Math.random()>>>0);function y_(p){return"function"==typeof p?p:(p[lh]||(p[lh]=function(x){return p.handleEvent(x)}),p[lh])}function Do(){ac.call(this),this.i=new Gc(this),this.M=this,this.F=null}function Fo(p,x){var H,ce=p.F;if(ce)for(H=[];ce;ce=ce.F)H.push(ce);if(p=p.M,ce=x.type||x,"string"==typeof x)x=new mo(x,p);else if(x instanceof mo)x.target=x.target||p;else{var rt=x;Ye(x=new mo(ce,p),rt)}if(rt=!0,H)for(var Et=H.length-1;0<=Et;Et--){var pn=x.g=H[Et];rt=ch(pn,ce,!0,x)&&rt}if(rt=ch(pn=x.g=p,ce,!0,x)&&rt,rt=ch(pn,ce,!1,x)&&rt,H)for(Et=0;Et<H.length;Et++)rt=ch(pn=x.g=H[Et],ce,!1,x)&&rt}function ch(p,x,H,ce){if(!(x=p.i.g[String(x)]))return!0;x=x.concat();for(var rt=!0,Et=0;Et<x.length;++Et){var pn=x[Et];if(pn&&!pn.da&&pn.capture==H){var Vi=pn.listener,So=pn.ha||pn.src;pn.fa&&_g(p.i,pn),rt=!1!==Vi.call(So,ce)&&rt}}return rt&&!ce.defaultPrevented}function wg(p,x,H){if("function"==typeof p)H&&(p=Ve(p,H));else{if(!p||"function"!=typeof p.handleEvent)throw Error("Invalid listener argument");p=Ve(p.handleEvent,p)}return 2147483647<Number(x)?-1:b.setTimeout(p,x||0)}function Uf(p){p.g=wg(()=>{p.g=null,p.i&&(p.i=!1,Uf(p))},p.l);const x=p.h;p.h=null,p.m.apply(null,x)}xt(Do,ac),Do.prototype[uh]=!0,Do.prototype.removeEventListener=function(p,x,H,ce){Tg(this,p,x,H,ce)},Do.prototype.N=function(){if(Do.aa.N.call(this),this.i){var x,p=this.i;for(x in p.g){for(var H=p.g[x],ce=0;ce<H.length;ce++)Lf(H[ce]);delete p.g[x],p.h--}}this.F=null},Do.prototype.K=function(p,x,H,ce){return this.i.add(String(p),x,!1,H,ce)},Do.prototype.L=function(p,x,H,ce){return this.i.add(String(p),x,!0,H,ce)};class ku extends ac{constructor(x,H){super(),this.m=x,this.l=H,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Uf(this)}N(){super.N(),this.g&&(b.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dh(p){ac.call(this),this.h=p,this.g={}}xt(dh,ac);var v_=[];function Bf(p){Lr(p.g,function(x,H){this.g.hasOwnProperty(H)&&Cg(x)},p),p.g={}}dh.prototype.N=function(){dh.aa.N.call(this),Bf(this)},dh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ag=b.JSON.stringify,E_=b.JSON.parse,Ky=class{stringify(p){return b.JSON.stringify(p,void 0)}parse(p){return b.JSON.parse(p,void 0)}};function Wc(){}function Dg(){}Wc.prototype.h=null;var _l={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function I_(){mo.call(this,"d")}function Sg(){mo.call(this,"c")}xt(I_,mo),xt(Sg,mo);var yl={},Rg=null;function jf(){return Rg=Rg||new Do}function T_(p){mo.call(this,yl.La,p)}function qc(p){const x=jf();Fo(x,new T_(x))}function Pg(p,x){mo.call(this,yl.STAT_EVENT,p),this.stat=x}function no(p){const x=jf();Fo(x,new Pg(x,p))}function C_(p,x){mo.call(this,yl.Ma,p),this.size=x}function Qc(p,x){if("function"!=typeof p)throw Error("Fn must not be null and must be a function");return b.setTimeout(function(){p()},x)}function Xc(){this.g=!0}function uu(p,x,H,ce){p.info(function(){return"XMLHTTP TEXT ("+x+"): "+function Yy(p,x){if(!p.g)return x;if(!x)return null;try{var H=JSON.parse(x);if(H)for(p=0;p<H.length;p++)if(Array.isArray(H[p])){var ce=H[p];if(!(2>ce.length)){var rt=ce[1];if(Array.isArray(rt)&&!(1>rt.length)){var Et=rt[0];if("noop"!=Et&&"stop"!=Et&&"close"!=Et)for(var pn=1;pn<rt.length;pn++)rt[pn]=""}}}return Ag(H)}catch{return x}}(p,H)+(ce?" "+ce:"")})}yl.La="serverreachability",xt(T_,mo),yl.STAT_EVENT="statevent",xt(Pg,mo),yl.Ma="timingevent",xt(C_,mo),Xc.prototype.xa=function(){this.g=!1},Xc.prototype.info=function(){};var Mg,$f={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},b_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Hf(){}function vl(p,x,H,ce){this.j=p,this.i=x,this.l=H,this.R=ce||1,this.U=new dh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new w_}function w_(){this.i=null,this.g="",this.h=!1}xt(Hf,Wc),Hf.prototype.g=function(){return new XMLHttpRequest},Hf.prototype.i=function(){return{}},Mg=new Hf;var Og={},hh={};function xg(p,x,H){p.L=1,p.v=Fu(Xo(x)),p.m=H,p.P=!0,fh(p,null)}function fh(p,x){p.F=Date.now(),Gf(p),p.A=Xo(p.v);var H=p.A,ce=p.R;Array.isArray(ce)||(ce=[String(ce)]),Ug(H.i,"t",ce),p.C=0,H=p.j.J,p.h=new w_,p.g=Qg(p.j,H?x:null,!p.m),0<p.O&&(p.M=new ku(Ve(p.Y,p,p.g),p.O)),x=p.U,H=p.g,ce=p.ca;var rt="readystatechange";Array.isArray(rt)||(rt&&(v_[0]=rt.toString()),rt=v_);for(var Et=0;Et<rt.length;Et++){var pn=g_(H,rt[Et],ce||x.handleEvent,!1,x.h||x);if(!pn)break;x.g[pn.key]=pn}x=p.H?Me(p.H):{},p.m?(p.u||(p.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,x)):(p.u="GET",p.g.ea(p.A,p.u,null,x)),qc(),function qy(p,x,H,ce,rt,Et){p.info(function(){if(p.g)if(Et)for(var pn="",Vi=Et.split("&"),So=0;So<Vi.length;So++){var Ti=Vi[So].split("=");if(1<Ti.length){var Ro=Ti[0];Ti=Ti[1];var _o=Ro.split("_");pn=2<=_o.length&&"type"==_o[1]?pn+(Ro+"=")+Ti+"&":pn+(Ro+"=redacted&")}}else pn=null;else pn=Et;return"XMLHTTP REQ ("+ce+") [attempt "+rt+"]: "+x+"\n"+H+"\n"+pn})}(p.i,p.u,p.A,p.l,p.R,p.m)}function A_(p){return!!p.g&&"GET"==p.u&&2!=p.L&&p.j.Ca}function Jy(p,x){var H=p.C,ce=x.indexOf("\n",H);return-1==ce?hh:(H=Number(x.substring(H,ce)),isNaN(H)?Og:(ce+=1)+H>x.length?hh:(x=x.slice(ce,ce+H),p.C=ce+H,x))}function Gf(p){p.S=Date.now()+p.I,D_(p,p.I)}function D_(p,x){if(null!=p.B)throw Error("WatchDog timer not null");p.B=Qc(Ve(p.ba,p),x)}function Ng(p){p.B&&(b.clearTimeout(p.B),p.B=null)}function ph(p){0==p.j.G||p.J||Kg(p.j,p)}function uc(p){Ng(p);var x=p.M;x&&"function"==typeof x.ma&&x.ma(),p.M=null,Bf(p.U),p.g&&(x=p.g,p.g=null,x.abort(),x.ma())}function zf(p,x){try{var H=p.j;if(0!=H.G&&(H.g==p||Wf(H.h,p)))if(!p.K&&Wf(H.h,p)&&3==H.G){try{var ce=H.Da.g.parse(x)}catch{ce=null}if(Array.isArray(ce)&&3==ce.length){var rt=ce;if(0==rt[0]){e:if(!H.u){if(H.g){if(!(H.g.F+3e3<p.F))break e;bh(H),rd(H)}Jf(H),no(18)}}else H.za=rt[1],0<H.za-H.T&&37500>rt[2]&&H.F&&0==H.v&&!H.C&&(H.C=Qc(Ve(H.Za,H),6e3));if(1>=kg(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else fc(H,11)}else if((p.K||H.g==p)&&bh(H),!rr(x))for(rt=H.Da.g.parse(x),x=0;x<rt.length;x++){let Ti=rt[x];if(H.T=Ti[0],Ti=Ti[1],2==H.G)if("c"==Ti[0]){H.K=Ti[1],H.ia=Ti[2];const Ro=Ti[3];null!=Ro&&(H.la=Ro,H.j.info("VER="+H.la));const _o=Ti[4];null!=_o&&(H.Aa=_o,H.j.info("SVER="+H.Aa));const pc=Ti[5];null!=pc&&"number"==typeof pc&&0<pc&&(H.L=ce=1.5*pc,H.j.info("backChannelRequestTimeoutMs_="+ce)),ce=H;const ga=p.g;if(ga){const Dh=ga.g?ga.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dh){var Et=ce.h;Et.g||-1==Dh.indexOf("spdy")&&-1==Dh.indexOf("quic")&&-1==Dh.indexOf("h2")||(Et.j=Et.l,Et.g=new Set,Et.h&&(P_(Et,Et.h),Et.h=null))}if(ce.D){const Xg=ga.g?ga.g.getResponseHeader("X-HTTP-Session-Id"):null;Xg&&(ce.ya=Xg,Si(ce.I,ce.D,Xg))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-p.F,H.j.info("Handshake RTT: "+H.R+"ms"));var pn=p;if((ce=H).qa=$_(ce,ce.J?ce.ia:null,ce.W),pn.K){gh(ce.h,pn);var Vi=pn,So=ce.L;So&&(Vi.I=So),Vi.B&&(Ng(Vi),Gf(Vi)),ce.g=pn}else U_(ce);0<H.i.length&&hc(H)}else"stop"!=Ti[0]&&"close"!=Ti[0]||fc(H,7);else 3==H.G&&("stop"==Ti[0]||"close"==Ti[0]?"stop"==Ti[0]?fc(H,7):zg(H):"noop"!=Ti[0]&&H.l&&H.l.ta(Ti),H.v=0)}qc()}catch{}}function R_(p){this.l=p||10,p=b.PerformanceNavigationTiming?0<(p=b.performance.getEntriesByType("navigation")).length&&("hq"==p[0].nextHopProtocol||"h2"==p[0].nextHopProtocol):!!(b.chrome&&b.chrome.loadTimes&&b.chrome.loadTimes()&&b.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zy(p){return!!p.h||!!p.g&&p.g.size>=p.j}function kg(p){return p.h?1:p.g?p.g.size:0}function Wf(p,x){return p.h?p.h==x:!!p.g&&p.g.has(x)}function P_(p,x){p.g?p.g.add(x):p.h=x}function gh(p,x){p.h&&p.h==x?p.h=null:p.g&&p.g.has(x)&&p.g.delete(x)}function M_(p){if(null!=p.h)return p.i.concat(p.h.D);if(null!=p.g&&0!==p.g.size){let x=p.i;for(const H of p.g.values())x=x.concat(H.D);return x}return Xt(p.i)}function O_(p,x){if(p.forEach&&"function"==typeof p.forEach)p.forEach(x,void 0);else if(O(p)||"string"==typeof p)Array.prototype.forEach.call(p,x,void 0);else for(var H=function Fg(p){if(p.na&&"function"==typeof p.na)return p.na();if(!p.V||"function"!=typeof p.V){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(O(p)||"string"==typeof p){var x=[];p=p.length;for(var H=0;H<p;H++)x.push(H);return x}x=[],H=0;for(const ce in p)x[H++]=ce;return x}}}(p),ce=function ev(p){if(p.V&&"function"==typeof p.V)return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if("string"==typeof p)return p.split("");if(O(p)){for(var x=[],H=p.length,ce=0;ce<H;ce++)x.push(p[ce]);return x}for(ce in x=[],H=0,p)x[H++]=p[ce];return x}(p),rt=ce.length,Et=0;Et<rt;Et++)x.call(void 0,ce[Et],H&&H[Et],p)}vl.prototype.ca=function(p){p=p.target;const x=this.M;x&&3==Lu(p)?x.j():this.Y(p)},vl.prototype.Y=function(p){try{if(p==this.g)e:{const _o=Lu(this.g);var x=this.g.Ba();if(this.g.Z(),!(3>_o)&&(3!=_o||this.g&&(this.h.h||this.g.oa()||nd(this.g)))){this.J||4!=_o||7==x||qc(),Ng(this);var H=this.g.Z();this.X=H;t:if(A_(this)){var ce=nd(this.g);p="";var rt=ce.length,Et=4==Lu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uc(this),ph(this);var pn="";break t}this.h.i=new b.TextDecoder}for(x=0;x<rt;x++)this.h.h=!0,p+=this.h.i.decode(ce[x],{stream:!(Et&&x==rt-1)});ce.length=0,this.h.g+=p,this.C=0,pn=this.h.g}else pn=this.g.oa();if(this.o=200==H,function Qy(p,x,H,ce,rt,Et,pn){p.info(function(){return"XMLHTTP RESP ("+ce+") [ attempt "+rt+"]: "+x+"\n"+H+"\n"+Et+" "+pn})}(this.i,this.u,this.A,this.l,this.R,_o,H),this.o){if(this.T&&!this.K){t:{if(this.g){var Vi,So=this.g;if((Vi=So.g?So.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rr(Vi)){var Ti=Vi;break t}}Ti=null}if(!(H=Ti)){this.o=!1,this.s=3,no(12),uc(this),ph(this);break e}uu(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zf(this,H)}if(this.P){let ga;for(H=!0;!this.J&&this.C<pn.length;){if(ga=Jy(this,pn),ga==hh){4==_o&&(this.s=4,no(14),H=!1),uu(this.i,this.l,null,"[Incomplete Response]");break}if(ga==Og){this.s=4,no(15),uu(this.i,this.l,pn,"[Invalid Chunk]"),H=!1;break}uu(this.i,this.l,ga,null),zf(this,ga)}if(A_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=_o||0!=pn.length||this.h.h||(this.s=1,no(16),H=!1),this.o=this.o&&H,H){if(0<pn.length&&!this.W){this.W=!0;var Ro=this.j;Ro.g==this&&Ro.ba&&!Ro.M&&(Ro.j.info("Great, no buffering proxy detected. Bytes received: "+pn.length),Wg(Ro),Ro.M=!0,no(11))}}else uu(this.i,this.l,pn,"[Invalid Chunked Response]"),uc(this),ph(this)}else uu(this.i,this.l,pn,null),zf(this,pn);4==_o&&uc(this),this.o&&!this.J&&(4==_o?Kg(this.j,this):(this.o=!1,Gf(this)))}else(function nv(p){const x={};p=(p.g&&2<=Lu(p)&&p.g.getAllResponseHeaders()||"").split("\r\n");for(let ce=0;ce<p.length;ce++){if(rr(p[ce]))continue;var H=nt(p[ce]);const rt=H[0];if("string"!=typeof(H=H[1]))continue;H=H.trim();const Et=x[rt]||[];x[rt]=Et,Et.push(H)}!function Xe(p,x){for(const H in p)x.call(void 0,p[H],H,p)}(x,function(ce){return ce.join(", ")})})(this.g),400==H&&0<pn.indexOf("Unknown SID")?(this.s=3,no(12)):(this.s=0,no(13)),uc(this),ph(this)}}}catch{}},vl.prototype.cancel=function(){this.J=!0,uc(this)},vl.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(function Xy(p,x){p.info(function(){return"TIMEOUT: "+x})}(this.i,this.A),2!=this.L&&(qc(),no(17)),uc(this),this.s=2,ph(this)):D_(this,this.S-p)},R_.prototype.cancel=function(){if(this.i=M_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const p of this.g.values())p.cancel();this.g.clear()}};var ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function As(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof As){this.h=p.h,lc(this,p.j),this.o=p.o,this.g=p.g,Yo(this,p.s),this.l=p.l;var x=p.i,H=new td;H.i=x.i,x.g&&(H.g=new Map(x.g),H.h=x.h),Kf(this,H),this.m=p.m}else p&&(x=String(p).match(ja))?(this.h=!1,lc(this,x[1]||"",!0),this.o=lu(x[2]||""),this.g=lu(x[3]||"",!0),Yo(this,x[4]),this.l=lu(x[5]||"",!0),Kf(this,x[6]||"",!0),this.m=lu(x[7]||"")):(this.h=!1,this.i=new td(null,this.h))}function Xo(p){return new As(p)}function lc(p,x,H){p.j=H?lu(x,!0):x,p.j&&(p.j=p.j.replace(/:$/,""))}function Yo(p,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);p.s=x}else p.s=null}function Kf(p,x,H){x instanceof td?(p.i=x,function N_(p,x){x&&!p.j&&(Vu(p),p.i=null,p.g.forEach(function(H,ce){var rt=ce.toLowerCase();ce!=rt&&(Vg(this,ce),Ug(this,rt,H))},p)),p.j=x}(p.i,p.h)):(H||(x=cu(x,ed)),p.i=new td(x,p.h))}function Si(p,x,H){p.i.set(x,H)}function Fu(p){return Si(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function lu(p,x){return p?x?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function cu(p,x,H){return"string"==typeof p?(p=encodeURI(p).replace(x,Yc),H&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Yc(p){return"%"+((p=p.charCodeAt(0))>>4&15).toString(16)+(15&p).toString(16)}As.prototype.toString=function(){var p=[],x=this.j;x&&p.push(cu(x,cc,!0),":");var H=this.g;return(H||"file"==x)&&(p.push("//"),(x=this.o)&&p.push(cu(x,cc,!0),"@"),p.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(H=this.s)&&p.push(":",String(H))),(H=this.l)&&(this.g&&"/"!=H.charAt(0)&&p.push("/"),p.push(cu(H,"/"==H.charAt(0)?Zc:Jc,!0))),(H=this.i.toString())&&p.push("?",H),(H=this.m)&&p.push("#",cu(H,x_)),p.join("")};var p,cc=/[#\/\?@]/g,Jc=/[#\?:]/g,Zc=/[#\?]/g,ed=/[#\?@]/g,x_=/#/g;function td(p,x){this.h=this.g=null,this.i=p||null,this.j=!!x}function Vu(p){p.g||(p.g=new Map,p.h=0,p.i&&function mh(p,x){if(p){p=p.split("&");for(var H=0;H<p.length;H++){var ce=p[H].indexOf("="),rt=null;if(0<=ce){var Et=p[H].substring(0,ce);rt=p[H].substring(ce+1)}else Et=p[H];x(Et,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}(p.i,function(x,H){p.add(decodeURIComponent(x.replace(/\+/g," ")),H)}))}function Vg(p,x){Vu(p),x=dc(p,x),p.g.has(x)&&(p.i=null,p.h-=p.g.get(x).length,p.g.delete(x))}function Lg(p,x){return Vu(p),x=dc(p,x),p.g.has(x)}function Ug(p,x,H){Vg(p,x),0<H.length&&(p.i=null,p.g.set(dc(p,x),Xt(H)),p.h+=H.length)}function dc(p,x){return x=String(x),p.j&&(x=x.toLowerCase()),x}function El(p,x,H,ce,rt){try{rt&&(rt.onload=null,rt.onerror=null,rt.onabort=null,rt.ontimeout=null),ce(H)}catch{}}function bE(){this.g=new Ky}function wE(p,x,H){const ce=H||"";try{O_(p,function(rt,Et){let pn=rt;$(rt)&&(pn=Ag(rt)),x.push(ce+Et+"="+encodeURIComponent(pn))})}catch(rt){throw x.push(ce+"type="+encodeURIComponent("_badmap")),rt}}function _h(p){this.l=p.Ub||null,this.j=p.eb||!1}function qf(p,x){Do.call(this),this.D=p,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function tv(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}function yh(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Qf(p)}function Qf(p){p.onreadystatechange&&p.onreadystatechange.call(p)}function F_(p){let x="";return Lr(p,function(H,ce){x+=ce,x+=":",x+=H,x+="\r\n"}),x}function jg(p,x,H){e:{for(ce in H){var ce=!1;break e}ce=!0}ce||(H=F_(H),"string"==typeof p?null!=H&&encodeURIComponent(String(H)):Si(p,x,H))}function Ds(p){Do.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(u=td.prototype).add=function(p,x){Vu(this),this.i=null,p=dc(this,p);var H=this.g.get(p);return H||this.g.set(p,H=[]),H.push(x),this.h+=1,this},u.forEach=function(p,x){Vu(this),this.g.forEach(function(H,ce){H.forEach(function(rt){p.call(x,rt,ce,this)},this)},this)},u.na=function(){Vu(this);const p=Array.from(this.g.values()),x=Array.from(this.g.keys()),H=[];for(let ce=0;ce<x.length;ce++){const rt=p[ce];for(let Et=0;Et<rt.length;Et++)H.push(x[ce])}return H},u.V=function(p){Vu(this);let x=[];if("string"==typeof p)Lg(this,p)&&(x=x.concat(this.g.get(dc(this,p))));else{p=Array.from(this.g.values());for(let H=0;H<p.length;H++)x=x.concat(p[H])}return x},u.set=function(p,x){return Vu(this),this.i=null,Lg(this,p=dc(this,p))&&(this.h-=this.g.get(p).length),this.g.set(p,[x]),this.h+=1,this},u.get=function(p,x){return p&&0<(p=this.V(p)).length?String(p[0]):x},u.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],x=Array.from(this.g.keys());for(var H=0;H<x.length;H++){var ce=x[H];const Et=encodeURIComponent(String(ce)),pn=this.V(ce);for(ce=0;ce<pn.length;ce++){var rt=Et;""!==pn[ce]&&(rt+="="+encodeURIComponent(String(pn[ce]))),p.push(rt)}}return this.i=p.join("&")},xt(_h,Wc),_h.prototype.g=function(){return new qf(this.l,this.j)},_h.prototype.i=(p={},function(){return p}),xt(qf,Do),(u=qf.prototype).open=function(p,x){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=x,this.readyState=1,Qf(this)},u.send=function(p){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(x.body=p),(this.D||b).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},u.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yh(this)),this.readyState=0},u.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Qf(this)),this.g&&(this.readyState=3,Qf(this),this.g)))if("arraybuffer"===this.responseType)p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof b.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tv(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))},u.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var x=p.value?p.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!p.done}))&&(this.response=this.responseText+=x)}p.done?yh(this):Qf(this),3==this.readyState&&tv(this)}},u.Ra=function(p){this.g&&(this.response=this.responseText=p,yh(this))},u.Qa=function(p){this.g&&(this.response=p,yh(this))},u.ga=function(){this.g&&yh(this)},u.setRequestHeader=function(p,x){this.u.append(p,x)},u.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],x=this.h.entries();for(var H=x.next();!H.done;)p.push((H=H.value)[0]+": "+H[1]),H=x.next();return p.join("\r\n")},Object.defineProperty(qf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(p){this.m=p?"include":"same-origin"}}),xt(Ds,Do);var $g=/^https?$/i,vh=["POST","PUT"];function Xf(p,x){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=x,p.m=5,Eh(p),Il(p)}function Eh(p){p.A||(p.A=!0,Fo(p,"complete"),Fo(p,"error"))}function Hg(p){if(p.h&&typeof m<"u"&&(!p.v[1]||4!=Lu(p)||2!=p.Z()))if(p.u&&4==Lu(p))wg(p.Ea,0,p);else if(Fo(p,"readystatechange"),4==Lu(p)){p.h=!1;try{const pn=p.Z();e:switch(pn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var H;if(!(H=x)){var ce;if(ce=0===pn){var rt=String(p.D).match(ja)[1]||null;!rt&&b.self&&b.self.location&&(rt=b.self.location.protocol.slice(0,-1)),ce=!$g.test(rt?rt.toLowerCase():"")}H=ce}if(H)Fo(p,"complete"),Fo(p,"success");else{p.m=6;try{var Et=2<Lu(p)?p.g.statusText:""}catch{Et=""}p.l=Et+" ["+p.Z()+"]",Eh(p)}}finally{Il(p)}}}function Il(p,x){if(p.g){Gg(p);const H=p.g,ce=p.v[0]?()=>{}:null;p.g=null,p.v=null,x||Fo(p,"ready");try{H.onreadystatechange=ce}catch{}}}function Gg(p){p.I&&(b.clearTimeout(p.I),p.I=null)}function Lu(p){return p.g?p.g.readyState:0}function nd(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Ih(p,x,H){return H&&H.internalChannelParams&&H.internalChannelParams[p]||x}function V_(p){this.Aa=0,this.i=[],this.j=new Xc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ih("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ih("baseRetryDelayMs",5e3,p),this.cb=Ih("retryDelaySeedMs",1e4,p),this.Wa=Ih("forwardChannelMaxRetries",2,p),this.wa=Ih("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new R_(p&&p.concurrentRequestLimit),this.Da=new bE,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function zg(p){if(Th(p),3==p.G){var x=p.U++,H=Xo(p.I);if(Si(H,"SID",p.K),Si(H,"RID",x),Si(H,"TYPE","terminate"),Ch(p,H),(x=new vl(p,p.j,x)).L=2,x.v=Fu(Xo(H)),H=!1,b.navigator&&b.navigator.sendBeacon)try{H=b.navigator.sendBeacon(x.v.toString(),"")}catch{}!H&&b.Image&&((new Image).src=x.v,H=!0),H||(x.g=Qg(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Gf(x)}j_(p)}function rd(p){p.g&&(Wg(p),p.g.cancel(),p.g=null)}function Th(p){rd(p),p.u&&(b.clearTimeout(p.u),p.u=null),bh(p),p.h.cancel(),p.s&&("number"==typeof p.s&&b.clearTimeout(p.s),p.s=null)}function hc(p){if(!Zy(p.h)&&!p.s){p.s=!0;var x=p.Ga;sh||h_(),oh||(sh(),oh=!0),Qo.add(x,p),p.B=0}}function L_(p,x){var H;H=x?x.l:p.U++;const ce=Xo(p.I);Si(ce,"SID",p.K),Si(ce,"RID",H),Si(ce,"AID",p.T),Ch(p,ce),p.m&&p.o&&jg(ce,p.m,p.o),H=new vl(p,p.j,H,p.B+1),null===p.m&&(H.H=p.o),x&&(p.i=x.D.concat(p.i)),x=Yf(p,H,1e3),H.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),P_(p.h,H),xg(H,ce,x)}function Ch(p,x){p.H&&Lr(p.H,function(H,ce){Si(x,ce,H)}),p.l&&O_({},function(H,ce){Si(x,ce,H)})}function Yf(p,x,H){H=Math.min(p.i.length,H);var ce=p.l?Ve(p.l.Na,p.l,p):null;e:{var rt=p.i;let Et=-1;for(;;){const pn=["count="+H];-1==Et?0<H?(Et=rt[0].g,pn.push("ofs="+Et)):Et=0:pn.push("ofs="+Et);let Vi=!0;for(let So=0;So<H;So++){let Ti=rt[So].g;const Ro=rt[So].map;if(Ti-=Et,0>Ti)Et=Math.max(0,rt[So].g-100),Vi=!1;else try{wE(Ro,pn,"req"+Ti+"_")}catch{ce&&ce(Ro)}}if(Vi){ce=pn.join("&");break e}}}return p=p.i.splice(0,H),x.D=p,ce}function U_(p){if(!p.g&&!p.u){p.Y=1;var x=p.Fa;sh||h_(),oh||(sh(),oh=!0),Qo.add(x,p),p.v=0}}function Jf(p){return!(p.g||p.u||3<=p.v||(p.Y++,p.u=Qc(Ve(p.Fa,p),qg(p,p.v)),p.v++,0))}function Wg(p){null!=p.A&&(b.clearTimeout(p.A),p.A=null)}function B_(p){p.g=new vl(p,p.j,"rpc",p.Y),null===p.m&&(p.g.H=p.o),p.g.O=0;var x=Xo(p.qa);Si(x,"RID","rpc"),Si(x,"SID",p.K),Si(x,"AID",p.T),Si(x,"CI",p.F?"0":"1"),!p.F&&p.ja&&Si(x,"TO",p.ja),Si(x,"TYPE","xmlhttp"),Ch(p,x),p.m&&p.o&&jg(x,p.m,p.o),p.L&&(p.g.I=p.L);var H=p.g;p=p.ia,H.L=1,H.v=Fu(Xo(x)),H.m=null,H.P=!0,fh(H,p)}function bh(p){null!=p.C&&(b.clearTimeout(p.C),p.C=null)}function Kg(p,x){var H=null;if(p.g==x){bh(p),Wg(p),p.g=null;var ce=2}else{if(!Wf(p.h,x))return;H=x.D,gh(p.h,x),ce=1}if(0!=p.G)if(x.o)if(1==ce){H=x.m?x.m.length:0,x=Date.now()-x.F;var rt=p.B;Fo(ce=jf(),new C_(ce,H)),hc(p)}else U_(p);else if(3==(rt=x.s)||0==rt&&0<x.X||!(1==ce&&function AE(p,x){return!(kg(p.h)>=p.h.j-(p.s?1:0)||(p.s?(p.i=x.D.concat(p.i),0):1==p.G||2==p.G||p.B>=(p.Va?0:p.Wa)||(p.s=Qc(Ve(p.Ga,p,x),qg(p,p.B)),p.B++,0)))}(p,x)||2==ce&&Jf(p)))switch(H&&0<H.length&&(x=p.h,x.i=x.i.concat(H)),rt){case 1:fc(p,5);break;case 4:fc(p,10);break;case 3:fc(p,6);break;default:fc(p,2)}}function qg(p,x){let H=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(H*=2),H*x}function fc(p,x){if(p.j.info("Error code "+x),2==x){var H=Ve(p.fb,p),ce=p.Xa;const rt=!ce;ce=new As(ce||"//www.google.com/images/cleardot.gif"),b.location&&"http"==b.location.protocol||lc(ce,"https"),Fu(ce),rt?function k_(p,x){const H=new Xc;if(b.Image){const ce=new Image;ce.onload=lt(El,H,"TestLoadImage: loaded",!0,x,ce),ce.onerror=lt(El,H,"TestLoadImage: error",!1,x,ce),ce.onabort=lt(El,H,"TestLoadImage: abort",!1,x,ce),ce.ontimeout=lt(El,H,"TestLoadImage: timeout",!1,x,ce),b.setTimeout(function(){ce.ontimeout&&ce.ontimeout()},1e4),ce.src=p}else x(!1)}(ce.toString(),H):function Bg(p,x){new Xc;const ce=new AbortController,rt=setTimeout(()=>{ce.abort(),El(0,0,!1,x)},1e4);fetch(p,{signal:ce.signal}).then(Et=>{clearTimeout(rt),El(0,0,!!Et.ok,x)}).catch(()=>{clearTimeout(rt),El(0,0,!1,x)})}(ce.toString(),H)}else no(2);p.G=0,p.l&&p.l.sa(x),j_(p),Th(p)}function j_(p){if(p.G=0,p.ka=[],p.l){const x=M_(p.h);(0!=x.length||0!=p.i.length)&&(Ht(p.ka,x),Ht(p.ka,p.i),p.h.i.length=0,Xt(p.i),p.i.length=0),p.l.ra()}}function $_(p,x,H){var ce=H instanceof As?Xo(H):new As(H);if(""!=ce.g)x&&(ce.g=x+"."+ce.g),Yo(ce,ce.s);else{var rt=b.location;ce=rt.protocol,x=x?x+"."+rt.hostname:rt.hostname,rt=+rt.port;var Et=new As(null);ce&&lc(Et,ce),x&&(Et.g=x),rt&&Yo(Et,rt),H&&(Et.l=H),ce=Et}return x=p.ya,(H=p.D)&&x&&Si(ce,H,x),Si(ce,"VER",p.la),Ch(p,ce),ce}function Qg(p,x,H){if(x&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return(x=new Ds(p.Ca&&!p.pa?new _h({eb:H}):p.pa)).Ha(p.J),x}function Zf(){}function id(){}function pa(p,x){Do.call(this),this.g=new V_(x),this.l=p,this.h=x&&x.messageUrlParams||null,p=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(p?p["X-WebChannel-Content-Type"]=x.messageContentType:p={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(p?p["X-WebChannel-Client-Profile"]=x.va:p={"X-WebChannel-Client-Profile":x.va}),this.g.S=p,(p=x&&x.Sb)&&!rr(p)&&(this.g.m=p),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!rr(x)&&(this.g.D=x,null!==(p=this.h)&&x in p&&x in(p=this.h)&&delete p[x]),this.j=new Tl(this)}function wh(p){I_.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var x=p.__sm__;if(x){e:{for(const H in x){p=H;break e}p=void 0}(this.i=p)&&(p=this.i,x=null!==x&&p in x?x[p]:void 0),this.data=x}else this.data=p}function Ah(){Sg.call(this),this.status=1}function Tl(p){this.g=p}(u=Ds.prototype).Ha=function(p){this.J=p},u.ea=function(p,x,H,ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);x=x?x.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mg.g(),this.v=function Kc(p){return p.h||(p.h=p.i())}(this.o?this.o:Mg),this.g.onreadystatechange=Ve(this.Ea,this);try{this.B=!0,this.g.open(x,String(p),!0),this.B=!1}catch(Et){return void Xf(this,Et)}if(p=H||"",H=new Map(this.headers),ce)if(Object.getPrototypeOf(ce)===Object.prototype)for(var rt in ce)H.set(rt,ce[rt]);else{if("function"!=typeof ce.keys||"function"!=typeof ce.get)throw Error("Unknown input type for opt_headers: "+String(ce));for(const Et of ce.keys())H.set(Et,ce.get(Et))}ce=Array.from(H.keys()).find(Et=>"content-type"==Et.toLowerCase()),rt=b.FormData&&p instanceof b.FormData,!(0<=Array.prototype.indexOf.call(vh,x,void 0))||ce||rt||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Et,pn]of H)this.g.setRequestHeader(Et,pn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gg(this),this.u=!0,this.g.send(p),this.u=!1}catch(Et){Xf(this,Et)}},u.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Fo(this,"complete"),Fo(this,"abort"),Il(this))},u.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Il(this,!0)),Ds.aa.N.call(this)},u.Ea=function(){this.s||(this.B||this.u||this.j?Hg(this):this.bb())},u.bb=function(){Hg(this)},u.isActive=function(){return!!this.g},u.Z=function(){try{return 2<Lu(this)?this.g.status:-1}catch{return-1}},u.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},u.Oa=function(p){if(this.g){var x=this.g.responseText;return p&&0==x.indexOf(p)&&(x=x.substring(p.length)),E_(x)}},u.Ba=function(){return this.m},u.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(u=V_.prototype).la=8,u.G=1,u.connect=function(p,x,H,ce){no(0),this.W=p,this.H=x||{},H&&void 0!==ce&&(this.H.OSID=H,this.H.OAID=ce),this.F=this.X,this.I=$_(this,null,this.W),hc(this)},u.Ga=function(p){if(this.s)if(this.s=null,1==this.G){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const rt=new vl(this,this.j,p);let Et=this.o;if(this.S&&(Et?(Et=Me(Et),Ye(Et,this.S)):Et=this.S),null!==this.m||this.O||(rt.H=Et,Et=null),this.P)e:{for(var x=0,H=0;H<this.i.length;H++){var ce=this.i[H];if(void 0===(ce="__data__"in ce.map&&"string"==typeof(ce=ce.map.__data__)?ce.length:void 0))break;if(4096<(x+=ce)){x=H;break e}if(4096===x||H===this.i.length-1){x=H+1;break e}}x=1e3}else x=1e3;x=Yf(this,rt,x),Si(H=Xo(this.I),"RID",p),Si(H,"CVER",22),this.D&&Si(H,"X-HTTP-Session-Id",this.D),Ch(this,H),Et&&(this.O?x="headers="+encodeURIComponent(String(F_(Et)))+"&"+x:this.m&&jg(H,this.m,Et)),P_(this.h,rt),this.Ua&&Si(H,"TYPE","init"),this.P?(Si(H,"$req",x),Si(H,"SID","null"),rt.T=!0,xg(rt,H,null)):xg(rt,H,x),this.G=2}}else 3==this.G&&(p?L_(this,p):0==this.i.length||Zy(this.h)||L_(this))},u.Fa=function(){if(this.u=null,B_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Qc(Ve(this.ab,this),p)}},u.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,no(10),rd(this),B_(this))},u.Za=function(){null!=this.C&&(this.C=null,rd(this),Jf(this),no(19))},u.fb=function(p){p?(this.j.info("Successfully pinged google.com"),no(2)):(this.j.info("Failed to ping google.com"),no(1))},u.isActive=function(){return!!this.l&&this.l.isActive(this)},(u=Zf.prototype).ua=function(){},u.ta=function(){},u.sa=function(){},u.ra=function(){},u.isActive=function(){return!0},u.Na=function(){},id.prototype.g=function(p,x){return new pa(p,x)},xt(pa,Do),pa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pa.prototype.close=function(){zg(this.g)},pa.prototype.o=function(p){var x=this.g;if("string"==typeof p){var H={};H.__data__=p,p=H}else this.u&&((H={}).__data__=Ag(p),p=H);x.i.push(new class{constructor(p,x){this.g=p,this.map=x}}(x.Ya++,p)),3==x.G&&hc(x)},pa.prototype.N=function(){this.g.l=null,delete this.j,zg(this.g),delete this.g,pa.aa.N.call(this)},xt(wh,I_),xt(Ah,Sg),xt(Tl,Zf),Tl.prototype.ua=function(){Fo(this.g,"a")},Tl.prototype.ta=function(p){Fo(this.g,new wh(p))},Tl.prototype.sa=function(p){Fo(this.g,new Ah)},Tl.prototype.ra=function(){Fo(this.g,"b")},id.prototype.createWebChannel=id.prototype.g,pa.prototype.send=pa.prototype.o,pa.prototype.open=pa.prototype.m,pa.prototype.close=pa.prototype.close,nn=Te.createWebChannelTransport=function(){return new id},Mn=Te.getStatEventTarget=function(){return jf()},on=Te.Event=yl,Qt=Te.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$f.NO_ERROR=0,$f.TIMEOUT=8,$f.HTTP_ERROR=6,Ft=Te.ErrorCode=$f,b_.COMPLETE="complete",ht=Te.EventType=b_,Dg.EventType=_l,_l.OPEN="a",_l.CLOSE="b",_l.ERROR="c",_l.MESSAGE="d",Do.prototype.listen=Do.prototype.K,bt=Te.WebChannel=Dg,Te.FetchXmlHttpFactory=_h,Ds.prototype.listenOnce=Ds.prototype.L,Ds.prototype.getLastError=Ds.prototype.Ka,Ds.prototype.getLastErrorCode=Ds.prototype.Ba,Ds.prototype.getStatus=Ds.prototype.Z,Ds.prototype.getResponseJson=Ds.prototype.Oa,Ds.prototype.getResponseText=Ds.prototype.oa,Ds.prototype.send=Ds.prototype.ea,Ds.prototype.setWithCredentials=Ds.prototype.Ha,Qe=Te.XhrIo=Ds}).apply(typeof ge<"u"?ge:typeof self<"u"?self:typeof window<"u"?window:{});const Oe="@firebase/firestore";class it{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");let pt="10.14.0";const Pt=new Ce.Vy("@firebase/firestore");function $t(){return Pt.logLevel}function Le(u,...e){if(Pt.logLevel<=Ce.$b.DEBUG){const r=e.map(mr);Pt.debug(`Firestore (${pt}): ${u}`,...r)}}function Jt(u,...e){if(Pt.logLevel<=Ce.$b.ERROR){const r=e.map(mr);Pt.error(`Firestore (${pt}): ${u}`,...r)}}function Kn(u,...e){if(Pt.logLevel<=Ce.$b.WARN){const r=e.map(mr);Pt.warn(`Firestore (${pt}): ${u}`,...r)}}function mr(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function qe(u="Unexpected state"){const e=`FIRESTORE (${pt}) INTERNAL ASSERTION FAILED: `+u;throw Jt(e),new Error(e)}function Re(u,e){u||qe()}function N(u,e){return u}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends re.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nt{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class ke{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(it.UNAUTHENTICATED))}shutdown(){}}class oe{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;Re(void 0===this.o);let l=this.i;const f=$=>this.i!==l?(l=this.i,r($)):Promise.resolve();let m=new Nt;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Nt,e.enqueueRetryable(()=>f(this.currentUser))};const b=()=>{const $=m;e.enqueueRetryable((0,o.A)(function*(){yield $.promise,yield f(s.currentUser)}))},O=$=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.o&&(this.auth.addAuthTokenListener(this.o),b())};this.t.onInit($=>O($)),setTimeout(()=>{if(!this.auth){const $=this.t.getImmediate({optional:!0});$?O($):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Nt)}},0),b()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Re("string"==typeof s.accessToken),new ke(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(null===e||"string"==typeof e),new it(e)}}class de{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class De{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new de(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class st{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mt{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Re(void 0===this.o);const s=f=>{null!=f.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.R;return this.R=f.token,Le("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?r(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>s(f))};const l=f=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>l(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?l(f):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Re("string"==typeof r.token),this.R=r.token,new st(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dn(u){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(u);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<u;s++)r[s]=Math.floor(256*Math.random());return r}class Gn{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=dn(40);for(let f=0;f<l.length;++f)s.length<20&&l[f]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[f]%62))}return s}}function jt(u,e){return u<e?-1:u>e?1:0}function Nr(u,e,r){return u.length===e.length&&u.every((s,l)=>r(s,e[l]))}class Dn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dn.fromMillis(Date.now())}static fromDate(e){return Dn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Dn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new Dn(0,0))}static max(){return new Wt(new Dn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class sn{constructor(e,r,s){void 0===r?r=0:r>e.length&&qe(),void 0===s?s=e.length-r:s>e.length-r&&qe(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===sn.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof sn?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let l=0;l<s;l++){const f=e.get(l),m=r.get(l);if(f<m)return-1;if(f>m)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Ot extends sn{construct(e,r,s){return new Ot(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new Ot(r)}static emptyPath(){return new Ot([])}}const vi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ir extends sn{construct(e,r,s){return new ir(e,r,s)}static isValidIdentifier(e){return vi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ir(["__name__"])}static fromServerFormat(e){const r=[];let s="",l=0;const f=()=>{if(0===s.length)throw new ue(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let m=!1;for(;l<e.length;){const b=e[l];if("\\"===b){if(l+1===e.length)throw new ue(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[l+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new ue(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=O,l+=2}else"`"===b?(m=!m,l++):"."!==b||m?(s+=b,l++):(f(),l++)}if(f(),m)throw new ue(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ir(r)}static emptyPath(){return new ir([])}}class At{constructor(e){this.path=e}static fromPath(e){return new At(Ot.fromString(e))}static fromName(e){return new At(Ot.fromString(e).popFirst(5))}static empty(){return new At(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ot.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Ot.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new At(new Ot(e.slice()))}}class jn{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new jn(Wt.min(),At.empty(),-1)}static max(){return new jn(Wt.max(),At.empty(),-1)}}function ss(u,e){let r=u.readTime.compareTo(e.readTime);return 0!==r?r:(r=At.comparator(u.documentKey,e.documentKey),0!==r?r:jt(u.largestBatchId,e.largestBatchId))}const cn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ri{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ti(u){return br.apply(this,arguments)}function br(){return(br=(0,o.A)(function*(u){if(u.code!==X.FAILED_PRECONDITION||u.message!==cn)throw u;Le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ze((s,l)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,l)},this.catchCallback=f=>{this.wrapFailure(r,f).next(s,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ze?r:ze.resolve(r)}catch(r){return ze.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ze.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ze.reject(r)}static resolve(e){return new ze((r,s)=>{r(e)})}static reject(e){return new ze((r,s)=>{s(e)})}static waitFor(e){return new ze((r,s)=>{let l=0,f=0,m=!1;e.forEach(b=>{++l,b.next(()=>{++f,m&&f===l&&r()},O=>s(O))}),m=!0,f===l&&r()})}static or(e){let r=ze.resolve(!1);for(const s of e)r=r.next(l=>l?ze.resolve(l):s());return r}static forEach(e,r){const s=[];return e.forEach((l,f)=>{s.push(r.call(this,l,f))}),this.waitFor(s)}static mapArray(e,r){return new ze((s,l)=>{const f=e.length,m=new Array(f);let b=0;for(let O=0;O<f;O++){const $=O;r(e[$]).next(ne=>{m[$]=ne,++b,b===f&&s(m)},ne=>l(ne))}})}static doWhile(e,r){return new ze((s,l)=>{const f=()=>{!0===e()?r().next(()=>{f()},l):s()};f()})}}function Zn(u){return"IndexedDbTransactionError"===u.name}let Y=(()=>{class u{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=l=>this.ie(l),this.se=l=>s.writeSequenceNumber(l))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return u.oe=-1,u})();function we(u){return null==u}function Pe(u){return 0===u&&1/u==-1/0}function Nn(u){let e=0;for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&e++;return e}function tn(u,e){for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&e(r,u[r])}function Jr(u){for(const e in u)if(Object.prototype.hasOwnProperty.call(u,e))return!1;return!0}class pr{constructor(e,r){this.comparator=e,this.root=r||Ur.EMPTY}insert(e,r){return new pr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ur.BLACK,null,null))}remove(e){return new pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ur.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mi(this.root,e,this.comparator,!1)}getReverseIterator(){return new mi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mi(this.root,e,this.comparator,!0)}}class mi{constructor(e,r,s,l){this.isReverse=l,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?s(e.key,r):1,r&&l&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ur{constructor(e,r,s,l,f){this.key=e,this.value=r,this.color=s??Ur.RED,this.left=l??Ur.EMPTY,this.right=f??Ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,l,f){return new Ur(e??this.key,r??this.value,s??this.color,l??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const f=s(e,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(e,r,s),null):0===f?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return Ur.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}}Ur.EMPTY=null,Ur.RED=!0,Ur.BLACK=!1,Ur.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,r,s,l,f){return this}insert(e,r,s){return new Ur(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ar{constructor(e){this.comparator=e,this.data=new pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new xi(this.data.getIterator())}getIteratorFrom(e){return new xi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof ar)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,f=s.getNext().key;if(0!==this.comparator(l,f))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ar(this.comparator);return r.data=e,r}}class xi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ir{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new Ir([])}unionWith(e){let r=new ar(ir.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Ir(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Nr(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Us extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ri{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Us("Invalid base64 string: "+f):f}}(e);return new ri(r)}static fromUint8Array(e){const r=function(l){let f="";for(let m=0;m<l.length;++m)f+=String.fromCharCode(l[m]);return f}(e);return new ri(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ri.EMPTY_BYTE_STRING=new ri("");const Rs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(u){if(Re(!!u),"string"==typeof u){let e=0;const r=Rs.exec(u);if(Re(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(u);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Gr(u.seconds),nanos:Gr(u.nanos)}}function Gr(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function ds(u){return"string"==typeof u?ri.fromBase64String(u):ri.fromUint8Array(u)}function yo(u){var e,r;return"server_timestamp"===(null===(r=((null===(e=u?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Ks(u){const e=u.mapValue.fields.__previous_value__;return yo(e)?Ks(e):e}function ro(u){const e=os(u.mapValue.fields.__local_write_time__.timestampValue);return new Dn(e.seconds,e.nanos)}class Jo{constructor(e,r,s,l,f,m,b,O,$){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=b,this.longPollingOptions=O,this.useFetchStreams=$}}class Es{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Es("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Es&&e.projectId===this.projectId&&e.database===this.database}}const Qi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function as(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?yo(u)?4:Wr(u)?9007199254740991:Ms(u)?10:11:qe()}function fs(u,e){if(u===e)return!0;const r=as(u);if(r!==as(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===e.booleanValue;case 4:return ro(u).isEqual(ro(e));case 3:return function(l,f){if("string"==typeof l.timestampValue&&"string"==typeof f.timestampValue&&l.timestampValue.length===f.timestampValue.length)return l.timestampValue===f.timestampValue;const m=os(l.timestampValue),b=os(f.timestampValue);return m.seconds===b.seconds&&m.nanos===b.nanos}(u,e);case 5:return u.stringValue===e.stringValue;case 6:return f=e,ds(u.bytesValue).isEqual(ds(f.bytesValue));case 7:return u.referenceValue===e.referenceValue;case 8:return function(l,f){return Gr(l.geoPointValue.latitude)===Gr(f.geoPointValue.latitude)&&Gr(l.geoPointValue.longitude)===Gr(f.geoPointValue.longitude)}(u,e);case 2:return function(l,f){if("integerValue"in l&&"integerValue"in f)return Gr(l.integerValue)===Gr(f.integerValue);if("doubleValue"in l&&"doubleValue"in f){const m=Gr(l.doubleValue),b=Gr(f.doubleValue);return m===b?Pe(m)===Pe(b):isNaN(m)&&isNaN(b)}return!1}(u,e);case 9:return Nr(u.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:case 11:return function(l,f){const m=l.mapValue.fields||{},b=f.mapValue.fields||{};if(Nn(m)!==Nn(b))return!1;for(const O in m)if(m.hasOwnProperty(O)&&(void 0===b[O]||!fs(m[O],b[O])))return!1;return!0}(u,e);default:return qe()}var f}function Bs(u,e){return void 0!==(u.values||[]).find(r=>fs(r,e))}function wi(u,e){if(u===e)return 0;const r=as(u),s=as(e);if(r!==s)return jt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return jt(u.booleanValue,e.booleanValue);case 2:return function(f,m){const b=Gr(f.integerValue||f.doubleValue),O=Gr(m.integerValue||m.doubleValue);return b<O?-1:b>O?1:b===O?0:isNaN(b)?isNaN(O)?0:-1:1}(u,e);case 3:return vo(u.timestampValue,e.timestampValue);case 4:return vo(ro(u),ro(e));case 5:return jt(u.stringValue,e.stringValue);case 6:return function(f,m){const b=ds(f),O=ds(m);return b.compareTo(O)}(u.bytesValue,e.bytesValue);case 7:return function(f,m){const b=f.split("/"),O=m.split("/");for(let $=0;$<b.length&&$<O.length;$++){const ne=jt(b[$],O[$]);if(0!==ne)return ne}return jt(b.length,O.length)}(u.referenceValue,e.referenceValue);case 8:return function(f,m){const b=jt(Gr(f.latitude),Gr(m.latitude));return 0!==b?b:jt(Gr(f.longitude),Gr(m.longitude))}(u.geoPointValue,e.geoPointValue);case 9:return Is(u.arrayValue,e.arrayValue);case 10:return function(f,m){var b,O,$,ne;const lt=null===(b=(f.fields||{}).value)||void 0===b?void 0:b.arrayValue,xt=null===(O=(m.fields||{}).value)||void 0===O?void 0:O.arrayValue,Xt=jt((null===($=lt?.values)||void 0===$?void 0:$.length)||0,(null===(ne=xt?.values)||void 0===ne?void 0:ne.length)||0);return 0!==Xt?Xt:Is(lt,xt)}(u.mapValue,e.mapValue);case 11:return function(f,m){if(f===Qi.mapValue&&m===Qi.mapValue)return 0;if(f===Qi.mapValue)return 1;if(m===Qi.mapValue)return-1;const b=f.fields||{},O=Object.keys(b),$=m.fields||{},ne=Object.keys($);O.sort(),ne.sort();for(let he=0;he<O.length&&he<ne.length;++he){const Ve=jt(O[he],ne[he]);if(0!==Ve)return Ve;const lt=wi(b[O[he]],$[ne[he]]);if(0!==lt)return lt}return jt(O.length,ne.length)}(u.mapValue,e.mapValue);default:throw qe()}}function vo(u,e){if("string"==typeof u&&"string"==typeof e&&u.length===e.length)return jt(u,e);const r=os(u),s=os(e),l=jt(r.seconds,s.seconds);return 0!==l?l:jt(r.nanos,s.nanos)}function Is(u,e){const r=u.values||[],s=e.values||[];for(let l=0;l<r.length&&l<s.length;++l){const f=wi(r[l],s[l]);if(f)return f}return jt(r.length,s.length)}function Ts(u){return Yn(u)}function Yn(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(r){const s=os(r);return`time(${s.seconds},${s.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?ds(u.bytesValue).toBase64():"referenceValue"in u?At.fromName(u.referenceValue).toString():"geoPointValue"in u?function(r){return`geo(${r.latitude},${r.longitude})`}(u.geoPointValue):"arrayValue"in u?function(r){let s="[",l=!0;for(const f of r.values||[])l?l=!1:s+=",",s+=Yn(f);return s+"]"}(u.arrayValue):"mapValue"in u?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",f=!0;for(const m of s)f?f=!1:l+=",",l+=`${m}:${Yn(r.fields[m])}`;return l+"}"}(u.mapValue):qe()}function zr(u,e){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${e.path.canonicalString()}`}}function Cs(u){return!!u&&"integerValue"in u}function Ei(u){return!!u&&"arrayValue"in u}function js(u){return!!u&&"nullValue"in u}function qs(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function Ps(u){return!!u&&"mapValue"in u}function Ms(u){var e,r;return"__vector__"===(null===(r=((null===(e=u?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function io(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const e={mapValue:{fields:{}}};return tn(u.mapValue.fields,(r,s)=>e.mapValue.fields[r]=io(s)),e}if(u.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(u.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=io(u.arrayValue.values[r]);return e}return Object.assign({},u)}function Wr(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!Ps(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=io(r)}setAll(e){let r=ir.emptyPath(),s={},l=[];e.forEach((m,b)=>{if(!r.isImmediateParentOf(b)){const O=this.getFieldsMap(r);this.applyChanges(O,s,l),s={},l=[],r=b.popLast()}m?s[b.lastSegment()]=io(m):l.push(b.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,s,l)}delete(e){const r=this.field(e.popLast());Ps(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=r.mapValue.fields[e.get(s)];Ps(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,s){tn(r,(l,f)=>e[l]=f);for(const l of s)delete e[l]}clone(){return new sr(io(this.value))}}function ls(u){const e=[];return tn(u.fields,(r,s)=>{const l=new ir([r]);if(Ps(s)){const f=ls(s.mapValue).fields;if(0===f.length)e.push(l);else for(const m of f)e.push(l.child(m))}else e.push(l)}),new Ir(e)}class qn{constructor(e,r,s,l,f,m,b){this.key=e,this.documentType=r,this.version=s,this.readTime=l,this.createTime=f,this.data=m,this.documentState=b}static newInvalidDocument(e){return new qn(e,0,Wt.min(),Wt.min(),Wt.min(),sr.empty(),0)}static newFoundDocument(e,r,s,l){return new qn(e,1,r,Wt.min(),s,l,0)}static newNoDocument(e,r){return new qn(e,2,r,Wt.min(),Wt.min(),sr.empty(),0)}static newUnknownDocument(e,r){return new qn(e,3,r,Wt.min(),Wt.min(),sr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qr{constructor(e,r){this.position=e,this.inclusive=r}}function $s(u,e,r){let s=0;for(let l=0;l<u.position.length;l++){const f=e[l],m=u.position[l];if(s=f.field.isKeyField()?At.comparator(At.fromName(m.referenceValue),r.key):wi(m,r.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function Un(u,e){if(null===u)return null===e;if(null===e||u.inclusive!==e.inclusive||u.position.length!==e.position.length)return!1;for(let r=0;r<u.position.length;r++)if(!fs(u.position[r],e.position[r]))return!1;return!0}class Ai{constructor(e,r="asc"){this.field=e,this.dir=r}}function Eo(u,e){return u.dir===e.dir&&u.field.isEqual(e.field)}class Os{}class Rn extends Os{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new tr(e,r,s):"array-contains"===r?new Gs(e,s):"in"===r?new so(e,s):"not-in"===r?new Rr(e,s):"array-contains-any"===r?new zs(e,s):new Rn(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new Sa(e,s):new bs(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(wi(r,this.value)):null!==r&&as(this.value)===as(r)&&this.matchesComparison(wi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends Os{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new yr(e,r)}matches(e){return Qr(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Qr(u){return"and"===u.op}function xs(u){return function sa(u){for(const e of u.filters)if(e instanceof yr)return!1;return!0}(u)&&Qr(u)}function ps(u){if(u instanceof Rn)return u.field.canonicalString()+u.op.toString()+Ts(u.value);if(xs(u))return u.filters.map(e=>ps(e)).join(",");{const e=u.filters.map(r=>ps(r)).join(",");return`${u.op}(${e})`}}function gs(u,e){return u instanceof Rn?(s=u,(l=e)instanceof Rn&&s.op===l.op&&s.field.isEqual(l.field)&&fs(s.value,l.value)):u instanceof yr?function(s,l){return l instanceof yr&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((f,m,b)=>f&&gs(m,l.filters[b]),!0)}(u,e):void qe();var s,l}function Hs(u){return u instanceof Rn?`${(r=u).field.canonicalString()} ${r.op} ${Ts(r.value)}`:u instanceof yr?function(r){return r.op.toString()+" {"+r.getFilters().map(Hs).join(" ,")+"}"}(u):"Filter";var r}class tr extends Rn{constructor(e,r,s){super(e,r,s),this.key=At.fromName(s.referenceValue)}matches(e){const r=At.comparator(e.key,this.key);return this.matchesComparison(r)}}class Sa extends Rn{constructor(e,r){super(e,"in",r),this.keys=Ns(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class bs extends Rn{constructor(e,r){super(e,"not-in",r),this.keys=Ns(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Ns(u,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>At.fromName(s.referenceValue))}class Gs extends Rn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Ei(r)&&Bs(r.arrayValue,this.value)}}class so extends Rn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Bs(this.value.arrayValue,r)}}class Rr extends Rn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Bs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Bs(this.value.arrayValue,r)}}class zs extends Rn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Ei(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Bs(this.value.arrayValue,s))}}class Ui{constructor(e,r=null,s=[],l=[],f=null,m=null,b=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=f,this.startAt=m,this.endAt=b,this.ue=null}}function Vo(u,e=null,r=[],s=[],l=null,f=null,m=null){return new Ui(u,e,r,s,l,f,m)}function li(u){const e=N(u);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>ps(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),we(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Ts(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Ts(s)).join(",")),e.ue=r}return e.ue}function W(u,e){if(u.limit!==e.limit||u.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<u.orderBy.length;r++)if(!Eo(u.orderBy[r],e.orderBy[r]))return!1;if(u.filters.length!==e.filters.length)return!1;for(let r=0;r<u.filters.length;r++)if(!gs(u.filters[r],e.filters[r]))return!1;return u.collectionGroup===e.collectionGroup&&!!u.path.isEqual(e.path)&&!!Un(u.startAt,e.startAt)&&Un(u.endAt,e.endAt)}function q(u){return At.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}class yt{constructor(e,r=null,s=[],l=[],f=null,m="F",b=null,O=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=f,this.limitType=m,this.startAt=b,this.endAt=O,this.ce=null,this.le=null,this.he=null}}function B(u){return new yt(u)}function M(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function J(u){return null!==u.collectionGroup}function ve(u){const e=N(u);if(null===e.ce){e.ce=[];const r=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),r.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let b=new ar(ir.comparator);return m.filters.forEach(O=>{O.getFlattenedFilters().forEach($=>{$.isInequality()&&(b=b.add($.field))})}),b})(e).forEach(f=>{r.has(f.canonicalString())||f.isKeyField()||e.ce.push(new Ai(f,s))}),r.has(ir.keyField().canonicalString())||e.ce.push(new Ai(ir.keyField(),s))}return e.ce}function Vt(u){const e=N(u);return e.le||(e.le=function Pr(u,e){if("F"===u.limitType)return Vo(u.path,u.collectionGroup,e,u.filters,u.limit,u.startAt,u.endAt);{e=e.map(l=>new Ai(l.field,"desc"===l.dir?"asc":"desc"));const r=u.endAt?new qr(u.endAt.position,u.endAt.inclusive):null,s=u.startAt?new qr(u.startAt.position,u.startAt.inclusive):null;return Vo(u.path,u.collectionGroup,e,u.filters,u.limit,r,s)}}(e,ve(u))),e.le}function Zr(u,e){const r=u.filters.concat([e]);return new yt(u.path,u.collectionGroup,u.explicitOrderBy.slice(),r,u.limit,u.limitType,u.startAt,u.endAt)}function Ii(u,e,r){return new yt(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),e,r,u.startAt,u.endAt)}function $r(u,e){return W(Vt(u),Vt(e))&&u.limitType===e.limitType}function ur(u){return`${li(Vt(u))}|lt:${u.limitType}`}function fi(u){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(l=>Hs(l)).join(", ")}]`),we(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(l=>{return`${(m=l).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(l=>Ts(l)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(l=>Ts(l)).join(",")),`Target(${s})`}(Vt(u))}; limitType=${u.limitType})`}function ii(u,e){return e.isFoundDocument()&&function(s,l){const f=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):At.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(u,e)&&function(s,l){for(const f of ve(s))if(!f.field.isKeyField()&&null===l.data.field(f.field))return!1;return!0}(u,e)&&function(s,l){for(const f of s.filters)if(!f.matches(l))return!1;return!0}(u,e)&&(l=e,!((s=u).startAt&&!function(m,b,O){const $=$s(m,b,O);return m.inclusive?$<=0:$<0}(s.startAt,ve(s),l)||s.endAt&&!function(m,b,O){const $=$s(m,b,O);return m.inclusive?$>=0:$>0}(s.endAt,ve(s),l)));var s,l}function Mo(u){return(e,r)=>{let s=!1;for(const l of ve(u)){const f=oo(l,e,r);if(0!==f)return f;s=s||l.field.isKeyField()}return 0}}function oo(u,e,r){const s=u.field.isKeyField()?At.comparator(e.key,r.key):function(f,m,b){const O=m.data.field(f),$=b.data.field(f);return null!==O&&null!==$?wi(O,$):qe()}(u.field,e,r);switch(u.dir){case"asc":return s;case"desc":return-1*s;default:return qe()}}class ms{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[l,f]of s)if(this.equalsFn(l,e))return f}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,r]],void this.innerSize++;for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],e))return void(l[f]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){tn(this.inner,(r,s)=>{for(const[l,f]of s)e(l,f)})}isEmpty(){return Jr(this.inner)}size(){return this.innerSize}}const To=new pr(At.comparator);function Oi(){return To}const oa=new pr(At.comparator);function _a(...u){let e=oa;for(const r of u)e=e.insert(r.key,r);return e}function ao(u){let e=oa;return u.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Ni(){return ks()}function Lo(){return ks()}function ks(){return new ms(u=>u.toString(),(u,e)=>u.isEqual(e))}const _i=new pr(At.comparator),Zo=new ar(At.comparator);function $n(...u){let e=Zo;for(const r of u)e=e.add(r);return e}const du=new ar(jt);function ya(u,e){if(u.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pe(e)?"-0":e}}function aa(u){return{integerValue:""+u}}function ua(u,e){return function It(u){return"number"==typeof u&&Number.isInteger(u)&&!Pe(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}(e)?aa(e):ya(u,e)}class Bo{constructor(){this._=void 0}}function $a(u,e,r){return u instanceof Oo?function(l,f){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return f&&yo(f)&&(f=Ks(f)),f&&(m.fields.__previous_value__=f),{mapValue:m}}(r,e):u instanceof Co?ea(u,e):u instanceof uo?ta(u,e):function(l,f){const m=hu(l,f),b=Ra(m)+Ra(l.Pe);return Cs(m)&&Cs(l.Pe)?aa(b):ya(l.serializer,b)}(u,e)}function va(u,e,r){return u instanceof Co?ea(u,e):u instanceof uo?ta(u,e):r}function hu(u,e){return u instanceof xo?Cs(s=e)||(f=s)&&"doubleValue"in f?e:{integerValue:0}:null;var s,f}class Oo extends Bo{}class Co extends Bo{constructor(e){super(),this.elements=e}}function ea(u,e){const r=wl(e);for(const s of u.elements)r.some(l=>fs(l,s))||r.push(s);return{arrayValue:{values:r}}}class uo extends Bo{constructor(e){super(),this.elements=e}}function ta(u,e){let r=wl(e);for(const s of u.elements)r=r.filter(l=>!fs(l,s));return{arrayValue:{values:r}}}class xo extends Bo{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Ra(u){return Gr(u.integerValue||u.doubleValue)}function wl(u){return Ei(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class A{constructor(e,r){this.field=e,this.transform=r}}class F{constructor(e,r){this.version=e,this.transformResults=r}}class G{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new G}static exists(e){return new G(void 0,e)}static updateTime(e){return new G(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ie(u,e){return void 0!==u.updateTime?e.isFoundDocument()&&e.version.isEqual(u.updateTime):void 0===u.exists||u.exists===e.isFoundDocument()}class gt{}function Rt(u,e){if(!u.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return u.isNoDocument()?new Yi(u.key,G.none()):new lr(u.key,u.data,G.none());{const r=u.data,s=sr.empty();let l=new ar(ir.comparator);for(let f of e.fields)if(!l.has(f)){let m=r.field(f);null===m&&f.length>1&&(f=f.popLast(),m=r.field(f)),null===m?s.delete(f):s.set(f,m),l=l.add(f)}return new Tr(u.key,s,new Ir(l.toArray()),G.none())}}function On(u,e,r){u instanceof lr?function(l,f,m){const b=l.value.clone(),O=Xi(l.fieldTransforms,f,m.transformResults);b.setAll(O),f.convertToFoundDocument(m.version,b).setHasCommittedMutations()}(u,e,r):u instanceof Tr?function(l,f,m){if(!Ie(l.precondition,f))return void f.convertToUnknownDocument(m.version);const b=Xi(l.fieldTransforms,f,m.transformResults),O=f.data;O.setAll(si(l)),O.setAll(b),f.convertToFoundDocument(m.version,O).setHasCommittedMutations()}(u,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Hr(u,e,r,s){return u instanceof lr?function(f,m,b,O){if(!Ie(f.precondition,m))return b;const $=f.value.clone(),ne=lo(f.fieldTransforms,O,m);return $.setAll(ne),m.convertToFoundDocument(m.version,$).setHasLocalMutations(),null}(u,e,r,s):u instanceof Tr?function(f,m,b,O){if(!Ie(f.precondition,m))return b;const $=lo(f.fieldTransforms,O,m),ne=m.data;return ne.setAll(si(f)),ne.setAll($),m.convertToFoundDocument(m.version,ne).setHasLocalMutations(),null===b?null:b.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(he=>he.field))}(u,e,r,s):(b=r,Ie(u.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):b);var m,b}function pi(u,e){let r=null;for(const s of u.fieldTransforms){const l=e.data.field(s.field),f=hu(s.transform,l||null);null!=f&&(null===r&&(r=sr.empty()),r.set(s.field,f))}return r||null}function kr(u,e){return u.type===e.type&&!!u.key.isEqual(e.key)&&!!u.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=u.fieldTransforms)&&void 0===l||s&&l&&Nr(s,l,(f,m)=>function Z(u,e){return u.field.isEqual(e.field)&&(l=e.transform,(s=u.transform)instanceof Co&&l instanceof Co||s instanceof uo&&l instanceof uo?Nr(s.elements,l.elements,fs):s instanceof xo&&l instanceof xo?fs(s.Pe,l.Pe):s instanceof Oo&&l instanceof Oo);var s,l}(f,m))))&&(0===u.type?u.value.isEqual(e.value):1!==u.type||u.data.isEqual(e.data)&&u.fieldMask.isEqual(e.fieldMask));var s,l}class lr extends gt{constructor(e,r,s,l=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Tr extends gt{constructor(e,r,s,l,f=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function si(u){const e=new Map;return u.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=u.data.field(r);e.set(r,s)}}),e}function Xi(u,e,r){const s=new Map;Re(u.length===r.length);for(let l=0;l<r.length;l++){const f=u[l],m=f.transform,b=e.data.field(f.field);s.set(f.field,va(m,b,r[l]))}return s}function lo(u,e,r){const s=new Map;for(const l of u){const f=l.transform,m=r.data.field(l.field);s.set(l.field,$a(f,m,e))}return s}class Yi extends gt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qs extends gt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ki{constructor(e,r,s,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const f=this.mutations[l];f.key.isEqual(e.key)&&On(f,e,s[l])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Hr(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Hr(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=Lo();return this.mutations.forEach(l=>{const f=e.get(l.key),m=f.overlayedDocument;let b=this.applyToLocalView(m,f.mutatedFields);b=r.has(l.key)?null:b;const O=Rt(m,b);null!==O&&s.set(l.key,O),m.isValidDocument()||m.convertToNoDocument(Wt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),$n())}isEqual(e){return this.batchId===e.batchId&&Nr(this.mutations,e.mutations,(r,s)=>kr(r,s))&&Nr(this.baseMutations,e.baseMutations,(r,s)=>kr(r,s))}}class Xs{constructor(e,r,s,l){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(e,r,s){Re(e.mutations.length===s.length);let l=_i;const f=e.mutations;for(let m=0;m<f.length;m++)l=l.insert(f[m].key,s[m].version);return new Xs(e,r,s,l)}}class No{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fu{constructor(e,r){this.count=e,this.unchangedNames=r}}var Bi,Mr;function Al(u){if(void 0===u)return Jt("GRPC error has no .code"),X.UNKNOWN;switch(u){case Bi.OK:return X.OK;case Bi.CANCELLED:return X.CANCELLED;case Bi.UNKNOWN:return X.UNKNOWN;case Bi.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Bi.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Bi.INTERNAL:return X.INTERNAL;case Bi.UNAVAILABLE:return X.UNAVAILABLE;case Bi.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Bi.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Bi.NOT_FOUND:return X.NOT_FOUND;case Bi.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Bi.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Bi.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Bi.ABORTED:return X.ABORTED;case Bi.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Bi.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Bi.DATA_LOSS:return X.DATA_LOSS;default:return qe()}}(Mr=Bi||(Bi={}))[Mr.OK=0]="OK",Mr[Mr.CANCELLED=1]="CANCELLED",Mr[Mr.UNKNOWN=2]="UNKNOWN",Mr[Mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mr[Mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mr[Mr.NOT_FOUND=5]="NOT_FOUND",Mr[Mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mr[Mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mr[Mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mr[Mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mr[Mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mr[Mr.ABORTED=10]="ABORTED",Mr[Mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mr[Mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mr[Mr.INTERNAL=13]="INTERNAL",Mr[Mr.UNAVAILABLE=14]="UNAVAILABLE",Mr[Mr.DATA_LOSS=15]="DATA_LOSS";const pu=new je([4294967295,4294967295],0);function ju(u){const e=function Ha(){return new TextEncoder}().encode(u),r=new Ze;return r.update(e),new Uint8Array(r.digest())}function V(u){const e=new DataView(u.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new je([r,s],0),new je([l,f],0)]}class v{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new y(`Invalid padding: ${r}`);if(s<0)throw new y(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new y(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new y(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=je.fromNumber(this.Ie)}Ee(e,r,s){let l=e.add(r.multiply(je.fromNumber(s)));return 1===l.compare(pu)&&(l=new je([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=ju(e),[s,l]=V(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(s,l,f);if(!this.de(m))return!1}return!0}static create(e,r,s){const l=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),m=new v(f,l,r);return s.forEach(b=>m.insert(b)),m}insert(e){if(0===this.Ie)return;const r=ju(e),[s,l]=V(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(s,l,f);this.Ae(m)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class y extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class P{constructor(e,r,s,l,f){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const l=new Map;return l.set(e,Q.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new P(Wt.min(),l,new pr(jt),Oi(),$n())}}class Q{constructor(e,r,s,l,f){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Q(s,r,$n(),$n(),$n())}}class le{constructor(e,r,s,l){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=l}}class Ae{constructor(e,r){this.targetId=e,this.me=r}}class xe{constructor(e,r,s=ri.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=l}}class ut{constructor(){this.fe=0,this.ge=Cn(),this.pe=ri.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=$n(),r=$n(),s=$n();return this.ge.forEach((l,f)=>{switch(f){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:qe()}}),new Q(this.pe,this.ye,e,r,s)}Ce(){this.we=!1,this.ge=Cn()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class wt{constructor(e){this.Le=e,this.Be=new Map,this.ke=Oi(),this.qe=rn(),this.Qe=new pr(jt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:qe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,l)=>{this.ze(l)&&r(l)})}He(e){const r=e.targetId,s=e.me.count,l=this.Je(r);if(l){const f=l.target;if(q(f))if(0===s){const m=new At(f.path);this.Ue(r,m,qn.newNoDocument(m,Wt.min()))}else Re(1===s);else{const m=this.Ye(r);if(m!==s){const b=this.Ze(e),O=b?this.Xe(b,e,m):1;0!==O&&(this.je(r),this.Qe=this.Qe.insert(r,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:f=0}=r;let m,b;try{m=ds(s).toUint8Array()}catch(O){if(O instanceof Us)return Kn("Decoding the base64 bloom filter in existence filter failed ("+O.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw O}try{b=new v(m,l,f)}catch(O){return Kn(O instanceof y?"BloomFilter error: ":"Applying bloom filter failed: ",O),null}return 0===b.Ie?null:b}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let l=0;return s.forEach(f=>{const m=this.Le.tt(),b=`projects/${m.projectId}/databases/${m.database}/documents/${f.path.canonicalString()}`;e.mightContain(b)||(this.Ue(r,f,null),l++)}),l}rt(e){const r=new Map;this.Be.forEach((f,m)=>{const b=this.Je(m);if(b){if(f.current&&q(b.target)){const O=new At(b.target.path);null!==this.ke.get(O)||this.it(m,O)||this.Ue(m,O,qn.newNoDocument(O,e))}f.be&&(r.set(m,f.ve()),f.Ce())}});let s=$n();this.qe.forEach((f,m)=>{let b=!0;m.forEachWhile(O=>{const $=this.Je(O);return!$||"TargetPurposeLimboResolution"===$.purpose||(b=!1,!1)}),b&&(s=s.add(f))}),this.ke.forEach((f,m)=>m.setReadTime(e));const l=new P(e,r,this.Qe,this.ke,s);return this.ke=Oi(),this.qe=rn(),this.Qe=new pr(jt),l}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const l=this.Ge(e);this.it(e,r)?l.Fe(r,1):l.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new ut,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new ar(jt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Le("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ut),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function rn(){return new pr(At.comparator)}function Cn(){return new pr(At.comparator)}const Or={asc:"ASCENDING",desc:"DESCENDING"},gr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fn={and:"AND",or:"OR"};class or{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Fr(u,e){return u.useProto3Json||we(e)?e:{value:e}}function Di(u,e){return u.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fi(u,e){return u.useProto3Json?e.toBase64():e.toUint8Array()}function ws(u,e){return Di(u,e.toTimestamp())}function Vr(u){return Re(!!u),Wt.fromTimestamp(function(r){const s=os(r);return new Dn(s.seconds,s.nanos)}(u))}function zn(u,e){return Ys(u,e).canonicalString()}function Ys(u,e){const r=(l=u,new Ot(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?r:r.child(e)}function _s(u){const e=Ot.fromString(u);return Re(Ga(e)),e}function co(u,e){return zn(u.databaseId,e.path)}function Zi(u,e){const r=_s(e);if(r.get(1)!==u.databaseId.projectId)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+u.databaseId.projectId);if(r.get(3)!==u.databaseId.database)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+u.databaseId.database);return new At(ca(r))}function $o(u,e){return zn(u.databaseId,e)}function Ws(u){return new Ot(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function ca(u){return Re(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function ji(u,e,r){return{name:co(u,e),fields:r.value.mapValue.fields}}function Js(u,e){return{documents:[$o(u,e.path)]}}function Xr(u,e){const r={structuredQuery:{}},s=e.path;let l;null!==e.collectionGroup?(l=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=$o(u,l);const f=function($){if(0!==$.length)return Go(yr.create($,"and"))}(e.filters);f&&(r.structuredQuery.where=f);const m=function($){if(0!==$.length)return $.map(ne=>{return{field:eo((Ve=ne).field),direction:ts(Ve.dir)};var Ve})}(e.orderBy);m&&(r.structuredQuery.orderBy=m);const b=Fr(u,e.limit);return null!==b&&(r.structuredQuery.limit=b),e.startAt&&(r.structuredQuery.startAt={before:($=e.startAt).inclusive,values:$.position}),e.endAt&&(r.structuredQuery.endAt=function($){return{before:!$.inclusive,values:$.position}}(e.endAt)),{_t:r,parent:l};var $}function ci(u){let e=function Pa(u){const e=_s(u);return 4===e.length?Ot.emptyPath():ca(e)}(u.parent);const r=u.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){Re(1===s);const ne=r.from[0];ne.allDescendants?l=ne.collectionId:e=e.child(ne.collectionId)}let f=[];r.where&&(f=function(he){const Ve=da(he);return Ve instanceof yr&&xs(Ve)?Ve.getFilters():[Ve]}(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(Ve=>{return new Ai($i((xt=Ve).field),function(Ht){switch(Ht){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(xt.direction));var xt}));let b=null;r.limit&&(b=function(he){let Ve;return Ve="object"==typeof he?he.value:he,we(Ve)?null:Ve}(r.limit));let O=null;var he;r.startAt&&(O=new qr((he=r.startAt).values||[],!!he.before));let $=null;return r.endAt&&($=function(he){return new qr(he.values||[],!he.before)}(r.endAt)),function k(u,e,r,s,l,f,m,b){return new yt(u,e,r,s,l,f,m,b)}(e,l,m,f,b,"F",O,$)}function da(u){return void 0!==u.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=$i(r.unaryFilter.field);return Rn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=$i(r.unaryFilter.field);return Rn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=$i(r.unaryFilter.field);return Rn.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=$i(r.unaryFilter.field);return Rn.create(m,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(u):void 0!==u.fieldFilter?Rn.create($i((r=u).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==u.compositeFilter?function(r){return yr.create(r.compositeFilter.filters.map(s=>da(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return qe()}}(r.compositeFilter.op))}(u):qe();var r}function ts(u){return Or[u]}function Ho(u){return gr[u]}function bo(u){return Fn[u]}function eo(u){return{fieldPath:u.canonicalString()}}function $i(u){return ir.fromServerFormat(u.fieldPath)}function Go(u){return u instanceof Rn?function(r){if("=="===r.op){if(qs(r.value))return{unaryFilter:{field:eo(r.field),op:"IS_NAN"}};if(js(r.value))return{unaryFilter:{field:eo(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(qs(r.value))return{unaryFilter:{field:eo(r.field),op:"IS_NOT_NAN"}};if(js(r.value))return{unaryFilter:{field:eo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(r.field),op:Ho(r.op),value:r.value}}}(u):u instanceof yr?function(r){const s=r.getFilters().map(l=>Go(l));return 1===s.length?s[0]:{compositeFilter:{op:bo(r.op),filters:s}}}(u):qe()}function _c(u){const e=[];return u.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Ga(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}class T{constructor(e,r,s,l,f=Wt.min(),m=Wt.min(),b=ri.EMPTY_BYTE_STRING,O=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=b,this.expectedCount=O}withSequenceNumber(e){return new T(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new T(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new T(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new T(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class S{constructor(e){this.ct=e}}function hr(u){const e=ci({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?Ii(e,e.limit,"L"):e}class Wo{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Gr(e.integerValue));else if("doubleValue"in e){const s=Gr(e.doubleValue);isNaN(s)?this.dt(r,13):(this.dt(r,15),Pe(s)?r.At(0):r.At(s))}else if("timestampValue"in e){let s=e.timestampValue;this.dt(r,20),"string"==typeof s&&(s=os(s)),r.Rt(`${s.seconds||""}`),r.At(s.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(ds(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.dt(r,45),r.At(s.latitude||0),r.At(s.longitude||0)}else"mapValue"in e?Wr(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Ms(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):qe()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const s=e.fields||{};this.dt(r,55);for(const l of Object.keys(s))this.Vt(l,r),this.Tt(s[l],r)}wt(e,r){var s,l;const f=e.fields||{};this.dt(r,53);const m="value",b=(null===(l=null===(s=f[m].arrayValue)||void 0===s?void 0:s.values)||void 0===l?void 0:l.length)||0;this.dt(r,15),r.At(Gr(b)),this.Vt(m,r),this.Tt(f[m],r)}bt(e,r){const s=e.values||[];this.dt(r,50);for(const l of s)this.Tt(l,r)}yt(e,r){this.dt(r,37),At.fromName(e).path.forEach(s=>{this.dt(r,60),this.Dt(s,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}Wo.vt=new Wo;class um{constructor(){this.un=new cp}addToCollectionParentIndex(e,r){return this.un.add(r),ze.resolve()}getCollectionParents(e,r){return ze.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ze.resolve()}deleteFieldIndex(e,r){return ze.resolve()}deleteAllFieldIndexes(e){return ze.resolve()}createTargetIndexes(e,r){return ze.resolve()}getDocumentsMatchingTarget(e,r){return ze.resolve(null)}getIndexType(e,r){return ze.resolve(0)}getFieldIndexes(e,r){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,r){return ze.resolve(jn.min())}getMinOffsetFromCollectionGroup(e,r){return ze.resolve(jn.min())}updateCollectionGroup(e,r,s){return ze.resolve()}updateIndexEntries(e,r){return ze.resolve()}}class cp{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r]||new ar(Ot.comparator),f=!l.has(s);return this.index[r]=l.add(s),f}has(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(e){return(this.index[e]||new ar(Ot.comparator)).toArray()}}new Uint8Array(0);class ho{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ho(e,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ho.DEFAULT_COLLECTION_PERCENTILE=10,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ho.DEFAULT=new ho(41943040,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ho.DISABLED=new ho(-1,0,0);class to{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new to(0)}static kn(){return new to(-1)}}class pd{constructor(){this.changes=new ms(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?ze.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fp{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Ol{constructor(e,r,s,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(null!==s&&Hr(s.mutation,l,Ir.empty(),Dn.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,$n()).next(()=>s))}getLocalViewOfDocuments(e,r,s=$n()){const l=Ni();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,s).next(f=>{let m=_a();return f.forEach((b,O)=>{m=m.insert(b,O.overlayedDocument)}),m}))}getOverlayedDocuments(e,r){const s=Ni();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,$n()))}populateOverlays(e,r,s){const l=[];return s.forEach(f=>{r.has(f)||l.push(f)}),this.documentOverlayCache.getOverlays(e,l).next(f=>{f.forEach((m,b)=>{r.set(m,b)})})}computeViews(e,r,s,l){let f=Oi();const m=ks(),b=ks();return r.forEach((O,$)=>{const ne=s.get($.key);l.has($.key)&&(void 0===ne||ne.mutation instanceof Tr)?f=f.insert($.key,$):void 0!==ne?(m.set($.key,ne.mutation.getFieldMask()),Hr(ne.mutation,$,ne.mutation.getFieldMask(),Dn.now())):m.set($.key,Ir.empty())}),this.recalculateAndSaveOverlays(e,f).next(O=>(O.forEach(($,ne)=>m.set($,ne)),r.forEach(($,ne)=>{var he;return b.set($,new fp(ne,null!==(he=m.get($))&&void 0!==he?he:null))}),b))}recalculateAndSaveOverlays(e,r){const s=ks();let l=new pr((m,b)=>m-b),f=$n();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(m=>{for(const b of m)b.keys().forEach(O=>{const $=r.get(O);if(null===$)return;let ne=s.get(O)||Ir.empty();ne=b.applyToLocalView($,ne),s.set(O,ne);const he=(l.get(b.batchId)||$n()).add(O);l=l.insert(b.batchId,he)})}).next(()=>{const m=[],b=l.getReverseIterator();for(;b.hasNext();){const O=b.getNext(),$=O.key,ne=O.value,he=Lo();ne.forEach(Ve=>{if(!f.has(Ve)){const lt=Rt(r.get(Ve),s.get(Ve));null!==lt&&he.set(Ve,lt),f=f.add(Ve)}}),m.push(this.documentOverlayCache.saveOverlays(e,$,he))}return ze.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,l){return At.isDocumentKey((m=r).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):J(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,l):this.getDocumentsMatchingCollectionQuery(e,r,s,l);var m}getNextDocuments(e,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,l).next(f=>{const m=l-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,l-f.size):ze.resolve(Ni());let b=-1,O=f;return m.next($=>ze.forEach($,(ne,he)=>(b<he.largestBatchId&&(b=he.largestBatchId),f.get(ne)?ze.resolve():this.remoteDocumentCache.getEntry(e,ne).next(Ve=>{O=O.insert(ne,Ve)}))).next(()=>this.populateOverlays(e,$,f)).next(()=>this.computeViews(e,O,$,$n())).next(ne=>({batchId:b,changes:ao(ne)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new At(r)).next(s=>{let l=_a();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,s,l){const f=r.collectionGroup;let m=_a();return this.indexManager.getCollectionParents(e,f).next(b=>ze.forEach(b,O=>{const $=(he=r,Ve=O.child(f),new yt(Ve,null,he.explicitOrderBy.slice(),he.filters.slice(),he.limit,he.limitType,he.startAt,he.endAt));var he,Ve;return this.getDocumentsMatchingCollectionQuery(e,$,s,l).next(ne=>{ne.forEach((he,Ve)=>{m=m.insert(he,Ve)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,r,s,l){let f;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,f,l))).next(m=>{f.forEach((O,$)=>{const ne=$.getKey();null===m.get(ne)&&(m=m.insert(ne,qn.newInvalidDocument(ne)))});let b=_a();return m.forEach((O,$)=>{const ne=f.get(O);void 0!==ne&&Hr(ne.mutation,$,Ir.empty(),Dn.now()),ii(r,$)&&(b=b.insert(O,$))}),b})}}class yd{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ze.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(l=r).id,version:l.version,createTime:Vr(l.createTime)}),ze.resolve();var l}getNamedQuery(e,r){return ze.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(l=r).name,query:hr(l.bundledQuery),readTime:Vr(l.readTime)}),ze.resolve();var l}}class pp{constructor(){this.overlays=new pr(At.comparator),this.Ir=new Map}getOverlay(e,r){return ze.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Ni();return ze.forEach(r,l=>this.getOverlay(e,l).next(f=>{null!==f&&s.set(l,f)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((l,f)=>{this.ht(e,r,f)}),ze.resolve()}removeOverlaysForBatchId(e,r,s){const l=this.Ir.get(s);return void 0!==l&&(l.forEach(f=>this.overlays=this.overlays.remove(f)),this.Ir.delete(s)),ze.resolve()}getOverlaysForCollection(e,r,s){const l=Ni(),f=r.length+1,m=new At(r.child("")),b=this.overlays.getIteratorFrom(m);for(;b.hasNext();){const O=b.getNext().value,$=O.getKey();if(!r.isPrefixOf($.path))break;$.path.length===f&&O.largestBatchId>s&&l.set(O.getKey(),O)}return ze.resolve(l)}getOverlaysForCollectionGroup(e,r,s,l){let f=new pr(($,ne)=>$-ne);const m=this.overlays.getIterator();for(;m.hasNext();){const $=m.getNext().value;if($.getKey().getCollectionGroup()===r&&$.largestBatchId>s){let ne=f.get($.largestBatchId);null===ne&&(ne=Ni(),f=f.insert($.largestBatchId,ne)),ne.set($.getKey(),$)}}const b=Ni(),O=f.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach(($,ne)=>b.set($,ne)),!(b.size()>=l)););return ze.resolve(b)}ht(e,r,s){const l=this.overlays.get(s.key);if(null!==l){const m=this.Ir.get(l.largestBatchId).delete(s.key);this.Ir.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new No(r,s));let f=this.Ir.get(r);void 0===f&&(f=$n(),this.Ir.set(r,f)),this.Ir.set(r,f.add(s.key))}}class Nh{constructor(){this.sessionToken=ri.EMPTY_BYTE_STRING}getSessionToken(e){return ze.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ze.resolve()}}class Iu{constructor(){this.Tr=new ar(ns.Er),this.dr=new ar(ns.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const s=new ns(e,r);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Vr(new ns(e,r))}mr(e,r){e.forEach(s=>this.removeReference(s,r))}gr(e){const r=new At(new Ot([])),s=new ns(r,e),l=new ns(r,e+1),f=[];return this.dr.forEachInRange([s,l],m=>{this.Vr(m),f.push(m.key)}),f}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new At(new Ot([])),s=new ns(r,e),l=new ns(r,e+1);let f=$n();return this.dr.forEachInRange([s,l],m=>{f=f.add(m.key)}),f}containsKey(e){const r=new ns(e,0),s=this.Tr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class ns{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return At.comparator(e.key,r.key)||jt(e.wr,r.wr)}static Ar(e,r){return jt(e.wr,r.wr)||At.comparator(e.key,r.key)}}class Ku{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new ar(ns.Er)}checkEmpty(e){return ze.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,l){const f=this.Sr;this.Sr++;const m=new ki(f,r,s,l);this.mutationQueue.push(m);for(const b of l)this.br=this.br.add(new ns(b.key,f)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return ze.resolve(m)}lookupMutationBatch(e,r){return ze.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const l=this.vr(r+1),f=l<0?0:l;return ze.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new ns(r,0),l=new ns(r,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([s,l],m=>{const b=this.Dr(m.wr);f.push(b)}),ze.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new ar(jt);return r.forEach(l=>{const f=new ns(l,0),m=new ns(l,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,m],b=>{s=s.add(b.wr)})}),ze.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1;let f=s;At.isDocumentKey(f)||(f=f.child(""));const m=new ns(new At(f),0);let b=new ar(jt);return this.br.forEachWhile(O=>{const $=O.key.path;return!!s.isPrefixOf($)&&($.length===l&&(b=b.add(O.wr)),!0)},m),ze.resolve(this.Cr(b))}Cr(e){const r=[];return e.forEach(s=>{const l=this.Dr(s);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){Re(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return ze.forEach(r.mutations,l=>{const f=new ns(l.key,r.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,r){const s=new ns(r,0),l=this.br.firstAfterOrEqual(s);return ze.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return ze.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Tu{constructor(e){this.Mr=e,this.docs=new pr(At.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,l=this.docs.get(s),f=l?l.size:0,m=this.Mr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return ze.resolve(s?s.document.mutableCopy():qn.newInvalidDocument(r))}getEntries(e,r){let s=Oi();return r.forEach(l=>{const f=this.docs.get(l);s=s.insert(l,f?f.document.mutableCopy():qn.newInvalidDocument(l))}),ze.resolve(s)}getDocumentsMatchingQuery(e,r,s,l){let f=Oi();const m=r.path,b=new At(m.child("")),O=this.docs.getIteratorFrom(b);for(;O.hasNext();){const{key:$,value:{document:ne}}=O.getNext();if(!m.isPrefixOf($.path))break;$.path.length>m.length+1||ss(new jn((u=ne).readTime,u.key,-1),s)<=0||(l.has(ne.key)||ii(r,ne))&&(f=f.insert(ne.key,ne.mutableCopy()))}var u;return ze.resolve(f)}getAllFromCollectionGroup(e,r,s,l){qe()}Or(e,r){return ze.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new kh(this)}getSize(e){return ze.resolve(this.size)}}class kh extends pd{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?r.push(this.cr.addEntry(e,l)):this.cr.removeEntry(s)}),ze.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class qu{constructor(e){this.persistence=e,this.Nr=new ms(r=>li(r),W),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Iu,this.targetCount=0,this.kr=to.Bn()}forEachTarget(e,r){return this.Nr.forEach((s,l)=>r(l)),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Lr&&(this.Lr=r),ze.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new to(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ze.resolve()}updateTargetData(e,r){return this.Kn(r),ze.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,r,s){let l=0;const f=[];return this.Nr.forEach((m,b)=>{b.sequenceNumber<=r&&null===s.get(b.targetId)&&(this.Nr.delete(m),f.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)}),ze.waitFor(f).next(()=>l)}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,r){const s=this.Nr.get(r)||null;return ze.resolve(s)}addMatchingKeys(e,r,s){return this.Br.Rr(r,s),ze.resolve()}removeMatchingKeys(e,r,s){this.Br.mr(r,s);const l=this.persistence.referenceDelegate,f=[];return l&&r.forEach(m=>{f.push(l.markPotentiallyOrphaned(e,m))}),ze.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ze.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Br.yr(r);return ze.resolve(s)}containsKey(e,r){return ze.resolve(this.Br.containsKey(r))}}class Za{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Y(0),this.Kr=!1,this.Kr=!0,this.$r=new Nh,this.referenceDelegate=e(this),this.Ur=new qu(this),this.indexManager=new um,this.remoteDocumentCache=new Tu(s=>this.referenceDelegate.Wr(s)),this.serializer=new S(r),this.Gr=new yd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new pp,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.qr[e.toKey()];return s||(s=new Ku(r,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,s){Le("MemoryPersistence","Starting transaction:",e);const l=new cm(this.Qr.next());return this.referenceDelegate.zr(),s(l).next(f=>this.referenceDelegate.jr(l).next(()=>f)).toPromise().then(f=>(l.raiseOnCommittedEvent(),f))}Hr(e,r){return ze.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,r)))}}class cm extends Ri{constructor(e){super(),this.currentSequenceNumber=e}}class Ic{constructor(e){this.persistence=e,this.Jr=new Iu,this.Yr=null}static Zr(e){return new Ic(e)}get Xr(){if(this.Yr)return this.Yr;throw qe()}addReference(e,r,s){return this.Jr.addReference(s,r),this.Xr.delete(s.toString()),ze.resolve()}removeReference(e,r,s){return this.Jr.removeReference(s,r),this.Xr.add(s.toString()),ze.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ze.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(l=>this.Xr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(f=>this.Xr.add(f.toString()))}).next(()=>s.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.Xr,s=>{const l=At.fromPath(s);return this.ei(e,l).next(f=>{f||r.removeEntry(l,Wt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(s=>{s?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ze.or([()=>ze.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class Id{constructor(e,r,s,l){this.targetId=e,this.fromCache=r,this.$i=s,this.Ui=l}static Wi(e,r){let s=$n(),l=$n();for(const f of r.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:l=l.add(f.doc.key)}return new Id(e,r.fromCache,s,l)}}class Vs{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Lh{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,re.nr)()?8:function Ji(u){const e=u.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}((0,re.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,s,l){const f={result:null};return this.Yi(e,r).next(m=>{f.result=m}).next(()=>{if(!f.result)return this.Zi(e,r,l,s).next(m=>{f.result=m})}).next(()=>{if(f.result)return;const m=new Vs;return this.Xi(e,r,m).next(b=>{if(f.result=b,this.zi)return this.es(e,r,m,b.size)})}).next(()=>f.result)}es(e,r,s,l){return s.documentReadCount<this.ji?($t()<=Ce.$b.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",fi(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ze.resolve()):($t()<=Ce.$b.DEBUG&&Le("QueryEngine","Query:",fi(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Hi*l?($t()<=Ce.$b.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",fi(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vt(r))):ze.resolve())}Yi(e,r){if(M(r))return ze.resolve(null);let s=Vt(r);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==r.limit&&1===l&&(r=Ii(r,null,"F"),s=Vt(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(f=>{const m=$n(...f);return this.Ji.getDocuments(e,m).next(b=>this.indexManager.getMinOffset(e,s).next(O=>{const $=this.ts(r,b);return this.ns(r,$,m,O.readTime)?this.Yi(e,Ii(r,null,"F")):this.rs(e,$,r,O)}))})))}Zi(e,r,s,l){return M(r)||l.isEqual(Wt.min())?ze.resolve(null):this.Ji.getDocuments(e,s).next(f=>{const m=this.ts(r,f);return this.ns(r,m,s,l)?ze.resolve(null):($t()<=Ce.$b.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),fi(r)),this.rs(e,m,r,function Sr(u,e){const r=u.toTimestamp().seconds,s=u.toTimestamp().nanoseconds+1,l=Wt.fromTimestamp(1e9===s?new Dn(r+1,0):new Dn(r,s));return new jn(l,At.empty(),e)}(l,-1)).next(b=>b))})}ts(e,r){let s=new ar(Mo(e));return r.forEach((l,f)=>{ii(e,f)&&(s=s.add(f))}),s}ns(e,r,s,l){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const f="F"===e.limitType?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(l)>0)}Xi(e,r,s){return $t()<=Ce.$b.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",fi(r)),this.Ji.getDocumentsMatchingQuery(e,r,jn.min(),s)}rs(e,r,s,l){return this.Ji.getDocumentsMatchingQuery(e,s,l).next(f=>(r.forEach(m=>{f=f.insert(m.key,m)}),f))}}class Xu{constructor(e,r,s,l){this.persistence=e,this.ss=r,this.serializer=l,this.os=new pr(jt),this._s=new ms(f=>li(f),W),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ol(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function qo(u,e){return eu.apply(this,arguments)}function eu(){return(eu=(0,o.A)(function*(u,e){const r=N(u);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next(f=>(l=f,r.ls(e),r.mutationQueue.getAllMutationBatches(s))).next(f=>{const m=[],b=[];let O=$n();for(const $ of l){m.push($.batchId);for(const ne of $.mutations)O=O.add(ne.key)}for(const $ of f){b.push($.batchId);for(const ne of $.mutations)O=O.add(ne.key)}return r.localDocuments.getDocuments(s,O).next($=>({hs:$,removedBatchIds:m,addedBatchIds:b}))})})})).apply(this,arguments)}function xl(u){const e=N(u);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function hm(u,e){const r=N(u);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Nl(u,e,r){return wo.apply(this,arguments)}function wo(){return(wo=(0,o.A)(function*(u,e,r){const s=N(u),l=s.os.get(e),f=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",f,m=>s.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!Zn(m))throw m;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}s.os=s.os.remove(e),s._s.delete(l.target)})).apply(this,arguments)}function Cu(u,e,r){const s=N(u);let l=Wt.min(),f=$n();return s.persistence.runTransaction("Execute query","readwrite",m=>function(O,$,ne){const he=N(O),Ve=he._s.get(ne);return void 0!==Ve?ze.resolve(he.os.get(Ve)):he.Ur.getTargetData($,ne)}(s,m,Vt(e)).next(b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(m,b.targetId).next(O=>{f=O})}).next(()=>s.ss.getDocumentsMatchingQuery(m,e,r?l:Wt.min(),r?f:$n())).next(b=>(function jh(u,e,r){let s=u.us.get(e)||Wt.min();r.forEach((l,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),u.us.set(e,s)}(s,function Mi(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}(e),b),{documents:b,Ts:f})))}class Ju{constructor(){this.activeTargetIds=function Uo(){return du}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wd{constructor(){this.so=new Ju,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,s){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ju,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ad{_o(e){}shutdown(){}}class Vl{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ll=null;function Hh(){return null===Ll?Ll=268435456+Math.round(2147483648*Math.random()):Ll++,"0x"+Ll.toString(16)}const Gh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Va{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const ys="WebChannelConnection";class pm extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+r.host,this.vo=`projects/${l}/databases/${f}`,this.Co="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${f}`}get Fo(){return!1}Mo(r,s,l,f,m){const b=Hh(),O=this.xo(r,s.toUriEncodedString());Le("RestConnection",`Sending RPC '${r}' ${b}:`,O,l);const $={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo($,f,m),this.No(r,O,$,l).then(ne=>(Le("RestConnection",`Received RPC '${r}' ${b}: `,ne),ne),ne=>{throw Kn("RestConnection",`RPC '${r}' ${b} failed with error: `,ne,"url: ",O,"request:",l),ne})}Lo(r,s,l,f,m,b){return this.Mo(r,s,l,f,m)}Oo(r,s,l){r["X-Goog-Api-Client"]="gl-js/ fire/"+pt,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,m)=>r[m]=f),l&&l.headers.forEach((f,m)=>r[m]=f)}xo(r,s){return`${this.Do}/v1/${s}:${Gh[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,s,l){const f=Hh();return new Promise((m,b)=>{const O=new Qe;O.setWithCredentials(!0),O.listenOnce(ht.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case Ft.NO_ERROR:const ne=O.getResponseJson();Le(ys,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(ne)),m(ne);break;case Ft.TIMEOUT:Le(ys,`RPC '${e}' ${f} timed out`),b(new ue(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ft.HTTP_ERROR:const he=O.getStatus();if(Le(ys,`RPC '${e}' ${f} failed with status:`,he,"response text:",O.getResponseText()),he>0){let Ve=O.getResponseJson();Array.isArray(Ve)&&(Ve=Ve[0]);const lt=Ve?.error;if(lt&&lt.status&&lt.message){const xt=function(Ht){const Vn=Ht.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Vn)>=0?Vn:X.UNKNOWN}(lt.status);b(new ue(xt,lt.message))}else b(new ue(X.UNKNOWN,"Server responded with status "+O.getStatus()))}else b(new ue(X.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{Le(ys,`RPC '${e}' ${f} completed.`)}});const $=JSON.stringify(l);Le(ys,`RPC '${e}' ${f} sending request:`,l),O.send(r,"POST",$,s,15)})}Bo(e,r,s){const l=Hh(),f=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=nn(),b=Mn(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},$=this.longPollingOptions.timeoutSeconds;void 0!==$&&(O.longPollingTimeout=Math.round(1e3*$)),this.useFetchStreams&&(O.useFetchStreams=!0),this.Oo(O.initMessageHeaders,r,s),O.encodeInitMessageHeaders=!0;const ne=f.join("");Le(ys,`Creating RPC '${e}' stream ${l}: ${ne}`,O);const he=m.createWebChannel(ne,O);let Ve=!1,lt=!1;const xt=new Va({Io:Ht=>{lt?Le(ys,`Not sending because RPC '${e}' stream ${l} is closed:`,Ht):(Ve||(Le(ys,`Opening RPC '${e}' stream ${l} transport.`),he.open(),Ve=!0),Le(ys,`RPC '${e}' stream ${l} sending:`,Ht),he.send(Ht))},To:()=>he.close()}),Xt=(Ht,Vn,rr)=>{Ht.listen(Vn,Hn=>{try{rr(Hn)}catch(vr){setTimeout(()=>{throw vr},0)}})};return Xt(he,bt.EventType.OPEN,()=>{lt||(Le(ys,`RPC '${e}' stream ${l} transport opened.`),xt.yo())}),Xt(he,bt.EventType.CLOSE,()=>{lt||(lt=!0,Le(ys,`RPC '${e}' stream ${l} transport closed`),xt.So())}),Xt(he,bt.EventType.ERROR,Ht=>{lt||(lt=!0,Kn(ys,`RPC '${e}' stream ${l} transport errored:`,Ht),xt.So(new ue(X.UNAVAILABLE,"The operation could not be completed")))}),Xt(he,bt.EventType.MESSAGE,Ht=>{var Vn;if(!lt){const rr=Ht.data[0];Re(!!rr);const vr=rr.error||(null===(Vn=rr[0])||void 0===Vn?void 0:Vn.error);if(vr){Le(ys,`RPC '${e}' stream ${l} received error:`,vr);const yi=vr.status;let Lr=function($e){const Ye=Bi[$e];if(void 0!==Ye)return Al(Ye)}(yi),Xe=vr.message;void 0===Lr&&(Lr=X.INTERNAL,Xe="Unknown error status: "+yi+" with message "+vr.message),lt=!0,xt.So(new ue(Lr,Xe)),he.close()}else Le(ys,`RPC '${e}' stream ${l} received:`,rr),xt.bo(rr)}}),Xt(b,on.STAT_EVENT,Ht=>{Ht.stat===Qt.PROXY?Le(ys,`RPC '${e}' stream ${l} detected buffering proxy`):Ht.stat===Qt.NOPROXY&&Le(ys,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{xt.wo()},0),xt}}function Ul(){return typeof document<"u"?document:null}function Bl(u){return new or(u,!0)}class zh{constructor(e,r,s=1e3,l=1.5,f=6e4){this.ui=e,this.timerId=r,this.ko=s,this.qo=l,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),l=Math.max(0,r-s);l>0&&Le("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,l,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Wh{constructor(e,r,s,l,f,m,b,O){this.ui=e,this.Ho=s,this.Jo=l,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=b,this.listener=O,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zh(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,o.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,o.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var s=this;return(0,o.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==e?s.t_.reset():r&&r.code===X.RESOURCE_EXHAUSTED?(Jt(r.toString()),Jt("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):r&&r.code===X.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Yo===r&&this.P_(s,l)},s=>{e(()=>{const l=new ue(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(l)})})}P_(e,r){const s=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(l=>{s(()=>this.I_(l))}),this.stream.onMessage(l=>{s(()=>1==++this.e_?this.E_(l):this.onNext(l))})}i_(){var e=this;this.state=5,this.t_.Go((0,o.A)(function*(){e.state=0,e.start()}))}I_(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mp extends Wh{constructor(e,r,s,l,f,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,m),this.serializer=f}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function nr(u,e){let r;if("targetChange"in e){const s="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:qe(),l=e.targetChange.targetIds||[],f=function($,ne){return $.useProto3Json?(Re(void 0===ne||"string"==typeof ne),ri.fromBase64String(ne||"")):(Re(void 0===ne||ne instanceof Buffer||ne instanceof Uint8Array),ri.fromUint8Array(ne||new Uint8Array))}(u,e.targetChange.resumeToken),m=e.targetChange.cause,b=m&&function($){const ne=void 0===$.code?X.UNKNOWN:Al($.code);return new ue(ne,$.message||"")}(m);r=new xe(s,l,f,b||null)}else if("documentChange"in e){const s=e.documentChange,l=Zi(u,s.document.name),f=Vr(s.document.updateTime),m=s.document.createTime?Vr(s.document.createTime):Wt.min(),b=new sr({mapValue:{fields:s.document.fields}}),O=qn.newFoundDocument(l,f,m,b);r=new le(s.targetIds||[],s.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const s=e.documentDelete,l=Zi(u,s.document),f=s.readTime?Vr(s.readTime):Wt.min(),m=qn.newNoDocument(l,f);r=new le([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const s=e.documentRemove,l=Zi(u,s.document);r=new le([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return qe();{const s=e.filter,{count:l=0,unchangedNames:f}=s,m=new fu(l,f);r=new Ae(s.targetId,m)}}var $;return r}(this.serializer,e),s=function(f){if(!("targetChange"in f))return Wt.min();const m=f.targetChange;return m.targetIds&&m.targetIds.length?Wt.min():m.readTime?Vr(m.readTime):Wt.min()}(e);return this.listener.d_(r,s)}A_(e){const r={};r.database=Ws(this.serializer),r.addTarget=function(f,m){let b;const O=m.target;if(b=q(O)?{documents:Js(f,O)}:{query:Xr(f,O)._t},b.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){b.resumeToken=Fi(f,m.resumeToken);const $=Fr(f,m.expectedCount);null!==$&&(b.expectedCount=$)}else if(m.snapshotVersion.compareTo(Wt.min())>0){b.readTime=Di(f,m.snapshotVersion.toTimestamp());const $=Fr(f,m.expectedCount);null!==$&&(b.expectedCount=$)}return b}(this.serializer,e);const s=function Fs(u,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.a_(r)}R_(e){const r={};r.database=Ws(this.serializer),r.removeTarget=e,this.a_(r)}}class _p extends Wh{constructor(e,r,s,l,f,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,m),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function es(u,e){return u&&u.length>0?(Re(void 0!==e),u.map(r=>function(l,f){let m=Vr(l.updateTime?l.updateTime:f);return m.isEqual(Wt.min())&&(m=Vr(f)),new F(m,l.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Vr(e.commitTime);return this.listener.g_(s,r)}p_(){const e={};e.database=Ws(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>function ot(u,e){let r;if(e instanceof lr)r={update:ji(u,e.key,e.value)};else if(e instanceof Yi)r={delete:co(u,e.key)};else if(e instanceof Tr)r={update:ji(u,e.key,e.data),updateMask:_c(e.fieldMask)};else{if(!(e instanceof Qs))return qe();r={verify:co(u,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(f,m){const b=m.transform;if(b instanceof Oo)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Co)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof uo)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof xo)return{fieldPath:m.field.canonicalString(),increment:b.Pe};throw qe()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:ws(u,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:qe()),r;var f}(this.serializer,s))};this.a_(r)}}class Dc extends class{}{constructor(e,r,s,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.y_=!1}w_(){if(this.y_)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,s,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Mo(e,Ys(r,s),l,f,m)).catch(f=>{throw"FirebaseError"===f.name?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(X.UNKNOWN,f.toString())})}Lo(e,r,s,l,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,b])=>this.connection.Lo(e,Ys(r,s),l,m,b,f)).catch(m=>{throw"FirebaseError"===m.name?(m.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ue(X.UNKNOWN,m.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class yp{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jt(r),this.D_=!1):Le("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class gm{constructor(e,r,s,l,f){var m=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o(b=>{s.enqueueAndForget((0,o.A)(function*(){var O;el(m)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,o.A)(function*(ne){const he=N(ne);he.L_.add(4),yield Zu(he),he.q_.set("Unknown"),he.L_.delete(4),yield jl(he)}),function $(ne){return O.apply(this,arguments)})(m))}))}),this.q_=new yp(s,l)}}function jl(u){return vp.apply(this,arguments)}function vp(){return(vp=(0,o.A)(function*(u){if(el(u))for(const e of u.B_)yield e(!0)})).apply(this,arguments)}function Zu(u){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,o.A)(function*(u){for(const e of u.B_)yield e(!1)})).apply(this,arguments)}function Sd(u,e){const r=N(u);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Hl(r)?Ip(r):Du(r).r_()&&Sc(r,e))}function $l(u,e){const r=N(u),s=Du(r);r.N_.delete(e),s.r_()&&mm(r,e),0===r.N_.size&&(s.r_()?s.o_():el(r)&&r.q_.set("Unknown"))}function Sc(u,e){if(u.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Wt.min())>0){const r=u.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Du(u).A_(e)}function mm(u,e){u.Q_.xe(e),Du(u).R_(e)}function Ip(u){u.Q_=new wt({getRemoteKeysForTarget:e=>u.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>u.N_.get(e)||null,tt:()=>u.datastore.serializer.databaseId}),Du(u).start(),u.q_.v_()}function Hl(u){return el(u)&&!Du(u).n_()&&u.N_.size>0}function el(u){return 0===N(u).L_.size}function _m(u){u.Q_=void 0}function ay(u){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,o.A)(function*(u){u.q_.set("Online")})).apply(this,arguments)}function uy(u){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,o.A)(function*(u){u.N_.forEach((e,r)=>{Sc(u,e)})})).apply(this,arguments)}function Rd(u,e){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,o.A)(function*(u,e){_m(u),Hl(u)?(u.q_.M_(e),Ip(u)):u.q_.set("Unknown")})).apply(this,arguments)}function Cp(u,e,r){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,o.A)(function*(u,e,r){if(u.q_.set("Online"),e instanceof xe&&2===e.state&&e.cause)try{yield(s=(0,o.A)(function*(f,m){const b=m.cause;for(const O of m.targetIds)f.N_.has(O)&&(yield f.remoteSyncer.rejectListen(O,b),f.N_.delete(O),f.Q_.removeTarget(O))}),function l(f,m){return s.apply(this,arguments)})(u,e)}catch(s){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Rc(u,s)}else if(e instanceof le?u.Q_.Ke(e):e instanceof Ae?u.Q_.He(e):u.Q_.We(e),!r.isEqual(Wt.min()))try{const s=yield xl(u.localStore);r.compareTo(s)>=0&&(yield function(f,m){const b=f.Q_.rt(m);return b.targetChanges.forEach((O,$)=>{if(O.resumeToken.approximateByteSize()>0){const ne=f.N_.get($);ne&&f.N_.set($,ne.withResumeToken(O.resumeToken,m))}}),b.targetMismatches.forEach((O,$)=>{const ne=f.N_.get(O);if(!ne)return;f.N_.set(O,ne.withResumeToken(ri.EMPTY_BYTE_STRING,ne.snapshotVersion)),mm(f,O);const he=new T(ne.target,O,$,ne.sequenceNumber);Sc(f,he)}),f.remoteSyncer.applyRemoteEvent(b)}(u,r))}catch(s){Le("RemoteStore","Failed to raise snapshot:",s),yield Rc(u,s)}var s}),Pd.apply(this,arguments)}function Rc(u,e,r){return Au.apply(this,arguments)}function Au(){return(Au=(0,o.A)(function*(u,e,r){if(!Zn(e))throw e;u.L_.add(1),yield Zu(u),u.q_.set("Offline"),r||(r=()=>xl(u.localStore)),u.asyncQueue.enqueueRetryable((0,o.A)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield r(),u.L_.delete(1),yield jl(u)}))})).apply(this,arguments)}function qh(u,e){return e().catch(r=>Rc(u,r,e))}function tl(u){return zl.apply(this,arguments)}function zl(){return(zl=(0,o.A)(function*(u){const e=N(u),r=rs(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Md(e);)try{const l=yield hm(e.localStore,s);if(null===l){0===e.O_.length&&r.o_();break}s=l.batchId,Od(e,l)}catch(l){yield Rc(e,l)}bp(e)&&wp(e)})).apply(this,arguments)}function Md(u){return el(u)&&u.O_.length<10}function Od(u,e){u.O_.push(e);const r=rs(u);r.r_()&&r.V_&&r.m_(e.mutations)}function bp(u){return el(u)&&!rs(u).n_()&&u.O_.length>0}function wp(u){rs(u).start()}function ym(u){return xd.apply(this,arguments)}function xd(){return(xd=(0,o.A)(function*(u){rs(u).p_()})).apply(this,arguments)}function Qh(u){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,o.A)(function*(u){const e=rs(u);for(const r of u.O_)e.m_(r.mutations)})).apply(this,arguments)}function vm(u,e,r){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,o.A)(function*(u,e,r){const s=u.O_.shift(),l=Xs.from(s,e,r);yield qh(u,()=>u.remoteSyncer.applySuccessfulWrite(l)),yield tl(u)})).apply(this,arguments)}function Ap(u,e){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,o.A)(function*(u,e){var r;e&&rs(u).V_&&(yield(r=(0,o.A)(function*(l,f){if(function mc(u){switch(u){default:return qe();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}(b=f.code)&&b!==X.ABORTED){const m=l.O_.shift();rs(l).s_(),yield qh(l,()=>l.remoteSyncer.rejectFailedWrite(m.batchId,f)),yield tl(l)}var b}),function s(l,f){return r.apply(this,arguments)})(u,e)),bp(u)&&wp(u)}),Jh.apply(this,arguments)}function Zh(u,e){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,o.A)(function*(u,e){const r=N(u);r.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const s=el(r);r.L_.add(3),yield Zu(r),s&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield jl(r)})).apply(this,arguments)}function Pc(u,e){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,o.A)(function*(u,e){const r=N(u);e?(r.L_.delete(2),yield jl(r)):e||(r.L_.add(2),yield Zu(r),r.q_.set("Unknown"))})).apply(this,arguments)}function Du(u){return u.K_||(u.K_=function(r,s,l){const f=N(r);return f.w_(),new mp(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,l)}(u.datastore,u.asyncQueue,{Eo:ay.bind(null,u),Ro:uy.bind(null,u),mo:Rd.bind(null,u),d_:Cp.bind(null,u)}),u.B_.push(function(){var e=(0,o.A)(function*(r){r?(u.K_.s_(),Hl(u)?Ip(u):u.q_.set("Unknown")):(yield u.K_.stop(),_m(u))});return function(r){return e.apply(this,arguments)}}())),u.K_}function rs(u){return u.U_||(u.U_=function(r,s,l){const f=N(r);return f.w_(),new _p(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,l)}(u.datastore,u.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ym.bind(null,u),mo:Ap.bind(null,u),f_:Qh.bind(null,u),g_:vm.bind(null,u)}),u.B_.push(function(){var e=(0,o.A)(function*(r){r?(u.U_.s_(),yield tl(u)):(yield u.U_.stop(),u.O_.length>0&&(Le("RemoteStore",`Stopping write stream with ${u.O_.length} pending writes`),u.O_=[]))});return function(r){return e.apply(this,arguments)}}())),u.U_}class nl{constructor(e,r,s,l,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=f,this.deferred=new Nt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,l,f){const m=Date.now()+s,b=new nl(e,r,m,l,f);return b.start(s),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ue(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rl(u,e){if(Jt("AsyncQueue",`${e}: ${u}`),Zn(u))return new ue(X.UNAVAILABLE,`${e}: ${u}`);throw u}class il{constructor(e){this.comparator=e?(r,s)=>e(r,s)||At.comparator(r.key,s.key):(r,s)=>At.comparator(r.key,s.key),this.keyedMap=_a(),this.sortedSet=new pr(this.comparator)}static emptySet(e){return new il(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,f=s.getNext().key;if(!l.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new il;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Dp{constructor(){this.W_=new pr(At.comparator)}track(e){const r=e.doc.key,s=this.W_.get(r);s?0!==e.type&&3===s.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==s.type?this.W_=this.W_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.W_=this.W_.remove(r):1===e.type&&2===s.type?this.W_=this.W_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):qe():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,s)=>{e.push(s)}),e}}class sl{constructor(e,r,s,l,f,m,b,O,$){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=b,this.excludesMetadataChanges=O,this.hasCachedResults=$}static fromInitialDocuments(e,r,s,l,f){const m=[];return r.forEach(b=>{m.push({type:0,doc:b})}),new sl(e,r,il.emptySet(r),m,s,l,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$r(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class Em{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Sp{constructor(){this.queries=Rp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,s){const l=N(r),f=l.queries;l.queries=Rp(),f.forEach((m,b)=>{for(const O of b.j_)O.onError(s)})}(this,new ue(X.ABORTED,"Firestore shutting down"))}}function Rp(){return new ms(u=>ur(u),$r)}function kd(u,e){return ef.apply(this,arguments)}function ef(){return(ef=(0,o.A)(function*(u,e){const r=N(u);let s=3;const l=e.query;let f=r.queries.get(l);f?!f.H_()&&e.J_()&&(s=2):(f=new Em,s=e.J_()?0:1);try{switch(s){case 0:f.z_=yield r.onListen(l,!0);break;case 1:f.z_=yield r.onListen(l,!1);break;case 2:yield r.onFirstRemoteStoreListen(l)}}catch(m){const b=rl(m,`Initialization of query '${fi(e.query)}' failed`);return void e.onError(b)}r.queries.set(l,f),f.j_.push(e),e.Z_(r.onlineState),f.z_&&e.X_(f.z_)&&K(r)})).apply(this,arguments)}function I(u,e){return d.apply(this,arguments)}function d(){return(d=(0,o.A)(function*(u,e){const r=N(u),s=e.query;let l=3;const f=r.queries.get(s);if(f){const m=f.j_.indexOf(e);m>=0&&(f.j_.splice(m,1),0===f.j_.length?l=e.J_()?0:1:!f.H_()&&e.J_()&&(l=2))}switch(l){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function g(u,e){const r=N(u);let s=!1;for(const l of e){const m=r.queries.get(l.query);if(m){for(const b of m.j_)b.X_(l)&&(s=!0);m.z_=l}}s&&K(r)}function w(u,e,r){const s=N(u),l=s.queries.get(e);if(l)for(const f of l.j_)f.onError(r);s.queries.delete(e)}function K(u){u.Y_.forEach(e=>{e.next()})}var ae,Ge;(Ge=ae||(ae={})).ea="default",Ge.Cache="cache";class mt{constructor(e,r,s){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new sl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ae.Cache}}class po{constructor(e){this.key=e}}class fa{constructor(e){this.key=e}}class ru{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=$n(),this.mutatedKeys=$n(),this.Aa=Mo(e),this.Ra=new il(this.Aa)}get Va(){return this.Ta}ma(e,r){const s=r?r.fa:new Dp,l=r?r.Ra:this.Ra;let f=r?r.mutatedKeys:this.mutatedKeys,m=l,b=!1;const O="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,$="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ne,he)=>{const Ve=l.get(ne),lt=ii(this.query,he)?he:null,xt=!!Ve&&this.mutatedKeys.has(Ve.key),Xt=!!lt&&(lt.hasLocalMutations||this.mutatedKeys.has(lt.key)&&lt.hasCommittedMutations);let Ht=!1;Ve&&lt?Ve.data.isEqual(lt.data)?xt!==Xt&&(s.track({type:3,doc:lt}),Ht=!0):this.ga(Ve,lt)||(s.track({type:2,doc:lt}),Ht=!0,(O&&this.Aa(lt,O)>0||$&&this.Aa(lt,$)<0)&&(b=!0)):!Ve&&lt?(s.track({type:0,doc:lt}),Ht=!0):Ve&&!lt&&(s.track({type:1,doc:Ve}),Ht=!0,(O||$)&&(b=!0)),Ht&&(lt?(m=m.add(lt),f=Xt?f.add(ne):f.delete(ne)):(m=m.delete(ne),f=f.delete(ne)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const ne="F"===this.query.limitType?m.last():m.first();m=m.delete(ne.key),f=f.delete(ne.key),s.track({type:1,doc:ne})}return{Ra:m,fa:s,ns:b,mutatedKeys:f}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,l){const f=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const m=e.fa.G_();m.sort((ne,he)=>function(lt,xt){const Xt=Ht=>{switch(Ht){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return Xt(lt)-Xt(xt)}(ne.type,he.type)||this.Aa(ne.doc,he.doc)),this.pa(s),l=null!=l&&l;const b=r&&!l?this.ya():[],O=0===this.da.size&&this.current&&!l?1:0,$=O!==this.Ea;return this.Ea=O,0!==m.length||$?{snapshot:new sl(this.query,e.Ra,f,m,e.mutatedKeys,0===O,$,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:b}:{wa:b}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Dp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=$n(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const r=[];return e.forEach(s=>{this.da.has(s)||r.push(new fa(s))}),this.da.forEach(s=>{e.has(s)||r.push(new po(s))}),r}ba(e){this.Ta=e.Ts,this.da=$n();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return sl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class tf{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class Fd{constructor(e){this.key=e,this.va=!1}}class nf{constructor(e,r,s,l,f,m){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.Ca={},this.Fa=new ms(b=>ur(b),$r),this.Ma=new Map,this.xa=new Set,this.Oa=new pr(At.comparator),this.Na=new Map,this.La=new Iu,this.Ba={},this.ka=new Map,this.qa=to.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function rf(u,e){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,o.A)(function*(u,e,r=!0){const s=su(u);let l;const f=s.Fa.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),l=f.view.Da()):l=yield Su(s,e,r,!0),l})).apply(this,arguments)}function sf(u,e){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,o.A)(function*(u,e){const r=su(u);yield Su(r,e,!0,!1)})).apply(this,arguments)}function Su(u,e,r,s){return ol.apply(this,arguments)}function ol(){return(ol=(0,o.A)(function*(u,e,r,s){const l=yield function tu(u,e){const r=N(u);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.Ur.getTargetData(s,e).next(f=>f?(l=f,ze.resolve(l)):r.Ur.allocateTargetId(s).next(m=>(l=new T(e,m,"TargetPurposeListen",s.currentSequenceNumber),r.Ur.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.os.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.os=r.os.insert(s.targetId,s),r._s.set(e,s.targetId)),s})}(u.localStore,Vt(e)),f=l.targetId,m=u.sharedClientState.addLocalQueryTarget(f,r);let b;return s&&(b=yield function ql(u,e,r,s,l){return Ql.apply(this,arguments)}(u,e,f,"current"===m,l.resumeToken)),u.isPrimaryClient&&r&&Sd(u.remoteStore,l),b})).apply(this,arguments)}function Ql(){return Ql=(0,o.A)(function*(u,e,r,s,l){u.Ka=(he,Ve,lt)=>{return(xt=(0,o.A)(function*(Ht,Vn,rr,Hn){let vr=Vn.view.ma(rr);vr.ns&&(vr=yield Cu(Ht.localStore,Vn.query,!1).then(({documents:Me})=>Vn.view.ma(Me,vr)));const yi=Hn&&Hn.targetChanges.get(Vn.targetId),Lr=Hn&&null!=Hn.targetMismatches.get(Vn.targetId),Xe=Vn.view.applyChanges(vr,Ht.isPrimaryClient,yi,Lr);return Bd(Ht,Vn.targetId,Xe.wa),Xe.snapshot}),function Xt(Ht,Vn,rr,Hn){return xt.apply(this,arguments)})(u,he,Ve,lt);var xt};const f=yield Cu(u.localStore,e,!0),m=new ru(e,f.Ts),b=m.ma(f.documents),O=Q.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==u.onlineState,l),$=m.applyChanges(b,u.isPrimaryClient,O);Bd(u,r,$.wa);const ne=new tf(e,r,m);return u.Fa.set(e,ne),u.Ma.has(r)?u.Ma.get(r).push(e):u.Ma.set(r,[e]),$.snapshot}),Ql.apply(this,arguments)}function Pp(u,e,r){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,o.A)(function*(u,e,r){const s=N(u),l=s.Fa.get(e),f=s.Ma.get(l.targetId);if(f.length>1)return s.Ma.set(l.targetId,f.filter(m=>!$r(m,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||(yield Nl(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),r&&$l(s.remoteStore,l.targetId),Pu(s,l.targetId)}).catch(ti))):(Pu(s,l.targetId),yield Nl(s.localStore,l.targetId,!0))})).apply(this,arguments)}function Im(u,e){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,o.A)(function*(u,e){const r=N(u),s=r.Fa.get(e),l=r.Ma.get(s.targetId);r.isPrimaryClient&&1===l.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),$l(r.remoteStore,s.targetId))})).apply(this,arguments)}function af(){return(af=(0,o.A)(function*(u,e,r){const s=function jp(u){const e=N(u);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mp.bind(null,e),e}(u);try{const l=yield function(m,b){const O=N(m),$=Dn.now(),ne=b.reduce((lt,xt)=>lt.add(xt.key),$n());let he,Ve;return O.persistence.runTransaction("Locally write mutations","readwrite",lt=>{let xt=Oi(),Xt=$n();return O.cs.getEntries(lt,ne).next(Ht=>{xt=Ht,xt.forEach((Vn,rr)=>{rr.isValidDocument()||(Xt=Xt.add(Vn))})}).next(()=>O.localDocuments.getOverlayedDocuments(lt,xt)).next(Ht=>{he=Ht;const Vn=[];for(const rr of b){const Hn=pi(rr,he.get(rr.key).overlayedDocument);null!=Hn&&Vn.push(new Tr(rr.key,Hn,ls(Hn.value.mapValue),G.exists(!0)))}return O.mutationQueue.addMutationBatch(lt,$,Vn,b)}).next(Ht=>{Ve=Ht;const Vn=Ht.applyToLocalDocumentSet(he,Xt);return O.documentOverlayCache.saveOverlays(lt,Ht.batchId,Vn)})}).then(()=>({batchId:Ve.batchId,changes:ao(he)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(m,b,O){let $=m.Ba[m.currentUser.toKey()];$||($=new pr(jt)),$=$.insert(b,O),m.Ba[m.currentUser.toKey()]=$}(s,l.batchId,r),yield iu(s,l.changes),yield tl(s.remoteStore)}catch(l){const f=rl(l,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function Cm(u,e){return bm.apply(this,arguments)}function bm(){return(bm=(0,o.A)(function*(u,e){const r=N(u);try{const s=yield function Yu(u,e){const r=N(u),s=e.snapshotVersion;let l=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=r.cs.newChangeBuffer({trackRemovals:!0});l=r.os;const b=[];e.targetChanges.forEach((ne,he)=>{const Ve=l.get(he);if(!Ve)return;b.push(r.Ur.removeMatchingKeys(f,ne.removedDocuments,he).next(()=>r.Ur.addMatchingKeys(f,ne.addedDocuments,he)));let lt=Ve.withSequenceNumber(f.currentSequenceNumber);var Xt,Ht,Vn;null!==e.targetMismatches.get(he)?lt=lt.withResumeToken(ri.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):ne.resumeToken.approximateByteSize()>0&&(lt=lt.withResumeToken(ne.resumeToken,s)),l=l.insert(he,lt),Ht=lt,Vn=ne,(0===(Xt=Ve).resumeToken.approximateByteSize()||Ht.snapshotVersion.toMicroseconds()-Xt.snapshotVersion.toMicroseconds()>=3e8||Vn.addedDocuments.size+Vn.modifiedDocuments.size+Vn.removedDocuments.size>0)&&b.push(r.Ur.updateTargetData(f,lt))});let O=Oi(),$=$n();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(f,ne))}),b.push(function Tc(u,e,r){let s=$n(),l=$n();return r.forEach(f=>s=s.add(f)),e.getEntries(u,s).next(f=>{let m=Oi();return r.forEach((b,O)=>{const $=f.get(b);O.isFoundDocument()!==$.isFoundDocument()&&(l=l.add(b)),O.isNoDocument()&&O.version.isEqual(Wt.min())?(e.removeEntry(b,O.readTime),m=m.insert(b,O)):!$.isValidDocument()||O.version.compareTo($.version)>0||0===O.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(O),m=m.insert(b,O)):Le("LocalStore","Ignoring outdated watch update for ",b,". Current version:",$.version," Watch version:",O.version)}),{Ps:m,Is:l}})}(f,m,e.documentUpdates).next(ne=>{O=ne.Ps,$=ne.Is})),!s.isEqual(Wt.min())){const ne=r.Ur.getLastRemoteSnapshotVersion(f).next(he=>r.Ur.setTargetsMetadata(f,f.currentSequenceNumber,s));b.push(ne)}return ze.waitFor(b).next(()=>m.apply(f)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,O,$)).next(()=>O)}).then(f=>(r.os=l,f))}(r.localStore,e);e.targetChanges.forEach((l,f)=>{const m=r.Na.get(f);m&&(Re(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?m.va=!0:l.modifiedDocuments.size>0?Re(m.va):l.removedDocuments.size>0&&(Re(m.va),m.va=!1))}),yield iu(r,s,e)}catch(s){yield ti(s)}})).apply(this,arguments)}function Ld(u,e,r){const s=N(u);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.Fa.forEach((f,m)=>{const b=m.view.Z_(e);b.snapshot&&l.push(b.snapshot)}),function(m,b){const O=N(m);O.onlineState=b;let $=!1;O.queries.forEach((ne,he)=>{for(const Ve of he.j_)Ve.Z_(b)&&($=!0)}),$&&K(O)}(s.eventManager,e),l.length&&s.Ca.d_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function ly(u,e,r){return uf.apply(this,arguments)}function uf(){return(uf=(0,o.A)(function*(u,e,r){const s=N(u);s.sharedClientState.updateQueryState(e,"rejected",r);const l=s.Na.get(e),f=l&&l.key;if(f){let m=new pr(At.comparator);m=m.insert(f,qn.newNoDocument(f,Wt.min()));const b=$n().add(f),O=new P(Wt.min(),new Map,new pr(jt),m,b);yield Cm(s,O),s.Oa=s.Oa.remove(f),s.Na.delete(e),xp(s)}else yield Nl(s.localStore,e,!1).then(()=>Pu(s,e,r)).catch(ti)})).apply(this,arguments)}function wm(u,e){return lf.apply(this,arguments)}function lf(){return(lf=(0,o.A)(function*(u,e){const r=N(u),s=e.batch.batchId;try{const l=yield function Bh(u,e){const r=N(u);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),f=r.cs.newChangeBuffer({trackRemovals:!0});return function(b,O,$,ne){const he=$.batch,Ve=he.keys();let lt=ze.resolve();return Ve.forEach(xt=>{lt=lt.next(()=>ne.getEntry(O,xt)).next(Xt=>{const Ht=$.docVersions.get(xt);Re(null!==Ht),Xt.version.compareTo(Ht)<0&&(he.applyToRemoteDocument(Xt,$),Xt.isValidDocument()&&(Xt.setReadTime($.commitVersion),ne.addEntry(Xt)))})}),lt.next(()=>b.mutationQueue.removeMutationBatch(O,he))}(r,s,e,f).next(()=>f.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(b){let O=$n();for(let $=0;$<b.mutationResults.length;++$)b.mutationResults[$].transformResults.length>0&&(O=O.add(b.batch.mutations[$].key));return O}(e))).next(()=>r.localDocuments.getDocuments(s,l))})}(r.localStore,e);Ud(r,s,null),hf(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield iu(r,l)}catch(l){yield ti(l)}})).apply(this,arguments)}function Mp(u,e,r){return cf.apply(this,arguments)}function cf(){return(cf=(0,o.A)(function*(u,e,r){const s=N(u);try{const l=yield function(m,b){const O=N(m);return O.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let ne;return O.mutationQueue.lookupMutationBatch($,b).next(he=>(Re(null!==he),ne=he.keys(),O.mutationQueue.removeMutationBatch($,he))).next(()=>O.mutationQueue.performConsistencyCheck($)).next(()=>O.documentOverlayCache.removeOverlaysForBatchId($,ne,b)).next(()=>O.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,ne)).next(()=>O.localDocuments.getDocuments($,ne))})}(s.localStore,e);Ud(s,e,r),hf(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield iu(s,l)}catch(l){yield ti(l)}})).apply(this,arguments)}function hf(u,e){(u.ka.get(e)||[]).forEach(r=>{r.resolve()}),u.ka.delete(e)}function Ud(u,e,r){const s=N(u);let l=s.Ba[s.currentUser.toKey()];if(l){const f=l.get(e);f&&(r?f.reject(r):f.resolve(),l=l.remove(e)),s.Ba[s.currentUser.toKey()]=l}}function Pu(u,e,r=null){u.sharedClientState.removeLocalQueryTarget(e);for(const s of u.Ma.get(e))u.Fa.delete(s),r&&u.Ca.$a(s,r);u.Ma.delete(e),u.isPrimaryClient&&u.La.gr(e).forEach(s=>{u.La.containsKey(s)||Op(u,s)})}function Op(u,e){u.xa.delete(e.path.canonicalString());const r=u.Oa.get(e);null!==r&&($l(u.remoteStore,r),u.Oa=u.Oa.remove(e),u.Na.delete(r),xp(u))}function Bd(u,e,r){for(const s of r)s instanceof po?(u.La.addReference(s.key,e),jd(u,s)):s instanceof fa?(Le("SyncEngine","Document no longer in limbo: "+s.key),u.La.removeReference(s.key,e),u.La.containsKey(s.key)||Op(u,s.key)):qe()}function jd(u,e){const r=e.key,s=r.path.canonicalString();u.Oa.get(r)||u.xa.has(s)||(Le("SyncEngine","New document in limbo: "+r),u.xa.add(s),xp(u))}function xp(u){for(;u.xa.size>0&&u.Oa.size<u.maxConcurrentLimboResolutions;){const e=u.xa.values().next().value;u.xa.delete(e);const r=new At(Ot.fromString(e)),s=u.qa.next();u.Na.set(s,new Fd(r)),u.Oa=u.Oa.insert(r,s),Sd(u.remoteStore,new T(Vt(B(r.path)),s,"TargetPurposeLimboResolution",Y.oe))}}function iu(u,e,r){return Np.apply(this,arguments)}function Np(){return Np=(0,o.A)(function*(u,e,r){const s=N(u),l=[],f=[],m=[];var b;s.Fa.isEmpty()||(s.Fa.forEach((b,O)=>{m.push(s.Ka(O,e,r).then($=>{var ne;if(($||r)&&s.isPrimaryClient){const he=$?!$.fromCache:null===(ne=r?.targetChanges.get(O.targetId))||void 0===ne?void 0:ne.current;s.sharedClientState.updateQueryState(O.targetId,he?"current":"not-current")}if($){l.push($);const he=Id.Wi(O.targetId,$);f.push(he)}}))}),yield Promise.all(m),s.Ca.d_(l),yield(b=(0,o.A)(function*($,ne){const he=N($);try{yield he.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ve=>ze.forEach(ne,lt=>ze.forEach(lt.$i,xt=>he.persistence.referenceDelegate.addReference(Ve,lt.targetId,xt)).next(()=>ze.forEach(lt.Ui,xt=>he.persistence.referenceDelegate.removeReference(Ve,lt.targetId,xt)))))}catch(Ve){if(!Zn(Ve))throw Ve;Le("LocalStore","Failed to update sequence numbers: "+Ve)}for(const Ve of ne){const lt=Ve.targetId;if(!Ve.fromCache){const xt=he.os.get(lt),Ht=xt.withLastLimboFreeSnapshotVersion(xt.snapshotVersion);he.os=he.os.insert(lt,Ht)}}}),function O($,ne){return b.apply(this,arguments)})(s.localStore,f))}),Np.apply(this,arguments)}function cy(u,e){return kp.apply(this,arguments)}function kp(){return(kp=(0,o.A)(function*(u,e){const r=N(u);if(!r.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const s=yield qo(r.localStore,e);r.currentUser=e,(f=r).ka.forEach(b=>{b.forEach(O=>{O.reject(new ue(X.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ka.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield iu(r,s.hs)}var f})).apply(this,arguments)}function Am(u,e){const r=N(u),s=r.Na.get(e);if(s&&s.va)return $n().add(s.key);{let l=$n();const f=r.Ma.get(e);if(!f)return l;for(const m of f){const b=r.Fa.get(m);l=l.unionWith(b.view.Va)}return l}}function su(u){const e=N(u);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Am.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ly.bind(null,e),e.Ca.d_=g.bind(null,e.eventManager),e.Ca.$a=w.bind(null,e.eventManager),e}let Oc=(()=>{class u{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var s=this;return(0,o.A)(function*(){s.serializer=Bl(r.databaseInfo.databaseId),s.sharedClientState=s.Wa(r),s.persistence=s.Ga(r),yield s.persistence.start(),s.localStore=s.za(r),s.gcScheduler=s.ja(r,s.localStore),s.indexBackfillerScheduler=s.Ha(r,s.localStore)})()}ja(r,s){return null}Ha(r,s){return null}za(r){return function Uh(u,e,r,s){return new Xu(u,e,r,s)}(this.persistence,new Lh,r.initialUser,this.serializer)}Ga(r){return new Za(Ic.Zr,this.serializer)}Wa(r){return new wd}terminate(){var r=this;return(0,o.A)(function*(){var s,l;null===(s=r.gcScheduler)||void 0===s||s.stop(),null===(l=r.indexBackfillerScheduler)||void 0===l||l.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return u.provider={build:()=>new u},u})(),La=(()=>{class u{initialize(r,s){var l=this;return(0,o.A)(function*(){l.localStore||(l.localStore=r.localStore,l.sharedClientState=r.sharedClientState,l.datastore=l.createDatastore(s),l.remoteStore=l.createRemoteStore(s),l.eventManager=l.createEventManager(s),l.syncEngine=l.createSyncEngine(s,!r.synchronizeTabs),l.sharedClientState.onlineStateHandler=f=>Ld(l.syncEngine,f,1),l.remoteStore.remoteSyncer.handleCredentialChange=cy.bind(null,l.syncEngine),yield Pc(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(r){return new Sp}createDatastore(r){const s=Bl(r.databaseInfo.databaseId),l=new pm(r.databaseInfo);return new Dc(r.authCredentials,r.appCheckCredentials,l,s)}createRemoteStore(r){return l=this.localStore,f=this.datastore,m=r.asyncQueue,b=s=>Ld(this.syncEngine,s,0),O=Vl.D()?new Vl:new Ad,new gm(l,f,m,b,O);var l,f,m,b,O}createSyncEngine(r,s){return function(f,m,b,O,$,ne,he){const Ve=new nf(f,m,b,O,$,ne);return he&&(Ve.Qa=!0),Ve}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,s)}terminate(){var r=this;return(0,o.A)(function*(){var s,l,f;yield(f=(0,o.A)(function*(b){const O=N(b);Le("RemoteStore","RemoteStore shutting down."),O.L_.add(5),yield Zu(O),O.k_.shutdown(),O.q_.set("Unknown")}),function m(b){return f.apply(this,arguments)})(r.remoteStore),null===(s=r.datastore)||void 0===s||s.terminate(),null===(l=r.eventManager)||void 0===l||l.terminate()})()}}return u.provider={build:()=>new u},u})();class _f{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Jt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class _y{constructor(e,r,s,l,f){var m=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=it.UNAUTHENTICATED,this.clientId=Gn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,function(){var b=(0,o.A)(function*(O){Le("FirestoreClient","Received user=",O.uid),yield m.authCredentialListener(O),m.user=O});return function(O){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(s,b=>(Le("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Nt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const l=rl(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function yf(u,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,o.A)(function*(u,e){u.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const r=u.configuration;yield e.initialize(r);let s=r.initialUser;u.setCredentialChangeListener(function(){var l=(0,o.A)(function*(f){s.isEqual(f)||(yield qo(e.localStore,f),s=f)});return function(f){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=e}),Hp.apply(this,arguments)}function Pm(u,e){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,o.A)(function*(u,e){u.asyncQueue.verifyOperationInProgress();const r=yield function zp(u){return xc.apply(this,arguments)}(u);Le("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,u.configuration),u.setCredentialChangeListener(s=>Zh(e.remoteStore,s)),u.setAppCheckTokenChangeListener((s,l)=>Zh(e.remoteStore,l)),u._onlineComponents=e})).apply(this,arguments)}function xc(){return(xc=(0,o.A)(function*(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){Le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yf(u,u._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(l=e).name?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw e;Kn("Error using user provided cache. Falling back to memory cache: "+e),yield yf(u,new Oc)}}else Le("FirestoreClient","Using default OfflineComponentProvider"),yield yf(u,new Oc);var l;return u._offlineComponents})).apply(this,arguments)}function Ca(u){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,o.A)(function*(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(Le("FirestoreClient","Using user provided OnlineComponentProvider"),yield Pm(u,u._uninitializedComponentsProvider._online)):(Le("FirestoreClient","Using default OnlineComponentProvider"),yield Pm(u,new La))),u._onlineComponents})).apply(this,arguments)}function $d(u){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,o.A)(function*(u){const e=yield Ca(u),r=e.eventManager;return r.onListen=rf.bind(null,e.syncEngine),r.onUnlisten=Pp.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=sf.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Im.bind(null,e.syncEngine),r})).apply(this,arguments)}function ul(u){const e={};return void 0!==u.timeoutSeconds&&(e.timeoutSeconds=u.timeoutSeconds),e}const Yp=new Map;function Jp(u,e,r){if(!r)throw new ue(X.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${e}.`)}function eg(u){if(!At.isDocumentKey(u))throw new ue(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function km(u){if(At.isDocumentKey(u))throw new ue(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function Ef(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const e=(s=u).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof u?"a function":qe()}function ei(u,e){if("_delegate"in u&&(u=u._delegate),!(u instanceof e)){if(e.name===u.constructor.name)throw new ue(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ef(u);throw new ue(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return u}class tg{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new ue(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ue(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Zp(u,e,r,s){if(!0===e&&!0===s)throw new ue(X.INVALID_ARGUMENT,`${u} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=ul(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,r,s,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ue(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tg(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new _e;switch(s.type){case"firstParty":return new De(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,o.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Yp.get(r);s&&(Le("ComponentProvider","Removing Datastore"),Yp.delete(r),s.terminate())}(this),Promise.resolve()}}class Ls{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ls(this.firestore,e,this._query)}}class is{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new is(this.firestore,e,this._key)}}class Ua extends Ls{constructor(e,r,s){super(e,r,B(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new is(this.firestore,null,new At(e))}withConverter(e){return new Ua(this.firestore,e,this._path)}}function Vm(u,e,...r){if(u=(0,re.Ku)(u),Jp("collection","path",e),u instanceof If){const s=Ot.fromString(e,...r);return km(s),new Ua(u,null,s)}{if(!(u instanceof is||u instanceof Ua))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=u._path.child(Ot.fromString(e,...r));return km(s),new Ua(u.firestore,null,s)}}function Tf(u,e,...r){if(u=(0,re.Ku)(u),1===arguments.length&&(e=Gn.newId()),Jp("doc","path",e),u instanceof If){const s=Ot.fromString(e,...r);return eg(s),new is(u,null,new At(s))}{if(!(u instanceof is||u instanceof Ua))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=u._path.child(Ot.fromString(e,...r));return eg(s),new is(u.firestore,u instanceof Ua?u.converter:null,new At(s))}}class rg{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zh(this,"async_queue_retry"),this.Vu=()=>{const s=Ul();s&&Le("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const r=Ul();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ul();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Nt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,o.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!Zn(r))throw r;Le("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(s=>{throw this.Eu=s,this.du=!1,Jt("INTERNAL UNHANDLED ERROR: ",function(m){let b=m.message||"";return m.stack&&(b=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),b}(s)),s}).then(s=>(this.du=!1,s))));return this.mu=r,r}enqueueAfterDelay(e,r,s){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const l=nl.createAndSchedule(this,e,r,s,f=>this.yu(f));return this.Tu.push(l),l}fu(){this.Eu&&qe()}verifyOperationInProgress(){}wu(){var e=this;return(0,o.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function Nc(u){return function(r,s){if("object"!=typeof r||null===r)return!1;const l=r;for(const f of["next","error","complete"])if(f in l&&"function"==typeof l[f])return!0;return!1}(u)}class Gi extends If{constructor(e,r,s,l){super(e,r,s,l),this.type="firestore",this._queue=new rg,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,o.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new rg(r),e._firestoreClient=void 0,yield r}})()}}function cs(u){if(u._terminated)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.");return u._firestoreClient||function ll(u){var e,r,s;const l=u._freezeSettings(),f=(O=(null===(e=u._app)||void 0===e?void 0:e.options.appId)||"",new Jo(u._databaseId,O,u._persistenceKey,(ne=l).host,ne.ssl,ne.experimentalForceLongPolling,ne.experimentalAutoDetectLongPolling,ul(ne.experimentalLongPollingOptions),ne.useFetchStreams));var O,ne;u._componentsProvider||!(null===(r=l.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(s=l.localCache)||void 0===s)&&s._onlineComponentProvider&&(u._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),u._firestoreClient=new _y(u._authCredentials,u._appCheckCredentials,u._queue,f,u._componentsProvider&&function(b){const O=b?._online.build();return{_offline:b?._offline.build(O),_online:O}}(u._componentsProvider))}(u),u._firestoreClient}class ec{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ec(ri.fromBase64String(e))}catch(r){throw new ue(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ec(ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tc{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new ue(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cl{constructor(e){this._methodName=e}}class Cf{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ue(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ue(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}class bf{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,l){if(s.length!==l.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==l[f])return!1;return!0}(this._values,e._values)}}const zm=/^__.*__$/;class sg{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Tr(e,this.data,this.fieldMask,r,this.fieldTransforms):new lr(e,this.data,r,this.fieldTransforms)}}class wy{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Tr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Wm(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class wf{constructor(e,r,s,l,f,m){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===f&&this.vu(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new wf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.Fu({path:s,xu:!1});return l.Ou(e),l}Nu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.Fu({path:s,xu:!1});return l.vu(),l}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Rf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Wm(this.Cu)&&zm.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Ay{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Bl(e)}Qu(e,r,s,l=!1){return new wf({Cu:e,methodName:r,qu:s,path:ir.emptyPath(),xu:!1,ku:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lc(u){const e=u._freezeSettings(),r=Bl(u._databaseId);return new Ay(u._databaseId,!!e.ignoreUndefinedProperties,r)}function og(u,e,r,s,l,f={}){const m=u.Qu(f.merge||f.mergeFields?2:0,e,r,l);Uc("Data must be an object, but it was:",m,s);const b=Af(s,m);let O,$;if(f.merge)O=new Ir(m.fieldMask),$=m.fieldTransforms;else if(f.mergeFields){const ne=[];for(const he of f.mergeFields){const Ve=Sf(e,he,r);if(!m.contains(Ve))throw new ue(X.INVALID_ARGUMENT,`Field '${Ve}' is specified in your field mask but missing from your input data.`);ug(ne,Ve)||ne.push(Ve)}O=new Ir(ne),$=m.fieldTransforms.filter(he=>O.covers(he.field))}else O=null,$=m.fieldTransforms;return new sg(new sr(b),O,$)}class dl extends cl{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dl}}class Kd extends cl{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new xo(e.serializer,ua(e.serializer,this.$u));return new A(e.path,r)}isEqual(e){return e instanceof Kd&&this.$u===e.$u}}function Qd(u,e,r,s=!1){return ba(r,u.Qu(s?4:3,e))}function ba(u,e){if(Df(u=(0,re.Ku)(u)))return Uc("Unsupported field value:",e,u),Af(u,e);if(u instanceof cl)return function(s,l){if(!Wm(l.Cu))throw l.Bu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Bu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(l);f&&l.fieldTransforms.push(f)}(u,e),null;if(void 0===u&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),u instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(s,l){const f=[];let m=0;for(const b of s){let O=ba(b,l.Lu(m));null==O&&(O={nullValue:"NULL_VALUE"}),f.push(O),m++}return{arrayValue:{values:f}}}(u,e)}return function(s,l){if(null===(s=(0,re.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return ua(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=Dn.fromDate(s);return{timestampValue:Di(l.serializer,f)}}if(s instanceof Dn){const f=new Dn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Di(l.serializer,f)}}if(s instanceof Cf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ec)return{bytesValue:Fi(l.serializer,s._byteString)};if(s instanceof is){const f=l.databaseId,m=s.firestore._databaseId;if(!m.isEqual(f))throw l.Bu(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:zn(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof bf)return b=l,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(O=>{if("number"!=typeof O)throw b.Bu("VectorValues must only contain numeric values.");return ya(b.serializer,O)})}}}}};var b;throw l.Bu(`Unsupported field value: ${Ef(s)}`)}(u,e)}function Af(u,e){const r={};return Jr(u)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tn(u,(s,l)=>{const f=ba(l,e.Mu(s));null!=f&&(r[s]=f)}),{mapValue:{fields:r}}}function Df(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof Dn||u instanceof Cf||u instanceof ec||u instanceof is||u instanceof cl||u instanceof bf)}function Uc(u,e,r){if(!Df(r)||"object"!=typeof(l=r)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=Ef(r);throw e.Bu("an object"===s?u+" a custom object":u+" "+s)}var l}function Sf(u,e,r){if((e=(0,re.Ku)(e))instanceof tc)return e._internalPath;if("string"==typeof e)return fl(u,e);throw Rf("Field path arguments must be of type string or ",u,!1,void 0,r)}const ag=new RegExp("[~\\*/\\[\\]]");function fl(u,e,r){if(e.search(ag)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,r);try{return new tc(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,r)}}function Rf(u,e,r,s,l){const f=s&&!s.isEmpty(),m=void 0!==l;let b=`Function ${e}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let O="";return(f||m)&&(O+=" (found",f&&(O+=` in field ${s}`),m&&(O+=` in document ${l}`),O+=")"),new ue(X.INVALID_ARGUMENT,b+u+O)}function ug(u,e){return u.some(r=>r.isEqual(e))}class Xd{constructor(e,r,s,l,f){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=l,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new is(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Bc("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Dy extends Xd{data(){return super.data()}}function Bc(u,e){return"string"==typeof e?fl(u,e):e instanceof tc?e._internalPath:e._delegate._internalPath}function lg(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new ue(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class Yd extends cg{}function aE(u,e,...r){let s=[];e instanceof cg&&s.push(e),s=s.concat(r),function(f){const m=f.filter(O=>O instanceof pl).length,b=f.filter(O=>O instanceof Jd).length;if(m>1||m>0&&b>0)throw new ue(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)u=l._apply(u);return u}class Jd extends Yd{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Jd(e,r,s)}_apply(e){const r=this._parse(e);return Xm(e._query,r),new Ls(e.firestore,e.converter,Zr(e._query,r))}_parse(e){const r=Lc(e.firestore);return function(f,m,b,O,$,ne,he){let Ve;if($.isKeyField()){if("array-contains"===ne||"array-contains-any"===ne)throw new ue(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ne}' queries on documentId().`);if("in"===ne||"not-in"===ne){dg(he,ne);const lt=[];for(const xt of he)lt.push(Qm(O,f,xt));Ve={arrayValue:{values:lt}}}else Ve=Qm(O,f,he)}else"in"!==ne&&"not-in"!==ne&&"array-contains-any"!==ne||dg(he,ne),Ve=Qd(b,"where",he,"in"===ne||"not-in"===ne);return Rn.create($,ne,Ve)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Pf(u,e,r){const s=e,l=Bc("where",u);return Jd._create(l,s,r)}class pl extends cg{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new pl(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:yr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(l,f){let m=l;const b=f.getFlattenedFilters();for(const O of b)Xm(m,O),m=Zr(m,O)}(e._query,r),new Ls(e.firestore,e.converter,Zr(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Zd extends Yd{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Zd(e,r)}_apply(e){const r=function(l,f,m){if(null!==l.startAt)throw new ue(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new ue(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ai(f,m)}(e._query,this._field,this._direction);return new Ls(e.firestore,e.converter,function(l,f){const m=l.explicitOrderBy.concat([f]);return new yt(l.path,l.collectionGroup,m,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,r))}}function Mf(u,e="asc"){const r=e,s=Bc("orderBy",u);return Zd._create(s,r)}class Of extends Yd{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new Of(e,r,s)}_apply(e){return new Ls(e.firestore,e.converter,Ii(e._query,this._limit,this._limitType))}}function qm(u){return function Fm(u,e){if(e<=0)throw new ue(X.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${e}.`)}("limit",u),Of._create("limit",u,"F")}class eh extends Yd{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new eh(e,r,s)}_apply(e){const r=function jc(u,e,r,s){if(r[0]=(0,re.Ku)(r[0]),r[0]instanceof Xd)return function(f,m,b,O,$){if(!O)throw new ue(X.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const ne=[];for(const he of ve(f))if(he.field.isKeyField())ne.push(zr(m,O.key));else{const Ve=O.data.field(he.field);if(yo(Ve))throw new ue(X.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+he.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ve){const lt=he.field.canonicalString();throw new ue(X.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${lt}' (used as the orderBy) does not exist.`)}ne.push(Ve)}return new qr(ne,$)}(u._query,u.firestore._databaseId,e,r[0]._document,s);{const l=Lc(u.firestore);return function(m,b,O,$,ne,he){const Ve=m.explicitOrderBy;if(ne.length>Ve.length)throw new ue(X.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const lt=[];for(let xt=0;xt<ne.length;xt++){const Xt=ne[xt];if(Ve[xt].field.isKeyField()){if("string"!=typeof Xt)throw new ue(X.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof Xt}`);if(!J(m)&&-1!==Xt.indexOf("/"))throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${Xt}' contains a slash.`);const Ht=m.path.child(Ot.fromString(Xt));if(!At.isDocumentKey(Ht))throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${Ht}' is not because it contains an odd number of segments.`);const Vn=new At(Ht);lt.push(zr(b,Vn))}else{const Ht=Qd(O,$,Xt);lt.push(Ht)}}return new qr(lt,he)}(u._query,u.firestore._databaseId,l,e,r,s)}}(e,this.type,this._docOrFields,this._inclusive);return new Ls(e.firestore,e.converter,(f=r,new yt((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,f,l.endAt)));var l,f}}function Ry(...u){return eh._create("startAfter",u,!1)}function Qm(u,e,r){if("string"==typeof(r=(0,re.Ku)(r))){if(""===r)throw new ue(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J(e)&&-1!==r.indexOf("/"))throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(Ot.fromString(r));if(!At.isDocumentKey(s))throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return zr(u,new At(s))}if(r instanceof is)return zr(u,r._key);throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ef(r)}.`)}function dg(u,e){if(!Array.isArray(u)||0===u.length)throw new ue(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xm(u,e){const r=function(l,f){for(const m of l)for(const b of m.getFlattenedFilters())if(f.indexOf(b.op)>=0)return b.op;return null}(u.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new ue(X.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Jm{convertValue(e,r="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw qe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return tn(e,(l,f)=>{s[l]=this.convertValue(f,r)}),s}convertVectorValue(e){var r,s,l;const f=null===(l=null===(s=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===s?void 0:s.values)||void 0===l?void 0:l.map(m=>Gr(m.doubleValue));return new bf(f)}convertGeoPoint(e){return new Cf(Gr(e.latitude),Gr(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Ks(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(ro(e));default:return null}}convertTimestamp(e){const r=os(e);return new Dn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Ot.fromString(e);Re(Ga(s));const l=new Es(s.get(1),s.get(3)),f=new At(s.popFirst(5));return l.isEqual(r)||Jt(`Document ${f} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}class rc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ic extends Xd{constructor(e,r,s,l,f,m){super(e,r,s,l,m),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Bc("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class xf extends ic{data(e={}){return super.data(e)}}class sc{constructor(e,r,s,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new rc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new xf(this._firestore,this._userDataWriter,s.key,s,new rc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ue(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,f){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map(b=>({type:"added",doc:new xf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new rc(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:m++}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(b=>f||3!==b.type).map(b=>{const O=new xf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new rc(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let $=-1,ne=-1;return 0!==b.type&&($=m.indexOf(b.doc.key),m=m.delete(b.doc.key)),1!==b.type&&(m=m.add(b.doc),ne=m.indexOf(b.doc.key)),{type:My(b.type),doc:O,oldIndex:$,newIndex:ne}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function My(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}class Ou extends Jm{constructor(e){super(),this.firestore=e}convertBytes(e){return new ec(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new is(this.firestore,null,r)}}function t_(u){u=ei(u,Ls);const e=ei(u.firestore,Gi),r=cs(e),s=new Ou(e);return lg(u._query),function Om(u,e,r={}){const s=new Nt;return u.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(f,m,b,O,$){const ne=new _f({next:Ve=>{ne.Za(),m.enqueueAndForget(()=>I(f,he)),Ve.fromCache&&"server"===O.source?$.reject(new ue(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(Ve)},error:Ve=>$.reject(Ve)}),he=new mt(b,ne,{includeMetadataChanges:!0,_a:!0});return kd(f,he)}(yield $d(u),u.asyncQueue,e,r,s)})),s.promise}(r,u._query).then(l=>new sc(e,s,u,l))}function Nf(u,e,r,...s){u=ei(u,is);const l=ei(u.firestore,Gi),f=Lc(l);let m;return m="string"==typeof(e=(0,re.Ku)(e))||e instanceof tc?function nc(u,e,r,s,l,f){const m=u.Qu(1,e,r),b=[Sf(e,s,r)],O=[l];if(f.length%2!=0)throw new ue(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ve=0;Ve<f.length;Ve+=2)b.push(Sf(e,f[Ve])),O.push(f[Ve+1]);const $=[],ne=sr.empty();for(let Ve=b.length-1;Ve>=0;--Ve)if(!ug($,b[Ve])){const lt=b[Ve];let xt=O[Ve];xt=(0,re.Ku)(xt);const Xt=m.Nu(lt);if(xt instanceof dl)$.push(lt);else{const Ht=ba(xt,Xt);null!=Ht&&($.push(lt),ne.set(lt,Ht))}}const he=new Ir($);return new wy(ne,he,m.fieldTransforms)}(f,"updateDoc",u._key,e,r,s):function qd(u,e,r,s){const l=u.Qu(1,e,r);Uc("Data must be an object, but it was:",l,s);const f=[],m=sr.empty();tn(s,(O,$)=>{const ne=fl(e,O,r);$=(0,re.Ku)($);const he=l.Nu(ne);if($ instanceof dl)f.push(ne);else{const Ve=ba($,he);null!=Ve&&(f.push(ne),m.set(ne,Ve))}});const b=new Ir(f);return new wy(m,b,l.fieldTransforms)}(f,"updateDoc",u._key,e),ia(l,[m.toMutation(u._key,G.exists(!0))])}function xy(u){return ia(ei(u.firestore,Gi),[new Yi(u._key,G.none())])}function Ny(u,e){const r=ei(u.firestore,Gi),s=Tf(u),l=function nh(u,e,r){let s;return s=u?r&&(r.merge||r.mergeFields)?u.toFirestore(e,r):u.toFirestore(e):e,s}(u.converter,e);return ia(r,[og(Lc(u.firestore),"addDoc",s._key,l,null!==u.converter,{}).toMutation(s._key,G.exists(!1))]).then(()=>s)}function ky(u,...e){var r,s,l;u=(0,re.Ku)(u);let f={includeMetadataChanges:!1,source:"default"},m=0;"object"!=typeof e[m]||Nc(e[m])||(f=e[m],m++);const b={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(Nc(e[m])){const he=e[m];e[m]=null===(r=he.next)||void 0===r?void 0:r.bind(he),e[m+1]=null===(s=he.error)||void 0===s?void 0:s.bind(he),e[m+2]=null===(l=he.complete)||void 0===l?void 0:l.bind(he)}let O,$,ne;if(u instanceof is)$=ei(u.firestore,Gi),ne=B(u._key.path),O={next:he=>{e[m]&&e[m](function kf(u,e,r){const s=r.docs.get(e._key),l=new Ou(u);return new ic(u,l,e._key,s,new rc(r.hasPendingWrites,r.fromCache),e.converter)}($,u,he))},error:e[m+1],complete:e[m+2]};else{const he=ei(u,Ls);$=ei(he.firestore,Gi),ne=he._query;const Ve=new Ou($);O={next:lt=>{e[m]&&e[m](new sc($,Ve,he,lt))},error:e[m+1],complete:e[m+2]},lg(u._query)}return function(Ve,lt,xt,Xt){const Ht=new _f(Xt),Vn=new mt(lt,Ht,xt);return Ve.asyncQueue.enqueueAndForget((0,o.A)(function*(){return kd(yield $d(Ve),Vn)})),()=>{Ht.Za(),Ve.asyncQueue.enqueueAndForget((0,o.A)(function*(){return I(yield $d(Ve),Vn)}))}}(cs($),ne,b,O)}function ia(u,e){return function(s,l){const f=new Nt;return s.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function Tm(u,e,r){return af.apply(this,arguments)}(yield function Mm(u){return Ca(u).then(e=>e.syncEngine)}(s),l,f)})),f.promise}(cs(u),e)}function u_(u){return new Kd("increment",u)}!function(e,r=!0){pt=se.MF,(0,se.om)(new Je.uA("firestore",(s,{instanceIdentifier:l,options:f})=>{const m=s.getProvider("app").getImmediate(),b=new Gi(new oe(s.getProvider("auth-internal")),new Mt(s.getProvider("app-check-internal")),function($,ne){if(!Object.prototype.hasOwnProperty.apply($.options,["projectId"]))throw new ue(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Es($.options.projectId,ne)}(m,l),m);return f=Object.assign({useFetchStreams:r},f),b._setSettings(f),b},"PUBLIC").setMultipleInstances(!0)),(0,se.KO)(Oe,"4.7.3",e),(0,se.KO)(Oe,"4.7.3","esm2017")}()},5794:(gn,dt,z)=>{z.d(dt,{_B:()=>N,tw:()=>mr});var o=z(540),se=z(9969),Je=z(177),Ce=z(1413),re=z(345);const Fe=["toast-component",""];function Ne(_e,me){if(1&_e){const oe=o.RV6();o.j41(0,"button",5),o.bIt("click",function(){o.eBV(oe);const De=o.XpG();return o.Njj(De.remove())}),o.j41(1,"span",6),o.EFF(2,"\xd7"),o.k0s()()}}function je(_e,me){if(1&_e&&(o.qex(0),o.EFF(1),o.bVm()),2&_e){const oe=o.XpG(2);o.R7$(1),o.SpI("[",oe.duplicatesCount+1,"]")}}function Ze(_e,me){if(1&_e&&(o.j41(0,"div"),o.EFF(1),o.DNE(2,je,2,1,"ng-container",4),o.k0s()),2&_e){const oe=o.XpG();o.HbH(oe.options.titleClass),o.BMQ("aria-label",oe.title),o.R7$(1),o.SpI(" ",oe.title," "),o.R7$(1),o.Y8G("ngIf",oe.duplicatesCount)}}function ge(_e,me){if(1&_e&&o.nrm(0,"div",7),2&_e){const oe=o.XpG();o.HbH(oe.options.messageClass),o.Y8G("innerHTML",oe.message,o.npT)}}function Te(_e,me){if(1&_e&&(o.j41(0,"div",8),o.EFF(1),o.k0s()),2&_e){const oe=o.XpG();o.HbH(oe.options.messageClass),o.BMQ("aria-label",oe.message),o.R7$(1),o.SpI(" ",oe.message," ")}}function Qe(_e,me){if(1&_e&&(o.j41(0,"div"),o.nrm(1,"div",9),o.k0s()),2&_e){const oe=o.XpG();o.R7$(1),o.xc7("width",oe.width+"%")}}class nn{_attachedHost;component;viewContainerRef;injector;constructor(me,oe){this.component=me,this.injector=oe}attach(me,oe){return this._attachedHost=me,me.attach(this,oe)}detach(){const me=this._attachedHost;if(me)return this._attachedHost=void 0,me.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(me){this._attachedHost=me}}class Oe{_attachedPortal;_disposeFn;attach(me,oe){return this._attachedPortal=me,this.attachComponentPortal(me,oe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(me){this._disposeFn=me}}class it{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Ce.B;_activate=new Ce.B;_manualClose=new Ce.B;_resetTimeout=new Ce.B;_countDuplicate=new Ce.B;constructor(me){this._overlayRef=me}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(me,oe){me&&this._resetTimeout.next(),oe&&this._countDuplicate.next(++this.duplicatesCount)}}class pt{toastId;config;message;title;toastType;toastRef;_onTap=new Ce.B;_onAction=new Ce.B;constructor(me,oe,de,De,st,Mt){this.toastId=me,this.config=oe,this.message=de,this.title=De,this.toastType=st,this.toastRef=Mt,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(me){this._onAction.next(me)}onAction(){return this._onAction.asObservable()}}const $t=new o.nKC("ToastConfig");class Bt extends Oe{_hostDomElement;_componentFactoryResolver;_appRef;constructor(me,oe,de){super(),this._hostDomElement=me,this._componentFactoryResolver=oe,this._appRef=de}attachComponentPortal(me,oe){const de=this._componentFactoryResolver.resolveComponentFactory(me.component);let De;return De=de.create(me.injector),this._appRef.attachView(De.hostView),this.setDisposeFn(()=>{this._appRef.detachView(De.hostView),De.destroy()}),oe?this._hostDomElement.insertBefore(this._getComponentRootNode(De),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(De)),De}_getComponentRootNode(me){return me.hostView.rootNodes[0]}}let Le=(()=>{class _e{_document=(0,o.WQX)(Je.qQ);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const oe=this._document.createElement("div");oe.classList.add("overlay-container"),oe.setAttribute("aria-live","polite"),this._document.body.appendChild(oe),this._containerElement=oe}static \u0275fac=function(de){return new(de||_e)};static \u0275prov=o.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})();class Jt{_portalHost;constructor(me){this._portalHost=me}attach(me,oe=!0){return this._portalHost.attach(me,oe)}detach(){return this._portalHost.detach()}}let Kn=(()=>{class _e{_overlayContainer=(0,o.WQX)(Le);_componentFactoryResolver=(0,o.WQX)(o.OM3);_appRef=(0,o.WQX)(o.o8S);_document=(0,o.WQX)(Je.qQ);_paneElements=new Map;create(oe,de){return this._createOverlayRef(this.getPaneElement(oe,de))}getPaneElement(oe="",de){return this._paneElements.get(de)||this._paneElements.set(de,{}),this._paneElements.get(de)[oe]||(this._paneElements.get(de)[oe]=this._createPaneElement(oe,de)),this._paneElements.get(de)[oe]}_createPaneElement(oe,de){const De=this._document.createElement("div");return De.id="toast-container",De.classList.add(oe),De.classList.add("toast-container"),de?de.getContainerElement().appendChild(De):this._overlayContainer.getContainerElement().appendChild(De),De}_createPortalHost(oe){return new Bt(oe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(oe){return new Jt(this._createPortalHost(oe))}static \u0275fac=function(de){return new(de||_e)};static \u0275prov=o.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})(),mr=(()=>{class _e{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(oe,de,De,st,Mt){this.overlay=de,this._injector=De,this.sanitizer=st,this.ngZone=Mt,this.toastrConfig={...oe.default,...oe.config},oe.config.iconClasses&&(this.toastrConfig.iconClasses={...oe.default.iconClasses,...oe.config.iconClasses})}show(oe,de,De={},st=""){return this._preBuildNotification(st,oe,de,this.applyConfig(De))}success(oe,de,De={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",oe,de,this.applyConfig(De))}error(oe,de,De={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",oe,de,this.applyConfig(De))}info(oe,de,De={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",oe,de,this.applyConfig(De))}warning(oe,de,De={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",oe,de,this.applyConfig(De))}clear(oe){for(const de of this.toasts)if(void 0!==oe){if(de.toastId===oe)return void de.toastRef.manualClose()}else de.toastRef.manualClose()}remove(oe){const de=this._findToast(oe);if(!de||(de.activeToast.toastRef.close(),this.toasts.splice(de.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const De=this.toasts[this.currentlyActive].toastRef;De.isInactive()||(this.currentlyActive=this.currentlyActive+1,De.activate())}return!0}findDuplicate(oe="",de="",De,st){const{includeTitleDuplicates:Mt}=this.toastrConfig;for(const Ln of this.toasts)if((!Mt||Mt&&Ln.title===oe)&&Ln.message===de)return Ln.toastRef.onDuplicate(De,st),Ln;return null}applyConfig(oe={}){return{...this.toastrConfig,...oe}}_findToast(oe){for(let de=0;de<this.toasts.length;de++)if(this.toasts[de].toastId===oe)return{index:de,activeToast:this.toasts[de]};return null}_preBuildNotification(oe,de,De,st){return st.onActivateTick?this.ngZone.run(()=>this._buildNotification(oe,de,De,st)):this._buildNotification(oe,de,De,st)}_buildNotification(oe,de,De,st){if(!st.toastComponent)throw new Error("toastComponent required");const Mt=this.findDuplicate(De,de,this.toastrConfig.resetTimeoutOnDuplicate&&st.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&De||de)&&this.toastrConfig.preventDuplicates&&null!==Mt)return Mt;this.previousToastMessage=de;let Ln=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Ln=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const dn=this.overlay.create(st.positionClass,this.overlayContainer);this.index=this.index+1;let Gn=de;de&&st.enableHtml&&(Gn=this.sanitizer.sanitize(o.WPN.HTML,de));const jt=new it(dn),Nr=new pt(this.index,st,Gn,De,oe,jt),Dn=o.zZn.create({providers:[{provide:pt,useValue:Nr}],parent:this._injector}),Wt=new nn(st.toastComponent,Dn),sn=dn.attach(Wt,st.newestOnTop);jt.componentInstance=sn.instance;const Ot={toastId:this.index,title:De||"",message:de||"",toastRef:jt,onShown:jt.afterActivate(),onHidden:jt.afterClosed(),onTap:Nr.onTap(),onAction:Nr.onAction(),portal:sn};return Ln||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Ot.toastRef.activate()})),this.toasts.push(Ot),Ot}static \u0275fac=function(de){return new(de||_e)(o.KVO($t),o.KVO(Kn),o.KVO(o.zZn),o.KVO(re.up),o.KVO(o.SKi))};static \u0275prov=o.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})();const Re={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class _e{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(oe,de,De){this.toastrService=oe,this.toastPackage=de,this.ngZone=De,this.message=de.message,this.title=de.title,this.options=de.config,this.originalTimeout=de.config.timeOut,this.toastClasses=`${de.toastType} ${de.config.toastClass}`,this.sub=de.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=de.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=de.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=de.toastRef.countDuplicate().subscribe(st=>{this.duplicatesCount=st}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const oe=(new Date).getTime();this.width=(this.hideTime-oe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(oe,de){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(oe),de)):this.timeout=setTimeout(()=>oe(),de)}outsideInterval(oe,de){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(oe),de)):this.intervalId=setInterval(()=>oe(),de)}runInsideAngular(oe){this.ngZone?this.ngZone.run(()=>oe()):oe()}static \u0275fac=function(de){return new(de||_e)(o.rXU(mr),o.rXU(pt),o.rXU(o.SKi))};static \u0275cmp=o.VBU({type:_e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(de,De){1&de&&o.bIt("click",function(){return De.tapToast()})("mouseenter",function(){return De.stickAround()})("mouseleave",function(){return De.delayedHideToast()}),2&de&&(o.zvX("@flyInOut",De.state),o.HbH(De.toastClasses),o.xc7("display",De.displayStyle))},standalone:!0,features:[o.aNF],attrs:Fe,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(de,De){1&de&&(o.DNE(0,Ne,3,0,"button",0),o.DNE(1,Ze,3,5,"div",1),o.DNE(2,ge,1,3,"div",2),o.DNE(3,Te,2,4,"div",3),o.DNE(4,Qe,2,2,"div",4)),2&de&&(o.Y8G("ngIf",De.options.closeButton),o.R7$(1),o.Y8G("ngIf",De.title),o.R7$(1),o.Y8G("ngIf",De.message&&De.options.enableHtml),o.R7$(1),o.Y8G("ngIf",De.message&&!De.options.enableHtml),o.R7$(1),o.Y8G("ngIf",De.options.progressBar))},dependencies:[Je.bT],encapsulation:2,data:{animation:[(0,se.hZ)("flyInOut",[(0,se.wk)("inactive",(0,se.iF)({opacity:0})),(0,se.wk)("active",(0,se.iF)({opacity:1})),(0,se.wk)("removed",(0,se.iF)({opacity:0})),(0,se.kY)("inactive => active",(0,se.i0)("{{ easeTime }}ms {{ easing }}")),(0,se.kY)("active => removed",(0,se.i0)("{{ easeTime }}ms {{ easing }}"))])]}})}return _e})()},qt=(_e={})=>(0,o.EmA)([{provide:$t,useValue:{default:Re,config:_e}}]);let N=(()=>{class _e{static forRoot(oe={}){return{ngModule:_e,providers:[qt(oe)]}}static \u0275fac=function(de){return new(de||_e)};static \u0275mod=o.$C({type:_e});static \u0275inj=o.G2t({})}return _e})()},467:(gn,dt,z)=>{function o(Je,Ce,re,Fe,Ne,je,Ze){try{var ge=Je[je](Ze),Te=ge.value}catch(Qe){return void re(Qe)}ge.done?Ce(Te):Promise.resolve(Te).then(Fe,Ne)}function se(Je){return function(){var Ce=this,re=arguments;return new Promise(function(Fe,Ne){var je=Je.apply(Ce,re);function Ze(Te){o(je,Fe,Ne,Ze,ge,"next",Te)}function ge(Te){o(je,Fe,Ne,Ze,ge,"throw",Te)}Ze(void 0)})}}z.d(dt,{A:()=>se})},1635:(gn,dt,z)=>{function Ce(ke,_e){var me={};for(var oe in ke)Object.prototype.hasOwnProperty.call(ke,oe)&&_e.indexOf(oe)<0&&(me[oe]=ke[oe]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(oe=Object.getOwnPropertySymbols(ke);de<oe.length;de++)_e.indexOf(oe[de])<0&&Object.prototype.propertyIsEnumerable.call(ke,oe[de])&&(me[oe[de]]=ke[oe[de]])}return me}function re(ke,_e,me,oe){var st,de=arguments.length,De=de<3?_e:null===oe?oe=Object.getOwnPropertyDescriptor(_e,me):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)De=Reflect.decorate(ke,_e,me,oe);else for(var Mt=ke.length-1;Mt>=0;Mt--)(st=ke[Mt])&&(De=(de<3?st(De):de>3?st(_e,me,De):st(_e,me))||De);return de>3&&De&&Object.defineProperty(_e,me,De),De}function Qe(ke,_e,me,oe){return new(me||(me=Promise))(function(De,st){function Mt(Gn){try{dn(oe.next(Gn))}catch(jt){st(jt)}}function Ln(Gn){try{dn(oe.throw(Gn))}catch(jt){st(jt)}}function dn(Gn){Gn.done?De(Gn.value):function de(De){return De instanceof me?De:new me(function(st){st(De)})}(Gn.value).then(Mt,Ln)}dn((oe=oe.apply(ke,_e||[])).next())})}function Oe(ke){return this instanceof Oe?(this.v=ke,this):new Oe(ke)}function it(ke,_e,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,oe=me.apply(ke,_e||[]),De=[];return de=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Mt("next"),Mt("throw"),Mt("return",function st(wn){return function(Dn){return Promise.resolve(Dn).then(wn,jt)}}),de[Symbol.asyncIterator]=function(){return this},de;function Mt(wn,Dn){oe[wn]&&(de[wn]=function(Wt){return new Promise(function(sn,Ot){De.push([wn,Wt,sn,Ot])>1||Ln(wn,Wt)})},Dn&&(de[wn]=Dn(de[wn])))}function Ln(wn,Dn){try{!function dn(wn){wn.value instanceof Oe?Promise.resolve(wn.value.v).then(Gn,jt):Nr(De[0][2],wn)}(oe[wn](Dn))}catch(Wt){Nr(De[0][3],Wt)}}function Gn(wn){Ln("next",wn)}function jt(wn){Ln("throw",wn)}function Nr(wn,Dn){wn(Dn),De.shift(),De.length&&Ln(De[0][0],De[0][1])}}function Pt(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,_e=ke[Symbol.asyncIterator];return _e?_e.call(ke):(ke=function Ft(ke){var _e="function"==typeof Symbol&&Symbol.iterator,me=_e&&ke[_e],oe=0;if(me)return me.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&oe>=ke.length&&(ke=void 0),{value:ke&&ke[oe++],done:!ke}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(ke),me={},oe("next"),oe("throw"),oe("return"),me[Symbol.asyncIterator]=function(){return this},me);function oe(De){me[De]=ke[De]&&function(st){return new Promise(function(Mt,Ln){!function de(De,st,Mt,Ln){Promise.resolve(Ln).then(function(dn){De({value:dn,done:Mt})},st)}(Mt,Ln,(st=ke[De](st)).done,st.value)})}}}z.d(dt,{AQ:()=>it,Cg:()=>re,N3:()=>Oe,Tt:()=>Ce,sH:()=>Qe,xN:()=>Pt}),"function"==typeof SuppressedError&&SuppressedError}},gn=>{gn(gn.s=2118)}]);