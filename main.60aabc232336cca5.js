"use strict";(self.webpackChunkblog_app=self.webpackChunkblog_app||[]).push([[792],{1076:(Cn,_t,K)=>{K.d(_t,{Am:()=>cn,FA:()=>we,Fy:()=>St,I9:()=>mn,Im:()=>gn,Ku:()=>mt,T9:()=>xe,Tj:()=>Zn,Uj:()=>st,XA:()=>dt,ZQ:()=>Ht,bD:()=>an,c1:()=>gr,cY:()=>gt,eX:()=>ve,g:()=>de,hp:()=>wr,jZ:()=>Bt,lT:()=>N,lV:()=>De,nr:()=>xt,sr:()=>Ye,tD:()=>Or,u:()=>pe,yU:()=>hn,zW:()=>Oe});const Ee=function(ne){const j=[];let Y=0;for(let Ae=0;Ae<ne.length;Ae++){let Re=ne.charCodeAt(Ae);Re<128?j[Y++]=Re:Re<2048?(j[Y++]=Re>>6|192,j[Y++]=63&Re|128):55296==(64512&Re)&&Ae+1<ne.length&&56320==(64512&ne.charCodeAt(Ae+1))?(Re=65536+((1023&Re)<<10)+(1023&ne.charCodeAt(++Ae)),j[Y++]=Re>>18|240,j[Y++]=Re>>12&63|128,j[Y++]=Re>>6&63|128,j[Y++]=63&Re|128):(j[Y++]=Re>>12|224,j[Y++]=Re>>6&63|128,j[Y++]=63&Re|128)}return j},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ne,j){if(!Array.isArray(ne))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ae=[];for(let Re=0;Re<ne.length;Re+=3){const Tt=ne[Re],Nt=Re+1<ne.length,Tn=Nt?ne[Re+1]:0,Yn=Re+2<ne.length,kn=Yn?ne[Re+2]:0;let be=(15&Tn)<<2|kn>>6,Se=63&kn;Yn||(Se=64,Nt||(be=64)),Ae.push(Y[Tt>>2],Y[(3&Tt)<<4|Tn>>4],Y[be],Y[Se])}return Ae.join("")},encodeString(ne,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(ne):this.encodeByteArray(Ee(ne),j)},decodeString(ne,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(ne):function(ne){const j=[];let Y=0,Ae=0;for(;Y<ne.length;){const Re=ne[Y++];if(Re<128)j[Ae++]=String.fromCharCode(Re);else if(Re>191&&Re<224){const Tt=ne[Y++];j[Ae++]=String.fromCharCode((31&Re)<<6|63&Tt)}else if(Re>239&&Re<365){const Yn=((7&Re)<<18|(63&ne[Y++])<<12|(63&ne[Y++])<<6|63&ne[Y++])-65536;j[Ae++]=String.fromCharCode(55296+(Yn>>10)),j[Ae++]=String.fromCharCode(56320+(1023&Yn))}else{const Tt=ne[Y++],Nt=ne[Y++];j[Ae++]=String.fromCharCode((15&Re)<<12|(63&Tt)<<6|63&Nt)}}return j.join("")}(this.decodeStringToByteArray(ne,j))},decodeStringToByteArray(ne,j){this.init_();const Y=j?this.charToByteMapWebSafe_:this.charToByteMap_,Ae=[];for(let Re=0;Re<ne.length;){const Tt=Y[ne.charAt(Re++)],Tn=Re<ne.length?Y[ne.charAt(Re)]:0;++Re;const kn=Re<ne.length?Y[ne.charAt(Re)]:64;++Re;const Ue=Re<ne.length?Y[ne.charAt(Re)]:64;if(++Re,null==Tt||null==Tn||null==kn||null==Ue)throw new Be;Ae.push(Tt<<2|Tn>>4),64!==kn&&(Ae.push(Tn<<4&240|kn>>2),64!==Ue&&Ae.push(kn<<6&192|Ue))}return Ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ne=0;ne<this.ENCODED_VALS.length;ne++)this.byteToCharMap_[ne]=this.ENCODED_VALS.charAt(ne),this.charToByteMap_[this.byteToCharMap_[ne]]=ne,this.byteToCharMapWebSafe_[ne]=this.ENCODED_VALS_WEBSAFE.charAt(ne),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ne]]=ne,ne>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ne)]=ne,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ne)]=ne)}}};class Be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const st=function(ne){return function(ne){const j=Ee(ne);return Le.encodeByteArray(j,!0)}(ne).replace(/\./g,"")},pe=function(ne){try{return Le.decodeString(ne,!0)}catch(j){console.error("base64Decode failed: ",j)}return null},bn=()=>{try{return function wt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ne=process.env.__FIREBASE_DEFAULTS__;return ne?JSON.parse(ne):void 0})()||(()=>{if(typeof document>"u")return;let ne;try{ne=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=ne&&pe(ne[1]);return j&&JSON.parse(j)})()}catch(ne){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ne}`)}},Zn=ne=>{var j,Y;return null===(Y=null===(j=bn())||void 0===j?void 0:j.emulatorHosts)||void 0===Y?void 0:Y[ne]},hn=ne=>{const j=Zn(ne);if(!j)return;const Y=j.lastIndexOf(":");if(Y<=0||Y+1===j.length)throw new Error(`Invalid host ${j} with no separate hostname and port!`);const Ae=parseInt(j.substring(Y+1),10);return"["===j[0]?[j.substring(1,Y-1),Ae]:[j.substring(0,Y),Ae]},xe=()=>{var ne;return null===(ne=bn())||void 0===ne?void 0:ne.config},dt=ne=>{var j;return null===(j=bn())||void 0===j?void 0:j[`_${ne}`]};class gt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,Y)=>{this.resolve=j,this.reject=Y})}wrapCallback(j){return(Y,Ae)=>{Y?this.reject(Y):this.resolve(Ae),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(Y):j(Y,Ae))}}}function St(ne,j){if(ne.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae=j||"demo-project",Re=ne.iat||0,Tt=ne.sub||ne.user_id;if(!Tt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Nt=Object.assign({iss:`https://securetoken.google.com/${Ae}`,aud:Ae,iat:Re,exp:Re+3600,auth_time:Re,sub:Tt,user_id:Tt,firebase:{sign_in_provider:"custom",identities:{}}},ne);return[st(JSON.stringify({alg:"none",type:"JWT"})),st(JSON.stringify(Nt)),""].join(".")}function Ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Bt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function gr(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Ye(){const ne="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ne&&void 0!==ne.id}function De(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function N(){const ne=Ht();return ne.indexOf("MSIE ")>=0||ne.indexOf("Trident/")>=0}function xt(){return!function ke(){var ne;const j=null===(ne=bn())||void 0===ne?void 0:ne.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oe(){try{return"object"==typeof indexedDB}catch{return!1}}function ve(){return new Promise((ne,j)=>{try{let Y=!0;const Ae="validate-browser-context-for-indexeddb-analytics-module",Re=self.indexedDB.open(Ae);Re.onsuccess=()=>{Re.result.close(),Y||self.indexedDB.deleteDatabase(Ae),ne(!0)},Re.onupgradeneeded=()=>{Y=!1},Re.onerror=()=>{var Tt;j((null===(Tt=Re.error)||void 0===Tt?void 0:Tt.message)||"")}}catch(Y){j(Y)}})}class de extends Error{constructor(j,Y,Ae){super(Y),this.code=j,this.customData=Ae,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,we.prototype.create)}}class we{constructor(j,Y,Ae){this.service=j,this.serviceName=Y,this.errors=Ae}create(j,...Y){const Ae=Y[0]||{},Re=`${this.service}/${j}`,Tt=this.errors[j],Nt=Tt?function at(ne,j){return ne.replace(Rt,(Y,Ae)=>{const Re=j[Ae];return null!=Re?String(Re):`<${Ae}?>`})}(Tt,Ae):"Error";return new de(Re,`${this.serviceName}: ${Nt} (${Re}).`,Ae)}}const Rt=/\{\$([^}]+)}/g;function gn(ne){for(const j in ne)if(Object.prototype.hasOwnProperty.call(ne,j))return!1;return!0}function an(ne,j){if(ne===j)return!0;const Y=Object.keys(ne),Ae=Object.keys(j);for(const Re of Y){if(!Ae.includes(Re))return!1;const Tt=ne[Re],Nt=j[Re];if(Fe(Tt)&&Fe(Nt)){if(!an(Tt,Nt))return!1}else if(Tt!==Nt)return!1}for(const Re of Ae)if(!Y.includes(Re))return!1;return!0}function Fe(ne){return null!==ne&&"object"==typeof ne}function cn(ne){const j=[];for(const[Y,Ae]of Object.entries(ne))Array.isArray(Ae)?Ae.forEach(Re=>{j.push(encodeURIComponent(Y)+"="+encodeURIComponent(Re))}):j.push(encodeURIComponent(Y)+"="+encodeURIComponent(Ae));return j.length?"&"+j.join("&"):""}function mn(ne){const j={};return ne.replace(/^\?/,"").split("&").forEach(Ae=>{if(Ae){const[Re,Tt]=Ae.split("=");j[decodeURIComponent(Re)]=decodeURIComponent(Tt)}}),j}function wr(ne){const j=ne.indexOf("?");if(!j)return"";const Y=ne.indexOf("#",j);return ne.substring(j,Y>0?Y:void 0)}function Or(ne,j){const Y=new hr(ne,j);return Y.subscribe.bind(Y)}class hr{constructor(j,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{j(this)}).catch(Ae=>{this.error(Ae)})}next(j){this.forEachObserver(Y=>{Y.next(j)})}error(j){this.forEachObserver(Y=>{Y.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,Y,Ae){let Re;if(void 0===j&&void 0===Y&&void 0===Ae)throw new Error("Missing Observer.");Re=function Ui(ne,j){if("object"!=typeof ne||null===ne)return!1;for(const Y of j)if(Y in ne&&"function"==typeof ne[Y])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:Y,complete:Ae},void 0===Re.next&&(Re.next=Bn),void 0===Re.error&&(Re.error=Bn),void 0===Re.complete&&(Re.complete=Bn);const Tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Re.error(this.finalError):Re.complete()}catch{}}),this.observers.push(Re),Tt}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,j)}sendOne(j,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{Y(this.observers[j])}catch(Ae){typeof console<"u"&&console.error&&console.error(Ae)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bn(){}function mt(ne){return ne&&ne._delegate?ne._delegate:ne}},9075:(Cn,_t,K)=>{K.d(_t,{u:()=>gn});var c=K(6448),D=K(540),rt=K(6840),Ee=K(177),X=K(483);function Le(Xe,an){1&Xe&&(D.j41(0,"small",10),D.EFF(1," Featured "),D.k0s())}const Be=function(Xe,an){return["/post",Xe,an]};function Qe(Xe,an){if(1&Xe&&(D.j41(0,"div",1),D.nrm(1,"img",2),D.j41(2,"div",3)(3,"div",4)(4,"small",5),D.EFF(5),D.k0s(),D.DNE(6,Le,2,0,"small",6),D.j41(7,"small",7),D.EFF(8),D.k0s()(),D.j41(9,"h5",8),D.EFF(10),D.k0s(),D.j41(11,"p"),D.EFF(12),D.k0s(),D.j41(13,"small",9),D.EFF(14),D.nI1(15,"date"),D.nI1(16,"timestampToDate"),D.k0s()()()),2&Xe){const Fe=D.XpG();D.Y8G("routerLink",D.l_i(12,Be,Fe.postInfo.category.categoryId,Fe.postInfo.id)),D.R7$(1),D.FS9("src",Fe.postInfo.postImg,D.B4B),D.R7$(4),D.SpI(" ",Fe.postInfo.category.category," "),D.R7$(1),D.Y8G("ngIf",Fe.postInfo.isFeatured),D.R7$(2),D.SpI(" Views - ",Fe.postInfo.views," "),D.R7$(2),D.SpI(" ",Fe.postInfo.title," "),D.R7$(2),D.SpI(" ",Fe.postInfo.excerpt," "),D.R7$(2),D.SpI(" LAST UPDATED - ",D.bMT(15,8,D.bMT(16,10,Fe.postInfo.createdAt))," ")}}let st=(()=>{class Xe{static{this.\u0275fac=function(Ut){return new(Ut||Xe)}}static{this.\u0275cmp=D.VBU({type:Xe,selectors:[["app-post-card"]],inputs:{postInfo:"postInfo"},decls:1,vars:1,consts:[["style","cursor: pointer;","class","card shadow-effect",3,"routerLink",4,"ngIf"],[1,"card","shadow-effect",2,"cursor","pointer",3,"routerLink"],["alt","post-image",1,"card-img-top",3,"src"],[1,"card-body"],[1,"d-flex","gap-3","flex-wrap"],[1,"p-2","rounded","bg-light","text-danger","text-center"],["class","p-2 rounded bg-light text-success text-center ml-3",4,"ngIf"],[1,"p-2","rounded","bg-light","text-info","text-center","ml-3"],[1,"mt-1"],[1,"p-2","rounded","bg-light","text-warning","text-center"],[1,"p-2","rounded","bg-light","text-success","text-center","ml-3"]],template:function(Ut,cn){1&Ut&&D.DNE(0,Qe,17,15,"div",0),2&Ut&&D.Y8G("ngIf",cn.postInfo)},dependencies:[Ee.bT,c.Wk,Ee.vh,X.i],styles:[".card[_ngcontent-%COMP%]{max-width:400px;min-height:500px}"]})}}return Xe})();function pe(Xe,an){if(1&Xe&&(D.j41(0,"div",10),D.nrm(1,"app-post-card",11),D.k0s()),2&Xe){const Fe=an.$implicit;D.R7$(1),D.Y8G("postInfo",Fe)}}function me(Xe,an){if(1&Xe&&(D.j41(0,"div",12),D.nrm(1,"app-post-card",11),D.k0s()),2&Xe){const Fe=an.$implicit;D.R7$(1),D.Y8G("postInfo",Fe)}}let Je=(()=>{class Xe{constructor(){this.blogPostsService=(0,D.WQX)(rt.t),this.featuredPosts$=this.blogPostsService.getFeaturedPosts(),this.latestPosts$=this.blogPostsService.getLatestPosts()}static{this.\u0275fac=function(Ut){return new(Ut||Xe)}}static{this.\u0275cmp=D.VBU({type:Xe,selectors:[["app-home"]],decls:20,vars:6,consts:[[1,"featured-section"],[1,"container-fluid"],[1,"row"],[1,"col-md-12","text-center","mt-5"],[1,"text-white"],[1,"row","justify-content-center"],["class","col-lg-3",4,"ngFor","ngForOf"],[1,"container","mt-5"],[1,"col-md-12","text-center"],["class","col-md-4 mt-3",4,"ngFor","ngForOf"],[1,"col-lg-3"],[3,"postInfo"],[1,"col-md-4","mt-3"]],template:function(Ut,cn){1&Ut&&(D.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),D.EFF(5," Featured Posts "),D.k0s(),D.j41(6,"p",4),D.EFF(7," Lorem ipsum dolor sit amet consectetur adipisicing elit. "),D.k0s()()(),D.j41(8,"div",5),D.DNE(9,pe,2,1,"div",6),D.nI1(10,"async"),D.k0s()()(),D.j41(11,"section",7)(12,"div",8)(13,"h2"),D.EFF(14," Latest Posts "),D.k0s(),D.j41(15,"p"),D.EFF(16,"Lorem ipsum dolor sit amet consectetur adipisicing elit."),D.k0s()(),D.j41(17,"div",2),D.DNE(18,me,2,1,"div",9),D.nI1(19,"async"),D.k0s()()),2&Ut&&(D.R7$(9),D.Y8G("ngForOf",D.bMT(10,2,cn.featuredPosts$)),D.R7$(9),D.Y8G("ngForOf",D.bMT(19,4,cn.latestPosts$)))},dependencies:[Ee.Sq,st,Ee.Jj],styles:[".featured-section[_ngcontent-%COMP%]{padding-left:130px;padding-right:130px;padding-bottom:130px;background-color:var(--primary-color)}"]})}}return Xe})();function At(Xe,an){if(1&Xe&&(D.j41(0,"h1",3),D.EFF(1),D.k0s()),2&Xe){const Fe=D.XpG();D.R7$(1),D.SpI(" ",Fe.categoryData," Category ")}}function wt(Xe,an){if(1&Xe&&(D.j41(0,"div",7),D.nrm(1,"app-post-card",8),D.k0s()),2&Xe){const Fe=an.$implicit;D.R7$(1),D.Y8G("postInfo",Fe)}}let Dt=(()=>{class Xe{constructor(){this.route=(0,D.WQX)(c.nX),this.blogPostsService=(0,D.WQX)(rt.t),this.categoryData=null}ngOnInit(){this.subscription=this.route.params.subscribe(Fe=>{this.categoryData=Fe.category,this.categoryPosts$=this.blogPostsService.loadCategoryPosts(Fe.id)})}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(Ut){return new(Ut||Xe)}}static{this.\u0275cmp=D.VBU({type:Xe,selectors:[["app-single-category"]],decls:9,vars:4,consts:[[1,"bg-theme","p-5"],[1,"container"],["class","text-white",4,"ngIf"],[1,"text-white"],[1,"container","mt-5","mb-5"],[1,"row"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3"],[3,"postInfo"]],template:function(Ut,cn){1&Ut&&(D.j41(0,"div",0)(1,"div",1),D.DNE(2,At,2,1,"h1",2),D.j41(3,"p",3),D.EFF(4,"Lorem ipsum dolor sit amet consectetur adipisicing elit."),D.k0s()()(),D.j41(5,"div",4)(6,"div",5),D.DNE(7,wt,2,1,"div",6),D.nI1(8,"async"),D.k0s()()),2&Ut&&(D.R7$(2),D.Y8G("ngIf",cn.categoryData),D.R7$(5),D.Y8G("ngForOf",D.bMT(8,2,cn.categoryPosts$)))},dependencies:[Ee.Sq,Ee.bT,st,Ee.Jj]})}}return Xe})();var rn=K(8088),Xt=K(4341);const bn=function(Xe){return{"alert-validate":Xe}};let Zn=(()=>{class Xe{constructor(){this.commentService=(0,D.WQX)(rn.y)}submitForm(Fe){this.commentService.saveData({name:Fe.value.name,comment:Fe.value.comment,approved:!1,postId:this.postData.id,postName:this.postData.title,createdAt:new Date}),Fe.reset()}static{this.\u0275fac=function(Ut){return new(Ut||Xe)}}static{this.\u0275cmp=D.VBU({type:Xe,selectors:[["app-comment-form"]],inputs:{postData:"postData"},decls:20,vars:7,consts:[[1,"card","mt-5","shadow-effect"],[1,"card-body"],[3,"ngSubmit"],["commForm","ngForm"],["data-validate","Name is required",1,"form-group","validate-input",3,"ngClass"],["type","text","placeholder","Enter your name here","name","name","required","","ngModel","",1,"form-control","shadow-effect"],["Name","ngModel"],["data-validate","Comment is required",1,"form-group","validate-input",3,"ngClass"],["cols","30","rows","10","placeholder","Add your comment here","name","comment","required","","ngModel","",1,"form-control","shadow-effect"],["Comment","ngModel"],[1,"mt-5","btn","btn-info","btn-theme","text-white",3,"disabled"]],template:function(Ut,cn){if(1&Ut){const mn=D.RV6();D.j41(0,"div",0)(1,"div",1)(2,"h4"),D.EFF(3,"Leave a Comment"),D.k0s(),D.j41(4,"p"),D.EFF(5,"You can leave a comment using this comment form"),D.k0s(),D.j41(6,"form",2,3),D.bIt("ngSubmit",function(){D.eBV(mn);const dr=D.sdS(7);return D.Njj(cn.submitForm(dr))}),D.j41(8,"div",4)(9,"label"),D.EFF(10,"Name"),D.k0s(),D.nrm(11,"input",5,6),D.k0s(),D.j41(13,"div",7)(14,"label"),D.EFF(15,"Comment"),D.k0s(),D.nrm(16,"textarea",8,9),D.k0s(),D.j41(18,"button",10),D.EFF(19,"Add a Comment"),D.k0s()()()()}if(2&Ut){const mn=D.sdS(7),wr=D.sdS(12),dr=D.sdS(17);D.R7$(8),D.Y8G("ngClass",D.eq3(3,bn,wr.touched&&wr.invalid)),D.R7$(5),D.Y8G("ngClass",D.eq3(5,bn,dr.touched&&dr.invalid)),D.R7$(5),D.Y8G("disabled",mn.invalid)}},dependencies:[Ee.YU,Xt.qT,Xt.me,Xt.BC,Xt.cb,Xt.YS,Xt.vS,Xt.cV]})}}return Xe})();function hn(Xe,an){if(1&Xe&&(D.j41(0,"div",5)(1,"h6",6),D.EFF(2),D.k0s(),D.j41(3,"small",7),D.EFF(4),D.nI1(5,"date"),D.nI1(6,"timestampToDate"),D.k0s(),D.j41(7,"div",3),D.EFF(8),D.k0s(),D.nrm(9,"hr"),D.k0s()),2&Xe){const Fe=an.$implicit;D.R7$(2),D.SpI(" ",Fe.name," "),D.R7$(2),D.SpI(" CREATED AT - ",D.bMT(5,3,D.bMT(6,5,Fe.createdAt))," "),D.R7$(4),D.SpI(" ",Fe.comment," ")}}function xe(Xe,an){if(1&Xe&&(D.j41(0,"div",2)(1,"h4",3),D.EFF(2),D.k0s(),D.DNE(3,hn,10,7,"div",4),D.k0s()),2&Xe){const Fe=an.ngIf;D.R7$(2),D.SpI(" Comments (",Fe.length,") "),D.R7$(1),D.Y8G("ngForOf",Fe)}}let dt=(()=>{class Xe{constructor(){this.commentService=(0,D.WQX)(rn.y)}ngOnInit(){this.commentList$=this.commentService.loadData(this.postData.id)}static{this.\u0275fac=function(Ut){return new(Ut||Xe)}}static{this.\u0275cmp=D.VBU({type:Xe,selectors:[["app-comment-list"]],inputs:{postData:"postData"},decls:3,vars:3,consts:[[1,"card","mb-5","mt-5","pb-5","shadow-effect"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"mt-3","mb-3"],["class","comment-box mt-3",4,"ngFor","ngForOf"],[1,"comment-box","mt-3"],[1,"mb-0"],[1,"text-danger"]],template:function(Ut,cn){1&Ut&&(D.j41(0,"div",0),D.DNE(1,xe,4,2,"div",1),D.nI1(2,"async"),D.k0s()),2&Ut&&(D.R7$(1),D.Y8G("ngIf",D.bMT(2,1,cn.commentList$)))},dependencies:[Ee.Sq,Ee.bT,Ee.Jj,Ee.vh,X.i],styles:[".comment-box[_ngcontent-%COMP%]{padding:15px 35px;background-color:#f0f0f0}"]})}}return Xe})();function gt(Xe,an){1&Xe&&(D.j41(0,"small",17),D.EFF(1," Featured "),D.k0s())}function St(Xe,an){if(1&Xe&&(D.j41(0,"div",18),D.nrm(1,"app-post-card",19),D.k0s()),2&Xe){const Fe=an.$implicit;D.R7$(1),D.Y8G("postInfo",Fe)}}function Ht(Xe,an){if(1&Xe&&(D.j41(0,"div",2)(1,"div",3)(2,"div",4),D.nrm(3,"img",5),D.j41(4,"div",6)(5,"div",7)(6,"small",8),D.EFF(7),D.k0s(),D.DNE(8,gt,2,0,"small",9),D.j41(9,"small",10),D.EFF(10),D.k0s(),D.j41(11,"small",11),D.EFF(12),D.nI1(13,"date"),D.nI1(14,"timestampToDate"),D.k0s()(),D.j41(15,"h1",12),D.EFF(16),D.k0s(),D.nrm(17,"div",13),D.k0s()(),D.nrm(18,"app-comment-form",14)(19,"app-comment-list",14),D.k0s(),D.j41(20,"div",15),D.DNE(21,St,2,1,"div",16),D.nI1(22,"async"),D.k0s()()),2&Xe){const Fe=an.ngIf,Ut=D.XpG();D.R7$(3),D.FS9("src",Fe.postImg,D.B4B),D.R7$(4),D.JRh(Fe.category.category),D.R7$(1),D.Y8G("ngIf",Fe.isFeatured),D.R7$(2),D.SpI(" Views - ",Fe.views," "),D.R7$(2),D.SpI(" LAST UPDATED - ",D.bMT(13,10,D.bMT(14,12,Fe.createdAt))," "),D.R7$(4),D.JRh(Fe.title),D.R7$(1),D.Y8G("innerHTML",Fe.content,D.npT),D.R7$(1),D.Y8G("postData",Fe),D.R7$(1),D.Y8G("postData",Fe),D.R7$(2),D.Y8G("ngForOf",D.bMT(22,14,Ut.similarPosts$))}}let Bt=(()=>{class Xe{constructor(){this.blogPostsService=(0,D.WQX)(rt.t),this.route=(0,D.WQX)(c.nX)}ngOnInit(){this.subscription=this.route.params.subscribe(Fe=>{this.postData$=this.blogPostsService.loadOneData(Fe.id),this.similarPosts$=this.blogPostsService.loadSimilarPosts(Fe.categoryId),this.blogPostsService.countViews(Fe.id)})}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(Ut){return new(Ut||Xe)}}static{this.\u0275cmp=D.VBU({type:Xe,selectors:[["app-single-post"]],decls:4,vars:3,consts:[[1,"container"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-9"],[1,"card","shadow-effect"],["alt","",1,"card-img-top","img-fluid",3,"src"],[1,"card-body"],[1,"d-flex","gap-3"],[1,"p-2","rounded","bg-light","text-danger","text-center"],["class","p-2 rounded bg-light text-sucess text-center ml-2",4,"ngIf"],[1,"p-2","rounded","bg-light","text-info","text-center","ml-2"],[1,"p-2","rounded","bg-light","text-warning","text-center","ml-2"],[1,"mt-3","mb-3"],[1,"test",3,"innerHTML"],[3,"postData"],[1,"col-md-3","gap-3"],["class"," mb-3",4,"ngFor","ngForOf"],[1,"p-2","rounded","bg-light","text-sucess","text-center","ml-2"],[1,"mb-3"],[3,"postInfo"]],template:function(Ut,cn){1&Ut&&(D.j41(0,"div",0),D.nrm(1,"br"),D.DNE(2,Ht,23,16,"div",1),D.nI1(3,"async"),D.k0s()),2&Ut&&(D.R7$(2),D.Y8G("ngIf",D.bMT(3,1,cn.postData$)))},dependencies:[Ee.Sq,Ee.bT,Zn,dt,st,Ee.Jj,Ee.vh,X.i],styles:[".test[_ngcontent-%COMP%]{position:relative}"]})}}return Xe})();var ke=K(1626),Yt=K(6354),Ln=K(9437),gr=K(8810);let Ye=(()=>{class Xe{constructor(){this.link="https://api.web3forms.com/submit",this.http=(0,D.WQX)(ke.Qq)}sendMessage(Fe){return this.http.post(this.link,Fe).pipe((0,Yt.T)(Ut=>Ut.message),(0,Ln.W)(Ut=>(console.error("An error occurred:",Ut),(0,gr.$)(()=>new Error("Something went wrong. Please try again later.")))))}static{this.\u0275fac=function(Ut){return new(Ut||Xe)}}static{this.\u0275prov=D.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}}return Xe})();function De(Xe,an){if(1&Xe&&(D.j41(0,"div",24),D.EFF(1),D.k0s()),2&Xe){const Fe=an.ngIf;D.R7$(1),D.SpI(" ",Fe," ")}}let Kt=(()=>{class Xe{constructor(){this.contactService=(0,D.WQX)(Ye)}onSubmit(Fe){this.response=this.contactService.sendMessage({name:Fe.value.name,email:Fe.value.email,message:Fe.value.message,subject:Fe.value.subject,access_key:"6d128682-0006-4705-92a2-c0cd285f5fac"}),Fe.reset()}static{this.\u0275fac=function(Ut){return new(Ut||Xe)}}static{this.\u0275cmp=D.VBU({type:Xe,selectors:[["app-contact-us"]],decls:31,vars:4,consts:[[1,"contact1"],[1,"container-contact1","shadow-effect"],["data-tilt","",1,"contact1-pic","js-tilt"],["src","https://colorlib.com/etc/cf/ContactFrom_v1/images/img-01.png","alt","IMG"],[1,"contact1-form","validate-form",3,"ngSubmit"],["contactForm","ngForm"],[1,"contact1-form-title"],["class","alert alert-primary mb-3 text-center py-2","role","alert",4,"ngIf"],["data-validate","Name is required",1,"wrap-input1","validate-input"],["type","text","name","name","placeholder","Name","required","","ngModel","",1,"input1"],["Name","ngModel"],[1,"shadow-input1"],["data-validate","Valid email is required: ex@abc.xyz",1,"wrap-input1","validate-input"],["type","text","name","email","placeholder","Email","required","","ngModel","",1,"input1"],["Email","ngModel"],["data-validate","Subject is required",1,"wrap-input1","validate-input"],["type","text","name","subject","placeholder","Subject","required","","ngModel","",1,"input1"],["Subject","ngModel"],["data-validate","Message is required",1,"wrap-input1","validate-input"],["name","message","placeholder","Message","required","","ngModel","",1,"input1"],["Message","ngModel"],[1,"container-contact1-form-btn"],["type","submit",1,"contact1-form-btn",3,"disabled"],["aria-hidden","true",1,"fa","fa-long-arrow-right"],["role","alert",1,"alert","alert-primary","mb-3","text-center","py-2"]],template:function(Ut,cn){if(1&Ut){const mn=D.RV6();D.j41(0,"div",0)(1,"div",1)(2,"div",2),D.nrm(3,"img",3),D.k0s(),D.j41(4,"form",4,5),D.bIt("ngSubmit",function(){D.eBV(mn);const dr=D.sdS(5);return D.Njj(cn.onSubmit(dr))}),D.j41(6,"span",6),D.EFF(7," Get in touch "),D.k0s(),D.DNE(8,De,2,1,"div",7),D.nI1(9,"async"),D.j41(10,"div",8),D.nrm(11,"input",9,10)(13,"span",11),D.k0s(),D.j41(14,"div",12),D.nrm(15,"input",13,14)(17,"span",11),D.k0s(),D.j41(18,"div",15),D.nrm(19,"input",16,17)(21,"span",11),D.k0s(),D.j41(22,"div",18),D.nrm(23,"textarea",19,20)(25,"span",11),D.k0s(),D.j41(26,"div",21)(27,"button",22)(28,"span"),D.EFF(29," Send Email "),D.nrm(30,"i",23),D.k0s()()()()()()}if(2&Ut){const mn=D.sdS(5);D.R7$(8),D.Y8G("ngIf",D.bMT(9,2,cn.response)),D.R7$(19),D.Y8G("disabled",mn.invalid)}},dependencies:[Ee.bT,Xt.qT,Xt.me,Xt.BC,Xt.cb,Xt.YS,Xt.vS,Xt.cV,Ee.Jj],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}a[_ngcontent-%COMP%]{font-size:14px;line-height:1.7;color:#666;margin:0;transition:all .4s;-webkit-transition:all .4s;-o-transition:all .4s;-moz-transition:all .4s}a[_ngcontent-%COMP%]:focus{outline:none!important}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#57b846}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:0}p[_ngcontent-%COMP%]{font-size:14px;line-height:1.7;color:#666;margin:0}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{margin:0;list-style-type:none}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:none;border:none}textarea[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus{border-color:transparent!important}input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#999}input[_ngcontent-%COMP%]:-moz-placeholder{color:#999}input[_ngcontent-%COMP%]::-moz-placeholder{color:#999}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#999}textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#999}textarea[_ngcontent-%COMP%]:-moz-placeholder{color:#999}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#999}textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#999}button[_ngcontent-%COMP%]{outline:none!important;border:none;background:0 0}button[_ngcontent-%COMP%]:hover{cursor:pointer}iframe[_ngcontent-%COMP%]{border:none!important}.contact1[_ngcontent-%COMP%]{width:100%;min-height:100%;padding:15px;display:flex;flex-wrap:wrap;justify-content:center;align-items:center}.container-contact1[_ngcontent-%COMP%]{width:1163px;background:#fff;border-radius:10px;overflow:hidden;display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;padding:90px 130px 88px 148px}.contact1-pic[_ngcontent-%COMP%]{width:296px}.contact1-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.contact1-form[_ngcontent-%COMP%]{width:390px}.contact1-form-title[_ngcontent-%COMP%]{display:block;font-size:24px;color:#333;line-height:1.2;text-align:center;padding-bottom:44px}input.input1[_ngcontent-%COMP%]{height:50px;border-radius:25px;padding:0 30px}input.input1[_ngcontent-%COMP%] + .shadow-input1[_ngcontent-%COMP%]{border-radius:25px}textarea.input1[_ngcontent-%COMP%]{min-height:150px;border-radius:25px;padding:12px 30px}textarea.input1[_ngcontent-%COMP%] + .shadow-input1[_ngcontent-%COMP%]{border-radius:25px}.wrap-input1[_ngcontent-%COMP%]{position:relative;width:100%;z-index:1;margin-bottom:20px}.input1[_ngcontent-%COMP%]{display:block;width:100%;background:#e6e6e6;font-size:15px;line-height:1.5;color:#666}.shadow-input1[_ngcontent-%COMP%]{content:"";display:block;position:absolute;bottom:0;left:0;z-index:-1;width:100%;height:100%;box-shadow:0 0;color:#57b84680}.input1[_ngcontent-%COMP%]:focus + .shadow-input1[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_anim-shadow .5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_anim-shadow{to{box-shadow:0 0 80px 30px;opacity:0}}.container-contact1-form-btn[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.contact1-form-btn[_ngcontent-%COMP%]{min-width:193px;height:50px;border-radius:25px;background:#57b846;font-size:15px;line-height:1.5;color:#fff;display:flex;justify-content:center;align-items:center;padding:0 25px;transition:all .4s}.contact1-form-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:7px;transition:all .4s}.contact1-form-btn[_ngcontent-%COMP%]:hover{background:#333}.contact1-form-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(10px)}@media (max-width:1200px){.contact1-pic[_ngcontent-%COMP%]{width:33.5%}.contact1-form[_ngcontent-%COMP%]{width:44%}}@media (max-width:992px){.container-contact1[_ngcontent-%COMP%]{padding:90px 80px 88px 90px}.contact1-pic[_ngcontent-%COMP%]{width:35%}.contact1-form[_ngcontent-%COMP%]{width:55%}}@media (max-width:768px){.container-contact1[_ngcontent-%COMP%]{padding:90px 80px 88px}.contact1-pic[_ngcontent-%COMP%]{display:none}.contact1-form[_ngcontent-%COMP%]{width:100%}}@media (max-width:576px){.container-contact1[_ngcontent-%COMP%]{padding:90px 15px 88px}}']})}}return Xe})();var N=K(4796);function Q(Xe,an){if(1&Xe){const Fe=D.RV6();D.j41(0,"div",4)(1,"a",5),D.EFF(2),D.k0s(),D.j41(3,"button",6),D.bIt("click",function(){D.eBV(Fe);const cn=D.XpG();return D.Njj(cn.onLogout())}),D.EFF(4,"Logout"),D.k0s()()}if(2&Xe){const Fe=an.ngIf;D.R7$(2),D.JRh(Fe.email)}}let ae=(()=>{class Xe{constructor(){this.authService=(0,D.WQX)(N.u),this.loggedInUser$=this.authService.loadUser()}onLogout(){this.authService.logOut()}static{this.\u0275fac=function(Ut){return new(Ut||Xe)}}static{this.\u0275cmp=D.VBU({type:Xe,selectors:[["app-header"]],decls:6,vars:3,consts:[[1,"navbar","navbar-expand-lg","fixed-top","bg-white"],[1,"container","justify-content-center"],["routerLink","/",1,"site-logo"],["class","container justify-content-center d-flex gap-3",4,"ngIf"],[1,"container","justify-content-center","d-flex","gap-3"],["href","#",1,"mr-3"],[1,"btn","btn-sm","btn-info","bg-third-theme","text-theme-primary",3,"click"]],template:function(Ut,cn){1&Ut&&(D.j41(0,"header",0)(1,"div",1)(2,"a",2),D.EFF(3,"GL4 BLOG"),D.k0s()(),D.DNE(4,Q,5,1,"div",3),D.nI1(5,"async"),D.k0s()),2&Ut&&(D.R7$(4),D.Y8G("ngIf",D.bMT(5,1,cn.loggedInUser$)))},dependencies:[Ee.bT,c.Wk,Ee.Jj],styles:["header[_ngcontent-%COMP%]{height:100px}.site-logo[_ngcontent-%COMP%]{font-size:1.5em;text-decoration:none}"]})}}return Xe})();const xt=function(){return["/"]},Oe=function(){return["/contact"]};let ve=(()=>{class Xe{static{this.\u0275fac=function(Ut){return new(Ut||Xe)}}static{this.\u0275cmp=D.VBU({type:Xe,selectors:[["app-footer"]],decls:22,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"site-logo"],[1,"nav","justify-content-center"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],["href","",1,"nav-link"],["href","",1,"nav-link",3,"routerLink"],[1,"mb-2","mt-2"]],template:function(Ut,cn){1&Ut&&(D.j41(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),D.EFF(5,"GL4 BLOG"),D.k0s(),D.j41(6,"div")(7,"ul",4)(8,"li",5)(9,"a",6),D.EFF(10,"Home"),D.k0s()(),D.j41(11,"li",5)(12,"a",7),D.EFF(13,"About"),D.k0s()(),D.j41(14,"li",5)(15,"a",7),D.EFF(16,"Terms & Conditions "),D.k0s()(),D.j41(17,"li",5)(18,"a",8),D.EFF(19,"Contact "),D.k0s()()()(),D.j41(20,"p",9),D.EFF(21,"Copyright \xa9 2024-2025 GL4 Blog"),D.k0s()()()()()),2&Ut&&(D.R7$(9),D.Y8G("routerLink",D.lJ4(2,xt)),D.R7$(9),D.Y8G("routerLink",D.lJ4(3,Oe)))},dependencies:[c.Wk],styles:["footer[_ngcontent-%COMP%]{height:130px;padding:15px;background-color:var(--navbar-footer-color)}.site-logo[_ngcontent-%COMP%]{font-size:1.2em}"]})}}return Xe})();var _e=K(7562);const oe=function(Xe,an){return["/category",Xe,an]};function de(Xe,an){if(1&Xe&&(D.j41(0,"ul",4)(1,"li",5)(2,"a",6),D.EFF(3),D.k0s()()()),2&Xe){const Fe=an.$implicit;D.R7$(2),D.Y8G("routerLink",D.l_i(2,oe,Fe.category,Fe.id)),D.R7$(1),D.JRh(Fe.category)}}let we=(()=>{class Xe{constructor(){this.categoryService=(0,D.WQX)(_e.w),this.categories$=this.categoryService.loadData()}static{this.\u0275fac=function(Ut){return new(Ut||Xe)}}static{this.\u0275cmp=D.VBU({type:Xe,selectors:[["app-category-navbar"]],decls:5,vars:3,consts:[[1,"navbar","navbar-expand-lg","fixed-top"],[1,"container"],[1,"collapse","navbar-collapse","justify-content-center"],["class","navbar-nav",4,"ngFor","ngForOf"],[1,"navbar-nav"],[1,"nav-item","ml-3"],[1,"nav-link",3,"routerLink"]],template:function(Ut,cn){1&Ut&&(D.j41(0,"nav",0)(1,"div",1)(2,"div",2),D.DNE(3,de,4,5,"ul",3),D.nI1(4,"async"),D.k0s()()()),2&Ut&&(D.R7$(3),D.Y8G("ngForOf",D.bMT(4,1,cn.categories$)))},dependencies:[Ee.Sq,c.Wk,Ee.Jj],styles:["nav[_ngcontent-%COMP%]{margin-top:100px;height:50px;background-color:var(--navbar-footer-color)}.nav-link[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--primary-color)}"]})}}return Xe})();var at=K(69),Rt=K(5794);function Vn(Xe,an){1&Xe&&(D.j41(0,"div"),D.EFF(1," Name is Required "),D.k0s())}function pn(Xe,an){if(1&Xe&&(D.j41(0,"div",13),D.DNE(1,Vn,2,0,"div",14),D.k0s()),2&Xe){D.XpG();const Fe=D.sdS(11);D.R7$(1),D.Y8G("ngIf",Fe.hasError("required"))}}function Wn(Xe,an){1&Xe&&(D.j41(0,"div"),D.EFF(1," Email is Required "),D.k0s())}function Lt(Xe,an){if(1&Xe&&(D.j41(0,"div",13),D.DNE(1,Wn,2,0,"div",14),D.k0s()),2&Xe){D.XpG();const Fe=D.sdS(15);D.R7$(1),D.Y8G("ngIf",Fe.hasError("required"))}}const br=function(Xe){return{"is-invalid":Xe}};let Pn=(()=>{class Xe{constructor(){this.subscribersService=(0,D.WQX)(at.t),this.toastr=(0,D.WQX)(Rt.tw)}onSubmit(Fe){const Ut={name:Fe.value.name,email:Fe.value.email};this.subscription=this.subscribersService.checkSubs(Ut.email).subscribe(cn=>{0==cn.length?this.subscribersService.saveData(Ut):this.toastr.error("Email already subscribed !"),this.subscription.unsubscribe(),Fe.reset()})}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(Ut){return new(Ut||Xe)}}static{this.\u0275cmp=D.VBU({type:Xe,selectors:[["app-subscription-form"]],decls:20,vars:8,consts:[[1,"card","shadow-effect"],[1,"card-body"],[1,"text-center","mt-3","mb-5"],[1,"m-auto","subs-text"],[1,"d-flex","mb-5","mt-5","gap-3","justify-content-center",3,"ngSubmit"],["subForm","ngForm"],[1,"form-group","col-md-5"],["type","text","placeholder","Your Name","name","name","required","","ngModel","",1,"form-control",3,"ngClass"],["Name","ngModel"],["class","text-danger",4,"ngIf"],["type","email","placeholder","Email Address","name","email","required","","ngModel","","email","",1,"form-control",3,"ngClass"],["Email","ngModel"],[1,"btn","btn-info","btn-block","btn-theme","text-white"],[1,"text-danger"],[4,"ngIf"]],template:function(Ut,cn){if(1&Ut){const mn=D.RV6();D.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),D.EFF(4,"SUBSCRIPTION FORM"),D.k0s(),D.j41(5,"p",3),D.EFF(6," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Fugit eveniet laudantium, enim natus soluta dolore, libero velit sapiente assumenda consequatur optio error dolores reprehenderit accusamus inventore animi doloribus ea officia! "),D.k0s(),D.j41(7,"form",4,5),D.bIt("ngSubmit",function(){D.eBV(mn);const dr=D.sdS(8);return D.Njj(cn.onSubmit(dr))}),D.j41(9,"div",6),D.nrm(10,"input",7,8),D.DNE(12,pn,2,1,"div",9),D.k0s(),D.j41(13,"div",6),D.nrm(14,"input",10,11),D.DNE(16,Lt,2,1,"div",9),D.k0s(),D.j41(17,"div")(18,"button",12),D.EFF(19,"SUBSCRIBE"),D.k0s()()()()()()}if(2&Ut){const mn=D.sdS(11),wr=D.sdS(15);D.R7$(10),D.Y8G("ngClass",D.eq3(4,br,mn.touched&&mn.invalid)),D.R7$(2),D.Y8G("ngIf",mn.touched&&mn.invalid),D.R7$(2),D.Y8G("ngClass",D.eq3(6,br,wr.touched&&wr.invalid)),D.R7$(2),D.Y8G("ngIf",wr.touched&&wr.invalid)}},dependencies:[Ee.YU,Ee.bT,Xt.qT,Xt.me,Xt.BC,Xt.cb,Xt.YS,Xt.Dg,Xt.vS,Xt.cV],styles:[".card[_ngcontent-%COMP%]{background-color:var(--secondary-color);width:1200px}input[_ngcontent-%COMP%]{width:100%}.subs-text[_ngcontent-%COMP%]{width:500px}"]})}}return Xe})();const on=[{path:"",component:(()=>{class Xe{static{this.\u0275fac=function(Ut){return new(Ut||Xe)}}static{this.\u0275cmp=D.VBU({type:Xe,selectors:[["app-main"]],decls:7,vars:0,consts:[[1,"app-body"],[1,"mt-5","mb-5","d-flex","justify-content-center"]],template:function(Ut,cn){1&Ut&&(D.nrm(0,"app-header")(1,"app-category-navbar"),D.j41(2,"div",0),D.nrm(3,"router-outlet"),D.k0s(),D.j41(4,"div",1),D.nrm(5,"app-subscription-form"),D.k0s(),D.nrm(6,"app-footer"))},dependencies:[c.n3,ae,ve,we,Pn],styles:[".app-body[_ngcontent-%COMP%]{margin-top:150px;min-height:45vh}"]})}}return Xe})(),children:[{path:"",component:Je},{path:"category/:category/:id",component:Dt},{path:"post/:categoryId/:id",component:Bt},{path:"contact",component:Kt}]},{path:"dashboard",loadChildren:()=>K.e(215).then(K.bind(K,215)).then(Xe=>Xe.DashboardModule)},{path:"**",component:K(6013).z}];let gn=(()=>{class Xe{static{this.\u0275fac=function(Ut){return new(Ut||Xe)}}static{this.\u0275mod=D.$C({type:Xe})}static{this.\u0275inj=D.G2t({imports:[c.iI.forRoot(on),c.iI]})}}return Xe})()},483:(Cn,_t,K)=>{K.d(_t,{i:()=>D});var c=K(540);let D=(()=>{class rt{transform(X){return X&&X.seconds?new Date(1e3*X.seconds):null}static{this.\u0275fac=function(Le){return new(Le||rt)}}static{this.\u0275pipe=c.EJ8({name:"timestampToDate",type:rt,pure:!0})}}return rt})()},4796:(Cn,_t,K)=>{K.d(_t,{u:()=>X});var c=K(540),D=K(8563),rt=K(6448),Ee=K(5794);let X=(()=>{class Le{constructor(){this.auth=(0,c.WQX)(D.Nj),this.toastr=(0,c.WQX)(Ee.tw),this.router=(0,c.WQX)(rt.Ix)}login(Qe,st){(0,D.x9)(this.auth,Qe,st).then(pe=>{this.toastr.success("Logged In Successfully !"),this.router.navigate(["/dashboard/home"])}).catch(pe=>{this.toastr.error("Wrong credentials, please try again !")})}loadUser(){return(0,D.wh)(this.auth)}logOut(){(0,D.CI)(this.auth).then(()=>{this.toastr.success("Logged Out Successfully !"),this.router.navigate(["/dashboard"])}).catch(Qe=>{this.toastr.error("An Error has occured, please try again !")})}static{this.\u0275fac=function(st){return new(st||Le)}}static{this.\u0275prov=c.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}}return Le})()},6840:(Cn,_t,K)=>{K.d(_t,{t:()=>Be});var c=K(540),D=K(2107),rt=K(5794),Ee=K(9967),X=K(6448),Le=K(3273);let Be=(()=>{class Qe{constructor(){this.storage=(0,c.WQX)(D.wc),this.toastr=(0,c.WQX)(rt.tw),this.firestore=(0,c.WQX)(Ee._7),this.router=(0,c.WQX)(X.Ix)}addPost(pe,me,Je,At){const wt=`blogPostsImages/${Date.now()}`,Dt=(0,D.KR)(this.storage,wt);(0,D.D)(Dt,pe).then(()=>{(0,D.qk)(Dt).then(rn=>{me.postImg=rn,"Edit"==Je?this.updateData(At,me):this.saveData(me)}).catch(rn=>{console.log(rn),this.toastr.error("An error has occured while getting the image URL !")})}).catch(rn=>{this.toastr.error("An error has occured while uploading the image !")})}saveData(pe){let me=(0,Ee.rJ)(this.firestore,"blogposts");(0,Ee.gS)(me,pe).then(Je=>{this.toastr.success("Blog Post Added Successfully !"),this.router.navigate(["/dashboard/posts"])}).catch(Je=>{console.log(Je),this.toastr.error("An error has occured while saving the data !")})}loadData(){let pe=(0,Ee.rJ)(this.firestore,"blogposts");return(0,Ee.xs)(pe,{idField:"id"})}loadOneData(pe){let me=(0,Ee.rJ)(this.firestore,"blogposts"),Je=(0,Ee.H9)(me,pe);return(0,Ee.Bg)(Je,{idField:"id"})}updateData(pe,me){let Je=(0,Ee.H9)(this.firestore,"blogposts",pe);(0,Ee.mZ)(Je,{...me}).then(At=>{this.toastr.success("Blog Post Updated Successfully !"),this.router.navigate(["/dashboard/posts"])}).catch(At=>{this.toastr.error(At.message)})}deleteData(pe){let me=(0,Ee.H9)(this.firestore,"blogposts",pe);(0,Ee.kd)(me).then(Je=>{this.toastr.success("Post Deleted Successfully !")}).catch(Je=>{this.toastr.error(Je.message)})}markFeatured(pe,me){let Je=(0,Ee.H9)(this.firestore,"blogposts",pe);(0,Ee.mZ)(Je,{...me}).then(At=>{this.toastr.info("Featured status updated !")}).catch(At=>{this.toastr.error(At.message)})}getFeaturedPosts(){let pe=(0,Ee.rJ)(this.firestore,"blogposts"),me=(0,Le.P)(pe,(0,Ee._M)("isFeatured","==",!0),(0,Ee.AB)(4));return(0,Ee.xs)(me,{idField:"id"})}getLatestPosts(){let pe=(0,Ee.rJ)(this.firestore,"blogposts"),me=(0,Le.P)(pe,(0,Le.My)("createdAt","desc"),(0,Ee.AB)(6));return(0,Ee.xs)(me,{idField:"id"})}loadCategoryPosts(pe){let me=(0,Ee.rJ)(this.firestore,"blogposts"),Je=(0,Le.P)(me,(0,Ee._M)("category.categoryId","==",pe));return(0,Ee.xs)(Je,{idField:"id"})}loadSimilarPosts(pe){let me=(0,Ee.rJ)(this.firestore,"blogposts"),Je=(0,Le.P)(me,(0,Ee._M)("category.categoryId","==",pe),(0,Ee.AB)(3));return(0,Ee.xs)(Je,{idField:"id"})}countViews(pe){let me=(0,Ee.H9)(this.firestore,"blogposts",pe);(0,Ee.mZ)(me,{views:(0,Ee.GV)(1)}).then(Je=>{})}static{this.\u0275fac=function(me){return new(me||Qe)}}static{this.\u0275prov=c.jDH({token:Qe,factory:Qe.\u0275fac,providedIn:"root"})}}return Qe})()},7562:(Cn,_t,K)=>{K.d(_t,{w:()=>X});var c=K(540),D=K(9967),rt=K(5794),Ee=K(3273);let X=(()=>{class Le{constructor(){this.firestore=(0,c.WQX)(D._7),this.toastr=(0,c.WQX)(rt.tw)}saveData(Qe){let st=(0,D.rJ)(this.firestore,"categories");(0,D.gS)(st,Qe).then(pe=>{this.toastr.success("Category Added Successfully !")}).catch(pe=>{this.toastr.error(pe.message)})}loadData(){let Qe=(0,D.rJ)(this.firestore,"categories");return(0,D.xs)(Qe,{idField:"id"})}updateData(Qe,st){let pe=(0,Ee.H9)(this.firestore,"categories",Qe);(0,Ee.mZ)(pe,{category:st.category}).then(me=>{this.toastr.success("Category Updated Successfully !")}).catch(me=>{this.toastr.error(me.message)})}deleteData(Qe){let st=(0,Ee.H9)(this.firestore,"categories",Qe);(0,D.kd)(st).then(pe=>{this.toastr.success("Category Deleted Successfully !")}).catch(pe=>{this.toastr.error(pe.message)})}static{this.\u0275fac=function(st){return new(st||Le)}}static{this.\u0275prov=c.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}}return Le})()},8088:(Cn,_t,K)=>{K.d(_t,{y:()=>Ee});var c=K(540),D=K(9967),rt=K(5794);let Ee=(()=>{class X{constructor(){this.firestore=(0,c.WQX)(D._7),this.toastr=(0,c.WQX)(rt.tw)}saveData(Be){let Qe=(0,D.rJ)(this.firestore,"comments");(0,D.gS)(Qe,Be).then(st=>{this.toastr.success("Comment Submitted for verification !")}).catch(st=>{this.toastr.error("An error has occured please try again !")})}loadData(Be){let Qe=(0,D.rJ)(this.firestore,"comments"),st=(0,D.P)(Qe,(0,D._M)("postId","==",Be),(0,D._M)("approved","==",!0));return(0,D.xs)(st,{idField:"id"})}loadNotApprovedComments(){let Be=(0,D.rJ)(this.firestore,"comments"),Qe=(0,D.P)(Be,(0,D._M)("approved","==",!1));return(0,D.xs)(Qe,{idField:"id"})}deleteData(Be){let Qe=(0,D.H9)(this.firestore,"comments",Be);(0,D.kd)(Qe).then(st=>{this.toastr.success("Comment Deleted Successfully !")}).catch(st=>{this.toastr.error(st.message)})}approveComment(Be){let Qe=(0,D.H9)(this.firestore,"comments",Be);(0,D.mZ)(Qe,{approved:!0}).then(st=>{this.toastr.info("Comment approved !")}).catch(st=>{this.toastr.error(st.message)})}static{this.\u0275fac=function(Qe){return new(Qe||X)}}static{this.\u0275prov=c.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}}return X})()},69:(Cn,_t,K)=>{K.d(_t,{t:()=>X});var c=K(540),D=K(9967),rt=K(5794),Ee=K(3273);let X=(()=>{class Le{constructor(){this.firestore=(0,c.WQX)(D._7),this.toastr=(0,c.WQX)(rt.tw)}saveData(Qe){let st=(0,D.rJ)(this.firestore,"subscribers");(0,D.gS)(st,Qe).then(pe=>{this.toastr.success("Subscribed Successfully !")}).catch(pe=>{this.toastr.error(pe.message)})}checkSubs(Qe){let st=(0,D.rJ)(this.firestore,"subscribers"),pe=(0,Ee.P)(st,(0,D._M)("email","==",Qe));return(0,D.xs)(pe,{idField:"id"})}loadData(){let Qe=(0,D.rJ)(this.firestore,"subscribers");return(0,D.xs)(Qe,{idField:"id"})}deleteData(Qe){let st=(0,D.H9)(this.firestore,"subscribers",Qe);(0,D.kd)(st).then(pe=>{this.toastr.success("Subscriber Deleted Successfully !")}).catch(pe=>{this.toastr.error(pe.message)})}static{this.\u0275fac=function(st){return new(st||Le)}}static{this.\u0275prov=c.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}}return Le})()},6013:(Cn,_t,K)=>{K.d(_t,{z:()=>rt});var c=K(540),D=K(6448);let rt=(()=>{class Ee{static{this.\u0275fac=function(Be){return new(Be||Ee)}}static{this.\u0275cmp=c.VBU({type:Ee,selectors:[["app-error-page"]],decls:12,vars:0,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"text-center"],[1,"display-1","fw-bold"],[1,"fs-3"],[1,"text-danger"],[1,"lead"],["routerLink","/",1,"btn","btn-info","btn-block","btn-theme"]],template:function(Be,Qe){1&Be&&(c.j41(0,"div",0)(1,"div",1)(2,"h1",2),c.EFF(3,"404"),c.k0s(),c.j41(4,"p",3)(5,"span",4),c.EFF(6,"Opps!"),c.k0s(),c.EFF(7," Page not found."),c.k0s(),c.j41(8,"p",5),c.EFF(9," The page you\u2019re looking for doesn\u2019t exist. "),c.k0s(),c.j41(10,"button",6),c.EFF(11,"Go Home"),c.k0s()()())},dependencies:[D.Wk]})}}return Ee})()},787:(Cn,_t,K)=>{K.d(_t,{u:()=>Ee});var c=K(177),D=K(9075),rt=K(540);let Ee=(()=>{class X{static{this.\u0275fac=function(Qe){return new(Qe||X)}}static{this.\u0275mod=rt.$C({type:X})}static{this.\u0275inj=rt.G2t({imports:[c.MD,D.u]})}}return X})()},4790:(Cn,_t,K)=>{var c=K(345),D=K(8563),rt=K(2107),Ee=K(9075),X=K(540),Le=K(6448);let Be=(()=>{class te{constructor(){this.title="blog-app"}static{this.\u0275fac=function(k){return new(k||te)}}static{this.\u0275cmp=X.VBU({type:te,selectors:[["app-root"]],decls:1,vars:0,template:function(k,J){1&k&&X.nrm(0,"router-outlet")},dependencies:[Le.n3]})}}return te})();var Qe=K(9969);function pe(te){return new X.wOt(3e3,!1)}function pn(te){switch(te.length){case 0:return new Qe.sf;case 1:return te[0];default:return new Qe.ui(te)}}function Wn(te,v,b=new Map,k=new Map){const J=[],ce=[];let Ne=-1,Pe=null;if(v.forEach(ut=>{const Ze=ut.get("offset"),En=Ze==Ne,In=En&&Pe||new Map;ut.forEach((Ar,sr)=>{let Gn=sr,Jn=Ar;if("offset"!==sr)switch(Gn=te.normalizePropertyName(Gn,J),Jn){case Qe.FX:Jn=b.get(sr);break;case Qe.kp:Jn=k.get(sr);break;default:Jn=te.normalizeStyleValue(sr,Gn,Jn,J)}In.set(Gn,Jn)}),En||ce.push(In),Pe=In,Ne=Ze}),J.length)throw function N(te){return new X.wOt(3502,!1)}();return ce}function Lt(te,v,b,k){switch(v){case"start":te.onStart(()=>k(b&&br(b,"start",te)));break;case"done":te.onDone(()=>k(b&&br(b,"done",te)));break;case"destroy":te.onDestroy(()=>k(b&&br(b,"destroy",te)))}}function br(te,v,b){const ce=Pn(te.element,te.triggerName,te.fromState,te.toState,v||te.phaseName,b.totalTime??te.totalTime,!!b.disabled),Ne=te._data;return null!=Ne&&(ce._data=Ne),ce}function Pn(te,v,b,k,J="",ce=0,Ne){return{element:te,triggerName:v,fromState:b,toState:k,phaseName:J,totalTime:ce,disabled:!!Ne}}function An(te,v,b){let k=te.get(v);return k||te.set(v,k=b),k}function Wt(te){const v=te.indexOf(":");return[te.substring(1,v),te.slice(v+1)]}const on=(()=>typeof document>"u"?null:document.documentElement)();function gn(te){const v=te.parentNode||te.host||null;return v===on?null:v}let an=null,Fe=!1;function wr(te,v){for(;v;){if(v===te)return!0;v=gn(v)}return!1}function dr(te,v,b){if(b)return Array.from(te.querySelectorAll(v));const k=te.querySelector(v);return k?[k]:[]}let hr=(()=>{class te{validateStyleProperty(b){return function Ut(te){an||(an=function mn(){return typeof document<"u"?document.body:null}()||{},Fe=!!an.style&&"WebkitAppearance"in an.style);let v=!0;return an.style&&!function Xe(te){return"ebkit"==te.substring(1,6)}(te)&&(v=te in an.style,!v&&Fe&&(v="Webkit"+te.charAt(0).toUpperCase()+te.slice(1)in an.style)),v}(b)}matchesElement(b,k){return!1}containsElement(b,k){return wr(b,k)}getParentElement(b){return gn(b)}query(b,k,J){return dr(b,k,J)}computeStyle(b,k,J){return J||""}animate(b,k,J,ce,Ne,Pe=[],ut){return new Qe.sf(J,ce)}static{this.\u0275fac=function(k){return new(k||te)}}static{this.\u0275prov=X.jDH({token:te,factory:te.\u0275fac})}}return te})(),Fr=(()=>{class te{static{this.NOOP=new hr}}return te})();const Ui=1e3,fn="ng-enter",Si="ng-leave",ti="ng-trigger",Vr=".ng-trigger",qe="ng-animating",Xn=".ng-animating";function nn(te){if("number"==typeof te)return te;const v=te.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:Ri(parseFloat(v[1]),v[2])}function Ri(te,v){return"s"===v?te*Ui:te}function Wi(te,v,b){return te.hasOwnProperty("duration")?te:function On(te,v,b){let J,ce=0,Ne="";if("string"==typeof te){const Pe=te.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Pe)return v.push(pe()),{duration:0,delay:0,easing:""};J=Ri(parseFloat(Pe[1]),Pe[2]);const ut=Pe[3];null!=ut&&(ce=Ri(parseFloat(ut),Pe[4]));const Ze=Pe[5];Ze&&(Ne=Ze)}else J=te;if(!b){let Pe=!1,ut=v.length;J<0&&(v.push(function me(){return new X.wOt(3100,!1)}()),Pe=!0),ce<0&&(v.push(function Je(){return new X.wOt(3101,!1)}()),Pe=!0),Pe&&v.splice(ut,0,pe())}return{duration:J,delay:ce,easing:Ne}}(te,v,b)}function or(te,v={}){return Object.keys(te).forEach(b=>{v[b]=te[b]}),v}function Xr(te){const v=new Map;return Object.keys(te).forEach(b=>{v.set(b,te[b])}),v}function mt(te,v=new Map,b){if(b)for(let[k,J]of b)v.set(k,J);for(let[k,J]of te)v.set(k,J);return v}function ne(te,v,b){v.forEach((k,J)=>{const ce=kn(J);b&&!b.has(J)&&b.set(J,te.style[ce]),te.style[ce]=k})}function j(te,v){v.forEach((b,k)=>{const J=kn(k);te.style[J]=""})}function Y(te){return Array.isArray(te)?1==te.length?te[0]:(0,Qe.K2)(te):te}const Re=new RegExp("{{\\s*(.+?)\\s*}}","g");function Tt(te){let v=[];if("string"==typeof te){let b;for(;b=Re.exec(te);)v.push(b[1]);Re.lastIndex=0}return v}function Nt(te,v,b){const k=te.toString(),J=k.replace(Re,(ce,Ne)=>{let Pe=v[Ne];return null==Pe&&(b.push(function wt(te){return new X.wOt(3003,!1)}()),Pe=""),Pe.toString()});return J==k?te:J}function Tn(te){const v=[];let b=te.next();for(;!b.done;)v.push(b.value),b=te.next();return v}const Yn=/-+([a-z0-9])/g;function kn(te){return te.replace(Yn,(...v)=>v[1].toUpperCase())}function Se(te,v,b){switch(v.type){case 7:return te.visitTrigger(v,b);case 0:return te.visitState(v,b);case 1:return te.visitTransition(v,b);case 2:return te.visitSequence(v,b);case 3:return te.visitGroup(v,b);case 4:return te.visitAnimate(v,b);case 5:return te.visitKeyframes(v,b);case 6:return te.visitStyle(v,b);case 8:return te.visitReference(v,b);case 9:return te.visitAnimateChild(v,b);case 10:return te.visitAnimateRef(v,b);case 11:return te.visitQuery(v,b);case 12:return te.visitStagger(v,b);default:throw function Dt(te){return new X.wOt(3004,!1)}()}}function bt(te,v){return window.getComputedStyle(te)[v]}const ct="*";function He(te,v){const b=[];return"string"==typeof te?te.split(/\s*,\s*/).forEach(k=>function It(te,v,b){if(":"==te[0]){const ut=function Zt(te,v){switch(te){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(b,k)=>parseFloat(k)>parseFloat(b);case":decrement":return(b,k)=>parseFloat(k)<parseFloat(b);default:return v.push(function gr(te){return new X.wOt(3016,!1)}()),"* => *"}}(te,b);if("function"==typeof ut)return void v.push(ut);te=ut}const k=te.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==k||k.length<4)return b.push(function Ln(te){return new X.wOt(3015,!1)}()),v;const J=k[1],ce=k[2],Ne=k[3];v.push(_n(J,Ne));"<"==ce[0]&&!(J==ct&&Ne==ct)&&v.push(_n(Ne,J))}(k,b,v)):b.push(te),b}const Mn=new Set(["true","1"]),en=new Set(["false","0"]);function _n(te,v){const b=Mn.has(te)||en.has(te),k=Mn.has(v)||en.has(v);return(J,ce)=>{let Ne=te==ct||te==J,Pe=v==ct||v==ce;return!Ne&&b&&"boolean"==typeof J&&(Ne=J?Mn.has(te):en.has(te)),!Pe&&k&&"boolean"==typeof ce&&(Pe=ce?Mn.has(v):en.has(v)),Ne&&Pe}}const fr=new RegExp("s*:selfs*,?","g");function Dn(te,v,b,k){return new bi(te).build(v,b,k)}class bi{constructor(v){this._driver=v}build(v,b,k){const J=new tn(b);return this._resetContextStyleTimingState(J),Se(this,Y(v),J)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,b){let k=b.queryCount=0,J=b.depCount=0;const ce=[],Ne=[];return"@"==v.name.charAt(0)&&b.errors.push(function Xt(){return new X.wOt(3006,!1)}()),v.definitions.forEach(Pe=>{if(this._resetContextStyleTimingState(b),0==Pe.type){const ut=Pe,Ze=ut.name;Ze.toString().split(/\s*,\s*/).forEach(En=>{ut.name=En,ce.push(this.visitState(ut,b))}),ut.name=Ze}else if(1==Pe.type){const ut=this.visitTransition(Pe,b);k+=ut.queryCount,J+=ut.depCount,Ne.push(ut)}else b.errors.push(function bn(){return new X.wOt(3007,!1)}())}),{type:7,name:v.name,states:ce,transitions:Ne,queryCount:k,depCount:J,options:null}}visitState(v,b){const k=this.visitStyle(v.styles,b),J=v.options&&v.options.params||null;if(k.containsDynamicStyles){const ce=new Set,Ne=J||{};k.styles.forEach(Pe=>{Pe instanceof Map&&Pe.forEach(ut=>{Tt(ut).forEach(Ze=>{Ne.hasOwnProperty(Ze)||ce.add(Ze)})})}),ce.size&&(Tn(ce.values()),b.errors.push(function Zn(te,v){return new X.wOt(3008,!1)}()))}return{type:0,name:v.name,style:k,options:J?{params:J}:null}}visitTransition(v,b){b.queryCount=0,b.depCount=0;const k=Se(this,Y(v.animation),b);return{type:1,matchers:He(v.expr,b.errors),animation:k,queryCount:b.queryCount,depCount:b.depCount,options:sn(v.options)}}visitSequence(v,b){return{type:2,steps:v.steps.map(k=>Se(this,k,b)),options:sn(v.options)}}visitGroup(v,b){const k=b.currentTime;let J=0;const ce=v.steps.map(Ne=>{b.currentTime=k;const Pe=Se(this,Ne,b);return J=Math.max(J,b.currentTime),Pe});return b.currentTime=J,{type:3,steps:ce,options:sn(v.options)}}visitAnimate(v,b){const k=function xn(te,v){if(te.hasOwnProperty("duration"))return te;if("number"==typeof te)return Wr(Wi(te,v).duration,0,"");const b=te;if(b.split(/\s+/).some(ce=>"{"==ce.charAt(0)&&"{"==ce.charAt(1))){const ce=Wr(0,0,"");return ce.dynamic=!0,ce.strValue=b,ce}const J=Wi(b,v);return Wr(J.duration,J.delay,J.easing)}(v.timings,b.errors);b.currentAnimateTimings=k;let J,ce=v.styles?v.styles:(0,Qe.iF)({});if(5==ce.type)J=this.visitKeyframes(ce,b);else{let Ne=v.styles,Pe=!1;if(!Ne){Pe=!0;const Ze={};k.easing&&(Ze.easing=k.easing),Ne=(0,Qe.iF)(Ze)}b.currentTime+=k.duration+k.delay;const ut=this.visitStyle(Ne,b);ut.isEmptyStep=Pe,J=ut}return b.currentAnimateTimings=null,{type:4,timings:k,style:J,options:null}}visitStyle(v,b){const k=this._makeStyleAst(v,b);return this._validateStyleAst(k,b),k}_makeStyleAst(v,b){const k=[],J=Array.isArray(v.styles)?v.styles:[v.styles];for(let Pe of J)"string"==typeof Pe?Pe===Qe.kp?k.push(Pe):b.errors.push(new X.wOt(3002,!1)):k.push(Xr(Pe));let ce=!1,Ne=null;return k.forEach(Pe=>{if(Pe instanceof Map&&(Pe.has("easing")&&(Ne=Pe.get("easing"),Pe.delete("easing")),!ce))for(let ut of Pe.values())if(ut.toString().indexOf("{{")>=0){ce=!0;break}}),{type:6,styles:k,easing:Ne,offset:v.offset,containsDynamicStyles:ce,options:null}}_validateStyleAst(v,b){const k=b.currentAnimateTimings;let J=b.currentTime,ce=b.currentTime;k&&ce>0&&(ce-=k.duration+k.delay),v.styles.forEach(Ne=>{"string"!=typeof Ne&&Ne.forEach((Pe,ut)=>{const Ze=b.collectedStyles.get(b.currentQuerySelector),En=Ze.get(ut);let In=!0;En&&(ce!=J&&ce>=En.startTime&&J<=En.endTime&&(b.errors.push(function dt(te,v,b,k,J){return new X.wOt(3010,!1)}()),In=!1),ce=En.startTime),In&&Ze.set(ut,{startTime:ce,endTime:J}),b.options&&function Ae(te,v,b){const k=v.params||{},J=Tt(te);J.length&&J.forEach(ce=>{k.hasOwnProperty(ce)||b.push(function At(te){return new X.wOt(3001,!1)}())})}(Pe,b.options,b.errors)})})}visitKeyframes(v,b){const k={type:5,styles:[],options:null};if(!b.currentAnimateTimings)return b.errors.push(function gt(){return new X.wOt(3011,!1)}()),k;let ce=0;const Ne=[];let Pe=!1,ut=!1,Ze=0;const En=v.steps.map(Ei=>{const zi=this._makeStyleAst(Ei,b);let Ii=null!=zi.offset?zi.offset:function Pt(te){if("string"==typeof te)return null;let v=null;if(Array.isArray(te))te.forEach(b=>{if(b instanceof Map&&b.has("offset")){const k=b;v=parseFloat(k.get("offset")),k.delete("offset")}});else if(te instanceof Map&&te.has("offset")){const b=te;v=parseFloat(b.get("offset")),b.delete("offset")}return v}(zi.styles),Ti=0;return null!=Ii&&(ce++,Ti=zi.offset=Ii),ut=ut||Ti<0||Ti>1,Pe=Pe||Ti<Ze,Ze=Ti,Ne.push(Ti),zi});ut&&b.errors.push(function St(){return new X.wOt(3012,!1)}()),Pe&&b.errors.push(function Ht(){return new X.wOt(3200,!1)}());const In=v.steps.length;let Ar=0;ce>0&&ce<In?b.errors.push(function Bt(){return new X.wOt(3202,!1)}()):0==ce&&(Ar=1/(In-1));const sr=In-1,Gn=b.currentTime,Jn=b.currentAnimateTimings,li=Jn.duration;return En.forEach((Ei,zi)=>{const Ii=Ar>0?zi==sr?1:Ar*zi:Ne[zi],Ti=Ii*li;b.currentTime=Gn+Jn.delay+Ti,Jn.duration=Ti,this._validateStyleAst(Ei,b),Ei.offset=Ii,k.styles.push(Ei)}),k}visitReference(v,b){return{type:8,animation:Se(this,Y(v.animation),b),options:sn(v.options)}}visitAnimateChild(v,b){return b.depCount++,{type:9,options:sn(v.options)}}visitAnimateRef(v,b){return{type:10,animation:this.visitReference(v.animation,b),options:sn(v.options)}}visitQuery(v,b){const k=b.currentQuerySelector,J=v.options||{};b.queryCount++,b.currentQuery=v;const[ce,Ne]=function Ps(te){const v=!!te.split(/\s*,\s*/).find(b=>":self"==b);return v&&(te=te.replace(fr,"")),te=te.replace(/@\*/g,Vr).replace(/@\w+/g,b=>Vr+"-"+b.slice(1)).replace(/:animating/g,Xn),[te,v]}(v.selector);b.currentQuerySelector=k.length?k+" "+ce:ce,An(b.collectedStyles,b.currentQuerySelector,new Map);const Pe=Se(this,Y(v.animation),b);return b.currentQuery=null,b.currentQuerySelector=k,{type:11,selector:ce,limit:J.limit||0,optional:!!J.optional,includeSelf:Ne,animation:Pe,originalSelector:v.selector,options:sn(v.options)}}visitStagger(v,b){b.currentQuery||b.errors.push(function ke(){return new X.wOt(3013,!1)}());const k="full"===v.timings?{duration:0,delay:0,easing:"full"}:Wi(v.timings,b.errors,!0);return{type:12,animation:Se(this,Y(v.animation),b),timings:k,options:null}}}class tn{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function sn(te){return te?(te=or(te)).params&&(te.params=function Sr(te){return te?or(te):null}(te.params)):te={},te}function Wr(te,v,b){return{duration:te,delay:v,easing:b}}function ii(te,v,b,k,J,ce,Ne=null,Pe=!1){return{type:1,element:te,keyframes:v,preStyleProps:b,postStyleProps:k,duration:J,delay:ce,totalTime:J+ce,easing:Ne,subTimeline:Pe}}class _r{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,b){let k=this._map.get(v);k||this._map.set(v,k=[]),k.push(...b)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const tr=new RegExp(":enter","g"),qi=new RegExp(":leave","g");function Rr(te,v,b,k,J,ce=new Map,Ne=new Map,Pe,ut,Ze=[]){return(new vs).buildKeyframes(te,v,b,k,J,ce,Ne,Pe,ut,Ze)}class vs{buildKeyframes(v,b,k,J,ce,Ne,Pe,ut,Ze,En=[]){Ze=Ze||new _r;const In=new Yr(v,b,Ze,J,ce,En,[]);In.options=ut;const Ar=ut.delay?nn(ut.delay):0;In.currentTimeline.delayNextStep(Ar),In.currentTimeline.setStyles([Ne],null,In.errors,ut),Se(this,k,In);const sr=In.timelines.filter(Gn=>Gn.containsAnimation());if(sr.length&&Pe.size){let Gn;for(let Jn=sr.length-1;Jn>=0;Jn--){const li=sr[Jn];if(li.element===b){Gn=li;break}}Gn&&!Gn.allowOnlyTimelineStyles()&&Gn.setStyles([Pe],null,In.errors,ut)}return sr.length?sr.map(Gn=>Gn.buildKeyframes()):[ii(b,[],[],[],0,Ar,"",!1)]}visitTrigger(v,b){}visitState(v,b){}visitTransition(v,b){}visitAnimateChild(v,b){const k=b.subInstructions.get(b.element);if(k){const J=b.createSubContext(v.options),ce=b.currentTimeline.currentTime,Ne=this._visitSubInstructions(k,J,J.options);ce!=Ne&&b.transformIntoNewTimeline(Ne)}b.previousNode=v}visitAnimateRef(v,b){const k=b.createSubContext(v.options);k.transformIntoNewTimeline(),this._applyAnimationRefDelays([v.options,v.animation.options],b,k),this.visitReference(v.animation,k),b.transformIntoNewTimeline(k.currentTimeline.currentTime),b.previousNode=v}_applyAnimationRefDelays(v,b,k){for(const J of v){const ce=J?.delay;if(ce){const Ne="number"==typeof ce?ce:nn(Nt(ce,J?.params??{},b.errors));k.delayNextStep(Ne)}}}_visitSubInstructions(v,b,k){let ce=b.currentTimeline.currentTime;const Ne=null!=k.duration?nn(k.duration):null,Pe=null!=k.delay?nn(k.delay):null;return 0!==Ne&&v.forEach(ut=>{const Ze=b.appendInstructionToTimeline(ut,Ne,Pe);ce=Math.max(ce,Ze.duration+Ze.delay)}),ce}visitReference(v,b){b.updateOptions(v.options,!0),Se(this,v.animation,b),b.previousNode=v}visitSequence(v,b){const k=b.subContextCount;let J=b;const ce=v.options;if(ce&&(ce.params||ce.delay)&&(J=b.createSubContext(ce),J.transformIntoNewTimeline(),null!=ce.delay)){6==J.previousNode.type&&(J.currentTimeline.snapshotCurrentStyles(),J.previousNode=wi);const Ne=nn(ce.delay);J.delayNextStep(Ne)}v.steps.length&&(v.steps.forEach(Ne=>Se(this,Ne,J)),J.currentTimeline.applyStylesToKeyframe(),J.subContextCount>k&&J.transformIntoNewTimeline()),b.previousNode=v}visitGroup(v,b){const k=[];let J=b.currentTimeline.currentTime;const ce=v.options&&v.options.delay?nn(v.options.delay):0;v.steps.forEach(Ne=>{const Pe=b.createSubContext(v.options);ce&&Pe.delayNextStep(ce),Se(this,Ne,Pe),J=Math.max(J,Pe.currentTimeline.currentTime),k.push(Pe.currentTimeline)}),k.forEach(Ne=>b.currentTimeline.mergeTimelineCollectedStyles(Ne)),b.transformIntoNewTimeline(J),b.previousNode=v}_visitTiming(v,b){if(v.dynamic){const k=v.strValue;return Wi(b.params?Nt(k,b.params,b.errors):k,b.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,b){const k=b.currentAnimateTimings=this._visitTiming(v.timings,b),J=b.currentTimeline;k.delay&&(b.incrementTime(k.delay),J.snapshotCurrentStyles());const ce=v.style;5==ce.type?this.visitKeyframes(ce,b):(b.incrementTime(k.duration),this.visitStyle(ce,b),J.applyStylesToKeyframe()),b.currentAnimateTimings=null,b.previousNode=v}visitStyle(v,b){const k=b.currentTimeline,J=b.currentAnimateTimings;!J&&k.hasCurrentStyleProperties()&&k.forwardFrame();const ce=J&&J.easing||v.easing;v.isEmptyStep?k.applyEmptyStep(ce):k.setStyles(v.styles,ce,b.errors,b.options),b.previousNode=v}visitKeyframes(v,b){const k=b.currentAnimateTimings,J=b.currentTimeline.duration,ce=k.duration,Pe=b.createSubContext().currentTimeline;Pe.easing=k.easing,v.styles.forEach(ut=>{Pe.forwardTime((ut.offset||0)*ce),Pe.setStyles(ut.styles,ut.easing,b.errors,b.options),Pe.applyStylesToKeyframe()}),b.currentTimeline.mergeTimelineCollectedStyles(Pe),b.transformIntoNewTimeline(J+ce),b.previousNode=v}visitQuery(v,b){const k=b.currentTimeline.currentTime,J=v.options||{},ce=J.delay?nn(J.delay):0;ce&&(6===b.previousNode.type||0==k&&b.currentTimeline.hasCurrentStyleProperties())&&(b.currentTimeline.snapshotCurrentStyles(),b.previousNode=wi);let Ne=k;const Pe=b.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!J.optional,b.errors);b.currentQueryTotal=Pe.length;let ut=null;Pe.forEach((Ze,En)=>{b.currentQueryIndex=En;const In=b.createSubContext(v.options,Ze);ce&&In.delayNextStep(ce),Ze===b.element&&(ut=In.currentTimeline),Se(this,v.animation,In),In.currentTimeline.applyStylesToKeyframe(),Ne=Math.max(Ne,In.currentTimeline.currentTime)}),b.currentQueryIndex=0,b.currentQueryTotal=0,b.transformIntoNewTimeline(Ne),ut&&(b.currentTimeline.mergeTimelineCollectedStyles(ut),b.currentTimeline.snapshotCurrentStyles()),b.previousNode=v}visitStagger(v,b){const k=b.parentContext,J=b.currentTimeline,ce=v.timings,Ne=Math.abs(ce.duration),Pe=Ne*(b.currentQueryTotal-1);let ut=Ne*b.currentQueryIndex;switch(ce.duration<0?"reverse":ce.easing){case"reverse":ut=Pe-ut;break;case"full":ut=k.currentStaggerTime}const En=b.currentTimeline;ut&&En.delayNextStep(ut);const In=En.currentTime;Se(this,v.animation,b),b.previousNode=v,k.currentStaggerTime=J.currentTime-In+(J.startTime-k.currentTimeline.startTime)}}const wi={};class Yr{constructor(v,b,k,J,ce,Ne,Pe,ut){this._driver=v,this.element=b,this.subInstructions=k,this._enterClassName=J,this._leaveClassName=ce,this.errors=Ne,this.timelines=Pe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ut||new Ms(this._driver,b,0),Pe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,b){if(!v)return;const k=v;let J=this.options;null!=k.duration&&(J.duration=nn(k.duration)),null!=k.delay&&(J.delay=nn(k.delay));const ce=k.params;if(ce){let Ne=J.params;Ne||(Ne=this.options.params={}),Object.keys(ce).forEach(Pe=>{(!b||!Ne.hasOwnProperty(Pe))&&(Ne[Pe]=Nt(ce[Pe],Ne,this.errors))})}}_copyOptions(){const v={};if(this.options){const b=this.options.params;if(b){const k=v.params={};Object.keys(b).forEach(J=>{k[J]=b[J]})}}return v}createSubContext(v=null,b,k){const J=b||this.element,ce=new Yr(this._driver,J,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(J,k||0));return ce.previousNode=this.previousNode,ce.currentAnimateTimings=this.currentAnimateTimings,ce.options=this._copyOptions(),ce.updateOptions(v),ce.currentQueryIndex=this.currentQueryIndex,ce.currentQueryTotal=this.currentQueryTotal,ce.parentContext=this,this.subContextCount++,ce}transformIntoNewTimeline(v){return this.previousNode=wi,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,b,k){const J={duration:b??v.duration,delay:this.currentTimeline.currentTime+(k??0)+v.delay,easing:""},ce=new es(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,J,v.stretchStartingKeyframe);return this.timelines.push(ce),J}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,b,k,J,ce,Ne){let Pe=[];if(J&&Pe.push(this.element),v.length>0){v=(v=v.replace(tr,"."+this._enterClassName)).replace(qi,"."+this._leaveClassName);let Ze=this._driver.query(this.element,v,1!=k);0!==k&&(Ze=k<0?Ze.slice(Ze.length+k,Ze.length):Ze.slice(0,k)),Pe.push(...Ze)}return!ce&&0==Pe.length&&Ne.push(function Yt(te){return new X.wOt(3014,!1)}()),Pe}}class Ms{constructor(v,b,k,J){this._driver=v,this.element=b,this.startTime=k,this._elementTimelineStylesLookup=J,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(b),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(b,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const b=1===this._keyframes.size&&this._pendingStyles.size;this.duration||b?(this.forwardTime(this.currentTime+v),b&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,b){return this.applyStylesToKeyframe(),new Ms(this._driver,v,b||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,b){this._localTimelineStyles.set(v,b),this._globalTimelineStyles.set(v,b),this._styleSummary.set(v,{time:this.currentTime,value:b})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[b,k]of this._globalTimelineStyles)this._backFill.set(b,k||Qe.kp),this._currentKeyframe.set(b,Qe.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,b,k,J){b&&this._previousKeyframe.set("easing",b);const ce=J&&J.params||{},Ne=function hs(te,v){const b=new Map;let k;return te.forEach(J=>{if("*"===J){k=k||v.keys();for(let ce of k)b.set(ce,Qe.kp)}else mt(J,b)}),b}(v,this._globalTimelineStyles);for(let[Pe,ut]of Ne){const Ze=Nt(ut,ce,k);this._pendingStyles.set(Pe,Ze),this._localTimelineStyles.has(Pe)||this._backFill.set(Pe,this._globalTimelineStyles.get(Pe)??Qe.kp),this._updateStyle(Pe,Ze)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,b)=>{this._currentKeyframe.set(b,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,b)=>{this._currentKeyframe.has(b)||this._currentKeyframe.set(b,v)}))}snapshotCurrentStyles(){for(let[v,b]of this._localTimelineStyles)this._pendingStyles.set(v,b),this._updateStyle(v,b)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let b in this._currentKeyframe)v.push(b);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((b,k)=>{const J=this._styleSummary.get(k);(!J||b.time>J.time)&&this._updateStyle(k,b.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,b=new Set,k=1===this._keyframes.size&&0===this.duration;let J=[];this._keyframes.forEach((Pe,ut)=>{const Ze=mt(Pe,new Map,this._backFill);Ze.forEach((En,In)=>{En===Qe.FX?v.add(In):En===Qe.kp&&b.add(In)}),k||Ze.set("offset",ut/this.duration),J.push(Ze)});const ce=v.size?Tn(v.values()):[],Ne=b.size?Tn(b.values()):[];if(k){const Pe=J[0],ut=new Map(Pe);Pe.set("offset",0),ut.set("offset",1),J=[Pe,ut]}return ii(this.element,J,ce,Ne,this.duration,this.startTime,this.easing,!1)}}class es extends Ms{constructor(v,b,k,J,ce,Ne,Pe=!1){super(v,b,Ne.delay),this.keyframes=k,this.preStyleProps=J,this.postStyleProps=ce,this._stretchStartingKeyframe=Pe,this.timings={duration:Ne.duration,delay:Ne.delay,easing:Ne.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:b,duration:k,easing:J}=this.timings;if(this._stretchStartingKeyframe&&b){const ce=[],Ne=k+b,Pe=b/Ne,ut=mt(v[0]);ut.set("offset",0),ce.push(ut);const Ze=mt(v[0]);Ze.set("offset",$r(Pe)),ce.push(Ze);const En=v.length-1;for(let In=1;In<=En;In++){let Ar=mt(v[In]);const sr=Ar.get("offset");Ar.set("offset",$r((b+sr*k)/Ne)),ce.push(Ar)}k=Ne,b=0,J="",v=ce}return ii(this.element,v,this.preStyleProps,this.postStyleProps,k,b,J,!0)}}function $r(te,v=3){const b=Math.pow(10,v-1);return Math.round(te*b)/b}class js{}const Oo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Es extends js{normalizePropertyName(v,b){return kn(v)}normalizeStyleValue(v,b,k,J){let ce="";const Ne=k.toString().trim();if(Oo.has(b)&&0!==k&&"0"!==k)if("number"==typeof k)ce="px";else{const Pe=k.match(/^[+-]?[\d\.]+([a-z]*)$/);Pe&&0==Pe[1].length&&J.push(function rn(te,v){return new X.wOt(3005,!1)}())}return Ne+ce}}function Ki(te,v,b,k,J,ce,Ne,Pe,ut,Ze,En,In,Ar){return{type:0,element:te,triggerName:v,isRemovalTransition:J,fromState:b,fromStyles:ce,toState:k,toStyles:Ne,timelines:Pe,queriedElements:ut,preStyleProps:Ze,postStyleProps:En,totalTime:In,errors:Ar}}const Is={};class ts{constructor(v,b,k){this._triggerName=v,this.ast=b,this._stateStyles=k}match(v,b,k,J){return function $s(te,v,b,k,J){return te.some(ce=>ce(v,b,k,J))}(this.ast.matchers,v,b,k,J)}buildStyles(v,b,k){let J=this._stateStyles.get("*");return void 0!==v&&(J=this._stateStyles.get(v?.toString())||J),J?J.buildStyles(b,k):new Map}build(v,b,k,J,ce,Ne,Pe,ut,Ze,En){const In=[],Ar=this.ast.options&&this.ast.options.params||Is,Gn=this.buildStyles(k,Pe&&Pe.params||Is,In),Jn=ut&&ut.params||Is,li=this.buildStyles(J,Jn,In),Ei=new Set,zi=new Map,Ii=new Map,Ti="void"===J,As={params:ji(Jn,Ar),delay:this.ast.options?.delay},Ni=En?[]:Rr(v,b,this.ast.animation,ce,Ne,Gn,li,As,Ze,In);let ki=0;if(Ni.forEach(Gs=>{ki=Math.max(Gs.duration+Gs.delay,ki)}),In.length)return Ki(b,this._triggerName,k,J,Ti,Gn,li,[],[],zi,Ii,ki,In);Ni.forEach(Gs=>{const Io=Gs.element,A=An(zi,Io,new Set);Gs.preStyleProps.forEach(F=>A.add(F));const ee=An(Ii,Io,new Set);Gs.postStyleProps.forEach(F=>ee.add(F)),Io!==b&&Ei.add(Io)});const ss=Tn(Ei.values());return Ki(b,this._triggerName,k,J,Ti,Gn,li,Ni,ss,zi,Ii,ki)}}function ji(te,v){const b=or(v);for(const k in te)te.hasOwnProperty(k)&&null!=te[k]&&(b[k]=te[k]);return b}class Vs{constructor(v,b,k){this.styles=v,this.defaultParams=b,this.normalizer=k}buildStyles(v,b){const k=new Map,J=or(this.defaultParams);return Object.keys(v).forEach(ce=>{const Ne=v[ce];null!==Ne&&(J[ce]=Ne)}),this.styles.styles.forEach(ce=>{"string"!=typeof ce&&ce.forEach((Ne,Pe)=>{Ne&&(Ne=Nt(Ne,J,b));const ut=this.normalizer.normalizePropertyName(Pe,b);Ne=this.normalizer.normalizeStyleValue(Pe,ut,Ne,b),k.set(Pe,Ne)})}),k}}class Ts{constructor(v,b,k){this.name=v,this.ast=b,this._normalizer=k,this.transitionFactories=[],this.states=new Map,b.states.forEach(J=>{this.states.set(J.name,new Vs(J.style,J.options&&J.options.params||{},k))}),Pr(this.states,"true","1"),Pr(this.states,"false","0"),b.transitions.forEach(J=>{this.transitionFactories.push(new ts(v,J,this.states))}),this.fallbackTransition=function ar(te,v,b){return new ts(te,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ne,Pe)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,b,k,J){return this.transitionFactories.find(Ne=>Ne.match(v,b,k,J))||null}matchStyles(v,b,k){return this.fallbackTransition.buildStyles(v,b,k)}}function Pr(te,v,b){te.has(v)?te.has(b)||te.set(b,te.get(v)):te.has(b)&&te.set(v,te.get(b))}const Nr=new _r;class Cs{constructor(v,b,k){this.bodyNode=v,this._driver=b,this._normalizer=k,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,b){const k=[],ce=Dn(this._driver,b,k,[]);if(k.length)throw function Q(te){return new X.wOt(3503,!1)}();this._animations.set(v,ce)}_buildPlayer(v,b,k){const J=v.element,ce=Wn(this._normalizer,v.keyframes,b,k);return this._driver.animate(J,ce,v.duration,v.delay,v.easing,[],!0)}create(v,b,k={}){const J=[],ce=this._animations.get(v);let Ne;const Pe=new Map;if(ce?(Ne=Rr(this._driver,b,ce,fn,Si,new Map,new Map,k,Nr,J),Ne.forEach(En=>{const In=An(Pe,En.element,new Map);En.postStyleProps.forEach(Ar=>In.set(Ar,null))})):(J.push(function ae(){return new X.wOt(3300,!1)}()),Ne=[]),J.length)throw function xt(te){return new X.wOt(3504,!1)}();Pe.forEach((En,In)=>{En.forEach((Ar,sr)=>{En.set(sr,this._driver.computeStyle(In,sr,Qe.kp))})});const Ze=pn(Ne.map(En=>{const In=Pe.get(En.element);return this._buildPlayer(En,new Map,In)}));return this._playersById.set(v,Ze),Ze.onDestroy(()=>this.destroy(v)),this.players.push(Ze),Ze}destroy(v){const b=this._getPlayer(v);b.destroy(),this._playersById.delete(v);const k=this.players.indexOf(b);k>=0&&this.players.splice(k,1)}_getPlayer(v){const b=this._playersById.get(v);if(!b)throw function Oe(te){return new X.wOt(3301,!1)}();return b}listen(v,b,k,J){const ce=Pn(b,"","","");return Lt(this._getPlayer(v),k,ce,J),()=>{}}command(v,b,k,J){if("register"==k)return void this.register(v,J[0]);if("create"==k)return void this.create(v,b,J[0]||{});const ce=this._getPlayer(v);switch(k){case"play":ce.play();break;case"pause":ce.pause();break;case"reset":ce.reset();break;case"restart":ce.restart();break;case"finish":ce.finish();break;case"init":ce.init();break;case"setPosition":ce.setPosition(parseFloat(J[0]));break;case"destroy":this.destroy(v)}}}const ci="ng-animate-queued",ns="ng-animate-disabled",qr=[],ln={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Er="__ng_removed";class Ai{get params(){return this.options.params}constructor(v,b=""){this.namespaceId=b;const k=v&&v.hasOwnProperty("value");if(this.value=function jn(te){return te??null}(k?v.value:v),k){const ce=or(v);delete ce.value,this.options=ce}else this.options={};this.options.params||(this.options.params={})}absorbOptions(v){const b=v.params;if(b){const k=this.options.params;Object.keys(b).forEach(J=>{null==k[J]&&(k[J]=b[J])})}}}const $i="void",lr=new Ai($i);class Hi{constructor(v,b,k){this.id=v,this.hostElement=b,this._engine=k,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,Kr(b,this._hostClassName)}listen(v,b,k,J){if(!this._triggers.has(b))throw function ve(te,v){return new X.wOt(3302,!1)}();if(null==k||0==k.length)throw function _e(te){return new X.wOt(3303,!1)}();if(!function Xs(te){return"start"==te||"done"==te}(k))throw function oe(te,v){return new X.wOt(3400,!1)}();const ce=An(this._elementListeners,v,[]),Ne={name:b,phase:k,callback:J};ce.push(Ne);const Pe=An(this._engine.statesByElement,v,new Map);return Pe.has(b)||(Kr(v,ti),Kr(v,ti+"-"+b),Pe.set(b,lr)),()=>{this._engine.afterFlush(()=>{const ut=ce.indexOf(Ne);ut>=0&&ce.splice(ut,1),this._triggers.has(b)||Pe.delete(b)})}}register(v,b){return!this._triggers.has(v)&&(this._triggers.set(v,b),!0)}_getTrigger(v){const b=this._triggers.get(v);if(!b)throw function de(te){return new X.wOt(3401,!1)}();return b}trigger(v,b,k,J=!0){const ce=this._getTrigger(b),Ne=new ui(this.id,b,v);let Pe=this._engine.statesByElement.get(v);Pe||(Kr(v,ti),Kr(v,ti+"-"+b),this._engine.statesByElement.set(v,Pe=new Map));let ut=Pe.get(b);const Ze=new Ai(k,this.id);if(!(k&&k.hasOwnProperty("value"))&&ut&&Ze.absorbOptions(ut.options),Pe.set(b,Ze),ut||(ut=lr),Ze.value!==$i&&ut.value===Ze.value){if(!function ps(te,v){const b=Object.keys(te),k=Object.keys(v);if(b.length!=k.length)return!1;for(let J=0;J<b.length;J++){const ce=b[J];if(!v.hasOwnProperty(ce)||te[ce]!==v[ce])return!1}return!0}(ut.params,Ze.params)){const Jn=[],li=ce.matchStyles(ut.value,ut.params,Jn),Ei=ce.matchStyles(Ze.value,Ze.params,Jn);Jn.length?this._engine.reportError(Jn):this._engine.afterFlush(()=>{j(v,li),ne(v,Ei)})}return}const Ar=An(this._engine.playersByElement,v,[]);Ar.forEach(Jn=>{Jn.namespaceId==this.id&&Jn.triggerName==b&&Jn.queued&&Jn.destroy()});let sr=ce.matchTransition(ut.value,Ze.value,v,Ze.params),Gn=!1;if(!sr){if(!J)return;sr=ce.fallbackTransition,Gn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:b,transition:sr,fromState:ut,toState:Ze,player:Ne,isFallbackTransition:Gn}),Gn||(Kr(v,ci),Ne.onStart(()=>{ai(v,ci)})),Ne.onDone(()=>{let Jn=this.players.indexOf(Ne);Jn>=0&&this.players.splice(Jn,1);const li=this._engine.playersByElement.get(v);if(li){let Ei=li.indexOf(Ne);Ei>=0&&li.splice(Ei,1)}}),this.players.push(Ne),Ar.push(Ne),Ne}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(b=>b.delete(v)),this._elementListeners.forEach((b,k)=>{this._elementListeners.set(k,b.filter(J=>J.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const b=this._engine.playersByElement.get(v);b&&(b.forEach(k=>k.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,b){const k=this._engine.driver.query(v,Vr,!0);k.forEach(J=>{if(J[Er])return;const ce=this._engine.fetchNamespacesByElement(J);ce.size?ce.forEach(Ne=>Ne.triggerLeaveAnimation(J,b,!1,!0)):this.clearElementCache(J)}),this._engine.afterFlushAnimationsDone(()=>k.forEach(J=>this.clearElementCache(J)))}triggerLeaveAnimation(v,b,k,J){const ce=this._engine.statesByElement.get(v),Ne=new Map;if(ce){const Pe=[];if(ce.forEach((ut,Ze)=>{if(Ne.set(Ze,ut.value),this._triggers.has(Ze)){const En=this.trigger(v,Ze,$i,J);En&&Pe.push(En)}}),Pe.length)return this._engine.markElementAsRemoved(this.id,v,!0,b,Ne),k&&pn(Pe).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const b=this._elementListeners.get(v),k=this._engine.statesByElement.get(v);if(b&&k){const J=new Set;b.forEach(ce=>{const Ne=ce.name;if(J.has(Ne))return;J.add(Ne);const ut=this._triggers.get(Ne).fallbackTransition,Ze=k.get(Ne)||lr,En=new Ai($i),In=new ui(this.id,Ne,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:Ne,transition:ut,fromState:Ze,toState:En,player:In,isFallbackTransition:!0})})}}removeNode(v,b){const k=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,b),this.triggerLeaveAnimation(v,b,!0))return;let J=!1;if(k.totalAnimations){const ce=k.players.length?k.playersByQueriedElement.get(v):[];if(ce&&ce.length)J=!0;else{let Ne=v;for(;Ne=Ne.parentNode;)if(k.statesByElement.get(Ne)){J=!0;break}}}if(this.prepareLeaveAnimationListeners(v),J)k.markElementAsRemoved(this.id,v,!1,b);else{const ce=v[Er];(!ce||ce===ln)&&(k.afterFlush(()=>this.clearElementCache(v)),k.destroyInnerAnimations(v),k._onRemovalComplete(v,b))}}insertNode(v,b){Kr(v,this._hostClassName)}drainQueuedTransitions(v){const b=[];return this._queue.forEach(k=>{const J=k.player;if(J.destroyed)return;const ce=k.element,Ne=this._elementListeners.get(ce);Ne&&Ne.forEach(Pe=>{if(Pe.name==k.triggerName){const ut=Pn(ce,k.triggerName,k.fromState.value,k.toState.value);ut._data=v,Lt(k.player,Pe.phase,ut,Pe.callback)}}),J.markedForDestroy?this._engine.afterFlush(()=>{J.destroy()}):b.push(k)}),this._queue=[],b.sort((k,J)=>{const ce=k.transition.ast.depCount,Ne=J.transition.ast.depCount;return 0==ce||0==Ne?ce-Ne:this._engine.driver.containsElement(k.element,J.element)?1:-1})}destroy(v){this.players.forEach(b=>b.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}}class qn{_onRemovalComplete(v,b){this.onRemovalComplete(v,b)}constructor(v,b,k){this.bodyNode=v,this.driver=b,this._normalizer=k,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(J,ce)=>{}}get queuedPlayers(){const v=[];return this._namespaceList.forEach(b=>{b.players.forEach(k=>{k.queued&&v.push(k)})}),v}createNamespace(v,b){const k=new Hi(v,b,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,b)?this._balanceNamespaceList(k,b):(this.newHostElements.set(b,k),this.collectEnterElement(b)),this._namespaceLookup[v]=k}_balanceNamespaceList(v,b){const k=this._namespaceList,J=this.namespacesByHostElement;if(k.length-1>=0){let Ne=!1,Pe=this.driver.getParentElement(b);for(;Pe;){const ut=J.get(Pe);if(ut){const Ze=k.indexOf(ut);k.splice(Ze+1,0,v),Ne=!0;break}Pe=this.driver.getParentElement(Pe)}Ne||k.unshift(v)}else k.push(v);return J.set(b,v),v}register(v,b){let k=this._namespaceLookup[v];return k||(k=this.createNamespace(v,b)),k}registerTrigger(v,b,k){let J=this._namespaceLookup[v];J&&J.register(b,k)&&this.totalAnimations++}destroy(v,b){v&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const k=this._fetchNamespace(v);this.namespacesByHostElement.delete(k.hostElement);const J=this._namespaceList.indexOf(k);J>=0&&this._namespaceList.splice(J,1),k.destroy(b),delete this._namespaceLookup[v]}))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const b=new Set,k=this.statesByElement.get(v);if(k)for(let J of k.values())if(J.namespaceId){const ce=this._fetchNamespace(J.namespaceId);ce&&b.add(ce)}return b}trigger(v,b,k,J){if(Pi(b)){const ce=this._fetchNamespace(v);if(ce)return ce.trigger(b,k,J),!0}return!1}insertNode(v,b,k,J){if(!Pi(b))return;const ce=b[Er];if(ce&&ce.setForRemoval){ce.setForRemoval=!1,ce.setForMove=!0;const Ne=this.collectedLeaveElements.indexOf(b);Ne>=0&&this.collectedLeaveElements.splice(Ne,1)}if(v){const Ne=this._fetchNamespace(v);Ne&&Ne.insertNode(b,k)}J&&this.collectEnterElement(b)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,b){b?this.disabledNodes.has(v)||(this.disabledNodes.add(v),Kr(v,ns)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),ai(v,ns))}removeNode(v,b,k){if(Pi(b)){const J=v?this._fetchNamespace(v):null;J?J.removeNode(b,k):this.markElementAsRemoved(v,b,!1,k);const ce=this.namespacesByHostElement.get(b);ce&&ce.id!==v&&ce.removeNode(b,k)}else this._onRemovalComplete(b,k)}markElementAsRemoved(v,b,k,J,ce){this.collectedLeaveElements.push(b),b[Er]={namespaceId:v,setForRemoval:J,hasAnimation:k,removedBeforeQueried:!1,previousTriggersValues:ce}}listen(v,b,k,J,ce){return Pi(b)?this._fetchNamespace(v).listen(b,k,J,ce):()=>{}}_buildInstruction(v,b,k,J,ce){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,k,J,v.fromState.options,v.toState.options,b,ce)}destroyInnerAnimations(v){let b=this.driver.query(v,Vr,!0);b.forEach(k=>this.destroyActiveAnimationsForElement(k)),0!=this.playersByQueriedElement.size&&(b=this.driver.query(v,Xn,!0),b.forEach(k=>this.finishActiveQueriedAnimationOnElement(k)))}destroyActiveAnimationsForElement(v){const b=this.playersByElement.get(v);b&&b.forEach(k=>{k.queued?k.markedForDestroy=!0:k.destroy()})}finishActiveQueriedAnimationOnElement(v){const b=this.playersByQueriedElement.get(v);b&&b.forEach(k=>k.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return pn(this.players).onDone(()=>v());v()})}processLeaveNode(v){const b=v[Er];if(b&&b.setForRemoval){if(v[Er]=ln,b.namespaceId){this.destroyInnerAnimations(v);const k=this._fetchNamespace(b.namespaceId);k&&k.clearElementCache(v)}this._onRemovalComplete(v,b.setForRemoval)}v.classList?.contains(ns)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(k=>{this.markElementAsDisabled(k,!1)})}flush(v=-1){let b=[];if(this.newHostElements.size&&(this.newHostElements.forEach((k,J)=>this._balanceNamespaceList(k,J)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let k=0;k<this.collectedEnterElements.length;k++)Kr(this.collectedEnterElements[k],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const k=[];try{b=this._flushAnimations(k,v)}finally{for(let J=0;J<k.length;J++)k[J]()}}else for(let k=0;k<this.collectedLeaveElements.length;k++)this.processLeaveNode(this.collectedLeaveElements[k]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(k=>k()),this._flushFns=[],this._whenQuietFns.length){const k=this._whenQuietFns;this._whenQuietFns=[],b.length?pn(b).onDone(()=>{k.forEach(J=>J())}):k.forEach(J=>J())}}reportError(v){throw function we(te){return new X.wOt(3402,!1)}()}_flushAnimations(v,b){const k=new _r,J=[],ce=new Map,Ne=[],Pe=new Map,ut=new Map,Ze=new Map,En=new Set;this.disabledNodes.forEach(je=>{En.add(je);const it=this.driver.query(je,".ng-animate-queued",!0);for(let Ft=0;Ft<it.length;Ft++)En.add(it[Ft])});const In=this.bodyNode,Ar=Array.from(this.statesByElement.keys()),sr=Tr(Ar,this.collectedEnterElements),Gn=new Map;let Jn=0;sr.forEach((je,it)=>{const Ft=fn+Jn++;Gn.set(it,Ft),je.forEach(Fn=>Kr(Fn,Ft))});const li=[],Ei=new Set,zi=new Set;for(let je=0;je<this.collectedLeaveElements.length;je++){const it=this.collectedLeaveElements[je],Ft=it[Er];Ft&&Ft.setForRemoval&&(li.push(it),Ei.add(it),Ft.hasAnimation?this.driver.query(it,".ng-star-inserted",!0).forEach(Fn=>Ei.add(Fn)):zi.add(it))}const Ii=new Map,Ti=Tr(Ar,Array.from(Ei));Ti.forEach((je,it)=>{const Ft=Si+Jn++;Ii.set(it,Ft),je.forEach(Fn=>Kr(Fn,Ft))}),v.push(()=>{sr.forEach((je,it)=>{const Ft=Gn.get(it);je.forEach(Fn=>ai(Fn,Ft))}),Ti.forEach((je,it)=>{const Ft=Ii.get(it);je.forEach(Fn=>ai(Fn,Ft))}),li.forEach(je=>{this.processLeaveNode(je)})});const As=[],Ni=[];for(let je=this._namespaceList.length-1;je>=0;je--)this._namespaceList[je].drainQueuedTransitions(b).forEach(Ft=>{const Fn=Ft.player,pr=Ft.element;if(As.push(Fn),this.collectedEnterElements.length){const Gr=pr[Er];if(Gr&&Gr.setForMove){if(Gr.previousTriggersValues&&Gr.previousTriggersValues.has(Ft.triggerName)){const ms=Gr.previousTriggersValues.get(Ft.triggerName),Br=this.statesByElement.get(Ft.element);if(Br&&Br.has(Ft.triggerName)){const Ds=Br.get(Ft.triggerName);Ds.value=ms,Br.set(Ft.triggerName,Ds)}}return void Fn.destroy()}}const mr=!In||!this.driver.containsElement(In,pr),$n=Ii.get(pr),yr=Gn.get(pr),Qn=this._buildInstruction(Ft,k,yr,$n,mr);if(Qn.errors&&Qn.errors.length)return void Ni.push(Qn);if(mr)return Fn.onStart(()=>j(pr,Qn.fromStyles)),Fn.onDestroy(()=>ne(pr,Qn.toStyles)),void J.push(Fn);if(Ft.isFallbackTransition)return Fn.onStart(()=>j(pr,Qn.fromStyles)),Fn.onDestroy(()=>ne(pr,Qn.toStyles)),void J.push(Fn);const Di=[];Qn.timelines.forEach(Gr=>{Gr.stretchStartingKeyframe=!0,this.disabledNodes.has(Gr.element)||Di.push(Gr)}),Qn.timelines=Di,k.append(pr,Qn.timelines),Ne.push({instruction:Qn,player:Fn,element:pr}),Qn.queriedElements.forEach(Gr=>An(Pe,Gr,[]).push(Fn)),Qn.preStyleProps.forEach((Gr,ms)=>{if(Gr.size){let Br=ut.get(ms);Br||ut.set(ms,Br=new Set),Gr.forEach((Ds,zs)=>Br.add(zs))}}),Qn.postStyleProps.forEach((Gr,ms)=>{let Br=Ze.get(ms);Br||Ze.set(ms,Br=new Set),Gr.forEach((Ds,zs)=>Br.add(zs))})});if(Ni.length){const je=[];Ni.forEach(it=>{je.push(function Rt(te,v){return new X.wOt(3505,!1)}())}),As.forEach(it=>it.destroy()),this.reportError(je)}const ki=new Map,ss=new Map;Ne.forEach(je=>{const it=je.element;k.has(it)&&(ss.set(it,it),this._beforeAnimationBuild(je.player.namespaceId,je.instruction,ki))}),J.forEach(je=>{const it=je.element;this._getPreviousPlayers(it,!1,je.namespaceId,je.triggerName,null).forEach(Fn=>{An(ki,it,[]).push(Fn),Fn.destroy()})});const Gs=li.filter(je=>yo(je,ut,Ze)),Io=new Map;Nn(Io,this.driver,zi,Ze,Qe.kp).forEach(je=>{yo(je,ut,Ze)&&Gs.push(je)});const ee=new Map;sr.forEach((je,it)=>{Nn(ee,this.driver,new Set(je),ut,Qe.FX)}),Gs.forEach(je=>{const it=Io.get(je),Ft=ee.get(je);Io.set(je,new Map([...it?.entries()??[],...Ft?.entries()??[]]))});const F=[],G=[],Te={};Ne.forEach(je=>{const{element:it,player:Ft,instruction:Fn}=je;if(k.has(it)){if(En.has(it))return Ft.onDestroy(()=>ne(it,Fn.toStyles)),Ft.disabled=!0,Ft.overrideTotalTime(Fn.totalTime),void J.push(Ft);let pr=Te;if(ss.size>1){let $n=it;const yr=[];for(;$n=$n.parentNode;){const Qn=ss.get($n);if(Qn){pr=Qn;break}yr.push($n)}yr.forEach(Qn=>ss.set(Qn,pr))}const mr=this._buildAnimation(Ft.namespaceId,Fn,ki,ce,ee,Io);if(Ft.setRealPlayer(mr),pr===Te)F.push(Ft);else{const $n=this.playersByElement.get(pr);$n&&$n.length&&(Ft.parentPlayer=pn($n)),J.push(Ft)}}else j(it,Fn.fromStyles),Ft.onDestroy(()=>ne(it,Fn.toStyles)),G.push(Ft),En.has(it)&&J.push(Ft)}),G.forEach(je=>{const it=ce.get(je.element);if(it&&it.length){const Ft=pn(it);je.setRealPlayer(Ft)}}),J.forEach(je=>{je.parentPlayer?je.syncPlayerEvents(je.parentPlayer):je.destroy()});for(let je=0;je<li.length;je++){const it=li[je],Ft=it[Er];if(ai(it,Si),Ft&&Ft.hasAnimation)continue;let Fn=[];if(Pe.size){let mr=Pe.get(it);mr&&mr.length&&Fn.push(...mr);let $n=this.driver.query(it,Xn,!0);for(let yr=0;yr<$n.length;yr++){let Qn=Pe.get($n[yr]);Qn&&Qn.length&&Fn.push(...Qn)}}const pr=Fn.filter(mr=>!mr.destroyed);pr.length?ws(this,it,pr):this.processLeaveNode(it)}return li.length=0,F.forEach(je=>{this.players.push(je),je.onDone(()=>{je.destroy();const it=this.players.indexOf(je);this.players.splice(it,1)}),je.play()}),F}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,b,k,J,ce){let Ne=[];if(b){const Pe=this.playersByQueriedElement.get(v);Pe&&(Ne=Pe)}else{const Pe=this.playersByElement.get(v);if(Pe){const ut=!ce||ce==$i;Pe.forEach(Ze=>{Ze.queued||!ut&&Ze.triggerName!=J||Ne.push(Ze)})}}return(k||J)&&(Ne=Ne.filter(Pe=>!(k&&k!=Pe.namespaceId||J&&J!=Pe.triggerName))),Ne}_beforeAnimationBuild(v,b,k){const ce=b.element,Ne=b.isRemovalTransition?void 0:v,Pe=b.isRemovalTransition?void 0:b.triggerName;for(const ut of b.timelines){const Ze=ut.element,En=Ze!==ce,In=An(k,Ze,[]);this._getPreviousPlayers(Ze,En,Ne,Pe,b.toState).forEach(sr=>{const Gn=sr.getRealPlayer();Gn.beforeDestroy&&Gn.beforeDestroy(),sr.destroy(),In.push(sr)})}j(ce,b.fromStyles)}_buildAnimation(v,b,k,J,ce,Ne){const Pe=b.triggerName,ut=b.element,Ze=[],En=new Set,In=new Set,Ar=b.timelines.map(Gn=>{const Jn=Gn.element;En.add(Jn);const li=Jn[Er];if(li&&li.removedBeforeQueried)return new Qe.sf(Gn.duration,Gn.delay);const Ei=Jn!==ut,zi=function jo(te){const v=[];return fs(te,v),v}((k.get(Jn)||qr).map(ki=>ki.getRealPlayer())).filter(ki=>!!ki.element&&ki.element===Jn),Ii=ce.get(Jn),Ti=Ne.get(Jn),As=Wn(this._normalizer,Gn.keyframes,Ii,Ti),Ni=this._buildPlayer(Gn,As,zi);if(Gn.subTimeline&&J&&In.add(Jn),Ei){const ki=new ui(v,Pe,Jn);ki.setRealPlayer(Ni),Ze.push(ki)}return Ni});Ze.forEach(Gn=>{An(this.playersByQueriedElement,Gn.element,[]).push(Gn),Gn.onDone(()=>function rs(te,v,b){let k=te.get(v);if(k){if(k.length){const J=k.indexOf(b);k.splice(J,1)}0==k.length&&te.delete(v)}return k}(this.playersByQueriedElement,Gn.element,Gn))}),En.forEach(Gn=>Kr(Gn,qe));const sr=pn(Ar);return sr.onDestroy(()=>{En.forEach(Gn=>ai(Gn,qe)),ne(ut,b.toStyles)}),In.forEach(Gn=>{An(J,Gn,[]).push(sr)}),sr}_buildPlayer(v,b,k){return b.length>0?this.driver.animate(v.element,b,v.duration,v.delay,v.easing,k):new Qe.sf(v.duration,v.delay)}}class ui{constructor(v,b,k){this.namespaceId=v,this.triggerName=b,this.element=k,this._player=new Qe.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((b,k)=>{b.forEach(J=>Lt(v,k,void 0,J))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const b=this._player;b.triggerCallback&&v.onStart(()=>b.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,b){An(this._queuedCallbacks,v,[]).push(b)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const b=this._player;b.triggerCallback&&b.triggerCallback(v)}}function Pi(te){return te&&1===te.nodeType}function xs(te,v){const b=te.style.display;return te.style.display=v??"none",b}function Nn(te,v,b,k,J){const ce=[];b.forEach(ut=>ce.push(xs(ut)));const Ne=[];k.forEach((ut,Ze)=>{const En=new Map;ut.forEach(In=>{const Ar=v.computeStyle(Ze,In,J);En.set(In,Ar),(!Ar||0==Ar.length)&&(Ze[Er]=nr,Ne.push(Ze))}),te.set(Ze,En)});let Pe=0;return b.forEach(ut=>xs(ut,ce[Pe++])),Ne}function Tr(te,v){const b=new Map;if(te.forEach(Pe=>b.set(Pe,[])),0==v.length)return b;const J=new Set(v),ce=new Map;function Ne(Pe){if(!Pe)return 1;let ut=ce.get(Pe);if(ut)return ut;const Ze=Pe.parentNode;return ut=b.has(Ze)?Ze:J.has(Ze)?1:Ne(Ze),ce.set(Pe,ut),ut}return v.forEach(Pe=>{const ut=Ne(Pe);1!==ut&&b.get(ut).push(Pe)}),b}function Kr(te,v){te.classList?.add(v)}function ai(te,v){te.classList?.remove(v)}function ws(te,v,b){pn(b).onDone(()=>te.processLeaveNode(v))}function fs(te,v){for(let b=0;b<te.length;b++){const k=te[b];k instanceof Qe.ui?fs(k.players,v):v.push(k)}}function yo(te,v,b){const k=b.get(te);if(!k)return!1;let J=v.get(te);return J?k.forEach(ce=>J.add(ce)):v.set(te,k),b.delete(te),!0}class Ns{constructor(v,b,k){this.bodyNode=v,this._driver=b,this._normalizer=k,this._triggerCache={},this.onRemovalComplete=(J,ce)=>{},this._transitionEngine=new qn(v,b,k),this._timelineEngine=new Cs(v,b,k),this._transitionEngine.onRemovalComplete=(J,ce)=>this.onRemovalComplete(J,ce)}registerTrigger(v,b,k,J,ce){const Ne=v+"-"+J;let Pe=this._triggerCache[Ne];if(!Pe){const ut=[],En=Dn(this._driver,ce,ut,[]);if(ut.length)throw function Kt(te,v){return new X.wOt(3404,!1)}();Pe=function Os(te,v,b){return new Ts(te,v,b)}(J,En,this._normalizer),this._triggerCache[Ne]=Pe}this._transitionEngine.registerTrigger(b,J,Pe)}register(v,b){this._transitionEngine.register(v,b)}destroy(v,b){this._transitionEngine.destroy(v,b)}onInsert(v,b,k,J){this._transitionEngine.insertNode(v,b,k,J)}onRemove(v,b,k){this._transitionEngine.removeNode(v,b,k)}disableAnimations(v,b){this._transitionEngine.markElementAsDisabled(v,b)}process(v,b,k,J){if("@"==k.charAt(0)){const[ce,Ne]=Wt(k);this._timelineEngine.command(ce,b,Ne,J)}else this._transitionEngine.trigger(v,b,k,J)}listen(v,b,k,J,ce){if("@"==k.charAt(0)){const[Ne,Pe]=Wt(k);return this._timelineEngine.listen(Ne,b,Pe,ce)}return this._transitionEngine.listen(v,b,k,J,ce)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(v){this._transitionEngine.afterFlushAnimationsDone(v)}}let aa=(()=>{class te{static{this.initialStylesByElement=new WeakMap}constructor(b,k,J){this._element=b,this._startStyles=k,this._endStyles=J,this._state=0;let ce=te.initialStylesByElement.get(b);ce||te.initialStylesByElement.set(b,ce=new Map),this._initialStyles=ce}start(){this._state<1&&(this._startStyles&&ne(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ne(this._element,this._initialStyles),this._endStyles&&(ne(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(te.initialStylesByElement.delete(this._element),this._startStyles&&(j(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(j(this._element,this._endStyles),this._endStyles=null),ne(this._element,this._initialStyles),this._state=3)}}return te})();function Us(te){let v=null;return te.forEach((b,k)=>{(function $o(te){return"display"===te||"position"===te})(k)&&(v=v||new Map,v.set(k,b))}),v}class vi{constructor(v,b,k,J){this.element=v,this.keyframes=b,this.options=k,this._specialStyles=J,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=k.duration,this._delay=k.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map;const b=()=>this._onFinish();this.domPlayer.addEventListener("finish",b),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",b)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const b=[];return v.forEach(k=>{b.push(Object.fromEntries(k))}),b}_triggerWebAnimation(v,b,k){return v.animate(this._convertKeyframesToObject(b),k)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((k,J)=>{"offset"!==J&&v.set(J,this._finished?k:bt(this.element,J))}),this.currentSnapshot=v}triggerCallback(v){const b="start"===v?this._onStartFns:this._onDoneFns;b.forEach(k=>k()),b.length=0}}class No{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}matchesElement(v,b){return!1}containsElement(v,b){return wr(v,b)}getParentElement(v){return gn(v)}query(v,b,k){return dr(v,b,k)}computeStyle(v,b,k){return window.getComputedStyle(v)[b]}animate(v,b,k,J,ce,Ne=[]){const ut={duration:k,delay:J,fill:0==J?"both":"forwards"};ce&&(ut.easing=ce);const Ze=new Map,En=Ne.filter(sr=>sr instanceof vi);(function Ue(te,v){return 0===te||0===v})(k,J)&&En.forEach(sr=>{sr.currentSnapshot.forEach((Gn,Jn)=>Ze.set(Jn,Gn))});let In=function fi(te){return te.length?te[0]instanceof Map?te:te.map(v=>Xr(v)):[]}(b).map(sr=>mt(sr));In=function be(te,v,b){if(b.size&&v.length){let k=v[0],J=[];if(b.forEach((ce,Ne)=>{k.has(Ne)||J.push(Ne),k.set(Ne,ce)}),J.length)for(let ce=1;ce<v.length;ce++){let Ne=v[ce];J.forEach(Pe=>Ne.set(Pe,bt(te,Pe)))}}return v}(v,In,Ze);const Ar=function ir(te,v){let b=null,k=null;return Array.isArray(v)&&v.length?(b=Us(v[0]),v.length>1&&(k=Us(v[v.length-1]))):v instanceof Map&&(b=Us(v)),b||k?new aa(te,b,k):null}(v,In);return new vi(v,In,ut,Ar)}}var is=K(177);let Hs=(()=>{class te extends Qe.S6{constructor(b,k){super(),this._nextAnimationId=0,this._renderer=b.createRenderer(k.body,{id:"0",encapsulation:X.gXe.None,styles:[],data:{animation:[]}})}build(b){const k=this._nextAnimationId.toString();this._nextAnimationId++;const J=Array.isArray(b)?(0,Qe.K2)(b):b;return di(this._renderer,null,k,"register",[J]),new xi(k,this._renderer)}static{this.\u0275fac=function(k){return new(k||te)(X.KVO(X._9s),X.KVO(is.qQ))}}static{this.\u0275prov=X.jDH({token:te,factory:te.\u0275fac})}}return te})();class xi extends Qe.Ro{constructor(v,b){super(),this._id=v,this._renderer=b}create(v,b){return new ko(this._id,v,b||{},this._renderer)}}class ko{constructor(v,b,k,J){this.id=v,this.element=b,this._renderer=J,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",k)}_listen(v,b){return this._renderer.listen(this.element,`@@${this.id}:${v}`,b)}_command(v,...b){return di(this._renderer,this.element,this.id,v,b)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function di(te,v,b,k,J){return te.setProperty(v,`@@${b}:${k}`,J)}const z="@",q="@.disabled";let fe=(()=>{class te{constructor(b,k,J){this.delegate=b,this.engine=k,this._zone=J,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,k.onRemovalComplete=(ce,Ne)=>{const Pe=Ne?.parentNode(ce);Pe&&Ne.removeChild(Pe,ce)}}createRenderer(b,k){const ce=this.delegate.createRenderer(b,k);if(!(b&&k&&k.data&&k.data.animation)){let En=this._rendererCache.get(ce);return En||(En=new Ce("",ce,this.engine,()=>this._rendererCache.delete(ce)),this._rendererCache.set(ce,En)),En}const Ne=k.id,Pe=k.id+"-"+this._currentId;this._currentId++,this.engine.register(Pe,b);const ut=En=>{Array.isArray(En)?En.forEach(ut):this.engine.registerTrigger(Ne,Pe,b,En.name,En)};return k.data.animation.forEach(ut),new Ke(this,Pe,ce,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(b,k,J){b>=0&&b<this._microtaskId?this._zone.run(()=>k(J)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ce=>{const[Ne,Pe]=ce;Ne(Pe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([k,J]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(k){return new(k||te)(X.KVO(X._9s),X.KVO(Ns),X.KVO(X.SKi))}}static{this.\u0275prov=X.jDH({token:te,factory:te.\u0275fac})}}return te})();class Ce{constructor(v,b,k,J){this.namespaceId=v,this.delegate=b,this.engine=k,this._onDestroy=J}get data(){return this.delegate.data}destroyNode(v){this.delegate.destroyNode?.(v)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(v,b){return this.delegate.createElement(v,b)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,b){this.delegate.appendChild(v,b),this.engine.onInsert(this.namespaceId,b,v,!1)}insertBefore(v,b,k,J=!0){this.delegate.insertBefore(v,b,k),this.engine.onInsert(this.namespaceId,b,v,J)}removeChild(v,b,k){this.engine.onRemove(this.namespaceId,b,this.delegate)}selectRootElement(v,b){return this.delegate.selectRootElement(v,b)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,b,k,J){this.delegate.setAttribute(v,b,k,J)}removeAttribute(v,b,k){this.delegate.removeAttribute(v,b,k)}addClass(v,b){this.delegate.addClass(v,b)}removeClass(v,b){this.delegate.removeClass(v,b)}setStyle(v,b,k,J){this.delegate.setStyle(v,b,k,J)}removeStyle(v,b,k){this.delegate.removeStyle(v,b,k)}setProperty(v,b,k){b.charAt(0)==z&&b==q?this.disableAnimations(v,!!k):this.delegate.setProperty(v,b,k)}setValue(v,b){this.delegate.setValue(v,b)}listen(v,b,k){return this.delegate.listen(v,b,k)}disableAnimations(v,b){this.engine.disableAnimations(v,b)}}class Ke extends Ce{constructor(v,b,k,J,ce){super(b,k,J,ce),this.factory=v,this.namespaceId=b}setProperty(v,b,k){b.charAt(0)==z?"."==b.charAt(1)&&b==q?this.disableAnimations(v,k=void 0===k||!!k):this.engine.process(this.namespaceId,v,b.slice(1),k):this.delegate.setProperty(v,b,k)}listen(v,b,k){if(b.charAt(0)==z){const J=function Et(te){switch(te){case"body":return document.body;case"document":return document;case"window":return window;default:return te}}(v);let ce=b.slice(1),Ne="";return ce.charAt(0)!=z&&([ce,Ne]=function V(te){const v=te.indexOf(".");return[te.substring(0,v),te.slice(v+1)]}(ce)),this.engine.listen(this.namespaceId,J,ce,Ne,Pe=>{this.factory.scheduleListenerCallback(Pe._data||-1,k,Pe)})}return this.delegate.listen(v,b,k)}}const Ie=[{provide:Qe.S6,useClass:Hs},{provide:js,useFactory:function M(){return new Es}},{provide:Ns,useClass:(()=>{class te extends Ns{constructor(b,k,J,ce){super(b.body,k,J)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(k){return new(k||te)(X.KVO(is.qQ),X.KVO(Fr),X.KVO(js),X.KVO(X.o8S))}}static{this.\u0275prov=X.jDH({token:te,factory:te.\u0275fac})}}return te})()},{provide:X._9s,useFactory:function Z(te,v,b){return new fe(te,v,b)},deps:[c.B7,Ns,X.SKi]}],kt=[{provide:Fr,useFactory:()=>new No},{provide:X.bc$,useValue:"BrowserAnimations"},...Ie],Sn=[{provide:Fr,useClass:hr},{provide:X.bc$,useValue:"NoopAnimations"},...Ie];let Mr=(()=>{class te{static withConfig(b){return{ngModule:te,providers:b.disableAnimations?Sn:kt}}static{this.\u0275fac=function(k){return new(k||te)}}static{this.\u0275mod=X.$C({type:te})}static{this.\u0275inj=X.G2t({providers:kt,imports:[c.Bb]})}}return te})();var Gi=K(7440),gi=K(9967),Ur=K(4341),Mi=K(5794),Eo=K(4056),Ys=K(1626),gs=K(787);let lo=(()=>{class te{static{this.\u0275fac=function(k){return new(k||te)}}static{this.\u0275mod=X.$C({type:te,bootstrap:[Be]})}static{this.\u0275inj=X.G2t({imports:[c.Bb,Ee.u,(0,Gi.MW)(()=>(0,Gi.Wp)({apiKey:"AIzaSyCvI7L1C8UR8qgu9THArFj23OlflcTAKqM",authDomain:"blog-app-a3a4f.firebaseapp.com",projectId:"blog-app-a3a4f",storageBucket:"blog-app-a3a4f.appspot.com",messagingSenderId:"613877446325",appId:"1:613877446325:web:215334c7308c637d31f0fc"})),(0,rt.Xm)(()=>(0,rt.c7)()),(0,D._q)(()=>(0,D.xI)()),gi.Qi,Ur.YN,Mr,Mi._B.forRoot(),Eo.Qt,Ys.q1,Ur.X1,gs.u]})}}return te})();c.sG().bootstrapModule(lo).catch(te=>console.error(te))},4412:(Cn,_t,K)=>{K.d(_t,{t:()=>D});var c=K(1413);class D extends c.B{constructor(Ee){super(),this._value=Ee}get value(){return this.getValue()}_subscribe(Ee){const X=super._subscribe(Ee);return!X.closed&&Ee.next(this._value),X}getValue(){const{hasError:Ee,thrownError:X,_value:Le}=this;if(Ee)throw X;return this._throwIfClosed(),Le}next(Ee){super.next(this._value=Ee)}}},1985:(Cn,_t,K)=>{K.d(_t,{c:()=>Qe});var c=K(7707),D=K(8359),rt=K(3494),Ee=K(1203),X=K(1026),Le=K(8071),Be=K(9786);let Qe=(()=>{class Je{constructor(wt){wt&&(this._subscribe=wt)}lift(wt){const Dt=new Je;return Dt.source=this,Dt.operator=wt,Dt}subscribe(wt,Dt,rn){const Xt=function me(Je){return Je&&Je instanceof c.vU||function pe(Je){return Je&&(0,Le.T)(Je.next)&&(0,Le.T)(Je.error)&&(0,Le.T)(Je.complete)}(Je)&&(0,D.Uv)(Je)}(wt)?wt:new c.Ms(wt,Dt,rn);return(0,Be.Y)(()=>{const{operator:bn,source:Zn}=this;Xt.add(bn?bn.call(Xt,Zn):Zn?this._subscribe(Xt):this._trySubscribe(Xt))}),Xt}_trySubscribe(wt){try{return this._subscribe(wt)}catch(Dt){wt.error(Dt)}}forEach(wt,Dt){return new(Dt=st(Dt))((rn,Xt)=>{const bn=new c.Ms({next:Zn=>{try{wt(Zn)}catch(hn){Xt(hn),bn.unsubscribe()}},error:Xt,complete:rn});this.subscribe(bn)})}_subscribe(wt){var Dt;return null===(Dt=this.source)||void 0===Dt?void 0:Dt.subscribe(wt)}[rt.s](){return this}pipe(...wt){return(0,Ee.m)(wt)(this)}toPromise(wt){return new(wt=st(wt))((Dt,rn)=>{let Xt;this.subscribe(bn=>Xt=bn,bn=>rn(bn),()=>Dt(Xt))})}}return Je.create=At=>new Je(At),Je})();function st(Je){var At;return null!==(At=Je??X.$.Promise)&&void 0!==At?At:Promise}},1413:(Cn,_t,K)=>{K.d(_t,{B:()=>Be});var c=K(1985),D=K(8359);const Ee=(0,K(1853).L)(st=>function(){st(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=K(7908),Le=K(9786);let Be=(()=>{class st extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const Je=new Qe(this,this);return Je.operator=me,Je}_throwIfClosed(){if(this.closed)throw new Ee}next(me){(0,Le.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Je of this.currentObservers)Je.next(me)}})}error(me){(0,Le.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:Je}=this;for(;Je.length;)Je.shift().error(me)}})}complete(){(0,Le.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:Je,isStopped:At,observers:wt}=this;return Je||At?D.Kn:(this.currentObservers=null,wt.push(me),new D.yU(()=>{this.currentObservers=null,(0,X.o)(wt,me)}))}_checkFinalizedStatuses(me){const{hasError:Je,thrownError:At,isStopped:wt}=this;Je?me.error(At):wt&&me.complete()}asObservable(){const me=new c.c;return me.source=this,me}}return st.create=(pe,me)=>new Qe(pe,me),st})();class Qe extends Be{constructor(pe,me){super(),this.destination=pe,this.source=me}next(pe){var me,Je;null===(Je=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===Je||Je.call(me,pe)}error(pe){var me,Je;null===(Je=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===Je||Je.call(me,pe)}complete(){var pe,me;null===(me=null===(pe=this.destination)||void 0===pe?void 0:pe.complete)||void 0===me||me.call(pe)}_subscribe(pe){var me,Je;return null!==(Je=null===(me=this.source)||void 0===me?void 0:me.subscribe(pe))&&void 0!==Je?Je:D.Kn}}},7707:(Cn,_t,K)=>{K.d(_t,{Ms:()=>rn,vU:()=>Je});var c=K(8071),D=K(8359),rt=K(1026),Ee=K(5334),X=K(5343);const Le=st("C",void 0,void 0);function st(xe,dt,gt){return{kind:xe,value:dt,error:gt}}var pe=K(9270),me=K(9786);class Je extends D.yU{constructor(dt){super(),this.isStopped=!1,dt?(this.destination=dt,(0,D.Uv)(dt)&&dt.add(this)):this.destination=hn}static create(dt,gt,St){return new rn(dt,gt,St)}next(dt){this.isStopped?Zn(function Qe(xe){return st("N",xe,void 0)}(dt),this):this._next(dt)}error(dt){this.isStopped?Zn(function Be(xe){return st("E",void 0,xe)}(dt),this):(this.isStopped=!0,this._error(dt))}complete(){this.isStopped?Zn(Le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(dt){this.destination.next(dt)}_error(dt){try{this.destination.error(dt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const At=Function.prototype.bind;function wt(xe,dt){return At.call(xe,dt)}class Dt{constructor(dt){this.partialObserver=dt}next(dt){const{partialObserver:gt}=this;if(gt.next)try{gt.next(dt)}catch(St){Xt(St)}}error(dt){const{partialObserver:gt}=this;if(gt.error)try{gt.error(dt)}catch(St){Xt(St)}else Xt(dt)}complete(){const{partialObserver:dt}=this;if(dt.complete)try{dt.complete()}catch(gt){Xt(gt)}}}class rn extends Je{constructor(dt,gt,St){let Ht;if(super(),(0,c.T)(dt)||!dt)Ht={next:dt??void 0,error:gt??void 0,complete:St??void 0};else{let Bt;this&&rt.$.useDeprecatedNextContext?(Bt=Object.create(dt),Bt.unsubscribe=()=>this.unsubscribe(),Ht={next:dt.next&&wt(dt.next,Bt),error:dt.error&&wt(dt.error,Bt),complete:dt.complete&&wt(dt.complete,Bt)}):Ht=dt}this.destination=new Dt(Ht)}}function Xt(xe){rt.$.useDeprecatedSynchronousErrorHandling?(0,me.l)(xe):(0,Ee.m)(xe)}function Zn(xe,dt){const{onStoppedNotification:gt}=rt.$;gt&&pe.f.setTimeout(()=>gt(xe,dt))}const hn={closed:!0,next:X.l,error:function bn(xe){throw xe},complete:X.l}},8359:(Cn,_t,K)=>{K.d(_t,{Kn:()=>Le,yU:()=>X,Uv:()=>Be});var c=K(8071);const rt=(0,K(1853).L)(st=>function(me){st(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((Je,At)=>`${At+1}) ${Je.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var Ee=K(7908);class X{constructor(pe){this.initialTeardown=pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let pe;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const wt of me)wt.remove(this);else me.remove(this);const{initialTeardown:Je}=this;if((0,c.T)(Je))try{Je()}catch(wt){pe=wt instanceof rt?wt.errors:[wt]}const{_finalizers:At}=this;if(At){this._finalizers=null;for(const wt of At)try{Qe(wt)}catch(Dt){pe=pe??[],Dt instanceof rt?pe=[...pe,...Dt.errors]:pe.push(Dt)}}if(pe)throw new rt(pe)}}add(pe){var me;if(pe&&pe!==this)if(this.closed)Qe(pe);else{if(pe instanceof X){if(pe.closed||pe._hasParent(this))return;pe._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(pe)}}_hasParent(pe){const{_parentage:me}=this;return me===pe||Array.isArray(me)&&me.includes(pe)}_addParent(pe){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(pe),me):me?[me,pe]:pe}_removeParent(pe){const{_parentage:me}=this;me===pe?this._parentage=null:Array.isArray(me)&&(0,Ee.o)(me,pe)}remove(pe){const{_finalizers:me}=this;me&&(0,Ee.o)(me,pe),pe instanceof X&&pe._removeParent(this)}}X.EMPTY=(()=>{const st=new X;return st.closed=!0,st})();const Le=X.EMPTY;function Be(st){return st instanceof X||st&&"closed"in st&&(0,c.T)(st.remove)&&(0,c.T)(st.add)&&(0,c.T)(st.unsubscribe)}function Qe(st){(0,c.T)(st)?st():st.unsubscribe()}},1026:(Cn,_t,K)=>{K.d(_t,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(Cn,_t,K)=>{K.d(_t,{w:()=>D});const D=new(K(1985).c)(X=>X.complete())},8455:(Cn,_t,K)=>{K.d(_t,{H:()=>dt});var c=K(8750),D=K(941),rt=K(6745),Le=K(1985),Qe=K(4761),st=K(8071),pe=K(5225);function Je(gt,St){if(!gt)throw new Error("Iterable cannot be null");return new Le.c(Ht=>{(0,pe.N)(Ht,St,()=>{const Bt=gt[Symbol.asyncIterator]();(0,pe.N)(Ht,St,()=>{Bt.next().then(ke=>{ke.done?Ht.complete():Ht.next(ke.value)})},0,!0)})})}var At=K(5055),wt=K(9858),Dt=K(7441),rn=K(5397),Xt=K(7953),bn=K(591),Zn=K(5196);function dt(gt,St){return St?function xe(gt,St){if(null!=gt){if((0,At.l)(gt))return function Ee(gt,St){return(0,c.Tg)(gt).pipe((0,rt._)(St),(0,D.Q)(St))}(gt,St);if((0,Dt.X)(gt))return function Be(gt,St){return new Le.c(Ht=>{let Bt=0;return St.schedule(function(){Bt===gt.length?Ht.complete():(Ht.next(gt[Bt++]),Ht.closed||this.schedule())})})}(gt,St);if((0,wt.y)(gt))return function X(gt,St){return(0,c.Tg)(gt).pipe((0,rt._)(St),(0,D.Q)(St))}(gt,St);if((0,Xt.T)(gt))return Je(gt,St);if((0,rn.x)(gt))return function me(gt,St){return new Le.c(Ht=>{let Bt;return(0,pe.N)(Ht,St,()=>{Bt=gt[Qe.l](),(0,pe.N)(Ht,St,()=>{let ke,Yt;try{({value:ke,done:Yt}=Bt.next())}catch(Ln){return void Ht.error(Ln)}Yt?Ht.complete():Ht.next(ke)},0,!0)}),()=>(0,st.T)(Bt?.return)&&Bt.return()})}(gt,St);if((0,Zn.U)(gt))return function hn(gt,St){return Je((0,Zn.C)(gt),St)}(gt,St)}throw(0,bn.L)(gt)}(gt,St):(0,c.Tg)(gt)}},8750:(Cn,_t,K)=>{K.d(_t,{Tg:()=>At});var c=K(1635),D=K(7441),rt=K(9858),Ee=K(1985),X=K(5055),Le=K(7953),Be=K(591),Qe=K(5397),st=K(5196),pe=K(8071),me=K(5334),Je=K(3494);function At(xe){if(xe instanceof Ee.c)return xe;if(null!=xe){if((0,X.l)(xe))return function wt(xe){return new Ee.c(dt=>{const gt=xe[Je.s]();if((0,pe.T)(gt.subscribe))return gt.subscribe(dt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,D.X)(xe))return function Dt(xe){return new Ee.c(dt=>{for(let gt=0;gt<xe.length&&!dt.closed;gt++)dt.next(xe[gt]);dt.complete()})}(xe);if((0,rt.y)(xe))return function rn(xe){return new Ee.c(dt=>{xe.then(gt=>{dt.closed||(dt.next(gt),dt.complete())},gt=>dt.error(gt)).then(null,me.m)})}(xe);if((0,Le.T)(xe))return bn(xe);if((0,Qe.x)(xe))return function Xt(xe){return new Ee.c(dt=>{for(const gt of xe)if(dt.next(gt),dt.closed)return;dt.complete()})}(xe);if((0,st.U)(xe))return function Zn(xe){return bn((0,st.C)(xe))}(xe)}throw(0,Be.L)(xe)}function bn(xe){return new Ee.c(dt=>{(function hn(xe,dt){var gt,St,Ht,Bt;return(0,c.sH)(this,void 0,void 0,function*(){try{for(gt=(0,c.xN)(xe);!(St=yield gt.next()).done;)if(dt.next(St.value),dt.closed)return}catch(ke){Ht={error:ke}}finally{try{St&&!St.done&&(Bt=gt.return)&&(yield Bt.call(gt))}finally{if(Ht)throw Ht.error}}dt.complete()})})(xe,dt).catch(gt=>dt.error(gt))})}},7673:(Cn,_t,K)=>{K.d(_t,{of:()=>rt});var c=K(3794),D=K(8455);function rt(...Ee){const X=(0,c.lI)(Ee);return(0,D.H)(Ee,X)}},8810:(Cn,_t,K)=>{K.d(_t,{$:()=>rt});var c=K(1985),D=K(8071);function rt(Ee,X){const Le=(0,D.T)(Ee)?Ee:()=>Ee,Be=Qe=>Qe.error(Le());return new c.c(X?Qe=>X.schedule(Be,0,Qe):Be)}},4360:(Cn,_t,K)=>{K.d(_t,{_:()=>D});var c=K(7707);function D(Ee,X,Le,Be,Qe){return new rt(Ee,X,Le,Be,Qe)}class rt extends c.vU{constructor(X,Le,Be,Qe,st,pe){super(X),this.onFinalize=st,this.shouldUnsubscribe=pe,this._next=Le?function(me){try{Le(me)}catch(Je){X.error(Je)}}:super._next,this._error=Qe?function(me){try{Qe(me)}catch(Je){X.error(Je)}finally{this.unsubscribe()}}:super._error,this._complete=Be?function(){try{Be()}catch(me){X.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Le}=this;super.unsubscribe(),!Le&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},9437:(Cn,_t,K)=>{K.d(_t,{W:()=>Ee});var c=K(8750),D=K(4360),rt=K(9974);function Ee(X){return(0,rt.N)((Le,Be)=>{let pe,Qe=null,st=!1;Qe=Le.subscribe((0,D._)(Be,void 0,void 0,me=>{pe=(0,c.Tg)(X(me,Ee(X)(Le))),Qe?(Qe.unsubscribe(),Qe=null,pe.subscribe(Be)):st=!0})),st&&(Qe.unsubscribe(),Qe=null,pe.subscribe(Be))})}},274:(Cn,_t,K)=>{K.d(_t,{H:()=>rt});var c=K(1397),D=K(8071);function rt(Ee,X){return(0,D.T)(X)?(0,c.Z)(Ee,X,1):(0,c.Z)(Ee,1)}},5964:(Cn,_t,K)=>{K.d(_t,{p:()=>rt});var c=K(9974),D=K(4360);function rt(Ee,X){return(0,c.N)((Le,Be)=>{let Qe=0;Le.subscribe((0,D._)(Be,st=>Ee.call(X,st,Qe++)&&Be.next(st)))})}},980:(Cn,_t,K)=>{K.d(_t,{j:()=>D});var c=K(9974);function D(rt){return(0,c.N)((Ee,X)=>{try{Ee.subscribe(X)}finally{X.add(rt)}})}},6354:(Cn,_t,K)=>{K.d(_t,{T:()=>rt});var c=K(9974),D=K(4360);function rt(Ee,X){return(0,c.N)((Le,Be)=>{let Qe=0;Le.subscribe((0,D._)(Be,st=>{Be.next(Ee.call(X,st,Qe++))}))})}},6365:(Cn,_t,K)=>{K.d(_t,{U:()=>rt});var c=K(1397),D=K(3669);function rt(Ee=1/0){return(0,c.Z)(D.D,Ee)}},1397:(Cn,_t,K)=>{K.d(_t,{Z:()=>Qe});var c=K(6354),D=K(8750),rt=K(9974),Ee=K(5225),X=K(4360),Be=K(8071);function Qe(st,pe,me=1/0){return(0,Be.T)(pe)?Qe((Je,At)=>(0,c.T)((wt,Dt)=>pe(Je,wt,At,Dt))((0,D.Tg)(st(Je,At))),me):("number"==typeof pe&&(me=pe),(0,rt.N)((Je,At)=>function Le(st,pe,me,Je,At,wt,Dt,rn){const Xt=[];let bn=0,Zn=0,hn=!1;const xe=()=>{hn&&!Xt.length&&!bn&&pe.complete()},dt=St=>bn<Je?gt(St):Xt.push(St),gt=St=>{wt&&pe.next(St),bn++;let Ht=!1;(0,D.Tg)(me(St,Zn++)).subscribe((0,X._)(pe,Bt=>{At?.(Bt),wt?dt(Bt):pe.next(Bt)},()=>{Ht=!0},void 0,()=>{if(Ht)try{for(bn--;Xt.length&&bn<Je;){const Bt=Xt.shift();Dt?(0,Ee.N)(pe,Dt,()=>gt(Bt)):gt(Bt)}xe()}catch(Bt){pe.error(Bt)}}))};return st.subscribe((0,X._)(pe,dt,()=>{hn=!0,xe()})),()=>{rn?.()}}(Je,At,st,me)))}},941:(Cn,_t,K)=>{K.d(_t,{Q:()=>Ee});var c=K(5225),D=K(9974),rt=K(4360);function Ee(X,Le=0){return(0,D.N)((Be,Qe)=>{Be.subscribe((0,rt._)(Qe,st=>(0,c.N)(Qe,X,()=>Qe.next(st),Le),()=>(0,c.N)(Qe,X,()=>Qe.complete(),Le),st=>(0,c.N)(Qe,X,()=>Qe.error(st),Le)))})}},6745:(Cn,_t,K)=>{K.d(_t,{_:()=>D});var c=K(9974);function D(rt,Ee=0){return(0,c.N)((X,Le)=>{Le.add(rt.schedule(()=>X.subscribe(Le),Ee))})}},5558:(Cn,_t,K)=>{K.d(_t,{n:()=>Ee});var c=K(8750),D=K(9974),rt=K(4360);function Ee(X,Le){return(0,D.N)((Be,Qe)=>{let st=null,pe=0,me=!1;const Je=()=>me&&!st&&Qe.complete();Be.subscribe((0,rt._)(Qe,At=>{st?.unsubscribe();let wt=0;const Dt=pe++;(0,c.Tg)(X(At,Dt)).subscribe(st=(0,rt._)(Qe,rn=>Qe.next(Le?Le(At,rn,Dt,wt++):rn),()=>{st=null,Je()}))},()=>{me=!0,Je()}))})}},8141:(Cn,_t,K)=>{K.d(_t,{M:()=>X});var c=K(8071),D=K(9974),rt=K(4360),Ee=K(3669);function X(Le,Be,Qe){const st=(0,c.T)(Le)||Be||Qe?{next:Le,error:Be,complete:Qe}:Le;return st?(0,D.N)((pe,me)=>{var Je;null===(Je=st.subscribe)||void 0===Je||Je.call(st);let At=!0;pe.subscribe((0,rt._)(me,wt=>{var Dt;null===(Dt=st.next)||void 0===Dt||Dt.call(st,wt),me.next(wt)},()=>{var wt;At=!1,null===(wt=st.complete)||void 0===wt||wt.call(st),me.complete()},wt=>{var Dt;At=!1,null===(Dt=st.error)||void 0===Dt||Dt.call(st,wt),me.error(wt)},()=>{var wt,Dt;At&&(null===(wt=st.unsubscribe)||void 0===wt||wt.call(st)),null===(Dt=st.finalize)||void 0===Dt||Dt.call(st)}))}):Ee.D}},9270:(Cn,_t,K)=>{K.d(_t,{f:()=>c});const c={setTimeout(D,rt,...Ee){const{delegate:X}=c;return X?.setTimeout?X.setTimeout(D,rt,...Ee):setTimeout(D,rt,...Ee)},clearTimeout(D){const{delegate:rt}=c;return(rt?.clearTimeout||clearTimeout)(D)},delegate:void 0}},4761:(Cn,_t,K)=>{K.d(_t,{l:()=>D});const D=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Cn,_t,K)=>{K.d(_t,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(Cn,_t,K)=>{K.d(_t,{R0:()=>Le,ms:()=>Ee,lI:()=>X});var c=K(8071);function rt(Be){return Be[Be.length-1]}function Ee(Be){return(0,c.T)(rt(Be))?Be.pop():void 0}function X(Be){return function D(Be){return Be&&(0,c.T)(Be.schedule)}(rt(Be))?Be.pop():void 0}function Le(Be,Qe){return"number"==typeof rt(Be)?Be.pop():Qe}},3073:(Cn,_t,K)=>{K.d(_t,{D:()=>X});const{isArray:c}=Array,{getPrototypeOf:D,prototype:rt,keys:Ee}=Object;function X(Be){if(1===Be.length){const Qe=Be[0];if(c(Qe))return{args:Qe,keys:null};if(function Le(Be){return Be&&"object"==typeof Be&&D(Be)===rt}(Qe)){const st=Ee(Qe);return{args:st.map(pe=>Qe[pe]),keys:st}}}return{args:Be,keys:null}}},7908:(Cn,_t,K)=>{function c(D,rt){if(D){const Ee=D.indexOf(rt);0<=Ee&&D.splice(Ee,1)}}K.d(_t,{o:()=>c})},1853:(Cn,_t,K)=>{function c(D){const Ee=D(X=>{Error.call(X),X.stack=(new Error).stack});return Ee.prototype=Object.create(Error.prototype),Ee.prototype.constructor=Ee,Ee}K.d(_t,{L:()=>c})},8496:(Cn,_t,K)=>{function c(D,rt){return D.reduce((Ee,X,Le)=>(Ee[X]=rt[Le],Ee),{})}K.d(_t,{e:()=>c})},9786:(Cn,_t,K)=>{K.d(_t,{Y:()=>rt,l:()=>Ee});var c=K(1026);let D=null;function rt(X){if(c.$.useDeprecatedSynchronousErrorHandling){const Le=!D;if(Le&&(D={errorThrown:!1,error:null}),X(),Le){const{errorThrown:Be,error:Qe}=D;if(D=null,Be)throw Qe}}else X()}function Ee(X){c.$.useDeprecatedSynchronousErrorHandling&&D&&(D.errorThrown=!0,D.error=X)}},5225:(Cn,_t,K)=>{function c(D,rt,Ee,X=0,Le=!1){const Be=rt.schedule(function(){Ee(),Le?D.add(this.schedule(null,X)):this.unsubscribe()},X);if(D.add(Be),!Le)return Be}K.d(_t,{N:()=>c})},3669:(Cn,_t,K)=>{function c(D){return D}K.d(_t,{D:()=>c})},7441:(Cn,_t,K)=>{K.d(_t,{X:()=>c});const c=D=>D&&"number"==typeof D.length&&"function"!=typeof D},7953:(Cn,_t,K)=>{K.d(_t,{T:()=>D});var c=K(8071);function D(rt){return Symbol.asyncIterator&&(0,c.T)(rt?.[Symbol.asyncIterator])}},8071:(Cn,_t,K)=>{function c(D){return"function"==typeof D}K.d(_t,{T:()=>c})},5055:(Cn,_t,K)=>{K.d(_t,{l:()=>rt});var c=K(3494),D=K(8071);function rt(Ee){return(0,D.T)(Ee[c.s])}},5397:(Cn,_t,K)=>{K.d(_t,{x:()=>rt});var c=K(4761),D=K(8071);function rt(Ee){return(0,D.T)(Ee?.[c.l])}},9858:(Cn,_t,K)=>{K.d(_t,{y:()=>D});var c=K(8071);function D(rt){return(0,c.T)(rt?.then)}},5196:(Cn,_t,K)=>{K.d(_t,{C:()=>rt,U:()=>Ee});var c=K(1635),D=K(8071);function rt(X){return(0,c.AQ)(this,arguments,function*(){const Be=X.getReader();try{for(;;){const{value:Qe,done:st}=yield(0,c.N3)(Be.read());if(st)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(Qe)}}finally{Be.releaseLock()}})}function Ee(X){return(0,D.T)(X?.getReader)}},9974:(Cn,_t,K)=>{K.d(_t,{N:()=>rt,S:()=>D});var c=K(8071);function D(Ee){return(0,c.T)(Ee?.lift)}function rt(Ee){return X=>{if(D(X))return X.lift(function(Le){try{return Ee(Le,this)}catch(Be){this.error(Be)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Cn,_t,K)=>{K.d(_t,{I:()=>Ee});var c=K(6354);const{isArray:D}=Array;function Ee(X){return(0,c.T)(Le=>function rt(X,Le){return D(Le)?X(...Le):X(Le)}(X,Le))}},5343:(Cn,_t,K)=>{function c(){}K.d(_t,{l:()=>c})},1203:(Cn,_t,K)=>{K.d(_t,{F:()=>D,m:()=>rt});var c=K(3669);function D(...Ee){return rt(Ee)}function rt(Ee){return 0===Ee.length?c.D:1===Ee.length?Ee[0]:function(Le){return Ee.reduce((Be,Qe)=>Qe(Be),Le)}}},5334:(Cn,_t,K)=>{K.d(_t,{m:()=>rt});var c=K(1026),D=K(9270);function rt(Ee){D.f.setTimeout(()=>{const{onUnhandledError:X}=c.$;if(!X)throw Ee;X(Ee)})}},591:(Cn,_t,K)=>{function c(D){return new TypeError(`You provided ${null!==D&&"object"==typeof D?"an invalid object":`'${D}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(_t,{L:()=>c})},9969:(Cn,_t,K)=>{K.d(_t,{FX:()=>Zn,K2:()=>Be,Ro:()=>D,S6:()=>c,hZ:()=>Ee,i0:()=>X,iF:()=>Qe,kY:()=>me,kp:()=>rt,sf:()=>Xt,ui:()=>bn,wk:()=>st});class c{}class D{}const rt="*";function Ee(hn,xe){return{type:7,name:hn,definitions:xe,options:{}}}function X(hn,xe=null){return{type:4,styles:xe,timings:hn}}function Be(hn,xe=null){return{type:2,steps:hn,options:xe}}function Qe(hn){return{type:6,styles:hn,offset:null}}function st(hn,xe,dt){return{type:0,name:hn,styles:xe,options:dt}}function me(hn,xe,dt=null){return{type:1,expr:hn,animation:xe,options:dt}}class Xt{constructor(xe=0,dt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=xe+dt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(xe=>xe()),this._onDoneFns=[])}onStart(xe){this._originalOnStartFns.push(xe),this._onStartFns.push(xe)}onDone(xe){this._originalOnDoneFns.push(xe),this._onDoneFns.push(xe)}onDestroy(xe){this._onDestroyFns.push(xe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(xe=>xe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(xe=>xe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(xe){this._position=this.totalTime?xe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(xe){const dt="start"==xe?this._onStartFns:this._onDoneFns;dt.forEach(gt=>gt()),dt.length=0}}class bn{constructor(xe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=xe;let dt=0,gt=0,St=0;const Ht=this.players.length;0==Ht?queueMicrotask(()=>this._onFinish()):this.players.forEach(Bt=>{Bt.onDone(()=>{++dt==Ht&&this._onFinish()}),Bt.onDestroy(()=>{++gt==Ht&&this._onDestroy()}),Bt.onStart(()=>{++St==Ht&&this._onStart()})}),this.totalTime=this.players.reduce((Bt,ke)=>Math.max(Bt,ke.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(xe=>xe()),this._onDoneFns=[])}init(){this.players.forEach(xe=>xe.init())}onStart(xe){this._onStartFns.push(xe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(xe=>xe()),this._onStartFns=[])}onDone(xe){this._onDoneFns.push(xe)}onDestroy(xe){this._onDestroyFns.push(xe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(xe=>xe.play())}pause(){this.players.forEach(xe=>xe.pause())}restart(){this.players.forEach(xe=>xe.restart())}finish(){this._onFinish(),this.players.forEach(xe=>xe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(xe=>xe.destroy()),this._onDestroyFns.forEach(xe=>xe()),this._onDestroyFns=[])}reset(){this.players.forEach(xe=>xe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(xe){const dt=xe*this.totalTime;this.players.forEach(gt=>{const St=gt.totalTime?Math.min(1,dt/gt.totalTime):1;gt.setPosition(St)})}getPosition(){const xe=this.players.reduce((dt,gt)=>null===dt||gt.totalTime>dt.totalTime?gt:dt,null);return null!=xe?xe.getPosition():0}beforeDestroy(){this.players.forEach(xe=>{xe.beforeDestroy&&xe.beforeDestroy()})}triggerCallback(xe){const dt="start"==xe?this._onStartFns:this._onDoneFns;dt.forEach(gt=>gt()),dt.length=0}}const Zn="!"},177:(Cn,_t,K)=>{K.d(_t,{AJ:()=>bs,Jj:()=>es,MD:()=>ns,N0:()=>rs,QT:()=>rt,Sm:()=>Dt,Sq:()=>vr,T3:()=>Zi,VF:()=>X,Vy:()=>nr,Xr:()=>lr,YU:()=>_n,ZD:()=>Ee,_b:()=>Zt,aZ:()=>Xt,bT:()=>Sr,fw:()=>rn,hb:()=>At,hj:()=>Qe,qQ:()=>Le,vh:()=>Ki});var c=K(540);let D=null;function rt(){return D}function Ee(A){D||(D=A)}class X{}const Le=new c.nKC("DocumentToken");let Be=(()=>{class A{historyGo(F){throw new Error("Not implemented")}static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275prov=c.jDH({token:A,factory:function(){return(0,c.WQX)(st)},providedIn:"platform"})}}return A})();const Qe=new c.nKC("Location Initialized");let st=(()=>{class A extends Be{constructor(){super(),this._doc=(0,c.WQX)(Le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rt().getBaseHref(this._doc)}onPopState(F){const G=rt().getGlobalEventTarget(this._doc,"window");return G.addEventListener("popstate",F,!1),()=>G.removeEventListener("popstate",F)}onHashChange(F){const G=rt().getGlobalEventTarget(this._doc,"window");return G.addEventListener("hashchange",F,!1),()=>G.removeEventListener("hashchange",F)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(F){this._location.pathname=F}pushState(F,G,Te){this._history.pushState(F,G,Te)}replaceState(F,G,Te){this._history.replaceState(F,G,Te)}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275prov=c.jDH({token:A,factory:function(){return new A},providedIn:"platform"})}}return A})();function pe(A,ee){if(0==A.length)return ee;if(0==ee.length)return A;let F=0;return A.endsWith("/")&&F++,ee.startsWith("/")&&F++,2==F?A+ee.substring(1):1==F?A+ee:A+"/"+ee}function me(A){const ee=A.match(/#|\?|$/),F=ee&&ee.index||A.length;return A.slice(0,F-("/"===A[F-1]?1:0))+A.slice(F)}function Je(A){return A&&"?"!==A[0]?"?"+A:A}let At=(()=>{class A{historyGo(F){throw new Error("Not implemented")}static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275prov=c.jDH({token:A,factory:function(){return(0,c.WQX)(Dt)},providedIn:"root"})}}return A})();const wt=new c.nKC("appBaseHref");let Dt=(()=>{class A extends At{constructor(F,G){super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=G??this._platformLocation.getBaseHrefFromDOM()??(0,c.WQX)(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return pe(this._baseHref,F)}path(F=!1){const G=this._platformLocation.pathname+Je(this._platformLocation.search),Te=this._platformLocation.hash;return Te&&F?`${G}${Te}`:G}pushState(F,G,Te,je){const it=this.prepareExternalUrl(Te+Je(je));this._platformLocation.pushState(F,G,it)}replaceState(F,G,Te,je){const it=this.prepareExternalUrl(Te+Je(je));this._platformLocation.replaceState(F,G,it)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}static{this.\u0275fac=function(G){return new(G||A)(c.KVO(Be),c.KVO(wt,8))}}static{this.\u0275prov=c.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})(),rn=(()=>{class A extends At{constructor(F,G){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=G&&(this._baseHref=G)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let G=this._platformLocation.hash;return null==G&&(G="#"),G.length>0?G.substring(1):G}prepareExternalUrl(F){const G=pe(this._baseHref,F);return G.length>0?"#"+G:G}pushState(F,G,Te,je){let it=this.prepareExternalUrl(Te+Je(je));0==it.length&&(it=this._platformLocation.pathname),this._platformLocation.pushState(F,G,it)}replaceState(F,G,Te,je){let it=this.prepareExternalUrl(Te+Je(je));0==it.length&&(it=this._platformLocation.pathname),this._platformLocation.replaceState(F,G,it)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}static{this.\u0275fac=function(G){return new(G||A)(c.KVO(Be),c.KVO(wt,8))}}static{this.\u0275prov=c.jDH({token:A,factory:A.\u0275fac})}}return A})(),Xt=(()=>{class A{constructor(F){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const G=this._locationStrategy.getBaseHref();this._basePath=function xe(A){if(new RegExp("^(https?:)?//").test(A)){const[,F]=A.split(/\/\/[^\/]+/);return F}return A}(me(hn(G))),this._locationStrategy.onPopState(Te=>{this._subject.emit({url:this.path(!0),pop:!0,state:Te.state,type:Te.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,G=""){return this.path()==this.normalize(F+Je(G))}normalize(F){return A.stripTrailingSlash(function Zn(A,ee){if(!A||!ee.startsWith(A))return ee;const F=ee.substring(A.length);return""===F||["/",";","?","#"].includes(F[0])?F:ee}(this._basePath,hn(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,G="",Te=null){this._locationStrategy.pushState(Te,"",F,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Je(G)),Te)}replaceState(F,G="",Te=null){this._locationStrategy.replaceState(Te,"",F,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Je(G)),Te)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){this._locationStrategy.historyGo?.(F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(G=>{this._notifyUrlChangeListeners(G.url,G.state)})),()=>{const G=this._urlChangeListeners.indexOf(F);this._urlChangeListeners.splice(G,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",G){this._urlChangeListeners.forEach(Te=>Te(F,G))}subscribe(F,G,Te){return this._subject.subscribe({next:F,error:G,complete:Te})}static{this.normalizeQueryParams=Je}static{this.joinWithSlash=pe}static{this.stripTrailingSlash=me}static{this.\u0275fac=function(G){return new(G||A)(c.KVO(At))}}static{this.\u0275prov=c.jDH({token:A,factory:function(){return function bn(){return new Xt((0,c.KVO)(At))}()},providedIn:"root"})}}return A})();function hn(A){return A.replace(/\/index.html$/,"")}var Ht=function(A){return A[A.Format=0]="Format",A[A.Standalone=1]="Standalone",A}(Ht||{}),Bt=function(A){return A[A.Narrow=0]="Narrow",A[A.Abbreviated=1]="Abbreviated",A[A.Wide=2]="Wide",A[A.Short=3]="Short",A}(Bt||{}),ke=function(A){return A[A.Short=0]="Short",A[A.Medium=1]="Medium",A[A.Long=2]="Long",A[A.Full=3]="Full",A}(ke||{}),Yt=function(A){return A[A.Decimal=0]="Decimal",A[A.Group=1]="Group",A[A.List=2]="List",A[A.PercentSign=3]="PercentSign",A[A.PlusSign=4]="PlusSign",A[A.MinusSign=5]="MinusSign",A[A.Exponential=6]="Exponential",A[A.SuperscriptingExponent=7]="SuperscriptingExponent",A[A.PerMille=8]="PerMille",A[A.Infinity=9]="Infinity",A[A.NaN=10]="NaN",A[A.TimeSeparator=11]="TimeSeparator",A[A.CurrencyDecimal=12]="CurrencyDecimal",A[A.CurrencyGroup=13]="CurrencyGroup",A}(Yt||{});function xt(A,ee){return Pn((0,c.H5H)(A)[c.KH2.DateFormat],ee)}function Oe(A,ee){return Pn((0,c.H5H)(A)[c.KH2.TimeFormat],ee)}function ve(A,ee){return Pn((0,c.H5H)(A)[c.KH2.DateTimeFormat],ee)}function _e(A,ee){const F=(0,c.H5H)(A),G=F[c.KH2.NumberSymbols][ee];if(typeof G>"u"){if(ee===Yt.CurrencyDecimal)return F[c.KH2.NumberSymbols][Yt.Decimal];if(ee===Yt.CurrencyGroup)return F[c.KH2.NumberSymbols][Yt.Group]}return G}function pn(A){if(!A[c.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${A[c.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Pn(A,ee){for(let F=ee;F>-1;F--)if(typeof A[F]<"u")return A[F];throw new Error("Locale data API: locale data undefined")}function An(A){const[ee,F]=A.split(":");return{hours:+ee,minutes:+F}}const Xe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,an={},Fe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ut=function(A){return A[A.Short=0]="Short",A[A.ShortGMT=1]="ShortGMT",A[A.Long=2]="Long",A[A.Extended=3]="Extended",A}(Ut||{}),cn=function(A){return A[A.FullYear=0]="FullYear",A[A.Month=1]="Month",A[A.Date=2]="Date",A[A.Hours=3]="Hours",A[A.Minutes=4]="Minutes",A[A.Seconds=5]="Seconds",A[A.FractionalSeconds=6]="FractionalSeconds",A[A.Day=7]="Day",A}(cn||{}),mn=function(A){return A[A.DayPeriods=0]="DayPeriods",A[A.Days=1]="Days",A[A.Months=2]="Months",A[A.Eras=3]="Eras",A}(mn||{});function wr(A,ee,F,G){let Te=function mt(A){if(j(A))return A;if("number"==typeof A&&!isNaN(A))return new Date(A);if("string"==typeof A){if(A=A.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(A)){const[Te,je=1,it=1]=A.split("-").map(Ft=>+Ft);return dr(Te,je-1,it)}const F=parseFloat(A);if(!isNaN(A-F))return new Date(F);let G;if(G=A.match(Xe))return function ne(A){const ee=new Date(0);let F=0,G=0;const Te=A[8]?ee.setUTCFullYear:ee.setFullYear,je=A[8]?ee.setUTCHours:ee.setHours;A[9]&&(F=Number(A[9]+A[10]),G=Number(A[9]+A[11])),Te.call(ee,Number(A[1]),Number(A[2])-1,Number(A[3]));const it=Number(A[4]||0)-F,Ft=Number(A[5]||0)-G,Fn=Number(A[6]||0),pr=Math.floor(1e3*parseFloat("0."+(A[7]||0)));return je.call(ee,it,Ft,Fn,pr),ee}(G)}const ee=new Date(A);if(!j(ee))throw new Error(`Unable to convert "${A}" into a date`);return ee}(A);ee=Or(F,ee)||ee;let Ft,it=[];for(;ee;){if(Ft=Fe.exec(ee),!Ft){it.push(ee);break}{it=it.concat(Ft.slice(1));const mr=it.pop();if(!mr)break;ee=mr}}let Fn=Te.getTimezoneOffset();G&&(Fn=Xr(G,Fn),Te=function pi(A,ee,F){const G=F?-1:1,Te=A.getTimezoneOffset();return function fi(A,ee){return(A=new Date(A.getTime())).setMinutes(A.getMinutes()+ee),A}(A,G*(Xr(ee,Te)-Te))}(Te,G,!0));let pr="";return it.forEach(mr=>{const $n=function or(A){if(On[A])return On[A];let ee;switch(A){case"G":case"GG":case"GGG":ee=fn(mn.Eras,Bt.Abbreviated);break;case"GGGG":ee=fn(mn.Eras,Bt.Wide);break;case"GGGGG":ee=fn(mn.Eras,Bt.Narrow);break;case"y":ee=Bn(cn.FullYear,1,0,!1,!0);break;case"yy":ee=Bn(cn.FullYear,2,0,!0,!0);break;case"yyy":ee=Bn(cn.FullYear,3,0,!1,!0);break;case"yyyy":ee=Bn(cn.FullYear,4,0,!1,!0);break;case"Y":ee=Wi(1);break;case"YY":ee=Wi(2,!0);break;case"YYY":ee=Wi(3);break;case"YYYY":ee=Wi(4);break;case"M":case"L":ee=Bn(cn.Month,1,1);break;case"MM":case"LL":ee=Bn(cn.Month,2,1);break;case"MMM":ee=fn(mn.Months,Bt.Abbreviated);break;case"MMMM":ee=fn(mn.Months,Bt.Wide);break;case"MMMMM":ee=fn(mn.Months,Bt.Narrow);break;case"LLL":ee=fn(mn.Months,Bt.Abbreviated,Ht.Standalone);break;case"LLLL":ee=fn(mn.Months,Bt.Wide,Ht.Standalone);break;case"LLLLL":ee=fn(mn.Months,Bt.Narrow,Ht.Standalone);break;case"w":ee=Ri(1);break;case"ww":ee=Ri(2);break;case"W":ee=Ri(1,!0);break;case"d":ee=Bn(cn.Date,1);break;case"dd":ee=Bn(cn.Date,2);break;case"c":case"cc":ee=Bn(cn.Day,1);break;case"ccc":ee=fn(mn.Days,Bt.Abbreviated,Ht.Standalone);break;case"cccc":ee=fn(mn.Days,Bt.Wide,Ht.Standalone);break;case"ccccc":ee=fn(mn.Days,Bt.Narrow,Ht.Standalone);break;case"cccccc":ee=fn(mn.Days,Bt.Short,Ht.Standalone);break;case"E":case"EE":case"EEE":ee=fn(mn.Days,Bt.Abbreviated);break;case"EEEE":ee=fn(mn.Days,Bt.Wide);break;case"EEEEE":ee=fn(mn.Days,Bt.Narrow);break;case"EEEEEE":ee=fn(mn.Days,Bt.Short);break;case"a":case"aa":case"aaa":ee=fn(mn.DayPeriods,Bt.Abbreviated);break;case"aaaa":ee=fn(mn.DayPeriods,Bt.Wide);break;case"aaaaa":ee=fn(mn.DayPeriods,Bt.Narrow);break;case"b":case"bb":case"bbb":ee=fn(mn.DayPeriods,Bt.Abbreviated,Ht.Standalone,!0);break;case"bbbb":ee=fn(mn.DayPeriods,Bt.Wide,Ht.Standalone,!0);break;case"bbbbb":ee=fn(mn.DayPeriods,Bt.Narrow,Ht.Standalone,!0);break;case"B":case"BB":case"BBB":ee=fn(mn.DayPeriods,Bt.Abbreviated,Ht.Format,!0);break;case"BBBB":ee=fn(mn.DayPeriods,Bt.Wide,Ht.Format,!0);break;case"BBBBB":ee=fn(mn.DayPeriods,Bt.Narrow,Ht.Format,!0);break;case"h":ee=Bn(cn.Hours,1,-12);break;case"hh":ee=Bn(cn.Hours,2,-12);break;case"H":ee=Bn(cn.Hours,1);break;case"HH":ee=Bn(cn.Hours,2);break;case"m":ee=Bn(cn.Minutes,1);break;case"mm":ee=Bn(cn.Minutes,2);break;case"s":ee=Bn(cn.Seconds,1);break;case"ss":ee=Bn(cn.Seconds,2);break;case"S":ee=Bn(cn.FractionalSeconds,1);break;case"SS":ee=Bn(cn.FractionalSeconds,2);break;case"SSS":ee=Bn(cn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ee=ti(Ut.Short);break;case"ZZZZZ":ee=ti(Ut.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ee=ti(Ut.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ee=ti(Ut.Long);break;default:return null}return On[A]=ee,ee}(mr);pr+=$n?$n(Te,F,Fn):"''"===mr?"'":mr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),pr}function dr(A,ee,F){const G=new Date(0);return G.setFullYear(A,ee,F),G.setHours(0,0,0),G}function Or(A,ee){const F=function gr(A){return(0,c.H5H)(A)[c.KH2.LocaleId]}(A);if(an[F]=an[F]||{},an[F][ee])return an[F][ee];let G="";switch(ee){case"shortDate":G=xt(A,ke.Short);break;case"mediumDate":G=xt(A,ke.Medium);break;case"longDate":G=xt(A,ke.Long);break;case"fullDate":G=xt(A,ke.Full);break;case"shortTime":G=Oe(A,ke.Short);break;case"mediumTime":G=Oe(A,ke.Medium);break;case"longTime":G=Oe(A,ke.Long);break;case"fullTime":G=Oe(A,ke.Full);break;case"short":const Te=Or(A,"shortTime"),je=Or(A,"shortDate");G=hr(ve(A,ke.Short),[Te,je]);break;case"medium":const it=Or(A,"mediumTime"),Ft=Or(A,"mediumDate");G=hr(ve(A,ke.Medium),[it,Ft]);break;case"long":const Fn=Or(A,"longTime"),pr=Or(A,"longDate");G=hr(ve(A,ke.Long),[Fn,pr]);break;case"full":const mr=Or(A,"fullTime"),$n=Or(A,"fullDate");G=hr(ve(A,ke.Full),[mr,$n])}return G&&(an[F][ee]=G),G}function hr(A,ee){return ee&&(A=A.replace(/\{([^}]+)}/g,function(F,G){return null!=ee&&G in ee?ee[G]:F})),A}function Fr(A,ee,F="-",G,Te){let je="";(A<0||Te&&A<=0)&&(Te?A=1-A:(A=-A,je=F));let it=String(A);for(;it.length<ee;)it="0"+it;return G&&(it=it.slice(it.length-ee)),je+it}function Bn(A,ee,F=0,G=!1,Te=!1){return function(je,it){let Ft=function ds(A,ee){switch(A){case cn.FullYear:return ee.getFullYear();case cn.Month:return ee.getMonth();case cn.Date:return ee.getDate();case cn.Hours:return ee.getHours();case cn.Minutes:return ee.getMinutes();case cn.Seconds:return ee.getSeconds();case cn.FractionalSeconds:return ee.getMilliseconds();case cn.Day:return ee.getDay();default:throw new Error(`Unknown DateType value "${A}".`)}}(A,je);if((F>0||Ft>-F)&&(Ft+=F),A===cn.Hours)0===Ft&&-12===F&&(Ft=12);else if(A===cn.FractionalSeconds)return function Ui(A,ee){return Fr(A,3).substring(0,ee)}(Ft,ee);const Fn=_e(it,Yt.MinusSign);return Fr(Ft,ee,Fn,G,Te)}}function fn(A,ee,F=Ht.Format,G=!1){return function(Te,je){return function Si(A,ee,F,G,Te,je){switch(F){case mn.Months:return function Kt(A,ee,F){const G=(0,c.H5H)(A),je=Pn([G[c.KH2.MonthsFormat],G[c.KH2.MonthsStandalone]],ee);return Pn(je,F)}(ee,Te,G)[A.getMonth()];case mn.Days:return function De(A,ee,F){const G=(0,c.H5H)(A),je=Pn([G[c.KH2.DaysFormat],G[c.KH2.DaysStandalone]],ee);return Pn(je,F)}(ee,Te,G)[A.getDay()];case mn.DayPeriods:const it=A.getHours(),Ft=A.getMinutes();if(je){const pr=function Wn(A){const ee=(0,c.H5H)(A);return pn(ee),(ee[c.KH2.ExtraData][2]||[]).map(G=>"string"==typeof G?An(G):[An(G[0]),An(G[1])])}(ee),mr=function Lt(A,ee,F){const G=(0,c.H5H)(A);pn(G);const je=Pn([G[c.KH2.ExtraData][0],G[c.KH2.ExtraData][1]],ee)||[];return Pn(je,F)||[]}(ee,Te,G),$n=pr.findIndex(yr=>{if(Array.isArray(yr)){const[Qn,Di]=yr,Js=it>=Qn.hours&&Ft>=Qn.minutes,Gr=it<Di.hours||it===Di.hours&&Ft<Di.minutes;if(Qn.hours<Di.hours){if(Js&&Gr)return!0}else if(Js||Gr)return!0}else if(yr.hours===it&&yr.minutes===Ft)return!0;return!1});if(-1!==$n)return mr[$n]}return function Ye(A,ee,F){const G=(0,c.H5H)(A),je=Pn([G[c.KH2.DayPeriodsFormat],G[c.KH2.DayPeriodsStandalone]],ee);return Pn(je,F)}(ee,Te,G)[it<12?0:1];case mn.Eras:return function N(A,ee){return Pn((0,c.H5H)(A)[c.KH2.Eras],ee)}(ee,G)[A.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${F}`)}}(Te,je,A,ee,F,G)}}function ti(A){return function(ee,F,G){const Te=-1*G,je=_e(F,Yt.MinusSign),it=Te>0?Math.floor(Te/60):Math.ceil(Te/60);switch(A){case Ut.Short:return(Te>=0?"+":"")+Fr(it,2,je)+Fr(Math.abs(Te%60),2,je);case Ut.ShortGMT:return"GMT"+(Te>=0?"+":"")+Fr(it,1,je);case Ut.Long:return"GMT"+(Te>=0?"+":"")+Fr(it,2,je)+":"+Fr(Math.abs(Te%60),2,je);case Ut.Extended:return 0===G?"Z":(Te>=0?"+":"")+Fr(it,2,je)+":"+Fr(Math.abs(Te%60),2,je);default:throw new Error(`Unknown zone width "${A}"`)}}}const Vr=0,qe=4;function nn(A){return dr(A.getFullYear(),A.getMonth(),A.getDate()+(qe-A.getDay()))}function Ri(A,ee=!1){return function(F,G){let Te;if(ee){const je=new Date(F.getFullYear(),F.getMonth(),1).getDay()-1,it=F.getDate();Te=1+Math.floor((it+je)/7)}else{const je=nn(F),it=function Xn(A){const ee=dr(A,Vr,1).getDay();return dr(A,0,1+(ee<=qe?qe:qe+7)-ee)}(je.getFullYear()),Ft=je.getTime()-it.getTime();Te=1+Math.round(Ft/6048e5)}return Fr(Te,A,_e(G,Yt.MinusSign))}}function Wi(A,ee=!1){return function(F,G){return Fr(nn(F).getFullYear(),A,_e(G,Yt.MinusSign),ee)}}const On={};function Xr(A,ee){A=A.replace(/:/g,"");const F=Date.parse("Jan 01, 1970 00:00:00 "+A)/6e4;return isNaN(F)?ee:F}function j(A){return A instanceof Date&&!isNaN(A.valueOf())}function Zt(A,ee){ee=encodeURIComponent(ee);for(const F of A.split(";")){const G=F.indexOf("="),[Te,je]=-1==G?[F,""]:[F.slice(0,G),F.slice(G+1)];if(Te.trim()===ee)return decodeURIComponent(je)}return null}const Mn=/\s+/,en=[];let _n=(()=>{class A{constructor(F,G,Te,je){this._iterableDiffers=F,this._keyValueDiffers=G,this._ngEl=Te,this._renderer=je,this.initialClasses=en,this.stateMap=new Map}set klass(F){this.initialClasses=null!=F?F.trim().split(Mn):en}set ngClass(F){this.rawClass="string"==typeof F?F.trim().split(Mn):F}ngDoCheck(){for(const G of this.initialClasses)this._updateState(G,!0);const F=this.rawClass;if(Array.isArray(F)||F instanceof Set)for(const G of F)this._updateState(G,!0);else if(null!=F)for(const G of Object.keys(F))this._updateState(G,!!F[G]);this._applyStateDiff()}_updateState(F,G){const Te=this.stateMap.get(F);void 0!==Te?(Te.enabled!==G&&(Te.changed=!0,Te.enabled=G),Te.touched=!0):this.stateMap.set(F,{enabled:G,changed:!0,touched:!0})}_applyStateDiff(){for(const F of this.stateMap){const G=F[0],Te=F[1];Te.changed?(this._toggleClass(G,Te.enabled),Te.changed=!1):Te.touched||(Te.enabled&&this._toggleClass(G,!1),this.stateMap.delete(G)),Te.touched=!1}}_toggleClass(F,G){(F=F.trim()).length>0&&F.split(Mn).forEach(Te=>{G?this._renderer.addClass(this._ngEl.nativeElement,Te):this._renderer.removeClass(this._ngEl.nativeElement,Te)})}static{this.\u0275fac=function(G){return new(G||A)(c.rXU(c._q3),c.rXU(c.MKu),c.rXU(c.aKT),c.rXU(c.sFG))}}static{this.\u0275dir=c.FsC({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return A})();class Dn{constructor(ee,F,G,Te){this.$implicit=ee,this.ngForOf=F,this.index=G,this.count=Te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vr=(()=>{class A{set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}constructor(F,G,Te){this._viewContainer=F,this._template=G,this._differs=Te,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const G=this._viewContainer;F.forEachOperation((Te,je,it)=>{if(null==Te.previousIndex)G.createEmbeddedView(this._template,new Dn(Te.item,this._ngForOf,-1,-1),null===it?void 0:it);else if(null==it)G.remove(null===je?void 0:je);else if(null!==je){const Ft=G.get(je);G.move(Ft,it),bi(Ft,Te)}});for(let Te=0,je=G.length;Te<je;Te++){const Ft=G.get(Te).context;Ft.index=Te,Ft.count=je,Ft.ngForOf=this._ngForOf}F.forEachIdentityChange(Te=>{bi(G.get(Te.currentIndex),Te)})}static ngTemplateContextGuard(F,G){return!0}static{this.\u0275fac=function(G){return new(G||A)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))}}static{this.\u0275dir=c.FsC({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return A})();function bi(A,ee){A.context.$implicit=ee.item}let Sr=(()=>{class A{constructor(F,G){this._viewContainer=F,this._context=new tn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=G}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){Pt("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){Pt("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,G){return!0}static{this.\u0275fac=function(G){return new(G||A)(c.rXU(c.c1b),c.rXU(c.C4Q))}}static{this.\u0275dir=c.FsC({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return A})();class tn{constructor(){this.$implicit=null,this.ngIf=null}}function Pt(A,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,c.Tbb)(ee)}'.`)}let Zi=(()=>{class A{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(F){if(F.ngTemplateOutlet||F.ngTemplateOutletInjector){const G=this._viewContainerRef;if(this._viewRef&&G.remove(G.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Te,ngTemplateOutletContext:je,ngTemplateOutletInjector:it}=this;this._viewRef=G.createEmbeddedView(Te,je,it?{injector:it}:void 0)}else this._viewRef=null}else this._viewRef&&F.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(G){return new(G||A)(c.rXU(c.c1b))}}static{this.\u0275dir=c.FsC({type:A,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.OA$]})}}return A})();function Rr(A,ee){return new c.wOt(2100,!1)}class vs{createSubscription(ee,F){return(0,c.O8t)(()=>ee.subscribe({next:F,error:G=>{throw G}}))}dispose(ee){(0,c.O8t)(()=>ee.unsubscribe())}}class wi{createSubscription(ee,F){return ee.then(F,G=>{throw G})}dispose(ee){}}const Yr=new wi,Ms=new vs;let es=(()=>{class A{constructor(F){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=F}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,G=>this._updateLatestValue(F,G))}_selectStrategy(F){if((0,c.jNT)(F))return Yr;if((0,c.zjR)(F))return Ms;throw Rr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,G){F===this._obj&&(this._latestValue=G,this._ref.markForCheck())}static{this.\u0275fac=function(G){return new(G||A)(c.rXU(c.gRc,16))}}static{this.\u0275pipe=c.EJ8({name:"async",type:A,pure:!1,standalone:!0})}}return A})();const Oo=new c.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),Es=new c.nKC("DATE_PIPE_DEFAULT_OPTIONS");let Ki=(()=>{class A{constructor(F,G,Te){this.locale=F,this.defaultTimezone=G,this.defaultOptions=Te}transform(F,G,Te,je){if(null==F||""===F||F!=F)return null;try{return wr(F,G??this.defaultOptions?.dateFormat??"mediumDate",je||this.locale,Te??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(it){throw Rr()}}static{this.\u0275fac=function(G){return new(G||A)(c.rXU(c.xe9,16),c.rXU(Oo,24),c.rXU(Es,24))}}static{this.\u0275pipe=c.EJ8({name:"date",type:A,pure:!0,standalone:!0})}}return A})(),ns=(()=>{class A{static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275mod=c.$C({type:A})}static{this.\u0275inj=c.G2t({})}}return A})();const bs="browser",Qs="server";function nr(A){return A===Qs}let lr=(()=>{class A{static{this.\u0275prov=(0,c.jDH)({token:A,providedIn:"root",factory:()=>new Hi((0,c.KVO)(Le),window)})}}return A})();class Hi{constructor(ee,F){this.document=ee,this.window=F,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const F=function qn(A,ee){const F=A.getElementById(ee)||A.getElementsByName(ee)[0];if(F)return F;if("function"==typeof A.createTreeWalker&&A.body&&"function"==typeof A.body.attachShadow){const G=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let Te=G.currentNode;for(;Te;){const je=Te.shadowRoot;if(je){const it=je.getElementById(ee)||je.querySelector(`[name="${ee}"]`);if(it)return it}Te=G.nextNode()}}return null}(this.document,ee);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(ee){this.supportsScrolling()&&(this.window.history.scrollRestoration=ee)}scrollToElement(ee){const F=ee.getBoundingClientRect(),G=F.left+this.window.pageXOffset,Te=F.top+this.window.pageYOffset,je=this.offset();this.window.scrollTo(G-je[0],Te-je[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class rs{}},1626:(Cn,_t,K)=>{K.d(_t,{Qq:()=>ae,q1:()=>Y});var c=K(540),D=K(7673),rt=K(8455),Ee=K(1985),X=K(274),Le=K(5964),Be=K(6354),Qe=K(980),st=K(5558),pe=K(177);class me{}class Je{}class At{constructor(be){this.normalizedNames=new Map,this.lazyUpdate=null,be?"string"==typeof be?this.lazyInit=()=>{this.headers=new Map,be.split("\n").forEach(Se=>{const bt=Se.indexOf(":");if(bt>0){const zt=Se.slice(0,bt),dn=zt.toLowerCase(),qt=Se.slice(bt+1).trim();this.maybeSetNormalizedName(zt,dn),this.headers.has(dn)?this.headers.get(dn).push(qt):this.headers.set(dn,[qt])}})}:typeof Headers<"u"&&be instanceof Headers?(this.headers=new Map,be.forEach((Se,bt)=>{this.setHeaderEntries(bt,Se)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(be).forEach(([Se,bt])=>{this.setHeaderEntries(Se,bt)})}:this.headers=new Map}has(be){return this.init(),this.headers.has(be.toLowerCase())}get(be){this.init();const Se=this.headers.get(be.toLowerCase());return Se&&Se.length>0?Se[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(be){return this.init(),this.headers.get(be.toLowerCase())||null}append(be,Se){return this.clone({name:be,value:Se,op:"a"})}set(be,Se){return this.clone({name:be,value:Se,op:"s"})}delete(be,Se){return this.clone({name:be,value:Se,op:"d"})}maybeSetNormalizedName(be,Se){this.normalizedNames.has(Se)||this.normalizedNames.set(Se,be)}init(){this.lazyInit&&(this.lazyInit instanceof At?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(be=>this.applyUpdate(be)),this.lazyUpdate=null))}copyFrom(be){be.init(),Array.from(be.headers.keys()).forEach(Se=>{this.headers.set(Se,be.headers.get(Se)),this.normalizedNames.set(Se,be.normalizedNames.get(Se))})}clone(be){const Se=new At;return Se.lazyInit=this.lazyInit&&this.lazyInit instanceof At?this.lazyInit:this,Se.lazyUpdate=(this.lazyUpdate||[]).concat([be]),Se}applyUpdate(be){const Se=be.name.toLowerCase();switch(be.op){case"a":case"s":let bt=be.value;if("string"==typeof bt&&(bt=[bt]),0===bt.length)return;this.maybeSetNormalizedName(be.name,Se);const zt=("a"===be.op?this.headers.get(Se):void 0)||[];zt.push(...bt),this.headers.set(Se,zt);break;case"d":const dn=be.value;if(dn){let qt=this.headers.get(Se);if(!qt)return;qt=qt.filter(xr=>-1===dn.indexOf(xr)),0===qt.length?(this.headers.delete(Se),this.normalizedNames.delete(Se)):this.headers.set(Se,qt)}else this.headers.delete(Se),this.normalizedNames.delete(Se)}}setHeaderEntries(be,Se){const bt=(Array.isArray(Se)?Se:[Se]).map(dn=>dn.toString()),zt=be.toLowerCase();this.headers.set(zt,bt),this.maybeSetNormalizedName(be,zt)}forEach(be){this.init(),Array.from(this.normalizedNames.keys()).forEach(Se=>be(this.normalizedNames.get(Se),this.headers.get(Se)))}}class Dt{encodeKey(be){return Zn(be)}encodeValue(be){return Zn(be)}decodeKey(be){return decodeURIComponent(be)}decodeValue(be){return decodeURIComponent(be)}}const Xt=/%(\d[a-f0-9])/gi,bn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Zn(Ue){return encodeURIComponent(Ue).replace(Xt,(be,Se)=>bn[Se]??be)}function hn(Ue){return`${Ue}`}class xe{constructor(be={}){if(this.updates=null,this.cloneFrom=null,this.encoder=be.encoder||new Dt,be.fromString){if(be.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rn(Ue,be){const Se=new Map;return Ue.length>0&&Ue.replace(/^\?/,"").split("&").forEach(zt=>{const dn=zt.indexOf("="),[qt,xr]=-1==dn?[be.decodeKey(zt),""]:[be.decodeKey(zt.slice(0,dn)),be.decodeValue(zt.slice(dn+1))],un=Se.get(qt)||[];un.push(xr),Se.set(qt,un)}),Se}(be.fromString,this.encoder)}else be.fromObject?(this.map=new Map,Object.keys(be.fromObject).forEach(Se=>{const bt=be.fromObject[Se],zt=Array.isArray(bt)?bt.map(hn):[hn(bt)];this.map.set(Se,zt)})):this.map=null}has(be){return this.init(),this.map.has(be)}get(be){this.init();const Se=this.map.get(be);return Se?Se[0]:null}getAll(be){return this.init(),this.map.get(be)||null}keys(){return this.init(),Array.from(this.map.keys())}append(be,Se){return this.clone({param:be,value:Se,op:"a"})}appendAll(be){const Se=[];return Object.keys(be).forEach(bt=>{const zt=be[bt];Array.isArray(zt)?zt.forEach(dn=>{Se.push({param:bt,value:dn,op:"a"})}):Se.push({param:bt,value:zt,op:"a"})}),this.clone(Se)}set(be,Se){return this.clone({param:be,value:Se,op:"s"})}delete(be,Se){return this.clone({param:be,value:Se,op:"d"})}toString(){return this.init(),this.keys().map(be=>{const Se=this.encoder.encodeKey(be);return this.map.get(be).map(bt=>Se+"="+this.encoder.encodeValue(bt)).join("&")}).filter(be=>""!==be).join("&")}clone(be){const Se=new xe({encoder:this.encoder});return Se.cloneFrom=this.cloneFrom||this,Se.updates=(this.updates||[]).concat(be),Se}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(be=>this.map.set(be,this.cloneFrom.map.get(be))),this.updates.forEach(be=>{switch(be.op){case"a":case"s":const Se=("a"===be.op?this.map.get(be.param):void 0)||[];Se.push(hn(be.value)),this.map.set(be.param,Se);break;case"d":if(void 0===be.value){this.map.delete(be.param);break}{let bt=this.map.get(be.param)||[];const zt=bt.indexOf(hn(be.value));-1!==zt&&bt.splice(zt,1),bt.length>0?this.map.set(be.param,bt):this.map.delete(be.param)}}}),this.cloneFrom=this.updates=null)}}class gt{constructor(){this.map=new Map}set(be,Se){return this.map.set(be,Se),this}get(be){return this.map.has(be)||this.map.set(be,be.defaultValue()),this.map.get(be)}delete(be){return this.map.delete(be),this}has(be){return this.map.has(be)}keys(){return this.map.keys()}}function Ht(Ue){return typeof ArrayBuffer<"u"&&Ue instanceof ArrayBuffer}function Bt(Ue){return typeof Blob<"u"&&Ue instanceof Blob}function ke(Ue){return typeof FormData<"u"&&Ue instanceof FormData}class Ln{constructor(be,Se,bt,zt){let dn;if(this.url=Se,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=be.toUpperCase(),function St(Ue){switch(Ue){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||zt?(this.body=void 0!==bt?bt:null,dn=zt):dn=bt,dn&&(this.reportProgress=!!dn.reportProgress,this.withCredentials=!!dn.withCredentials,dn.responseType&&(this.responseType=dn.responseType),dn.headers&&(this.headers=dn.headers),dn.context&&(this.context=dn.context),dn.params&&(this.params=dn.params)),this.headers||(this.headers=new At),this.context||(this.context=new gt),this.params){const qt=this.params.toString();if(0===qt.length)this.urlWithParams=Se;else{const xr=Se.indexOf("?");this.urlWithParams=Se+(-1===xr?"?":xr<Se.length-1?"&":"")+qt}}else this.params=new xe,this.urlWithParams=Se}serializeBody(){return null===this.body?null:Ht(this.body)||Bt(this.body)||ke(this.body)||function Yt(Ue){return typeof URLSearchParams<"u"&&Ue instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof xe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ke(this.body)?null:Bt(this.body)?this.body.type||null:Ht(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(be={}){const Se=be.method||this.method,bt=be.url||this.url,zt=be.responseType||this.responseType,dn=void 0!==be.body?be.body:this.body,qt=void 0!==be.withCredentials?be.withCredentials:this.withCredentials,xr=void 0!==be.reportProgress?be.reportProgress:this.reportProgress;let un=be.headers||this.headers,ri=be.params||this.params;const ct=be.context??this.context;return void 0!==be.setHeaders&&(un=Object.keys(be.setHeaders).reduce((He,It)=>He.set(It,be.setHeaders[It]),un)),be.setParams&&(ri=Object.keys(be.setParams).reduce((He,It)=>He.set(It,be.setParams[It]),ri)),new Ln(Se,bt,dn,{params:ri,headers:un,context:ct,reportProgress:xr,responseType:zt,withCredentials:qt})}}var gr=function(Ue){return Ue[Ue.Sent=0]="Sent",Ue[Ue.UploadProgress=1]="UploadProgress",Ue[Ue.ResponseHeader=2]="ResponseHeader",Ue[Ue.DownloadProgress=3]="DownloadProgress",Ue[Ue.Response=4]="Response",Ue[Ue.User=5]="User",Ue}(gr||{});class Ye{constructor(be,Se=200,bt="OK"){this.headers=be.headers||new At,this.status=void 0!==be.status?be.status:Se,this.statusText=be.statusText||bt,this.url=be.url||null,this.ok=this.status>=200&&this.status<300}}class De extends Ye{constructor(be={}){super(be),this.type=gr.ResponseHeader}clone(be={}){return new De({headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class Kt extends Ye{constructor(be={}){super(be),this.type=gr.Response,this.body=void 0!==be.body?be.body:null}clone(be={}){return new Kt({body:void 0!==be.body?be.body:this.body,headers:be.headers||this.headers,status:void 0!==be.status?be.status:this.status,statusText:be.statusText||this.statusText,url:be.url||this.url||void 0})}}class N extends Ye{constructor(be){super(be,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${be.url||"(unknown url)"}`:`Http failure response for ${be.url||"(unknown url)"}: ${be.status} ${be.statusText}`,this.error=be.error||null}}function Q(Ue,be){return{body:be,headers:Ue.headers,context:Ue.context,observe:Ue.observe,params:Ue.params,reportProgress:Ue.reportProgress,responseType:Ue.responseType,withCredentials:Ue.withCredentials}}let ae=(()=>{class Ue{constructor(Se){this.handler=Se}request(Se,bt,zt={}){let dn;if(Se instanceof Ln)dn=Se;else{let un,ri;un=zt.headers instanceof At?zt.headers:new At(zt.headers),zt.params&&(ri=zt.params instanceof xe?zt.params:new xe({fromObject:zt.params})),dn=new Ln(Se,bt,void 0!==zt.body?zt.body:null,{headers:un,context:zt.context,params:ri,reportProgress:zt.reportProgress,responseType:zt.responseType||"json",withCredentials:zt.withCredentials})}const qt=(0,D.of)(dn).pipe((0,X.H)(un=>this.handler.handle(un)));if(Se instanceof Ln||"events"===zt.observe)return qt;const xr=qt.pipe((0,Le.p)(un=>un instanceof Kt));switch(zt.observe||"body"){case"body":switch(dn.responseType){case"arraybuffer":return xr.pipe((0,Be.T)(un=>{if(null!==un.body&&!(un.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return un.body}));case"blob":return xr.pipe((0,Be.T)(un=>{if(null!==un.body&&!(un.body instanceof Blob))throw new Error("Response is not a Blob.");return un.body}));case"text":return xr.pipe((0,Be.T)(un=>{if(null!==un.body&&"string"!=typeof un.body)throw new Error("Response is not a string.");return un.body}));default:return xr.pipe((0,Be.T)(un=>un.body))}case"response":return xr;default:throw new Error(`Unreachable: unhandled observe type ${zt.observe}}`)}}delete(Se,bt={}){return this.request("DELETE",Se,bt)}get(Se,bt={}){return this.request("GET",Se,bt)}head(Se,bt={}){return this.request("HEAD",Se,bt)}jsonp(Se,bt){return this.request("JSONP",Se,{params:(new xe).append(bt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Se,bt={}){return this.request("OPTIONS",Se,bt)}patch(Se,bt,zt={}){return this.request("PATCH",Se,Q(zt,bt))}post(Se,bt,zt={}){return this.request("POST",Se,Q(zt,bt))}put(Se,bt,zt={}){return this.request("PUT",Se,Q(zt,bt))}static{this.\u0275fac=function(bt){return new(bt||Ue)(c.KVO(me))}}static{this.\u0275prov=c.jDH({token:Ue,factory:Ue.\u0275fac})}}return Ue})();function at(Ue,be){return be(Ue)}function Rt(Ue,be){return(Se,bt)=>be.intercept(Se,{handle:zt=>Ue(zt,bt)})}const pn=new c.nKC(""),Wn=new c.nKC(""),Lt=new c.nKC("");function br(){let Ue=null;return(be,Se)=>{null===Ue&&(Ue=((0,c.WQX)(pn,{optional:!0})??[]).reduceRight(Rt,at));const bt=(0,c.WQX)(c.$K3),zt=bt.add();return Ue(be,Se).pipe((0,Qe.j)(()=>bt.remove(zt)))}}let Pn=(()=>{class Ue extends me{constructor(Se,bt){super(),this.backend=Se,this.injector=bt,this.chain=null,this.pendingTasks=(0,c.WQX)(c.$K3)}handle(Se){if(null===this.chain){const zt=Array.from(new Set([...this.injector.get(Wn),...this.injector.get(Lt,[])]));this.chain=zt.reduceRight((dn,qt)=>function Vn(Ue,be,Se){return(bt,zt)=>Se.runInContext(()=>be(bt,dn=>Ue(dn,zt)))}(dn,qt,this.injector),at)}const bt=this.pendingTasks.add();return this.chain(Se,zt=>this.backend.handle(zt)).pipe((0,Qe.j)(()=>this.pendingTasks.remove(bt)))}static{this.\u0275fac=function(bt){return new(bt||Ue)(c.KVO(Je),c.KVO(c.uvJ))}}static{this.\u0275prov=c.jDH({token:Ue,factory:Ue.\u0275fac})}}return Ue})();const dr=/^\)\]\}',?\n/;let hr=(()=>{class Ue{constructor(Se){this.xhrFactory=Se}handle(Se){if("JSONP"===Se.method)throw new c.wOt(-2800,!1);const bt=this.xhrFactory;return(bt.\u0275loadImpl?(0,rt.H)(bt.\u0275loadImpl()):(0,D.of)(null)).pipe((0,st.n)(()=>new Ee.c(dn=>{const qt=bt.build();if(qt.open(Se.method,Se.urlWithParams),Se.withCredentials&&(qt.withCredentials=!0),Se.headers.forEach((en,_n)=>qt.setRequestHeader(en,_n.join(","))),Se.headers.has("Accept")||qt.setRequestHeader("Accept","application/json, text/plain, */*"),!Se.headers.has("Content-Type")){const en=Se.detectContentTypeHeader();null!==en&&qt.setRequestHeader("Content-Type",en)}if(Se.responseType){const en=Se.responseType.toLowerCase();qt.responseType="json"!==en?en:"text"}const xr=Se.serializeBody();let un=null;const ri=()=>{if(null!==un)return un;const en=qt.statusText||"OK",_n=new At(qt.getAllResponseHeaders()),er=function Or(Ue){return"responseURL"in Ue&&Ue.responseURL?Ue.responseURL:/^X-Request-URL:/m.test(Ue.getAllResponseHeaders())?Ue.getResponseHeader("X-Request-URL"):null}(qt)||Se.url;return un=new De({headers:_n,status:qt.status,statusText:en,url:er}),un},ct=()=>{let{headers:en,status:_n,statusText:er,url:fr}=ri(),Dn=null;204!==_n&&(Dn=typeof qt.response>"u"?qt.responseText:qt.response),0===_n&&(_n=Dn?200:0);let vr=_n>=200&&_n<300;if("json"===Se.responseType&&"string"==typeof Dn){const bi=Dn;Dn=Dn.replace(dr,"");try{Dn=""!==Dn?JSON.parse(Dn):null}catch(Ps){Dn=bi,vr&&(vr=!1,Dn={error:Ps,text:Dn})}}vr?(dn.next(new Kt({body:Dn,headers:en,status:_n,statusText:er,url:fr||void 0})),dn.complete()):dn.error(new N({error:Dn,headers:en,status:_n,statusText:er,url:fr||void 0}))},He=en=>{const{url:_n}=ri(),er=new N({error:en,status:qt.status||0,statusText:qt.statusText||"Unknown Error",url:_n||void 0});dn.error(er)};let It=!1;const Zt=en=>{It||(dn.next(ri()),It=!0);let _n={type:gr.DownloadProgress,loaded:en.loaded};en.lengthComputable&&(_n.total=en.total),"text"===Se.responseType&&qt.responseText&&(_n.partialText=qt.responseText),dn.next(_n)},Mn=en=>{let _n={type:gr.UploadProgress,loaded:en.loaded};en.lengthComputable&&(_n.total=en.total),dn.next(_n)};return qt.addEventListener("load",ct),qt.addEventListener("error",He),qt.addEventListener("timeout",He),qt.addEventListener("abort",He),Se.reportProgress&&(qt.addEventListener("progress",Zt),null!==xr&&qt.upload&&qt.upload.addEventListener("progress",Mn)),qt.send(xr),dn.next({type:gr.Sent}),()=>{qt.removeEventListener("error",He),qt.removeEventListener("abort",He),qt.removeEventListener("load",ct),qt.removeEventListener("timeout",He),Se.reportProgress&&(qt.removeEventListener("progress",Zt),null!==xr&&qt.upload&&qt.upload.removeEventListener("progress",Mn)),qt.readyState!==qt.DONE&&qt.abort()}})))}static{this.\u0275fac=function(bt){return new(bt||Ue)(c.KVO(pe.N0))}}static{this.\u0275prov=c.jDH({token:Ue,factory:Ue.\u0275fac})}}return Ue})();const Fr=new c.nKC("XSRF_ENABLED"),Bn=new c.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),fn=new c.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Si{}let ti=(()=>{class Ue{constructor(Se,bt,zt){this.doc=Se,this.platform=bt,this.cookieName=zt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Se=this.doc.cookie||"";return Se!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,pe._b)(Se,this.cookieName),this.lastCookieString=Se),this.lastToken}static{this.\u0275fac=function(bt){return new(bt||Ue)(c.KVO(pe.qQ),c.KVO(c.Agw),c.KVO(Bn))}}static{this.\u0275prov=c.jDH({token:Ue,factory:Ue.\u0275fac})}}return Ue})();function Vr(Ue,be){const Se=Ue.url.toLowerCase();if(!(0,c.WQX)(Fr)||"GET"===Ue.method||"HEAD"===Ue.method||Se.startsWith("http://")||Se.startsWith("https://"))return be(Ue);const bt=(0,c.WQX)(Si).getToken(),zt=(0,c.WQX)(fn);return null!=bt&&!Ue.headers.has(zt)&&(Ue=Ue.clone({headers:Ue.headers.set(zt,bt)})),be(Ue)}var Xn=function(Ue){return Ue[Ue.Interceptors=0]="Interceptors",Ue[Ue.LegacyInterceptors=1]="LegacyInterceptors",Ue[Ue.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ue[Ue.NoXsrfProtection=3]="NoXsrfProtection",Ue[Ue.JsonpSupport=4]="JsonpSupport",Ue[Ue.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ue[Ue.Fetch=6]="Fetch",Ue}(Xn||{});function nn(Ue,be){return{\u0275kind:Ue,\u0275providers:be}}function Ri(...Ue){const be=[ae,hr,Pn,{provide:me,useExisting:Pn},{provide:Je,useExisting:hr},{provide:Wn,useValue:Vr,multi:!0},{provide:Fr,useValue:!0},{provide:Si,useClass:ti}];for(const Se of Ue)be.push(...Se.\u0275providers);return(0,c.EmA)(be)}const On=new c.nKC("LEGACY_INTERCEPTOR_FN");let Y=(()=>{class Ue{static{this.\u0275fac=function(bt){return new(bt||Ue)}}static{this.\u0275mod=c.$C({type:Ue})}static{this.\u0275inj=c.G2t({providers:[Ri(nn(Xn.LegacyInterceptors,[{provide:On,useFactory:br},{provide:Wn,useExisting:On,multi:!0}]))]})}}return Ue})()},540:(Cn,_t,K)=>{K.d(_t,{bc$:()=>Wm,iLQ:()=>Bv,sZ2:()=>Cf,hnV:()=>QT,Hbi:()=>BA,o8S:()=>op,BIS:()=>wf,gRc:()=>wA,Ql9:()=>zw,OM3:()=>Zu,Ocv:()=>$w,Z63:()=>Ji,aKT:()=>Fc,uvJ:()=>du,zcH:()=>ql,bkB:()=>Bo,$GK:()=>fn,nKC:()=>On,zZn:()=>Ga,_q3:()=>Wv,MKu:()=>qv,xe9:()=>Z_,Co$:()=>KI,Vns:()=>Rh,NEm:()=>_A,SKi:()=>so,Xx1:()=>su,Agw:()=>sg,PLl:()=>zm,sFG:()=>Xm,_9s:()=>dg,czy:()=>Md,WPN:()=>Wu,kdw:()=>Fu,C4Q:()=>sm,NYb:()=>fA,giA:()=>r0,xvI:()=>Zm,RxE:()=>th,c1b:()=>Y_,gXe:()=>er,L39:()=>YA,Ol2:()=>XI,w6W:()=>Pb,oH4:()=>u0,Rfq:()=>Bt,WQX:()=>un,QuC:()=>Cs,EmA:()=>Tf,fpN:()=>UA,HJs:()=>ZA,O8t:()=>Gr,H3F:()=>XT,H8p:()=>jm,$K3:()=>YT,KH2:()=>np,wOt:()=>De,WHO:()=>t0,e01:()=>n0,lNU:()=>Ye,h9k:()=>Nm,$MX:()=>Sc,ZF7:()=>va,Kcf:()=>_f,e5t:()=>my,UyX:()=>py,cWb:()=>fy,osQ:()=>gy,H5H:()=>fv,mq5:()=>vI,JZv:()=>nn,LfX:()=>wr,plB:()=>Pv,jNT:()=>ao,zjR:()=>tc,TL$:()=>Up,Tbb:()=>gt,rcV:()=>Ha,Vt3:()=>dh,GFd:()=>Wf,OA$:()=>ll,Jv_:()=>qI,aNF:()=>YI,R7$:()=>O,BMQ:()=>qf,HbH:()=>qE,AVh:()=>uv,wni:()=>DT,VBU:()=>Ki,FsC:()=>Os,jDH:()=>Fe,G2t:()=>cn,$C:()=>$s,EJ8:()=>Ts,rXU:()=>ie,nrm:()=>ol,eu8:()=>vn,bVm:()=>Ct,qex:()=>lt,k0s:()=>wh,j41:()=>bh,RV6:()=>mo,xGo:()=>vl,Mr5:()=>dv,KVO:()=>qt,kS0:()=>tu,QTQ:()=>he,bIt:()=>Qo,lsd:()=>ST,joV:()=>up,qSk:()=>Oh,XpG:()=>PE,nI1:()=>hT,bMT:()=>fT,SdG:()=>OE,NAR:()=>ME,Y8G:()=>Zf,FS9:()=>tv,FCK:()=>rv,lJ4:()=>iT,eq3:()=>sT,l_i:()=>oT,mGM:()=>wT,sdS:()=>Qg,Njj:()=>wu,EBC:()=>o_,eBV:()=>dc,npT:()=>Yp,B4B:()=>Zp,n$t:()=>tg,xc7:()=>av,zvX:()=>hv,DNE:()=>Ch,C5r:()=>OT,EFF:()=>eI,JRh:()=>cv,SpI:()=>G_,GBs:()=>AT});var c=K(1413),D=K(8359),rt=K(1985),Ee=K(6365),X=K(8750),Le=K(983),Be=K(3794),Qe=K(8455),pe=K(4412),me=K(7673),Je=K(7707),At=K(9974);function wt(t={}){const{connector:n=(()=>new c.B),resetOnError:i=!0,resetOnComplete:o=!0,resetOnRefCountZero:l=!0}=t;return h=>{let _,T,R,U=0,re=!1,ge=!1;const ze=()=>{T?.unsubscribe(),T=void 0},nt=()=>{ze(),_=R=void 0,re=ge=!1},Mt=()=>{const Qt=_;nt(),Qt?.unsubscribe()};return(0,At.N)((Qt,wn)=>{U++,!ge&&!re&&ze();const Kn=R=R??n();wn.add(()=>{U--,0===U&&!ge&&!re&&(T=Dt(Mt,l))}),Kn.subscribe(wn),!_&&U>0&&(_=new Je.Ms({next:jt=>Kn.next(jt),error:jt=>{ge=!0,ze(),T=Dt(nt,i,jt),Kn.error(jt)},complete:()=>{re=!0,ze(),T=Dt(nt,o),Kn.complete()}}),(0,X.Tg)(Qt).subscribe(_))})(h)}}function Dt(t,n,...i){if(!0===n)return void t();if(!1===n)return;const o=new Je.Ms({next:()=>{o.unsubscribe(),t()}});return(0,X.Tg)(n(...i)).subscribe(o)}var rn=K(5558),Xt=K(3669),bn=K(4360);function hn(t,n){return t===n}function xe(t){for(let n in t)if(t[n]===xe)return n;throw Error("Could not find renamed property on target object.")}function dt(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function gt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(gt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function St(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ht=xe({__forward_ref__:xe});function Bt(t){return t.__forward_ref__=Bt,t.toString=function(){return gt(this())},t}function ke(t){return Yt(t)?t():t}function Yt(t){return"function"==typeof t&&t.hasOwnProperty(Ht)&&t.__forward_ref__===Bt}function Ln(t){return t&&!!t.\u0275providers}const Ye="https://g.co/ng/security#xss";class De extends Error{constructor(n,i){super(function Kt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function N(t){return"string"==typeof t?t:null==t?"":String(t)}function ve(t,n){throw new De(-201,!1)}function Wt(t,n){null==t&&function on(t,n,i,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${i} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function Fe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function cn(t){return{providers:t.providers||[],imports:t.imports||[]}}function mn(t){return dr(t,Fr)||dr(t,Bn)}function wr(t){return null!==mn(t)}function dr(t,n){return t.hasOwnProperty(n)?t[n]:null}function hr(t){return t&&(t.hasOwnProperty(Ui)||t.hasOwnProperty(ds))?t[Ui]:null}const Fr=xe({\u0275prov:xe}),Ui=xe({\u0275inj:xe}),Bn=xe({ngInjectableDef:xe}),ds=xe({ngInjectorDef:xe});var fn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(fn||{});let Si;function Vr(t){const n=Si;return Si=t,n}function qe(t,n,i){const o=mn(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&fn.Optional?null:void 0!==n?n:void ve(gt(t))}const nn=globalThis;class On{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Fe({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Nt={},Tn="__NG_DI_FLAG__",Yn="ngTempTokenPath",ni=/\n/gm,be="__source";let Se;function zt(t){const n=Se;return Se=t,n}function dn(t,n=fn.Default){if(void 0===Se)throw new De(-203,!1);return null===Se?qe(t,void 0,n):Se.get(t,n&fn.Optional?null:void 0,n)}function qt(t,n=fn.Default){return(function ti(){return Si}()||dn)(ke(t),n)}function un(t,n=fn.Default){return qt(t,ri(n))}function ri(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ct(t){const n=[];for(let i=0;i<t.length;i++){const o=ke(t[i]);if(Array.isArray(o)){if(0===o.length)throw new De(900,!1);let l,h=fn.Default;for(let _=0;_<o.length;_++){const T=o[_],R=It(T);"number"==typeof R?-1===R?l=T.token:h|=R:l=T}n.push(qt(l,h))}else n.push(qt(o))}return n}function He(t,n){return t[Tn]=n,t.prototype[Tn]=n,t}function It(t){return t[Tn]}function en(t){return{toString:t}.toString()}var _n=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_n||{}),er=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(er||{});const fr={},Dn=[],vr=xe({\u0275cmp:xe}),bi=xe({\u0275dir:xe}),Ps=xe({\u0275pipe:xe}),Sr=xe({\u0275mod:xe}),tn=xe({\u0275fac:xe}),Pt=xe({__NG_ELEMENT_ID__:xe}),xn=xe({__NG_ENV_ID__:xe});function sn(t,n,i){let o=t.length;for(;;){const l=t.indexOf(n,i);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const h=n.length;if(l+h===o||t.charCodeAt(l+h)<=32)return l}i=l+1}}function Wr(t,n,i){let o=0;for(;o<i.length;){const l=i[o];if("number"==typeof l){if(0!==l)break;o++;const h=i[o++],_=i[o++],T=i[o++];t.setAttribute(n,_,T,h)}else{const h=l,_=i[++o];_r(h)?t.setProperty(n,h,_):t.setAttribute(n,h,_),o++}}return o}function ii(t){return 3===t||4===t||6===t}function _r(t){return 64===t.charCodeAt(0)}function yi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const l=n[o];"number"==typeof l?i=l:0===i||si(t,i,l,null,-1===i||2===i?n[++o]:null)}}return t}function si(t,n,i,o,l){let h=0,_=t.length;if(-1===n)_=-1;else for(;h<t.length;){const T=t[h++];if("number"==typeof T){if(T===n){_=-1;break}if(T>n){_=h-1;break}}}for(;h<t.length;){const T=t[h];if("number"==typeof T)break;if(T===i){if(null===o)return void(null!==l&&(t[h+1]=l));if(o===t[h+1])return void(t[h+2]=l)}h++,null!==o&&h++,null!==l&&h++}-1!==_&&(t.splice(_,0,n),h=_+1),t.splice(h++,0,i),null!==o&&t.splice(h++,0,o),null!==l&&t.splice(h++,0,l)}const tr="ng-template";function Zi(t,n,i){let o=0,l=!0;for(;o<t.length;){let h=t[o++];if("string"==typeof h&&l){const _=t[o++];if(i&&"class"===h&&-1!==sn(_.toLowerCase(),n,0))return!0}else{if(1===h){for(;o<t.length&&"string"==typeof(h=t[o++]);)if(h.toLowerCase()===n)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function qi(t){return 4===t.type&&t.value!==tr}function Rr(t,n,i){return n===(4!==t.type||i?t.value:tr)}function vs(t,n,i){let o=4;const l=t.attrs||[],h=function $r(t){for(let n=0;n<t.length;n++)if(ii(t[n]))return n;return t.length}(l);let _=!1;for(let T=0;T<n.length;T++){const R=n[T];if("number"!=typeof R){if(!_)if(4&o){if(o=2|1&o,""!==R&&!Rr(t,R,i)||""===R&&1===n.length){if(wi(o))return!1;_=!0}}else{const U=8&o?R:n[++T];if(8&o&&null!==t.attrs){if(!Zi(t.attrs,U,i)){if(wi(o))return!1;_=!0}continue}const ge=Yr(8&o?"class":R,l,qi(t),i);if(-1===ge){if(wi(o))return!1;_=!0;continue}if(""!==U){let ze;ze=ge>h?"":l[ge+1].toLowerCase();const nt=8&o?ze:null;if(nt&&-1!==sn(nt,U,0)||2&o&&U!==ze){if(wi(o))return!1;_=!0}}}}else{if(!_&&!wi(o)&&!wi(R))return!1;if(_&&wi(R))continue;_=!1,o=R|1&o}}return wi(o)||_}function wi(t){return 0==(1&t)}function Yr(t,n,i,o){if(null===n)return-1;let l=0;if(o||!i){let h=!1;for(;l<n.length;){const _=n[l];if(_===t)return l;if(3===_||6===_)h=!0;else{if(1===_||2===_){let T=n[++l];for(;"string"==typeof T;)T=n[++l];continue}if(4===_)break;if(0===_){l+=4;continue}}l+=h?1:2}return-1}return function hs(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const o=t[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,t)}function Ms(t,n,i=!1){for(let o=0;o<n.length;o++)if(vs(t,n[o],i))return!0;return!1}function uo(t,n){e:for(let i=0;i<n.length;i++){const o=n[i];if(t.length===o.length){for(let l=0;l<t.length;l++)if(t[l]!==o[l])continue e;return!0}}return!1}function js(t,n){return t?":not("+n.trim()+")":n}function Ks(t){let n=t[0],i=1,o=2,l="",h=!1;for(;i<t.length;){let _=t[i];if("string"==typeof _)if(2&o){const T=t[++i];l+="["+_+(T.length>0?'="'+T+'"':"")+"]"}else 8&o?l+="."+_:4&o&&(l+=" "+_);else""!==l&&!wi(_)&&(n+=js(h,l),l=""),o=_,h=h||!wi(o);i++}return""!==l&&(n+=js(h,l)),n}function Ki(t){return en(()=>{const n=xo(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_n.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||er.Emulated,styles:t.styles||Dn,_:null,schemas:t.schemas||null,tView:null,id:""};ns(i);const o=t.dependencies;return i.directiveDefs=bs(o,!1),i.pipeDefs=bs(o,!0),i.id=function Ls(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const l of i)n=Math.imul(31,n)+l.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function ts(t){return ar(t)||Pr(t)}function Bi(t){return null!==t}function $s(t){return en(()=>({type:t.type,bootstrap:t.bootstrap||Dn,declarations:t.declarations||Dn,imports:t.imports||Dn,exports:t.exports||Dn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Vs(t,n){if(null==t)return fr;const i={};for(const o in t)if(t.hasOwnProperty(o)){let l=t[o],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),i[l]=o,n&&(n[l]=h)}return i}function Os(t){return en(()=>{const n=xo(t);return ns(n),n})}function Ts(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ar(t){return t[vr]||null}function Pr(t){return t[bi]||null}function Nr(t){return t[Ps]||null}function Cs(t){const n=ar(t)||Pr(t)||Nr(t);return null!==n&&n.standalone}function ci(t,n){const i=t[Sr]||null;if(!i&&!0===n)throw new Error(`Type ${gt(t)} does not have '\u0275mod' property.`);return i}function xo(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||fr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Dn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vs(t.inputs,n),outputs:Vs(t.outputs)}}function ns(t){t.features?.forEach(n=>n(t))}function bs(t,n){if(!t)return null;const i=n?Nr:ts;return()=>("function"==typeof t?t():t).map(o=>i(o)).filter(Bi)}const qr=0,ln=1,nr=2,Er=3,Ai=4,$i=5,lr=6,Hi=7,qn=8,ui=9,rs=10,jn=11,Pi=12,Xs=13,xs=14,Nn=15,Tr=16,Kr=17,ai=18,ws=19,jo=20,fs=21,ps=22,yo=23,Ns=24,ir=25,Us=1,$o=2,vi=7,is=9,xi=11;function di(t){return Array.isArray(t)&&"object"==typeof t[Us]}function z(t){return Array.isArray(t)&&!0===t[Us]}function q(t){return 0!=(4&t.flags)}function fe(t){return t.componentOffset>-1}function Ce(t){return 1==(1&t.flags)}function Ke(t){return!!t.template}function Et(t){return 0!=(512&t[nr])}function k(t,n){return t.hasOwnProperty(tn)?t[tn]:null}let Pe=null,ut=!1;function Ze(t){const n=Pe;return Pe=t,n}const En={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ar(t){if(!Ni(t)||t.dirty){if(!t.producerMustRecompute(t)&&!zi(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Jn(t){t.dirty=!0,function sr(t){if(void 0===t.liveConsumerNode)return;const n=ut;ut=!0;try{for(const i of t.liveConsumerNode)i.dirty||Jn(i)}finally{ut=n}}(t),t.consumerMarkedDirty?.(t)}function li(t){return t&&(t.nextProducerIndex=0),Ze(t)}function Ei(t,n){if(Ze(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ni(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)As(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function zi(t){ki(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==i.version||(Ar(i),o!==i.version))return!0}return!1}function Ii(t){if(ki(t),Ni(t))for(let n=0;n<t.producerNode.length;n++)As(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function As(t,n){if(function ss(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ki(t),1===t.liveConsumerNode.length)for(let o=0;o<t.producerNode.length;o++)As(t.producerNode[o],t.producerIndexOfThis[o]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],l=t.liveConsumerNode[n];ki(l),l.producerIndexOfThis[o]=n}}function Ni(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ki(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Te=null;function Gr(t){const n=Ze(null);try{return t()}finally{Ze(n)}}const Br=()=>{},Ds=(()=>({...En,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Br}))();class Ho{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function ll(){return Qi}function Qi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Iu),Zr}function Zr(){const t=Tu(this),n=t?.current;if(n){const i=t.previous;if(i===fr)t.previous=n;else for(let o in n)i[o]=n[o];t.current=null,this.ngOnChanges(n)}}function Iu(t,n,i,o){const l=this.declaredInputs[i],h=Tu(t)||function Yo(t,n){return t[rc]=n}(t,{previous:fr,current:null}),_=h.current||(h.current={}),T=h.previous,R=T[l];_[l]=new Ho(R&&R.currentValue,n,T===fr),t[o]=n}ll.ngInherit=!0;const rc="__ngSimpleChanges__";function Tu(t){return t[rc]||null}const To=function(t,n,i){},cl="svg";function Cr(t){for(;Array.isArray(t);)t=t[qr];return t}function ua(t,n){return Cr(n[t])}function os(t,n){return Cr(n[t.index])}function Qa(t,n){return t.data[n]}function ba(t,n){return t[n]}function co(t,n){const i=n[t];return di(i)?i:i[qr]}function zo(t,n){return null==n?null:t[n]}function hl(t){t[Kr]=0}function wa(t){1024&t[nr]||(t[nr]|=1024,Aa(t,1))}function Zs(t){1024&t[nr]&&(t[nr]&=-1025,Aa(t,-1))}function Aa(t,n){let i=t[Er];if(null===i)return;i[$i]+=n;let o=i;for(i=i[Er];null!==i&&(1===n&&1===o[$i]||-1===n&&0===o[$i]);)i[$i]+=n,o=i,i=i[Er]}const cr={lFrame:zr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function uc(){return cr.bindingsEnabled}function bo(){return null!==cr.skipHydrationRootTNode}function Vt(){return cr.lFrame.lView}function jr(){return cr.lFrame.tView}function dc(t){return cr.lFrame.contextLView=t,t[qn]}function wu(t){return cr.lFrame.contextLView=null,t}function ls(){let t=Sa();for(;null!==t&&64===t.type;)t=t.parent;return t}function Sa(){return cr.lFrame.currentTNode}function eo(t,n){const i=cr.lFrame;i.currentTNode=t,i.isParent=n}function ca(){return cr.lFrame.isParent}function fl(){cr.lFrame.isParent=!1}function _s(){const t=cr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ra(){return cr.lFrame.bindingIndex++}function Bs(t){const n=cr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function y(t,n){const i=cr.lFrame;i.bindingIndex=i.bindingRootIndex=t,L(n)}function L(t){cr.lFrame.currentDirectiveIndex=t}function se(t){const n=cr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function ye(){return cr.lFrame.currentQueryIndex}function ht(t){cr.lFrame.currentQueryIndex=t}function ft(t){const n=t[ln];return 2===n.type?n.declTNode:1===n.type?t[lr]:null}function yn(t,n,i){if(i&fn.SkipSelf){let l=n,h=t;for(;!(l=l.parent,null!==l||i&fn.Host||(l=ft(h),null===l||(h=h[xs],10&l.type))););if(null===l)return!1;n=l,t=h}const o=cr.lFrame=oi();return o.currentTNode=n,o.lView=t,!0}function ur(t){const n=oi(),i=t[ln];cr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function oi(){const t=cr.lFrame,n=null===t?null:t.child;return null===n?zr(t):n}function zr(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Vo(){const t=cr.lFrame;return cr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const da=Vo;function Jo(){const t=Vo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function to(){return cr.lFrame.selectedIndex}function Ao(t){cr.lFrame.selectedIndex=t}function Fi(){const t=cr.lFrame;return Qa(t.tView,t.selectedIndex)}function Oh(){cr.lFrame.currentNamespace=cl}function up(){!function ad(){cr.lFrame.currentNamespace=null}()}let Zo=!0;function Do(){return Zo}function Wo(t){Zo=t}function Xa(t,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){const h=t.data[i].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:T,ngAfterViewInit:R,ngAfterViewChecked:U,ngOnDestroy:re}=h;_&&(t.contentHooks??=[]).push(-i,_),T&&((t.contentHooks??=[]).push(i,T),(t.contentCheckHooks??=[]).push(i,T)),R&&(t.viewHooks??=[]).push(-i,R),U&&((t.viewHooks??=[]).push(i,U),(t.viewCheckHooks??=[]).push(i,U)),null!=re&&(t.destroyHooks??=[]).push(i,re)}}function ud(t,n,i){ld(t,n,3,i)}function Uo(t,n,i,o){(3&t[nr])===i&&ld(t,n,i,o)}function Ya(t,n){let i=t[nr];(3&i)===n&&(i&=8191,i+=1,t[nr]=i)}function ld(t,n,i,o){const h=o??-1,_=n.length-1;let T=0;for(let R=void 0!==o?65535&t[Kr]:0;R<_;R++)if("number"==typeof n[R+1]){if(T=n[R],null!=o&&T>=o)break}else n[R]<0&&(t[Kr]+=65536),(T<h||-1==h)&&(cd(t,i,n,R),t[Kr]=(4294901760&t[Kr])+R+2),R++}function fc(t,n){To(4,t,n);const i=Ze(null);try{n.call(t)}finally{Ze(i),To(5,t,n)}}function cd(t,n,i,o){const l=i[o]<0,h=i[o+1],T=t[l?-i[o]:i[o]];l?t[nr]>>13<t[Kr]>>16&&(3&t[nr])===n&&(t[nr]+=8192,fc(T,h)):fc(T,h)}const fa=-1;class Pa{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function gc(t){return t!==fa}function ea(t){return 32767&t}function Su(t,n){let i=function no(t){return t>>16}(t),o=n;for(;i>0;)o=o[xs],i--;return o}let Oa=!0;function pa(t){const n=Oa;return Oa=t,n}const xa=255,Za=5;let hd=0;const Ws={};function ga(t,n){const i=Na(t,n);if(-1!==i)return i;const o=n[ln];o.firstCreatePass&&(t.injectorIndex=n.length,Ru(o.data,t),Ru(n,null),Ru(o.blueprint,null));const l=ml(t,n),h=t.injectorIndex;if(gc(l)){const _=ea(l),T=Su(l,n),R=T[ln].data;for(let U=0;U<8;U++)n[h+U]=T[_+U]|R[_+U]}return n[h+8]=l,h}function Ru(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Na(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function ml(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,o=null,l=n;for(;null!==l;){if(o=Nh(l),null===o)return fa;if(i++,l=l[xs],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return fa}function _l(t,n,i){!function lm(t,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(Pt)&&(o=i[Pt]),null==o&&(o=i[Pt]=hd++);const l=o&xa;n.data[t+(l>>Za)]|=1<<l}(t,n,i)}function xh(t,n,i){if(i&fn.Optional||void 0!==t)return t;ve()}function yl(t,n,i,o){if(i&fn.Optional&&void 0===o&&(o=null),!(i&(fn.Self|fn.Host))){const l=t[ui],h=Vr(void 0);try{return l?l.get(n,o,i&fn.Optional):qe(n,o,i&fn.Optional)}finally{Vr(h)}}return xh(o,0,i)}function hp(t,n,i,o=fn.Default,l){if(null!==t){if(2048&n[nr]&&!(o&fn.Self)){const _=function pp(t,n,i,o,l){let h=t,_=n;for(;null!==h&&null!==_&&2048&_[nr]&&!(512&_[nr]);){const T=eu(h,_,i,o|fn.Self,Ws);if(T!==Ws)return T;let R=h.parent;if(!R){const U=_[jo];if(U){const re=U.get(i,Ws,o);if(re!==Ws)return re}R=Nh(_),_=_[xs]}h=R}return l}(t,n,i,o,Ws);if(_!==Ws)return _}const h=eu(t,n,i,o,Ws);if(h!==Ws)return h}return yl(n,i,o,l)}function eu(t,n,i,o,l){const h=function pd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Pt)?t[Pt]:void 0;return"number"==typeof n?n>=0?n&xa:fp:n}(i);if("function"==typeof h){if(!yn(n,t,o))return o&fn.Host?xh(l,0,o):yl(n,i,o,l);try{let _;if(_=h(o),null!=_||o&fn.Optional)return _;ve()}finally{da()}}else if("number"==typeof h){let _=null,T=Na(t,n),R=fa,U=o&fn.Host?n[Nn][lr]:null;for((-1===T||o&fn.SkipSelf)&&(R=-1===T?ml(t,n):n[T+8],R!==fa&&ka(o,!1)?(_=n[ln],T=ea(R),n=Su(R,n)):T=-1);-1!==T;){const re=n[ln];if(gd(h,T,re.data)){const ge=fd(T,n,i,_,o,U);if(ge!==Ws)return ge}R=n[T+8],R!==fa&&ka(o,n[ln].data[T+8]===U)&&gd(h,T,n)?(_=re,T=ea(R),n=Su(R,n)):T=-1}}return l}function fd(t,n,i,o,l,h){const _=n[ln],T=_.data[t+8],re=Pu(T,_,i,null==o?fe(T)&&Oa:o!=_&&0!=(3&T.type),l&fn.Host&&h===T);return null!==re?ma(n,_,re,T):Ws}function Pu(t,n,i,o,l){const h=t.providerIndexes,_=n.data,T=1048575&h,R=t.directiveStart,re=h>>20,ze=l?T+re:t.directiveEnd;for(let nt=o?T:T+re;nt<ze;nt++){const Mt=_[nt];if(nt<R&&i===Mt||nt>=R&&Mt.type===i)return nt}if(l){const nt=_[R];if(nt&&Ke(nt)&&nt.type===i)return R}return null}function ma(t,n,i,o){let l=t[i];const h=n.data;if(function um(t){return t instanceof Pa}(l)){const _=l;_.resolving&&function ae(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new De(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Q(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():N(t)}(h[i]));const T=pa(_.canSeeViewProviders);_.resolving=!0;const U=_.injectImpl?Vr(_.injectImpl):null;yn(t,o,fn.Default);try{l=t[i]=_.factory(void 0,h,t,o),n.firstCreatePass&&i>=o.directiveStart&&function lp(t,n,i){const{ngOnChanges:o,ngOnInit:l,ngDoCheck:h}=n.type.prototype;if(o){const _=Qi(n);(i.preOrderHooks??=[]).push(t,_),(i.preOrderCheckHooks??=[]).push(t,_)}l&&(i.preOrderHooks??=[]).push(0-t,l),h&&((i.preOrderHooks??=[]).push(t,h),(i.preOrderCheckHooks??=[]).push(t,h))}(i,h[i],n)}finally{null!==U&&Vr(U),pa(T),_.resolving=!1,da()}}return l}function gd(t,n,i){return!!(i[n+(t>>Za)]&1<<t)}function ka(t,n){return!(t&fn.Self||t&fn.Host&&n)}class ro{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return hp(this._tNode,this._lView,n,ri(o),i)}}function fp(){return new ro(ls(),Vt())}function vl(t){return en(()=>{const n=t.prototype.constructor,i=n[tn]||_d(n),o=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==o;){const h=l[tn]||_d(l);if(h&&h!==i)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function _d(t){return Yt(t)?()=>{const n=_d(ke(t));return n&&n()}:k(t)}function Nh(t){const n=t[ln],i=n.type;return 2===i?n.declTNode:1===i?t[lr]:null}function tu(t){return function dp(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const o=i.length;let l=0;for(;l<o;){const h=i[l];if(ii(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<o&&"string"==typeof i[l];)l++;else{if(h===n)return i[l+1];l+=2}}}return null}(ls(),t)}const Mu="__parameters__";function Fa(t,n,i){return en(()=>{const o=function Ou(t){return function(...i){if(t){const o=t(...i);for(const l in o)this[l]=o[l]}}}(n);function l(...h){if(this instanceof l)return o.apply(this,h),this;const _=new l(...h);return T.annotation=_,T;function T(R,U,re){const ge=R.hasOwnProperty(Mu)?R[Mu]:Object.defineProperty(R,Mu,{value:[]})[Mu];for(;ge.length<=re;)ge.push(null);return(ge[re]=ge[re]||[]).push(_),R}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}function Va(t,n){t.forEach(i=>Array.isArray(i)?Va(i,n):n(i))}function Bh(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function El(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ku(t,n){const i=[];for(let o=0;o<t;o++)i.push(n);return i}function ho(t,n,i){let o=Ua(t,n);return o>=0?t[1|o]=i:(o=~o,function La(t,n,i,o){let l=t.length;if(l==n)t.push(i,o);else if(1===l)t.push(o,t[0]),t[0]=i;else{for(l--,t.push(t[l-1],t[l]);l>n;)t[l]=t[l-2],l--;t[n]=i,t[n+1]=o}}(t,o,n,i)),o}function ru(t,n){const i=Ua(t,n);if(i>=0)return t[1|i]}function Ua(t,n){return function jh(t,n,i){let o=0,l=t.length>>i;for(;l!==o;){const h=o+(l-o>>1),_=t[h<<i];if(n===_)return h<<i;_>n?l=h:o=h+1}return~(l<<i)}(t,n,1)}const su=He(Fa("Optional"),8),Fu=He(Fa("SkipSelf"),4);function Ol(t){return 128==(128&t.flags)}var Md=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Md||{});const bp=/^>|^->|<!--|-->|--!>|<!-$/g,wp=/(<|>)/g,ym="\u200b$1\u200b";const Qh=new Map;let Xh=0;const au="__ngContext__";function Yi(t,n){di(n)?(t[au]=n[ws],function Yh(t){Qh.set(t[ws],t)}(n)):t[au]=n}let d;function g(t,n){return d(t,n)}function W(t){const n=t[Er];return z(n)?n[Er]:n}function yt(t){return Rn(t[Pi])}function $t(t){return Rn(t[Ai])}function Rn(t){for(;null!==t&&!z(t);)t=t[Ai];return t}function Hn(t,n,i,o,l){if(null!=o){let h,_=!1;z(o)?h=o:di(o)&&(_=!0,o=o[qr]);const T=Cr(o);0===t&&null!==i?null==l?Tm(n,i,T):lu(n,i,T,l||null,!0):1===t&&null!==i?lu(n,i,T,l||null,!0):2===t?function cu(t,n,i){const o=Vd(t,n);o&&function Cm(t,n,i,o){t.removeChild(n,i,o)}(t,o,n,i)}(n,T,_):3===t&&n.destroyNode(T),null!=h&&function Np(t,n,i,o,l){const h=i[vi];h!==Cr(i)&&Hn(n,t,o,h,l);for(let T=xi;T<i.length;T++){const R=i[T];Bd(R[ln],R,t,n,o,h)}}(n,t,h,i,l)}}function qo(t,n){return t.createComment(function Od(t){return t.replace(bp,n=>n.replace(wp,ym))}(n))}function Ba(t,n,i){return t.createElement(n,i)}function Nl(t,n){const i=t[is],o=i.indexOf(n);Zs(n),i.splice(o,1)}function uu(t,n){if(t.length<=xi)return;const i=xi+n,o=t[i];if(o){const l=o[Tr];null!==l&&l!==t&&Nl(l,o),n>0&&(t[i-1][Ai]=o[Ai]);const h=El(t,xi+n);!function tf(t,n){Bd(t,n,n[jn],2,null,null),n[qr]=null,n[lr]=null}(o[ln],o);const _=h[ai];null!==_&&_.detachView(h[ln]),o[Er]=null,o[Ai]=null,o[nr]&=-129}return o}function Gu(t,n){if(!(256&n[nr])){const i=n[jn];n[yo]&&Ii(n[yo]),n[Ns]&&Ii(n[Ns]),i.destroyNode&&Bd(t,n,i,3,null,null),function rf(t){let n=t[Pi];if(!n)return kl(t[ln],t);for(;n;){let i=null;if(di(n))i=n[Pi];else{const o=n[xi];o&&(i=o)}if(!i){for(;n&&!n[Ai]&&n!==t;)di(n)&&kl(n[ln],n),n=n[Er];null===n&&(n=t),di(n)&&kl(n[ln],n),i=n&&n[Ai]}n=i}}(n)}}function kl(t,n){if(!(256&n[nr])){n[nr]&=-129,n[nr]|=256,function Pp(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let o=0;o<i.length;o+=2){const l=n[i[o]];if(!(l instanceof Pa)){const h=i[o+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const T=l[h[_]],R=h[_+1];To(4,T,R);try{R.call(T)}finally{To(5,T,R)}}else{To(4,l,h);try{h.call(l)}finally{To(5,l,h)}}}}}(t,n),function Fl(t,n){const i=t.cleanup,o=n[Hi];if(null!==i)for(let h=0;h<i.length-1;h+=2)if("string"==typeof i[h]){const _=i[h+3];_>=0?o[_]():o[-_].unsubscribe(),h+=2}else i[h].call(o[i[h+1]]);null!==o&&(n[Hi]=null);const l=n[fs];if(null!==l){n[fs]=null;for(let h=0;h<l.length;h++)(0,l[h])()}}(t,n),1===n[ln].type&&n[jn].destroy();const i=n[Tr];if(null!==i&&z(n[Er])){i!==n[Er]&&Nl(i,n);const o=n[ai];null!==o&&o.detachView(t)}!function Jh(t){Qh.delete(t[ws])}(n)}}function Fd(t,n,i){return function Im(t,n,i){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return i[qr];{const{componentOffset:l}=o;if(l>-1){const{encapsulation:h}=t.data[o.directiveStart+l];if(h===er.None||h===er.Emulated)return null}return os(o,i)}}(t,n.parent,i)}function lu(t,n,i,o,l){t.insertBefore(n,i,o,l)}function Tm(t,n,i){t.appendChild(n,i)}function af(t,n,i,o,l){null!==o?lu(t,n,i,o,l):Tm(t,n,i)}function Vd(t,n){return t.parentNode(n)}function uf(t,n,i){return lf(t,n,i)}let Mp,Ac,ff,pf,lf=function wm(t,n,i){return 40&t.type?os(t,i):null};function df(t,n,i,o){const l=Fd(t,o,n),h=n[jn],T=uf(o.parent||n[lr],o,n);if(null!=l)if(Array.isArray(i))for(let R=0;R<i.length;R++)af(h,l,i[R],T,!1);else af(h,l,i,T,!1);void 0!==Mp&&Mp(h,o,n,i,l)}function Vl(t,n){if(null!==n){const i=n.type;if(3&i)return os(n,t);if(4&i)return Ld(-1,t[n.index]);if(8&i){const o=n.child;if(null!==o)return Vl(t,o);{const l=t[n.index];return z(l)?Ld(-1,l):Cr(l)}}if(32&i)return g(n,t)()||Cr(t[n.index]);{const o=hf(t,n);return null!==o?Array.isArray(o)?o[0]:Vl(W(t[Nn]),o):Vl(t,n.next)}}return null}function hf(t,n){return null!==n?t[Nn][lr].projection[n.projection]:null}function Ld(t,n){const i=xi+t+1;if(i<n.length){const o=n[i],l=o[ln].firstChild;if(null!==l)return Vl(o,l)}return n[vi]}function Ud(t,n,i,o,l,h,_){for(;null!=i;){const T=o[i.index],R=i.type;if(_&&0===n&&(T&&Yi(Cr(T),o),i.flags|=2),32!=(32&i.flags))if(8&R)Ud(t,n,i.child,o,l,h,!1),Hn(n,t,l,T,h);else if(32&R){const U=g(i,o);let re;for(;re=U();)Hn(n,t,l,re,h);Hn(n,t,l,T,h)}else 16&R?ja(t,n,o,i,l,h):Hn(n,t,l,T,h);i=_?i.projectionNext:i.next}}function Bd(t,n,i,o,l,h){Ud(i,o,t.firstChild,n,l,h,!1)}function ja(t,n,i,o,l,h){const _=i[Nn],R=_[lr].projection[o.projection];if(Array.isArray(R))for(let U=0;U<R.length;U++)Hn(n,t,l,R[U],h);else{let U=R;const re=_[Er];Ol(o)&&(U.flags|=128),Ud(t,n,U,re,l,h,!0)}}function Am(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Dm(t,n,i){const{mergedAttrs:o,classes:l,styles:h}=i;null!==o&&Wr(t,n,o),null!==l&&Am(t,n,l),null!==h&&function kp(t,n,i){t.setAttribute(n,"style",i)}(t,n,h)}function zu(t){return function Fp(){if(void 0===Ac&&(Ac=null,nn.trustedTypes))try{Ac=nn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ac}()?.createHTML(t)||t}function Up(t){ff=t}function Ll(){if(void 0!==ff)return ff;if(typeof document<"u")return document;throw new De(210,!1)}function Bp(){if(void 0===pf&&(pf=null,nn.trustedTypes))try{pf=nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pf}function gf(t){return Bp()?.createHTML(t)||t}function mf(t){return Bp()?.createScriptURL(t)||t}class $a{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ye})`}}class jp extends $a{getTypeName(){return"HTML"}}class dy extends $a{getTypeName(){return"Style"}}class Dc extends $a{getTypeName(){return"Script"}}class hy extends $a{getTypeName(){return"URL"}}class $p extends $a{getTypeName(){return"ResourceURL"}}function Ha(t){return t instanceof $a?t.changingThisBreaksApplicationSecurity:t}function va(t,n){const i=function Rm(t){return t instanceof $a&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Ye})`)}return i===n}function _f(t){return new jp(t)}function fy(t){return new dy(t)}function py(t){return new Dc(t)}function gy(t){return new hy(t)}function my(t){return new $p(t)}class Hp{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(zu(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Pm{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=zu(n),i}}const zp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Sc(t){return(t=String(t)).match(zp)?t:"unsafe:"+t}function na(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Ul(...t){const n={};for(const i of t)for(const o in i)i.hasOwnProperty(o)&&(n[o]=!0);return n}const Wp=na("area,br,col,hr,img,wbr"),Bl=na("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qp=na("rp,rt"),$d=Ul(Wp,Ul(Bl,na("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ul(qp,na("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ul(qp,Bl)),Kp=na("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qp=Ul(Kp,na("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),na("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yy=na("script,style,template");class Om{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,o=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?o=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,o&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let l=this.checkClobberedElement(i,i.nextSibling);if(l){i=l;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!$d.hasOwnProperty(i))return this.sanitizedSomething=!0,!yy.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const o=n.attributes;for(let l=0;l<o.length;l++){const h=o.item(l),_=h.name,T=_.toLowerCase();if(!Qp.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let R=h.value;Kp[T]&&(R=Sc(R)),this.buf.push(" ",_,'="',xm(R),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();$d.hasOwnProperty(i)&&!Wp.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(xm(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const vy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ey=/([^\#-~ |!])/g;function xm(t){return t.replace(/&/g,"&amp;").replace(vy,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Ey,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vf;function Nm(t,n){let i=null;try{vf=vf||function yf(t){const n=new Pm(t);return function Gp(){try{return!!(new window.DOMParser).parseFromString(zu(""),"text/html")}catch{return!1}}()?new Hp(n):n}(t);let o=n?String(n):"";i=vf.getInertBodyElement(o);let l=5,h=o;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,o=h,h=i.innerHTML,i=vf.getInertBodyElement(o)}while(o!==h);return zu((new Om).sanitizeChildren(Xp(i)||i))}finally{if(i){const o=Xp(i)||i;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Xp(t){return"content"in t&&function Iy(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Wu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Wu||{});function Yp(t){const n=Fs();return n?gf(n.sanitize(Wu.HTML,t)||""):va(t,"HTML")?gf(Ha(t)):Nm(Ll(),N(t))}function Zp(t){const n=Fs();return n?n.sanitize(Wu.URL,t)||"":va(t,"URL")?Ha(t):Sc(N(t))}function eg(t){const n=Fs();if(n)return mf(n.sanitize(Wu.RESOURCE_URL,t)||"");if(va(t,"ResourceURL"))return mf(Ha(t));throw new De(904,!1)}function tg(t,n,i){return function Fm(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?eg:Zp}(n,i)(t)}function Fs(){const t=Vt();return t&&t[rs].sanitizer}const Ji=new On("ENVIRONMENT_INITIALIZER"),Ea=new On("INJECTOR",-1),Vm=new On("INJECTOR_DEF_TYPES");class Lm{get(n,i=Nt){if(i===Nt){const o=new Error(`NullInjectorError: No provider for ${gt(n)}!`);throw o.name="NullInjectorError",o}return i}}function Tf(t){return{\u0275providers:t}}function eE(...t){return{\u0275providers:ng(0,t),\u0275fromNgModule:!0}}function ng(t,...n){const i=[],o=new Set;let l;const h=_=>{i.push(_)};return Va(n,_=>{const T=_;Rc(T,h,[],o)&&(l||=[],l.push(T))}),void 0!==l&&rg(l,h),i}function rg(t,n){for(let i=0;i<t.length;i++){const{ngModule:o,providers:l}=t[i];Um(l,h=>{n(h,o)})}}function Rc(t,n,i,o){if(!(t=ke(t)))return!1;let l=null,h=hr(t);const _=!h&&ar(t);if(h||_){if(_&&!_.standalone)return!1;l=t}else{const R=t.ngModule;if(h=hr(R),!h)return!1;l=R}const T=o.has(l);if(_){if(T)return!1;if(o.add(l),_.dependencies){const R="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const U of R)Rc(U,n,i,o)}}else{if(!h)return!1;{if(null!=h.imports&&!T){let U;o.add(l);try{Va(h.imports,re=>{Rc(re,n,i,o)&&(U||=[],U.push(re))})}finally{}void 0!==U&&rg(U,n)}if(!T){const U=k(l)||(()=>new l);n({provide:l,useFactory:U,deps:Dn},l),n({provide:Vm,useValue:l,multi:!0},l),n({provide:Ji,useValue:()=>qt(l),multi:!0},l)}const R=h.providers;if(null!=R&&!T){const U=t;Um(R,re=>{n(re,U)})}}}return l!==t&&void 0!==t.providers}function Um(t,n){for(let i of t)Ln(i)&&(i=i.\u0275providers),Array.isArray(i)?Um(i,n):n(i)}const Vi=xe({provide:String,useValue:xe});function Bm(t){return null!==t&&"object"==typeof t&&Vi in t}function qu(t){return"function"==typeof t}const jm=new On("Set Injector scope."),Pc={},$m={};let Hm;function ig(){return void 0===Hm&&(Hm=new Lm),Hm}class du{}class Hd extends du{get destroyed(){return this._destroyed}constructor(n,i,o,l){super(),this.parent=i,this.source=o,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ku(n,_=>this.processProvider(_)),this.records.set(Ea,Oc(void 0,this)),l.has("environment")&&this.records.set(du,Oc(void 0,this));const h=this.records.get(jm);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Vm.multi,Dn,fn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=zt(this),o=Vr(void 0);try{return n()}finally{zt(i),Vr(o)}}get(n,i=Nt,o=fn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(xn))return n[xn](this);o=ri(o);const h=zt(this),_=Vr(void 0);try{if(!(o&fn.SkipSelf)){let R=this.records.get(n);if(void 0===R){const U=function sE(t){return"function"==typeof t||"object"==typeof t&&t instanceof On}(n)&&mn(n);R=U&&this.injectableDefInScope(U)?Oc(Gm(n),Pc):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(o&fn.Self?ig():this.parent).get(n,i=o&fn.Optional&&i===Nt?null:i)}catch(T){if("NullInjectorError"===T.name){if((T[Yn]=T[Yn]||[]).unshift(gt(n)),h)throw T;return function Zt(t,n,i,o){const l=t[Yn];throw n[be]&&l.unshift(n[be]),t.message=function Mn(t,n,i,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=gt(n);if(Array.isArray(n))l=n.map(gt).join(" -> ");else if("object"==typeof n){let h=[];for(let _ in n)if(n.hasOwnProperty(_)){let T=n[_];h.push(_+":"+("string"==typeof T?JSON.stringify(T):gt(T)))}l=`{${h.join(", ")}}`}return`${i}${o?"("+o+")":""}[${l}]: ${t.replace(ni,"\n  ")}`}("\n"+t.message,l,i,o),t.ngTokenPath=l,t[Yn]=null,t}(T,n,"R3InjectorError",this.source)}throw T}finally{Vr(_),zt(h)}}resolveInjectorInitializers(){const n=zt(this),i=Vr(void 0);try{const l=this.get(Ji.multi,Dn,fn.Self);for(const h of l)h()}finally{zt(n),Vr(i)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(gt(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(n){let i=qu(n=ke(n))?n:ke(n&&n.provide);const o=function iE(t){return Bm(t)?Oc(void 0,t.useValue):Oc(Mc(t),Pc)}(n);if(qu(n)||!0!==n.multi)this.records.get(i);else{let l=this.records.get(i);l||(l=Oc(void 0,Pc,!0),l.factory=()=>ct(l.multi),this.records.set(i,l)),i=n,l.multi.push(n)}this.records.set(i,o)}hydrate(n,i){return i.value===Pc&&(i.value=$m,i.value=i.factory()),"object"==typeof i.value&&i.value&&function $l(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=ke(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Gm(t){const n=mn(t),i=null!==n?n.factory:k(t);if(null!==i)return i;if(t instanceof On)throw new De(204,!1);if(t instanceof Function)return function rE(t){const n=t.length;if(n>0)throw ku(n,"?"),new De(204,!1);const i=function Or(t){return t&&(t[Fr]||t[Bn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new De(204,!1)}function Mc(t,n,i){let o;if(qu(t)){const l=ke(t);return k(l)||Gm(l)}if(Bm(t))o=()=>ke(t.useValue);else if(function cs(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...ct(t.deps||[]));else if(function Ty(t){return!(!t||!t.useExisting)}(t))o=()=>qt(ke(t.useExisting));else{const l=ke(t&&(t.useClass||t.provide));if(!function jl(t){return!!t.deps}(t))return k(l)||Gm(l);o=()=>new l(...ct(t.deps))}return o}function Oc(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Ku(t,n){for(const i of t)Array.isArray(i)?Ku(i,n):i&&Ln(i)?Ku(i.\u0275providers,n):n(i)}const Cf=new On("AppId",{providedIn:"root",factory:()=>bf}),bf="ng",zm=new On("Platform Initializer"),sg=new On("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wm=new On("AnimationModuleType"),wf=new On("CSP nonce",{providedIn:"root",factory:()=>Ll().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ug=(t,n,i)=>null;function kc(t,n,i=!1){return ug(t,n,i)}class Of{}class Km{}class lE{resolveComponentFactory(n){throw function uE(t){const n=Error(`No component factory found for ${gt(t)}.`);return n.ngComponent=t,n}(n)}}let Zu=(()=>{class t{static{this.NULL=new lE}}return t})();function cE(){return eh(ls(),Vt())}function eh(t,n){return new Fc(os(t,n))}let Fc=(()=>{class t{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=cE}}return t})();function Qm(t){return t instanceof Fc?t.nativeElement:t}class dg{}let Xm=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Ym(){const t=Vt(),i=co(ls().index,t);return(di(i)?i:t)[jn]}()}}return t})(),Jm=(()=>{class t{static{this.\u0275prov=Fe({token:t,providedIn:"root",factory:()=>null})}}return t})();class th{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Zm=new th("16.2.12"),e_={};function hu(t,n=null,i=null,o){const l=Ry(t,n,i,o);return l.resolveInjectorInitializers(),l}function Ry(t,n=null,i=null,o,l=new Set){const h=[i||Dn,eE(t)];return o=o||("object"==typeof t?void 0:gt(t)),new Hd(h,n||ig(),o||null,l)}let Ga=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Nt}static{this.NULL=new Lm}static create(i,o){if(Array.isArray(i))return hu({name:""},o,i,"");{const l=i.name??"";return hu({name:l},i.parent,i.providers,l)}}static{this.\u0275prov=Fe({token:t,providedIn:"any",factory:()=>qt(Ea)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function t_(t){return t.ngOriginalError}class ql{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&t_(n);for(;i&&t_(i);)i=t_(i);return i||null}}function n_(t){return n=>{setTimeout(t,void 0,n)}}const Bo=class xy extends c.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,o){let l=n,h=i||(()=>null),_=o;if(n&&"object"==typeof n){const R=n;l=R.next?.bind(R),h=R.error?.bind(R),_=R.complete?.bind(R)}this.__isAsync&&(h=n_(h),l&&(l=n_(l)),_&&(_=n_(_)));const T=super.subscribe({next:l,error:h,complete:_});return n instanceof D.yU&&n.add(T),T}};function kf(...t){}class so{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bo(!1),this.onMicrotaskEmpty=new Bo(!1),this.onStable=new Bo(!1),this.onError=new Bo(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!o&&i,l.shouldCoalesceRunChangeDetection=o,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function fE(){const t="function"==typeof nn.requestAnimationFrame;let n=nn[t?"requestAnimationFrame":"setTimeout"],i=nn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function gE(t){const n=()=>{!function ky(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(nn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,r_(t),t.isCheckStableRunning=!0,fg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),r_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,l,h,_,T)=>{if(function mE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(T))return i.invokeTask(l,h,_,T);try{return Fy(t),i.invokeTask(l,h,_,T)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),Vy(t)}},onInvoke:(i,o,l,h,_,T,R)=>{try{return Fy(t),i.invoke(l,h,_,T,R)}finally{t.shouldCoalesceRunChangeDetection&&n(),Vy(t)}},onHasTask:(i,o,l,h)=>{i.hasTask(l,h),o===l&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,r_(t),fg(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(i,o,l,h)=>(i.handleError(l,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!so.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(so.isInAngularZone())throw new De(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,l){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+l,n,Ny,kf,kf);try{return h.runTask(_,i,o)}finally{h.cancelTask(_)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const Ny={};function fg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function r_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Fy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Vy(t){t._nesting--,fg(t)}class Ly{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bo,this.onMicrotaskEmpty=new Bo,this.onStable=new Bo,this.onError=new Bo}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,l){return n.apply(i,o)}}const i_=new On("",{providedIn:"root",factory:s_});function s_(){const t=un(so);let n=!0;return function st(...t){const n=(0,Be.lI)(t),i=(0,Be.R0)(t,1/0),o=t;return o.length?1===o.length?(0,X.Tg)(o[0]):(0,Ee.U)(i)((0,Qe.H)(o,n)):Le.w}(new rt.c(l=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{l.next(n),l.complete()})}),new rt.c(l=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{so.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,l.next(!0))})})});const _=t.onUnstable.subscribe(()=>{so.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{l.next(!1)}))});return()=>{h.unsubscribe(),_.unsubscribe()}}).pipe(wt()))}function o_(t){return t.ownerDocument}function el(t){return t instanceof Function?t():t}let u_=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Fe({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Ff(t){for(;t;){t[nr]|=64;const n=W(t);if(Et(t)&&!n)return t;t=n}return null}const l_=new On("",{providedIn:"root",factory:()=>!1});let e=null;function r(t,n){return t[n]??m()}function s(t,n){const i=m();i.producerNode?.length&&(t[n]=e,i.lView=t,e=f())}const u={...En,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ff(t.lView)},lView:null};function f(){return Object.create(u)}function m(){return e??=f(),e}const C={};function O(t){$(jr(),Vt(),to()+t,!1)}function $(t,n,i,o){if(!o)if(3==(3&n[nr])){const h=t.preOrderCheckHooks;null!==h&&ud(n,h,i)}else{const h=t.preOrderHooks;null!==h&&Uo(n,h,0,i)}Ao(i)}function ie(t,n=fn.Default){const i=Vt();return null===i?qt(t,n):hp(ls(),i,ke(t),n)}function he(){throw new Error("invalid")}function pt(t,n,i,o,l,h,_,T,R,U,re){const ge=n.blueprint.slice();return ge[qr]=l,ge[nr]=140|o,(null!==U||t&&2048&t[nr])&&(ge[nr]|=2048),hl(ge),ge[Er]=ge[xs]=t,ge[qn]=i,ge[rs]=_||t&&t[rs],ge[jn]=T||t&&t[jn],ge[ui]=R||t&&t[ui]||null,ge[lr]=h,ge[ws]=function vm(){return Xh++}(),ge[ps]=re,ge[jo]=U,ge[Nn]=2==n.type?t[Nn]:ge,ge}function Ot(t,n,i,o,l){let h=t.data[n];if(null===h)h=function Jt(t,n,i,o,l){const h=Sa(),_=ca(),R=t.data[n]=function pu(t,n,i,o,l,h){let _=n?n.injectorIndex:-1,T=0;return bo()&&(T|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:T,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,i,n,o,l);return null===t.firstChild&&(t.firstChild=R),null!==h&&(_?null==h.child&&null!==R.parent&&(h.child=R):null===h.next&&(h.next=R,R.prev=h)),R}(t,n,i,o,l),function I(){return cr.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=i,h.value=o,h.attrs=l;const _=function la(){const t=cr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return eo(h,!0),h}function Gt(t,n,i,o){if(0===i)return-1;const l=n.length;for(let h=0;h<i;h++)n.push(o),t.blueprint.push(o),t.data.push(null);return l}function Un(t,n,i,o,l){const h=r(n,yo),_=to(),T=2&o;try{Ao(-1),T&&n.length>ir&&$(t,n,ir,!1),To(T?2:0,l);const U=T?h:null,re=li(U);try{null!==U&&(U.dirty=!1),i(o,l)}finally{Ei(U,re)}}finally{T&&null===n[yo]&&s(n,yo),Ao(_),To(T?3:1,l)}}function rr(t,n,i){if(q(n)){const o=Ze(null);try{const h=n.directiveEnd;for(let _=n.directiveStart;_<h;_++){const T=t.data[_];T.contentQueries&&T.contentQueries(1,i[_],_)}}finally{Ze(o)}}}function zn(t,n,i){uc()&&(function ah(t,n,i,o){const l=i.directiveStart,h=i.directiveEnd;fe(i)&&function p_(t,n,i){const o=os(n,t),l=hi(i);let _=16;i.signals?_=4096:i.onPush&&(_=64);const T=Bc(t,pt(t,l,null,_,o,n,null,t[rs].rendererFactory.createRenderer(o,i),null,null,null));t[n.index]=T}(n,i,t.data[l+i.componentOffset]),t.firstCreatePass||ga(i,n),Yi(o,n);const _=i.initialInputs;for(let T=l;T<h;T++){const R=t.data[T],U=ma(n,t,T,i);Yi(U,n),null!==_&&g_(0,T-l,U,R,0,_),Ke(R)&&(co(i.index,n)[qn]=ma(n,t,T,i))}}(t,n,i,os(i,n)),64==(64&i.flags)&&f_(t,n,i))}function Ir(t,n,i=os){const o=n.localNames;if(null!==o){let l=n.index+1;for(let h=0;h<o.length;h+=2){const _=o[h+1],T=-1===_?i(n,t):t[_];t[l++]=T}}}function hi(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Lr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Lr(t,n,i,o,l,h,_,T,R,U,re){const ge=ir+o,ze=ge+l,nt=function et(t,n){const i=[];for(let o=0;o<n;o++)i.push(o<t?null:C);return i}(ge,ze),Mt="function"==typeof U?U():U;return nt[ln]={type:t,blueprint:nt,template:i,queries:null,viewQuery:T,declTNode:n,data:nt.slice().fill(null,ge),bindingStartIndex:ge,expandoStartIndex:ze,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:R,consts:Mt,incompleteFirstPass:!1,ssrId:re}}let tt=t=>null;function Lc(t,n,i,o){for(let l in t)if(t.hasOwnProperty(l)){i=null===i?{}:i;const h=t[l];null===o?c_(i,n,l,h):o.hasOwnProperty(l)&&c_(i,n,o[l],h)}return i}function c_(t,n,i,o){t.hasOwnProperty(i)?t[i].push(n,o):t[i]=[n,o]}function Ro(t,n,i,o,l,h,_,T){const R=os(n,i);let re,U=n.inputs;!T&&null!=U&&(re=U[o])?(Uf(t,i,re,o,l),fe(n)&&function d_(t,n){const i=co(n,t);16&i[nr]||(i[nr]|=64)}(i,n.index)):3&n.type&&(o=function sh(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),l=null!=_?_(l,n.value||"",o):l,h.setProperty(R,o,l))}function oo(t,n,i,o){if(uc()){const l=null===o?null:{"":-1},h=function Lf(t,n){const i=t.directiveRegistry;let o=null,l=null;if(i)for(let h=0;h<i.length;h++){const _=i[h];if(Ms(n,_.selectors,!1))if(o||(o=[]),Ke(_))if(null!==_.findHostDirectiveDefs){const T=[];l=l||new Map,_.findHostDirectiveDefs(_,T,l),o.unshift(...T,_),Uc(t,n,T.length)}else o.unshift(_),Uc(t,n,0);else l=l||new Map,_.findHostDirectiveDefs?.(_,o,l),o.push(_)}return null===o?null:[o,l]}(t,i);let _,T;null===h?_=T=null:[_,T]=h,null!==_&&h_(t,n,i,_,l,T),l&&function _g(t,n,i){if(n){const o=t.localNames=[];for(let l=0;l<n.length;l+=2){const h=i[n[l+1]];if(null==h)throw new De(-301,!1);o.push(n[l],h)}}}(i,o,l)}i.mergedAttrs=yi(i.mergedAttrs,i.attrs)}function h_(t,n,i,o,l,h){for(let U=0;U<o.length;U++)_l(ga(i,n),t,o[U].type);!function vg(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,o.length);for(let U=0;U<o.length;U++){const re=o[U];re.providersResolver&&re.providersResolver(re)}let _=!1,T=!1,R=Gt(t,n,o.length,null);for(let U=0;U<o.length;U++){const re=o[U];i.mergedAttrs=yi(i.mergedAttrs,re.hostAttrs),Eg(t,i,n,R,re),yg(R,re,l),null!==re.contentQueries&&(i.flags|=4),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(i.flags|=64);const ge=re.type.prototype;!_&&(ge.ngOnChanges||ge.ngOnInit||ge.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),_=!0),!T&&(ge.ngOnChanges||ge.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),T=!0),R++}!function ih(t,n,i){const l=n.directiveEnd,h=t.data,_=n.attrs,T=[];let R=null,U=null;for(let re=n.directiveStart;re<l;re++){const ge=h[re],ze=i?i.get(ge):null,Mt=ze?ze.outputs:null;R=Lc(ge.inputs,re,R,ze?ze.inputs:null),U=Lc(ge.outputs,re,U,Mt);const Qt=null===R||null===_||qi(n)?null:Cg(R,re,_);T.push(Qt)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=8),R.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=T,n.inputs=R,n.outputs=U}(t,i,h)}function f_(t,n,i){const o=i.directiveStart,l=i.directiveEnd,h=i.index,_=function P(){return cr.lFrame.currentDirectiveIndex}();try{Ao(h);for(let T=o;T<l;T++){const R=t.data[T],U=n[T];L(T),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Gy(R,U)}}finally{Ao(-1),L(_)}}function Gy(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Uc(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function yg(t,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=t;Ke(n)&&(i[""]=t)}}function Eg(t,n,i,o,l){t.data[o]=l;const h=l.factory||(l.factory=k(l.type)),_=new Pa(h,Ke(l),ie);t.blueprint[o]=_,i[o]=_,function oh(t,n,i,o,l){const h=l.hostBindings;if(h){let _=t.hostBindingOpCodes;null===_&&(_=t.hostBindingOpCodes=[]);const T=~n.index;(function Hy(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(_)!=T&&_.push(T),_.push(i,o,h)}}(t,n,o,Gt(t,i,l.hostVars,C),l)}function Ia(t,n,i,o,l,h){const _=os(t,n);!function Ig(t,n,i,o,l,h,_){if(null==h)t.removeAttribute(n,l,i);else{const T=null==_?N(h):_(h,o||"",l);t.setAttribute(n,l,T,i)}}(n[jn],_,h,t.value,i,o,l)}function g_(t,n,i,o,l,h){const _=h[n];if(null!==_)for(let T=0;T<_.length;)Tg(o,i,_[T++],_[T++],_[T++])}function Tg(t,n,i,o,l){const h=Ze(null);try{const _=t.inputTransforms;null!==_&&_.hasOwnProperty(o)&&(l=_[o].call(n,l)),null!==t.setInput?t.setInput(n,l,i,o):n[o]=l}finally{Ze(h)}}function Cg(t,n,i){let o=null,l=0;for(;l<i.length;){const h=i[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===o&&(o=[]);const _=t[h];for(let T=0;T<_.length;T+=2)if(_[T]===n){o.push(h,_[T+1],i[l+1]);break}}l+=2}else l+=2;else l+=4}return o}function bg(t,n,i,o){return[t,!0,!1,n,null,0,o,i,null,null,null]}function m_(t,n){const i=t.contentQueries;if(null!==i)for(let o=0;o<i.length;o+=2){const h=i[o+1];if(-1!==h){const _=t.data[h];ht(i[o]),_.contentQueries(2,n[h],h)}}}function Bc(t,n){return t[Pi]?t[Xs][Ai]=n:t[Pi]=n,t[Xs]=n,n}function uh(t,n,i){ht(0);const o=Ze(null);try{n(t,i)}finally{Ze(o)}}function po(t){return t[Hi]||(t[Hi]=[])}function vo(t){return t.cleanup||(t.cleanup=[])}function lh(t,n,i){return(null===t||Ke(t))&&(i=function Ca(t){for(;Array.isArray(t);){if("object"==typeof t[Us])return t;t=t[qr]}return null}(i[n.index])),i[jn]}function wg(t,n){const i=t[ui],o=i?i.get(ql,null):null;o&&o.handleError(n)}function Uf(t,n,i,o,l){for(let h=0;h<i.length;){const _=i[h++],T=i[h++];Tg(t.data[_],n[_],o,T,l)}}function ch(t,n){const i=co(n,t),o=i[ln];!function y_(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(o,i);const l=i[qr];null!==l&&null===i[ps]&&(i[ps]=kc(l,i[ui])),Bf(o,i,i[qn])}function Bf(t,n,i){ur(n);try{const o=t.viewQuery;null!==o&&uh(1,o,i);const l=t.template;null!==l&&Un(t,n,l,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&m_(t,n),t.staticViewQueries&&uh(2,t.viewQuery,i);const h=t.components;null!==h&&function Ag(t,n){for(let i=0;i<n.length;i++)ch(t,n[i])}(n,h)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[nr]&=-5,Jo()}}let v_=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,o,l){const h=typeof Zone>"u"?null:Zone.current,_=function ms(t,n,i){const o=Object.create(Ds);i&&(o.consumerAllowSignalWrites=!0),o.fn=t,o.schedule=n;const l=_=>{o.cleanupFn=_};return o.ref={notify:()=>Jn(o),run:()=>{if(o.dirty=!1,o.hasRun&&!zi(o))return;o.hasRun=!0;const _=li(o);try{o.cleanupFn(),o.cleanupFn=Br,o.fn(l)}finally{Ei(o,_)}},cleanup:()=>o.cleanupFn()},o.ref}(i,U=>{this.all.has(U)&&this.queue.set(U,h)},l);let T;this.all.add(_),_.notify();const R=()=>{_.cleanup(),T?.(),this.all.delete(_),this.queue.delete(_)};return T=o?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[i,o]of this.queue)this.queue.delete(i),o?o.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Fe({token:t,providedIn:"root",factory:()=>new t})}}return t})();function jc(t,n,i){let o=i?t.styles:null,l=i?t.classes:null,h=0;if(null!==n)for(let _=0;_<n.length;_++){const T=n[_];"number"==typeof T?h=T:1==h?l=St(l,T):2==h&&(o=St(o,T+": "+n[++_]+";"))}i?t.styles=o:t.stylesWithoutHost=o,i?t.classes=l:t.classesWithoutHost=l}function $c(t,n,i,o,l=!1){for(;null!==i;){const h=n[i.index];null!==h&&o.push(Cr(h)),z(h)&&Dg(h,o);const _=i.type;if(8&_)$c(t,n,i.child,o);else if(32&_){const T=g(i,n);let R;for(;R=T();)o.push(R)}else if(16&_){const T=hf(n,i);if(Array.isArray(T))o.push(...T);else{const R=W(n[Nn]);$c(R[ln],R,T,o,!0)}}i=l?i.projectionNext:i.next}return o}function Dg(t,n){for(let i=xi;i<t.length;i++){const o=t[i],l=o[ln].firstChild;null!==l&&$c(o[ln],o,l,n)}t[vi]!==t[qr]&&n.push(t[vi])}function tl(t,n,i,o=!0){const l=n[rs],h=l.rendererFactory,_=l.afterRenderEventManager;h.begin?.(),_?.begin();try{nl(t,n,t.template,i)}catch(R){throw o&&wg(n,R),R}finally{h.end?.(),l.effectManager?.flush(),_?.end()}}function nl(t,n,i,o){const l=n[nr];if(256!=(256&l)){n[rs].effectManager?.flush(),ur(n);try{hl(n),function hc(t){return cr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Un(t,n,i,2,o);const _=3==(3&l);if(_){const U=t.preOrderCheckHooks;null!==U&&ud(n,U,null)}else{const U=t.preOrderHooks;null!==U&&Uo(n,U,0,null),Ya(n,0)}if(function jf(t){for(let n=yt(t);null!==n;n=$t(n)){if(!n[$o])continue;const i=n[is];for(let o=0;o<i.length;o++){wa(i[o])}}}(n),Rg(n,2),null!==t.contentQueries&&m_(t,n),_){const U=t.contentCheckHooks;null!==U&&ud(n,U)}else{const U=t.contentHooks;null!==U&&Uo(n,U,1),Ya(n,1)}!function Ve(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const o=r(n,Ns);try{for(let l=0;l<i.length;l++){const h=i[l];if(h<0)Ao(~h);else{const _=h,T=i[++l],R=i[++l];y(T,_),o.dirty=!1;const U=li(o);try{R(2,n[_])}finally{Ei(o,U)}}}}finally{null===n[Ns]&&s(n,Ns),Ao(-1)}}(t,n);const T=t.components;null!==T&&Pg(n,T,0);const R=t.viewQuery;if(null!==R&&uh(2,R,o),_){const U=t.viewCheckHooks;null!==U&&ud(n,U)}else{const U=t.viewHooks;null!==U&&Uo(n,U,2),Ya(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[nr]&=-73,Zs(n)}finally{Jo()}}}function Rg(t,n){for(let i=yt(t);null!==i;i=$t(i))for(let o=xi;o<i.length;o++)Hc(i[o],n)}function I_(t,n,i){Hc(co(n,t),i)}function Hc(t,n){if(!function Mh(t){return 128==(128&t[nr])}(t))return;const i=t[ln],o=t[nr];if(80&o&&0===n||1024&o||2===n)nl(i,t,i.template,t[qn]);else if(t[$i]>0){Rg(t,1);const l=i.components;null!==l&&Pg(t,l,1)}}function Pg(t,n,i){for(let o=0;o<n.length;o++)I_(t,n[o],i)}class qs{get rootNodes(){const n=this._lView,i=n[ln];return $c(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qn]}set context(n){this._lView[qn]=n}get destroyed(){return 256==(256&this._lView[nr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Er];if(z(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(uu(n,o),El(i,o))}this._attachedToViewContainer=!1}Gu(this._lView[ln],this._lView)}onDestroy(n){!function sc(t,n){if(256==(256&t[nr]))throw new De(911,!1);null===t[fs]&&(t[fs]=[]),t[fs].push(n)}(this._lView,n)}markForCheck(){Ff(this._cdRefInjectingView||this._lView)}detach(){this._lView[nr]&=-129}reattach(){this._lView[nr]|=128}detectChanges(){tl(this._lView[ln],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nf(t,n){Bd(t,n,n[jn],2,null,null)}(this._lView[ln],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=n}}class T_ extends qs{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;tl(n[ln],n,n[qn],!1)}checkNoChanges(){}get context(){return null}}class Gc extends Zu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=ar(n);return new za(i,this.ngModule)}}function zc(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class qy{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=ri(o);const l=this.injector.get(n,e_,o);return l!==e_||i===e_?l:this.parentInjector.get(n,i,o)}}class za extends Km{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=zc(n.inputs);if(null!==i)for(const l of o)i.hasOwnProperty(l.propName)&&(l.transform=i[l.propName]);return o}get outputs(){return zc(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Oo(t){return t.map(Ks).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,l){let h=(l=l||this.ngModule)instanceof du?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const _=h?new qy(n,h):n,T=_.get(dg,null);if(null===T)throw new De(407,!1);const ge={rendererFactory:T,sanitizer:_.get(Jm,null),effectManager:_.get(v_,null),afterRenderEventManager:_.get(u_,null)},ze=T.createRenderer(null,this.componentDef),nt=this.componentDef.selectors[0][0]||"div",Mt=o?function Me(t,n,i,o){const h=o.get(l_,!1)||i===er.ShadowDom,_=t.selectRootElement(n,h);return function Ge(t){tt(t)}(_),_}(ze,o,this.componentDef.encapsulation,_):Ba(ze,nt,function Wy(t){const n=t.toLowerCase();return"svg"===n?cl:"math"===n?"math":null}(nt)),Kn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let jt=null;null!==Mt&&(jt=kc(Mt,_,!0));const Dr=Lr(0,null,null,1,0,null,null,null,null,null,null),Qr=pt(null,Dr,null,Kn,null,null,ge,ze,_,null,jt);let Li,oa;ur(Qr);try{const nc=this.componentDef;let ap,Qv=null;nc.findHostDirectiveDefs?(ap=[],Qv=new Map,nc.findHostDirectiveDefs(nc,ap,Qv),ap.push(nc)):ap=[nc];const eD=function Qy(t,n){const i=t[ln],o=ir;return t[o]=n,Ot(i,o,2,"#host",null)}(Qr,Mt),tD=function $f(t,n,i,o,l,h,_){const T=l[ln];!function C_(t,n,i,o){for(const l of t)n.mergedAttrs=yi(n.mergedAttrs,l.hostAttrs);null!==n.mergedAttrs&&(jc(n,n.mergedAttrs,!0),null!==i&&Dm(o,i,n))}(o,t,n,_);let R=null;null!==n&&(R=kc(n,l[ui]));const U=h.rendererFactory.createRenderer(n,i);let re=16;i.signals?re=4096:i.onPush&&(re=64);const ge=pt(l,hi(i),null,re,l[t.index],t,h,U,null,null,R);return T.firstCreatePass&&Uc(T,t,o.length-1),Bc(l,ge),l[t.index]=ge}(eD,Mt,nc,ap,Qr,ge,ze);oa=Qa(Dr,ir),Mt&&function Hf(t,n,i,o){if(o)Wr(t,i,["ng-version",Zm.full]);else{const{attrs:l,classes:h}=function Es(t){const n=[],i=[];let o=1,l=2;for(;o<t.length;){let h=t[o];if("string"==typeof h)2===l?""!==h&&n.push(h,t[++o]):8===l&&i.push(h);else{if(!wi(l))break;l=h}o++}return{attrs:n,classes:i}}(n.selectors[0]);l&&Wr(t,i,l),h&&h.length>0&&Am(t,i,h.join(" "))}}(ze,nc,Mt,o),void 0!==i&&function rl(t,n,i){const o=t.projection=[];for(let l=0;l<n.length;l++){const h=i[l];o.push(null!=h?Array.from(h):null)}}(oa,this.ngContentSelectors,i),Li=function Mg(t,n,i,o,l,h){const _=ls(),T=l[ln],R=os(_,l);h_(T,l,_,i,null,o);for(let re=0;re<i.length;re++)Yi(ma(l,T,_.directiveStart+re,_),l);f_(T,l,_),R&&Yi(R,l);const U=ma(l,T,_.directiveStart+_.componentOffset,_);if(t[qn]=l[qn]=U,null!==h)for(const re of h)re(U,n);return rr(T,_,t),U}(tD,nc,ap,Qv,Qr,[b_]),Bf(Dr,Qr,null)}finally{Jo()}return new Ky(this.componentType,Li,eh(oa,Qr),Qr,oa)}}class Ky extends Of{constructor(n,i,o,l,h){super(),this.location=o,this._rootLView=l,this._tNode=h,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new T_(l),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let l;if(null!==o&&(l=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const h=this._rootLView;Uf(h[ln],h,l,n,i),this.previousInputValues.set(n,i),Ff(co(this._tNode.index,h))}}get injector(){return new ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function b_(){const t=ls();Xa(Vt()[ln],t)}function dh(t){let n=function Og(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const o=[t];for(;n;){let l;if(Ke(t))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new De(903,!1);l=n.\u0275dir}if(l){if(i){o.push(l);const _=t;_.inputs=hh(t.inputs),_.inputTransforms=hh(t.inputTransforms),_.declaredInputs=hh(t.declaredInputs),_.outputs=hh(t.outputs);const T=l.hostBindings;T&&Gf(t,T);const R=l.viewQuery,U=l.contentQueries;if(R&&w_(t,R),U&&Xy(t,U),dt(t.inputs,l.inputs),dt(t.declaredInputs,l.declaredInputs),dt(t.outputs,l.outputs),null!==l.inputTransforms&&(null===_.inputTransforms&&(_.inputTransforms={}),dt(_.inputTransforms,l.inputTransforms)),Ke(l)&&l.data.animation){const re=t.data;re.animation=(re.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let _=0;_<h.length;_++){const T=h[_];T&&T.ngInherit&&T(t),T===dh&&(i=!1)}}n=Object.getPrototypeOf(n)}!function xg(t){let n=0,i=null;for(let o=t.length-1;o>=0;o--){const l=t[o];l.hostVars=n+=l.hostVars,l.hostAttrs=yi(l.hostAttrs,i=yi(i,l.hostAttrs))}}(o)}function hh(t){return t===fr?{}:t===Dn?[]:t}function w_(t,n){const i=t.viewQuery;t.viewQuery=i?(o,l)=>{n(o,l),i(o,l)}:n}function Xy(t,n){const i=t.contentQueries;t.contentQueries=i?(o,l,h)=>{n(o,l,h),i(o,l,h)}:n}function Gf(t,n){const i=t.hostBindings;t.hostBindings=i?(o,l)=>{n(o,l),i(o,l)}:n}function Wf(t){const n=t.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const l=n[o];Array.isArray(l)&&l[2]&&(i[o]=l[2])}t.inputTransforms=i}function ph(t){return!!Fg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Fg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ta(t,n,i){return t[n]=i}function Ss(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Po(t,n,i,o){const l=Ss(t,n,i);return Ss(t,n+1,o)||l}function qf(t,n,i,o){const l=Vt();return Ss(l,Ra(),n)&&(jr(),Ia(Fi(),l,t,n,i,o)),qf}function mu(t,n,i,o){return Ss(t,Ra(),i)?n+N(i)+o:C}function Wa(t,n,i,o,l,h){const T=Po(t,function wo(){return cr.lFrame.bindingIndex}(),i,l);return Bs(2),T?n+N(i)+o+N(l)+h:C}function Ch(t,n,i,o,l,h,_,T){const R=Vt(),U=jr(),re=t+ir,ge=U.firstCreatePass?function U_(t,n,i,o,l,h,_,T,R){const U=n.consts,re=Ot(n,t,4,_||null,zo(U,T));oo(n,i,re,zo(U,R)),Xa(n,re);const ge=re.tView=Lr(2,re,o,l,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,U,null);return null!==n.queries&&(n.queries.template(n,re),ge.queries=n.queries.embeddedTView(re)),re}(re,U,R,n,i,o,l,h,_):U.data[re];eo(ge,!1);const ze=qg(U,R,ge,t);Do()&&df(U,R,ze,ge),Yi(ze,R),Bc(R,R[re]=bg(ze,R,ze,ge)),Ce(ge)&&zn(U,R,ge),null!=_&&Ir(R,ge,T)}let qg=function Kg(t,n,i,o){return Wo(!0),n[jn].createComment("")};function Qg(t){return ba(function Au(){return cr.lFrame.contextLView}(),ir+t)}function Zf(t,n,i){const o=Vt();return Ss(o,Ra(),n)&&Ro(jr(),Fi(),o,t,n,o[jn],i,!1),Zf}function Zc(t,n,i,o,l){const _=l?"class":"style";Uf(t,i,n.inputs[_],_,o)}function bh(t,n,i,o){const l=Vt(),h=jr(),_=ir+t,T=l[jn],R=h.firstCreatePass?function Ko(t,n,i,o,l,h){const _=n.consts,R=Ot(n,t,2,o,zo(_,l));return oo(n,i,R,zo(_,h)),null!==R.attrs&&jc(R,R.attrs,!1),null!==R.mergedAttrs&&jc(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(_,h,l,n,i,o):h.data[_],U=p(h,l,R,T,n,t);l[_]=U;const re=Ce(R);return eo(R,!0),Dm(T,U,R),32!=(32&R.flags)&&Do()&&df(h,l,U,R),0===function Da(){return cr.lFrame.elementDepthCount}()&&Yi(U,l),function Co(){cr.lFrame.elementDepthCount++}(),re&&(zn(h,l,R),rr(h,R,l)),null!==o&&Ir(l,R),bh}function wh(){let t=ls();ca()?fl():(t=t.parent,eo(t,!1));const n=t;(function lc(t){return cr.skipHydrationRootTNode===t})(n)&&function id(){cr.skipHydrationRootTNode=null}(),function ac(){cr.lFrame.elementDepthCount--}();const i=jr();return i.firstCreatePass&&(Xa(i,t),q(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function pc(t){return 0!=(8&t.flags)}(n)&&Zc(i,n,Vt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function gl(t){return 0!=(16&t.flags)}(n)&&Zc(i,n,Vt(),n.stylesWithoutHost,!1),wh}function ol(t,n,i,o){return bh(t,n,i,o),wh(),ol}let p=(t,n,i,o,l,h)=>(Wo(!0),Ba(o,l,function pl(){return cr.lFrame.currentNamespace}()));function lt(t,n,i){const o=Vt(),l=jr(),h=t+ir,_=l.firstCreatePass?function le(t,n,i,o,l){const h=n.consts,_=zo(h,o),T=Ot(n,t,8,"ng-container",_);return null!==_&&jc(T,_,!0),oo(n,i,T,zo(h,l)),null!==n.queries&&n.queries.elementStart(n,T),T}(h,l,o,n,i):l.data[h];eo(_,!0);const T=Oi(l,o,_,t);return o[h]=T,Do()&&df(l,o,T,_),Yi(T,o),Ce(_)&&(zn(l,o,_),rr(l,_,o)),null!=i&&Ir(o,_),lt}function Ct(){let t=ls();const n=jr();return ca()?fl():(t=t.parent,eo(t,!1)),n.firstCreatePass&&(Xa(n,t),q(t)&&n.queries.elementEnd(t)),Ct}function vn(t,n,i){return lt(t,n,i),Ct(),vn}let Oi=(t,n,i,o)=>(Wo(!0),qo(n[jn],""));function mo(){return Vt()}function ao(t){return!!t&&"function"==typeof t.then}function tc(t){return!!t&&"function"==typeof t.subscribe}function Qo(t,n,i,o){const l=Vt(),h=jr(),_=ls();return function DE(t,n,i,o,l,h,_){const T=Ce(o),U=t.firstCreatePass&&vo(t),re=n[qn],ge=po(n);let ze=!0;if(3&o.type||_){const Qt=os(o,n),wn=_?_(Qt):Qt,Kn=ge.length,jt=_?Qr=>_(Cr(Qr[o.index])):o.index;let Dr=null;if(!_&&T&&(Dr=function Xg(t,n,i,o){const l=t.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const _=l[h];if(_===i&&l[h+1]===o){const T=n[Hi],R=l[h+2];return T.length>R?T[R]:null}"string"==typeof _&&(h+=2)}return null}(t,n,l,o.index)),null!==Dr)(Dr.__ngLastListenerFn__||Dr).__ngNextListenerFn__=h,Dr.__ngLastListenerFn__=h,ze=!1;else{h=RE(o,n,re,h,!1);const Qr=i.listen(wn,l,h);ge.push(h,Qr),U&&U.push(l,jt,Kn,Kn+1)}}else h=RE(o,n,re,h,!1);const nt=o.outputs;let Mt;if(ze&&null!==nt&&(Mt=nt[l])){const Qt=Mt.length;if(Qt)for(let wn=0;wn<Qt;wn+=2){const Li=n[Mt[wn]][Mt[wn+1]].subscribe(h),oa=ge.length;ge.push(h,Li),U&&U.push(l,o.index,oa,-(oa+1))}}}(h,l,l[jn],_,t,n,o),Qo}function SE(t,n,i,o){try{return To(6,n,i),!1!==i(o)}catch(l){return wg(t,l),!1}finally{To(7,n,i)}}function RE(t,n,i,o,l){return function h(_){if(_===Function)return o;Ff(t.componentOffset>-1?co(t.index,n):n);let R=SE(n,i,o,_),U=h.__ngNextListenerFn__;for(;U;)R=SE(n,i,U,_)&&R,U=U.__ngNextListenerFn__;return l&&!1===R&&_.preventDefault(),R}}function PE(t=1){return function ha(t){return(cr.lFrame.contextLView=function Lo(t,n){for(;t>0;)n=n[xs],t--;return n}(t,cr.lFrame.contextLView))[qn]}(t)}function j0(t,n){let i=null;const o=function es(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let l=0;l<n.length;l++){const h=n[l];if("*"!==h){if(null===o?Ms(t,h,!0):uo(o,h))return l}else i=l}return i}function ME(t){const n=Vt()[Nn][lr];if(!n.projection){const o=n.projection=ku(t?t.length:1,null),l=o.slice();let h=n.child;for(;null!==h;){const _=t?j0(h,t):0;null!==_&&(l[_]?l[_].projectionNext=h:o[_]=h,l[_]=h),h=h.next}}}function OE(t,n=0,i){const o=Vt(),l=jr(),h=Ot(l,ir+t,16,null,i||null);null===h.projection&&(h.projection=n),fl(),(!o[ps]||bo())&&32!=(32&h.flags)&&function xp(t,n,i){ja(n[jn],0,n,i,Fd(t,i,n),uf(i.parent||n[lr],i,n))}(l,o,h)}function tv(t,n,i){return nv(t,"",n,"",i),tv}function nv(t,n,i,o,l){const h=Vt(),_=mu(h,n,i,o);return _!==C&&Ro(jr(),Fi(),h,t,_,h[jn],l,!1),nv}function rv(t,n,i,o,l,h,_){const T=Vt(),R=Wa(T,n,i,o,l,h);return R!==C&&Ro(jr(),Fi(),T,t,R,T[jn],_,!1),rv}function $_(t,n){return t<<17|n<<2}function ed(t){return t>>17&32767}function iv(t){return 2|t}function Dh(t){return(131068&t)>>2}function sv(t,n){return-131069&t|n<<2}function ov(t){return 1|t}function BE(t,n,i,o,l){const h=t[i+1],_=null===n;let T=o?ed(h):Dh(h),R=!1;for(;0!==T&&(!1===R||_);){const re=t[T+1];q0(t[T],n)&&(R=!0,t[T+1]=o?ov(re):iv(re)),T=o?ed(re):Dh(re)}R&&(t[i+1]=o?iv(h):ov(h))}function q0(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ua(t,n)>=0}const _o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jE(t){return t.substring(_o.key,_o.keyEnd)}function $E(t,n){const i=_o.textEnd;return i===n?-1:(n=_o.keyEnd=function Y0(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,_o.key=n,i),ep(t,n,i))}function ep(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function av(t,n,i){return vu(t,n,i,!1),av}function uv(t,n){return vu(t,n,null,!0),uv}function qE(t){!function Eu(t,n,i,o){const l=jr(),h=Bs(2);l.firstUpdatePass&&QE(l,null,h,o);const _=Vt();if(i!==C&&Ss(_,h,i)){const T=l.data[to()];if(ZE(T,o)&&!KE(l,h)){let R=o?T.classesWithoutHost:T.stylesWithoutHost;null!==R&&(i=St(R,i||"")),Zc(l,T,_,i,o)}else!function aC(t,n,i,o,l,h,_,T){l===C&&(l=Dn);let R=0,U=0,re=0<l.length?l[0]:null,ge=0<h.length?h[0]:null;for(;null!==re||null!==ge;){const ze=R<l.length?l[R+1]:void 0,nt=U<h.length?h[U+1]:void 0;let Qt,Mt=null;re===ge?(R+=2,U+=2,ze!==nt&&(Mt=ge,Qt=nt)):null===ge||null!==re&&re<ge?(R+=2,Mt=re):(U+=2,Mt=ge,Qt=nt),null!==Mt&&YE(t,n,i,o,Mt,Qt,_,T),re=R<l.length?l[R]:null,ge=U<h.length?h[U]:null}}(l,T,_,_[jn],_[h+1],_[h+1]=function sC(t,n,i){if(null==i||""===i)return Dn;const o=[],l=Ha(i);if(Array.isArray(l))for(let h=0;h<l.length;h++)t(o,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&t(o,h,l[h]);else"string"==typeof l&&n(o,l);return o}(t,n,i),o,h)}}(oC,ul,t,!0)}function ul(t,n){for(let i=function Q0(t){return function GE(t){_o.key=0,_o.keyEnd=0,_o.value=0,_o.valueEnd=0,_o.textEnd=t.length}(t),$E(t,ep(t,0,_o.textEnd))}(n);i>=0;i=$E(n,i))ho(t,jE(n),!0)}function vu(t,n,i,o){const l=Vt(),h=jr(),_=Bs(2);h.firstUpdatePass&&QE(h,t,_,o),n!==C&&Ss(l,_,n)&&YE(h,h.data[to()],l,l[jn],t,l[_+1]=function uC(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=gt(Ha(t)))),t}(n,i),o,_)}function KE(t,n){return n>=t.expandoStartIndex}function QE(t,n,i,o){const l=t.data;if(null===l[i+1]){const h=l[to()],_=KE(t,i);ZE(h,o)&&null===n&&!_&&(n=!1),n=function tC(t,n,i,o){const l=se(t);let h=o?n.residualClasses:n.residualStyles;if(null===l)0===(o?n.classBindings:n.styleBindings)&&(i=Yg(i=lv(null,t,n,i,o),n.attrs,o),h=null);else{const _=n.directiveStylingLast;if(-1===_||t[_]!==l)if(i=lv(l,t,n,i,o),null===h){let R=function nC(t,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==Dh(o))return t[ed(o)]}(t,n,o);void 0!==R&&Array.isArray(R)&&(R=lv(null,t,n,R[1],o),R=Yg(R,n.attrs,o),function rC(t,n,i,o){t[ed(i?n.classBindings:n.styleBindings)]=o}(t,n,o,R))}else h=function iC(t,n,i){let o;const l=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<l;h++)o=Yg(o,t[h].hostAttrs,i);return Yg(o,n.attrs,i)}(t,n,o)}return void 0!==h&&(o?n.residualClasses=h:n.residualStyles=h),i}(l,h,n,o),function z0(t,n,i,o,l,h){let _=h?n.classBindings:n.styleBindings,T=ed(_),R=Dh(_);t[o]=i;let re,U=!1;if(Array.isArray(i)?(re=i[1],(null===re||Ua(i,re)>0)&&(U=!0)):re=i,l)if(0!==R){const ze=ed(t[T+1]);t[o+1]=$_(ze,T),0!==ze&&(t[ze+1]=sv(t[ze+1],o)),t[T+1]=function H0(t,n){return 131071&t|n<<17}(t[T+1],o)}else t[o+1]=$_(T,0),0!==T&&(t[T+1]=sv(t[T+1],o)),T=o;else t[o+1]=$_(R,0),0===T?T=o:t[R+1]=sv(t[R+1],o),R=o;U&&(t[o+1]=iv(t[o+1])),BE(t,re,o,!0),BE(t,re,o,!1),function W0(t,n,i,o,l){const h=l?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&Ua(h,n)>=0&&(i[o+1]=ov(i[o+1]))}(n,re,t,o,h),_=$_(T,R),h?n.classBindings=_:n.styleBindings=_}(l,h,n,i,_,o)}}function lv(t,n,i,o,l){let h=null;const _=i.directiveEnd;let T=i.directiveStylingLast;for(-1===T?T=i.directiveStart:T++;T<_&&(h=n[T],o=Yg(o,h.hostAttrs,l),h!==t);)T++;return null!==t&&(i.directiveStylingLast=T),o}function Yg(t,n,i){const o=i?1:2;let l=-1;if(null!==n)for(let h=0;h<n.length;h++){const _=n[h];"number"==typeof _?l=_:l===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ho(t,_,!!i||n[++h]))}return void 0===t?null:t}function oC(t,n,i){const o=String(n);""!==o&&!o.includes(" ")&&ho(t,o,i)}function YE(t,n,i,o,l,h,_,T){if(!(3&n.type))return;const R=t.data,U=R[T+1],re=function G0(t){return 1==(1&t)}(U)?JE(R,n,i,l,Dh(U),_):void 0;H_(re)||(H_(h)||function $0(t){return 2==(2&t)}(U)&&(h=JE(R,null,i,l,T,_)),function ly(t,n,i,o,l){if(n)l?t.addClass(i,o):t.removeClass(i,o);else{let h=-1===o.indexOf("-")?void 0:Md.DashCase;null==l?t.removeStyle(i,o,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Md.Important),t.setStyle(i,o,l,h))}}(o,_,ua(to(),i),l,h))}function JE(t,n,i,o,l,h){const _=null===n;let T;for(;l>0;){const R=t[l],U=Array.isArray(R),re=U?R[1]:R,ge=null===re;let ze=i[l+1];ze===C&&(ze=ge?Dn:void 0);let nt=ge?ru(ze,o):re===o?ze:void 0;if(U&&!H_(nt)&&(nt=ru(R,o)),H_(nt)&&(T=nt,_))return T;const Mt=t[l+1];l=_?ed(Mt):Dh(Mt)}if(null!==n){let R=h?n.residualClasses:n.residualStyles;null!=R&&(T=ru(R,o))}return T}function H_(t){return void 0!==t}function ZE(t,n){return 0!=(t.flags&(n?8:16))}function eI(t,n=""){const i=Vt(),o=jr(),l=t+ir,h=o.firstCreatePass?Ot(o,l,1,n,null):o.data[l],_=tI(o,i,h,n,t);i[l]=_,Do()&&df(o,i,_,h),eo(h,!1)}let tI=(t,n,i,o,l)=>(Wo(!0),function kr(t,n){return t.createText(n)}(n[jn],o));function cv(t){return G_("",t,""),cv}function G_(t,n,i){const o=Vt(),l=mu(o,t,n,i);return l!==C&&function gu(t,n,i){const o=ua(n,t);!function io(t,n,i){t.setValue(n,i)}(t[jn],o,i)}(o,to(),l),G_}function dv(t,n,i){const o=Vt();return Ss(o,Ra(),n)&&Ro(jr(),Fi(),o,t,n,o[jn],i,!0),dv}function hv(t,n,i){const o=Vt();if(Ss(o,Ra(),n)){const h=jr(),_=Fi();Ro(h,_,o,t,n,lh(se(h.data),_,o),i,!0)}return hv}const Sh=void 0;var PC=["en",[["a","p"],["AM","PM"],Sh],[["AM","PM"],Sh,Sh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sh,"{1} 'at' {0}",Sh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function RC(t){const i=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let tp={};function fv(t){const n=function MC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=EI(n);if(i)return i;const o=n.split("-")[0];if(i=EI(o),i)return i;if("en"===o)return PC;throw new De(701,!1)}function vI(t){return fv(t)[np.PluralCase]}function EI(t){return t in tp||(tp[t]=nn.ng&&nn.ng.common&&nn.ng.common.locales&&nn.ng.common.locales[t]),tp[t]}var np=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(np||{});const rp="en-US";let II=rp;function mv(t,n,i,o,l){if(t=ke(t),Array.isArray(t))for(let h=0;h<t.length;h++)mv(t[h],n,i,o,l);else{const h=jr(),_=Vt(),T=ls();let R=qu(t)?t:ke(t.provide);const U=Mc(t),re=1048575&T.providerIndexes,ge=T.directiveStart,ze=T.providerIndexes>>20;if(qu(t)||!t.multi){const nt=new Pa(U,l,ie),Mt=yv(R,n,l?re:re+ze,ge);-1===Mt?(_l(ga(T,_),h,R),_v(h,t,n.length),n.push(R),T.directiveStart++,T.directiveEnd++,l&&(T.providerIndexes+=1048576),i.push(nt),_.push(nt)):(i[Mt]=nt,_[Mt]=nt)}else{const nt=yv(R,n,re+ze,ge),Mt=yv(R,n,re,re+ze),wn=Mt>=0&&i[Mt];if(l&&!wn||!l&&!(nt>=0&&i[nt])){_l(ga(T,_),h,R);const Kn=function Rb(t,n,i,o,l){const h=new Pa(t,i,ie);return h.multi=[],h.index=n,h.componentProviders=0,WI(h,l,o&&!i),h}(l?Sb:Db,i.length,l,o,U);!l&&wn&&(i[Mt].providerFactory=Kn),_v(h,t,n.length,0),n.push(R),T.directiveStart++,T.directiveEnd++,l&&(T.providerIndexes+=1048576),i.push(Kn),_.push(Kn)}else _v(h,t,nt>-1?nt:Mt,WI(i[l?Mt:nt],U,!l&&o));!l&&o&&wn&&i[Mt].componentProviders++}}}function _v(t,n,i,o){const l=qu(n),h=function nE(t){return!!t.useClass}(n);if(l||h){const R=(h?ke(n.useClass):n).prototype.ngOnDestroy;if(R){const U=t.destroyHooks||(t.destroyHooks=[]);if(!l&&n.multi){const re=U.indexOf(i);-1===re?U.push(i,[o,R]):U[re+1].push(o,R)}else U.push(i,R)}}}function WI(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function yv(t,n,i,o){for(let l=i;l<o;l++)if(n[l]===t)return l;return-1}function Db(t,n,i,o){return vv(this.multi,[])}function Sb(t,n,i,o){const l=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,T=ma(i,i[ln],this.providerFactory.index,o);h=T.slice(0,_),vv(l,h);for(let R=_;R<T.length;R++)h.push(T[R])}else h=[],vv(l,h);return h}function vv(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function qI(t,n=[]){return i=>{i.providersResolver=(o,l)=>function Ab(t,n,i){const o=jr();if(o.firstCreatePass){const l=Ke(t);mv(i,o.data,o.blueprint,l,!0),mv(n,o.data,o.blueprint,l,!1)}}(o,l?l(t):t,n)}}class Rh{}class KI{}function Pb(t,n){return new Ev(t,n??null,[])}class Ev extends Rh{constructor(n,i,o){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gc(this);const l=ci(n);this._bootstrapComponents=el(l.bootstrap),this._r3Injector=Ry(n,i,[{provide:Rh,useValue:this},{provide:Zu,useValue:this.componentFactoryResolver},...o],gt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Iv extends KI{constructor(n){super(),this.moduleType=n}create(n){return new Ev(this.moduleType,n,[])}}class QI extends Rh{constructor(n){super(),this.componentFactoryResolver=new Gc(this),this.instance=null;const i=new Hd([...n.providers,{provide:Rh,useValue:this},{provide:Zu,useValue:this.componentFactoryResolver}],n.parent||ig(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function XI(t,n,i=null){return new QI({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let Ob=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const o=ng(0,i.type),l=o.length>0?XI([o],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,l)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Fe({token:t,providedIn:"environment",factory:()=>new t(qt(du))})}}return t})();function YI(t){t.getStandaloneInjector=n=>n.get(Ob).getOrCreateStandaloneInjector(t)}function iT(t,n,i){const o=_s()+t,l=Vt();return l[o]===C?Ta(l,o,i?n.call(i):n()):function gh(t,n){return t[n]}(l,o)}function sT(t,n,i,o){return aT(Vt(),_s(),t,n,i,o)}function oT(t,n,i,o,l){return function uT(t,n,i,o,l,h,_){const T=n+i;return Po(t,T,l,h)?Ta(t,T+2,_?o.call(_,l,h):o(l,h)):rm(t,T+2)}(Vt(),_s(),t,n,i,o,l)}function rm(t,n){const i=t[n];return i===C?void 0:i}function aT(t,n,i,o,l,h){const _=n+i;return Ss(t,_,l)?Ta(t,_+1,h?o.call(h,l):o(l)):rm(t,_+1)}function hT(t,n){const i=jr();let o;const l=t+ir;i.firstCreatePass?(o=function Kb(t,n){if(n)for(let i=n.length-1;i>=0;i--){const o=n[i];if(t===o.name)return o}}(n,i.pipeRegistry),i.data[l]=o,o.onDestroy&&(i.destroyHooks??=[]).push(l,o.onDestroy)):o=i.data[l];const h=o.factory||(o.factory=k(o.type)),T=Vr(ie);try{const R=pa(!1),U=h();return pa(R),function j_(t,n,i,o){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=o}(i,Vt(),l,U),U}finally{Vr(T)}}function fT(t,n,i){const o=t+ir,l=Vt(),h=ba(l,o);return function im(t,n){return t[ln].data[n].pure}(l,o)?aT(l,_s(),n,h.transform,i,h):h.transform(i)}function Zb(){return this._results[Symbol.iterator]()}class Cv{get changes(){return this._changes||(this._changes=new Bo)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Cv.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Zb)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const o=this;o.dirty=!1;const l=function So(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Uh(t,n,i){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let l=t[o],h=n[o];if(i&&(l=i(l),h=i(h)),h!==l)return!1}return!0}(o._results,l,i))&&(o._results=l,o.length=l.length,o.last=l[this.length-1],o.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tw(t,n,i,o=!0){const l=n[ln];if(function xl(t,n,i,o){const l=xi+o,h=i.length;o>0&&(i[l-1][Ai]=n),o<h-xi?(n[Ai]=i[l],Bh(i,xi+o,n)):(i.push(n),n[Ai]=null),n[Er]=i;const _=n[Tr];null!==_&&i!==_&&function sf(t,n){const i=t[is];n[Nn]!==n[Er][Er][Nn]&&(t[$o]=!0),null===i?t[is]=[n]:i.push(n)}(_,n);const T=n[ai];null!==T&&T.insertView(t),n[nr]|=128}(l,n,t,i),o){const h=Ld(i,t),_=n[jn],T=Vd(_,t[vi]);null!==T&&function kd(t,n,i,o,l,h){o[qr]=l,o[lr]=n,Bd(t,o,i,1,l,h)}(l,t[lr],_,n,T,h)}}let sm=(()=>{class t{static{this.__NG_ELEMENT_ID__=iw}}return t})();const nw=sm,rw=class extends nw{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const l=function ew(t,n,i,o){const l=n.tView,T=pt(t,l,i,4096&t[nr]?4096:16,null,n,null,null,null,o?.injector??null,o?.hydrationInfo??null);T[Tr]=t[n.index];const U=t[ai];return null!==U&&(T[ai]=U.createEmbeddedView(l)),Bf(l,T,i),T}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:o});return new qs(l)}};function iw(){return Q_(ls(),Vt())}function Q_(t,n){return 4&t.type?new rw(n,t,eh(t,n)):null}let Y_=(()=>{class t{static{this.__NG_ELEMENT_ID__=cw}}return t})();function cw(){return ET(ls(),Vt())}const dw=Y_,yT=class extends dw{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return eh(this._hostTNode,this._hostLView)}get injector(){return new ro(this._hostTNode,this._hostLView)}get parentInjector(){const n=ml(this._hostTNode,this._hostLView);if(gc(n)){const i=Su(n,this._hostLView),o=ea(n);return new ro(i[ln].data[o+8],i)}return new ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=vT(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-xi}createEmbeddedView(n,i,o){let l,h;"number"==typeof o?l=o:null!=o&&(l=o.index,h=o.injector);const T=n.createEmbeddedViewImpl(i||{},h,null);return this.insertImpl(T,l,false),T}createComponent(n,i,o,l,h){const _=n&&!function Nu(t){return"function"==typeof t}(n);let T;if(_)T=i;else{const Qt=i||{};T=Qt.index,o=Qt.injector,l=Qt.projectableNodes,h=Qt.environmentInjector||Qt.ngModuleRef}const R=_?n:new za(ar(n)),U=o||this.parentInjector;if(!h&&null==R.ngModule){const wn=(_?U:this.parentInjector).get(du,null);wn&&(h=wn)}ar(R.componentType??{});const nt=R.create(U,l,null,h);return this.insertImpl(nt.hostView,T,false),nt}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,o){const l=n._lView;if(function dl(t){return z(t[Er])}(l)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const U=l[Er],re=new yT(U,U[lr],U[Er]);re.detach(re.indexOf(n))}}const _=this._adjustIndex(i),T=this._lContainer;return tw(T,l,_,!o),n.attachToViewContainerRef(),Bh(bv(T),_,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=vT(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=uu(this._lContainer,i);o&&(El(bv(this._lContainer),i),Gu(o[ln],o))}detach(n){const i=this._adjustIndex(n,-1),o=uu(this._lContainer,i);return o&&null!=El(bv(this._lContainer),i)?new qs(o):null}_adjustIndex(n,i=0){return n??this.length+i}};function vT(t){return t[8]}function bv(t){return t[8]||(t[8]=[])}function ET(t,n){let i;const o=n[t.index];return z(o)?i=o:(i=bg(o,n,null,t),n[t.index]=i,Bc(n,i)),IT(i,n,t,o),new yT(i,t,n)}let IT=function TT(t,n,i,o){if(t[vi])return;let l;l=8&i.type?Cr(o):function hw(t,n){const i=t[jn],o=i.createComment(""),l=os(n,t);return lu(i,Vd(i,l),o,function uy(t,n){return t.nextSibling(n)}(i,l),!1),o}(n,i),t[vi]=l};class wv{constructor(n){this.queryList=n,this.matches=null}clone(){return new wv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Av{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,l=[];for(let h=0;h<o;h++){const _=i.getByIndex(h);l.push(this.queries[_.indexInDeclarationView].clone())}return new Av(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==MT(n,i).matches&&this.queries[i].setDirty()}}class CT{constructor(n,i,o=null){this.predicate=n,this.flags=i,this.read=o}}class Dv{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const l=null!==i?i.length:0,h=this.getByIndex(o).embeddedTView(n,l);h&&(h.indexInDeclarationView=o,null!==i?i.push(h):i=[h])}return null!==i?new Dv(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Sv{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Sv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let l=0;l<o.length;l++){const h=o[l];this.matchTNodeWithReadOption(n,i,gw(i,h)),this.matchTNodeWithReadOption(n,i,Pu(i,n,h,!1,!1))}else o===sm?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Pu(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const l=this.metadata.read;if(null!==l)if(l===Fc||l===Y_||l===sm&&4&i.type)this.addMatch(i.index,-2);else{const h=Pu(i,n,l,!1,!1);null!==h&&this.addMatch(i.index,h)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function gw(t,n){const i=t.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function _w(t,n,i,o){return-1===i?function mw(t,n){return 11&t.type?eh(t,n):4&t.type?Q_(t,n):null}(n,t):-2===i?function yw(t,n,i){return i===Fc?eh(n,t):i===sm?Q_(n,t):i===Y_?ET(n,t):void 0}(t,n,o):ma(t,t[ln],i,n)}function bT(t,n,i,o){const l=n[ai].queries[o];if(null===l.matches){const h=t.data,_=i.matches,T=[];for(let R=0;R<_.length;R+=2){const U=_[R];T.push(U<0?null:_w(n,h[U],_[R+1],i.metadata.read))}l.matches=T}return l.matches}function Rv(t,n,i,o){const l=t.queries.getByIndex(i),h=l.matches;if(null!==h){const _=bT(t,n,l,i);for(let T=0;T<h.length;T+=2){const R=h[T];if(R>0)o.push(_[T/2]);else{const U=h[T+1],re=n[-R];for(let ge=xi;ge<re.length;ge++){const ze=re[ge];ze[Tr]===ze[Er]&&Rv(ze[ln],ze,U,o)}if(null!==re[is]){const ge=re[is];for(let ze=0;ze<ge.length;ze++){const nt=ge[ze];Rv(nt[ln],nt,U,o)}}}}}return o}function wT(t){const n=Vt(),i=jr(),o=ye();ht(o+1);const l=MT(i,o);if(t.dirty&&function nd(t){return 4==(4&t[nr])}(n)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const h=l.crossesNgTemplate?Rv(i,n,o,[]):bT(i,n,l,o);t.reset(h,Qm),t.notifyOnChanges()}return!0}return!1}function AT(t,n,i){const o=jr();o.firstCreatePass&&(PT(o,new CT(t,n,i),-1),2==(2&n)&&(o.staticViewQueries=!0)),RT(o,Vt(),n)}function DT(t,n,i,o){const l=jr();if(l.firstCreatePass){const h=ls();PT(l,new CT(n,i,o),h.index),function Ew(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(l,t),2==(2&i)&&(l.staticContentQueries=!0)}RT(l,Vt(),i)}function ST(){return function vw(t,n){return t[ai].queries[n].queryList}(Vt(),ye())}function RT(t,n,i){const o=new Cv(4==(4&i));(function $e(t,n,i,o){const l=po(n);l.push(i),t.firstCreatePass&&vo(t).push(o,l.length-1)})(t,n,o,o.destroy),null===n[ai]&&(n[ai]=new Av),n[ai].queries.push(new wv(o))}function PT(t,n,i){null===t.queries&&(t.queries=new Dv),t.queries.track(new Sv(n,i))}function MT(t,n){return t.queries.getByIndex(n)}function OT(t,n){return Q_(t,n)}function Pv(t){return!!ci(t)}const QT=new On("Application Initializer");let kv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=un(QT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const l of this.appInits){const h=l();if(ao(h))i.push(h);else if(tc(h)){const _=new Promise((T,R)=>{h.subscribe({complete:T,error:R})});i.push(_)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(l=>{this.reject(l)}),0===i.length&&o(),this.initialized=!0}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),XT=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const Z_=new On("LocaleId",{providedIn:"root",factory:()=>un(Z_,fn.Optional|fn.SkipSelf)||function jw(){return typeof $localize<"u"&&$localize.locale||rp}()}),$w=new On("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let YT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pe.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Gw{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let zw=(()=>{class t{compileModuleSync(i){return new Iv(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const o=this.compileModuleSync(i),h=el(ci(i).declarations).reduce((_,T)=>{const R=ar(T);return R&&_.push(new za(R)),_},[]);return new Gw(o,h)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const t0=new On(""),n0=new On("");let Lv,fA=(()=>{class t{constructor(i,o,l){this._ngZone=i,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lv||(function pA(t){Lv=t}(l),l.addToWindow(o)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{so.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,l){let h=-1;o&&o>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),i(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:i,timeoutId:h,updateCb:l})}whenStable(i,o,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,o,l){return[]}static{this.\u0275fac=function(o){return new(o||t)(qt(so),qt(r0),qt(n0))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})(),r0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return Lv?.findTestabilityInTree(this,i,o)??null}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),td=null;const s0=new On("AllowMultipleToken"),Uv=new On("PlatformDestroyListeners"),Bv=new On("appBootstrapListener");class _A{constructor(n,i){this.name=n,this.token=i}}function u0(t,n,i=[]){const o=`Platform: ${n}`,l=new On(o);return(h=[])=>{let _=jv();if(!_||_.injector.get(s0,!1)){const T=[...i,...h,{provide:l,useValue:!0}];t?t(T):function yA(t){if(td&&!td.get(s0,!1))throw new De(400,!1);(function o0(){!function it(t){Te=t}(()=>{throw new De(600,!1)})})(),td=t;const n=t.get(c0);(function a0(t){t.get(zm,null)?.forEach(i=>i())})(t)}(function l0(t=[],n){return Ga.create({name:n,providers:[{provide:jm,useValue:"platform"},{provide:Uv,useValue:new Set([()=>td=null])},...t]})}(T,o))}return function EA(t){const n=jv();if(!n)throw new De(401,!1);return n}()}}function jv(){return td?.get(c0)??null}let c0=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,o){const l=function IA(t="zone.js",n){return"noop"===t?new Ly:"zone.js"===t?new so(n):t}(o?.ngZone,function d0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return l.run(()=>{const h=function Mb(t,n,i){return new Ev(t,n,i)}(i.moduleType,this.injector,function m0(t){return[{provide:so,useFactory:t},{provide:Ji,multi:!0,useFactory:()=>{const n=un(CA,{optional:!0});return()=>n.initialize()}},{provide:g0,useFactory:TA},{provide:i_,useFactory:s_}]}(()=>l)),_=h.injector.get(ql,null);return l.runOutsideAngular(()=>{const T=l.onError.subscribe({next:R=>{_.handleError(R)}});h.onDestroy(()=>{ty(this._modules,h),T.unsubscribe()})}),function h0(t,n,i){try{const o=i();return ao(o)?o.catch(l=>{throw n.runOutsideAngular(()=>t.handleError(l)),l}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(_,l,()=>{const T=h.injector.get(kv);return T.runInitializers(),T.donePromise.then(()=>(function TI(t){Wt(t,"Expected localeId to be defined"),"string"==typeof t&&(II=t.toLowerCase().replace(/_/g,"-"))}(h.injector.get(Z_,rp)||rp),this._moduleDoBootstrap(h),h))})})}bootstrapModule(i,o=[]){const l=f0({},o);return function gA(t,n,i){const o=new Iv(i);return Promise.resolve(o)}(0,0,i).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(i){const o=i.injector.get(op);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(l=>o.bootstrap(l));else{if(!i.instance.ngDoBootstrap)throw new De(-403,!1);i.instance.ngDoBootstrap(o)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const i=this._injector.get(Uv,null);i&&(i.forEach(o=>o()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(o){return new(o||t)(qt(Ga))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function f0(t,n){return Array.isArray(n)?n.reduce(f0,t):{...t,...n}}let op=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=un(g0),this.zoneIsStable=un(i_),this.componentTypes=[],this.components=[],this.isStable=un(YT).hasPendingTasks.pipe((0,rn.n)(i=>i?(0,me.of)(!1):this.zoneIsStable),function Zn(t,n=Xt.D){return t=t??hn,(0,At.N)((i,o)=>{let l,h=!0;i.subscribe((0,bn._)(o,_=>{const T=n(_);(h||!t(l,T))&&(h=!1,l=T,o.next(_))}))})}(),wt()),this._injector=un(du)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,o){const l=i instanceof Km;if(!this._injector.get(kv).done)throw!l&&Cs(i),new De(405,!1);let _;_=l?i:this._injector.get(Zu).resolveComponentFactory(i),this.componentTypes.push(_.componentType);const T=function mA(t){return t.isBoundToModule}(_)?void 0:this._injector.get(Rh),U=_.create(Ga.NULL,[],o||_.selector,T),re=U.location.nativeElement,ge=U.injector.get(t0,null);return ge?.registerApplication(re),U.onDestroy(()=>{this.detachView(U.hostView),ty(this.components,U),ge?.unregisterApplication(re)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;ty(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const o=this._injector.get(Bv,[]);o.push(...this._bootstrapListeners),o.forEach(l=>l(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>ty(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new De(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ty(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const g0=new On("",{providedIn:"root",factory:()=>un(ql).handleError.bind(void 0)});function TA(){const t=un(so),n=un(ql);return i=>t.runOutsideAngular(()=>n.handleError(i))}let CA=(()=>{class t{constructor(){this.zone=un(so),this.applicationRef=un(op)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let wA=(()=>{class t{static{this.__NG_ELEMENT_ID__=AA}}return t})();function AA(t){return function DA(t,n,i){if(fe(t)&&!i){const o=co(t.index,n);return new qs(o,o)}return 47&t.type?new qs(n[Nn],n):null}(ls(),Vt(),16==(16&t))}class I0{constructor(){}supports(n){return ph(n)}create(n){return new OA(n)}}const MA=(t,n)=>n;class OA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||MA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,l=0,h=null;for(;i||o;){const _=!o||i&&i.currentIndex<C0(o,l,h)?i:o,T=C0(_,l,h),R=_.currentIndex;if(_===o)l--,o=o._nextRemoved;else if(i=i._next,null==_.previousIndex)l++;else{h||(h=[]);const U=T-l,re=R-l;if(U!=re){for(let ze=0;ze<U;ze++){const nt=ze<h.length?h[ze]:h[ze]=0,Mt=nt+ze;re<=Mt&&Mt<U&&(h[ze]=nt+1)}h[_.previousIndex]=re-U}}T!==R&&n(_,T,R)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!ph(n))throw new De(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,h,_,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let T=0;T<this.length;T++)h=n[T],_=this._trackByFn(T,h),null!==i&&Object.is(i.trackById,_)?(o&&(i=this._verifyReinsertion(i,h,_,T)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,_,T),o=!0),i=i._next}else l=0,function Jy(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,T=>{_=this._trackByFn(l,T),null!==i&&Object.is(i.trackById,_)?(o&&(i=this._verifyReinsertion(i,T,_,l)),Object.is(i.item,T)||this._addIdentityChange(i,T)):(i=this._mismatch(i,T,_,l),o=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,l){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,h,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,l))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,h,l)):n=this._addAfter(new xA(i,o),h,l),n}_verifyReinsertion(n,i,o,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==h?n=this._reinsertAfter(h,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,h=n._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const l=null===i?this._itHead:i._next;return n._next=l,n._prev=i,null===l?this._itTail=n:l._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new T0),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new T0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class xA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class NA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class T0{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new NA,this.map.set(i,o)),o.add(n)}get(n,i){const l=this.map.get(n);return l?l.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function C0(t,n,i){const o=t.previousIndex;if(null===o)return o;let l=0;return i&&o<i.length&&(l=i[o]),o+n+l}class b0{constructor(){}supports(n){return n instanceof Map||Fg(n)}create(){return new kA}}class kA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Fg(n)))throw new De(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,l)=>{if(i&&i.key===l)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(l,o);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,i);const h=l._prev,_=l._next;return h&&(h._next=_),_&&(_._prev=h),l._next=null,l._prev=null,l}const o=new FA(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class FA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function w0(){return new Wv([new I0])}let Wv=(()=>{class t{static{this.\u0275prov=Fe({token:t,providedIn:"root",factory:w0})}constructor(i){this.factories=i}static create(i,o){if(null!=o){const l=o.factories.slice();i=i.concat(l)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||w0()),deps:[[t,new Fu,new su]]}}find(i){const o=this.factories.find(l=>l.supports(i));if(null!=o)return o;throw new De(901,!1)}}return t})();function A0(){return new qv([new b0])}let qv=(()=>{class t{static{this.\u0275prov=Fe({token:t,providedIn:"root",factory:A0})}constructor(i){this.factories=i}static create(i,o){if(o){const l=o.factories.slice();i=i.concat(l)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||A0()),deps:[[t,new Fu,new su]]}}find(i){const o=this.factories.find(l=>l.supports(i));if(o)return o;throw new De(901,!1)}}return t})();const UA=u0(null,"core",[]);let BA=(()=>{class t{constructor(i){}static{this.\u0275fac=function(o){return new(o||t)(qt(op))}}static{this.\u0275mod=$s({type:t})}static{this.\u0275inj=cn({})}}return t})();function YA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function ZA(t){const n=ar(t);if(!n)return null;const i=new za(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7440:(Cn,_t,K)=>{K.d(_t,{MW:()=>At,Wp:()=>Xt,XU:()=>Ee,gL:()=>X});var c=K(2214),D=K(540),rt=K(3586);class Ee{constructor(dt){return dt}}class X{constructor(){return(0,c.Dk)()}}const Qe=new D.nKC("angularfire2._apps"),st={provide:Ee,useFactory:function Be(xe){return xe&&1===xe.length?xe[0]:new Ee((0,c.Sx)())},deps:[[new D.Xx1,Qe]]},pe={provide:X,deps:[[new D.Xx1,Qe]]};function me(xe){return(dt,gt)=>{const St=dt.runOutsideAngular(()=>xe(gt));return new Ee(St)}}let Je=(()=>{class xe{constructor(gt){(0,c.KO)("angularfire",rt.xv.full,"core"),(0,c.KO)("angularfire",rt.xv.full,"app"),(0,c.KO)("angular",D.xvI.full,gt.toString())}static \u0275fac=function(St){return new(St||xe)(D.KVO(D.Agw))};static \u0275mod=D.$C({type:xe});static \u0275inj=D.G2t({providers:[st,pe]})}return xe})();function At(xe,...dt){return{ngModule:Je,providers:[{provide:Qe,useFactory:me(xe),multi:!0,deps:[D.SKi,D.zZn,rt.u0,...dt]}]}}const Xt=(0,rt.S3)(c.Wp,!0)},8563:(Cn,_t,K)=>{K.d(_t,{Nj:()=>ya,DF:()=>ys,wh:()=>Tc,xI:()=>Pl,_q:()=>_p,x9:()=>Zh,CI:()=>Yi});var c=K(3586),D=K(540),rt=K(7440),Ee=K(2214),X=K(467),Le=K(7852),Be=K(1076),Qe=K(8041),st=K(1635),pe=K(1362);const Zn=function Xt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},hn=new Be.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dt=new Qe.Vy("@firebase/auth");function St(E,...d){dt.logLevel<=Qe.$b.ERROR&&dt.error(`Auth (${Le.MF}): ${E}`,...d)}function Ht(E,...d){throw gr(E,...d)}function Bt(E,...d){return gr(E,...d)}function ke(E,d,g){const w=Object.assign(Object.assign({},Zn()),{[d]:g});return new Be.FA("auth","Firebase",w).create(d,{appName:E.name})}function Yt(E){return ke(E,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gr(E,...d){if("string"!=typeof E){const g=d[0],w=[...d.slice(1)];return w[0]&&(w[0].appName=E.name),E._errorFactory.create(g,...w)}return hn.create(E,...d)}function Ye(E,d,...g){if(!E)throw gr(d,...g)}function De(E){const d="INTERNAL ASSERTION FAILED: "+E;throw St(d),new Error(d)}function Kt(E,d){E||De(d)}function N(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function ae(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class ve{constructor(d,g){this.shortDelay=d,this.longDelay=g,Kt(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,Be.jZ)()||(0,Be.lV)()}get(){return function xt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Q(){return"http:"===ae()||"https:"===ae()}()||(0,Be.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _e(E,d){Kt(E.emulator,"Emulator should always be set here");const{url:g}=E.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class oe{static initialize(d,g,w){this.fetchImpl=d,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void De("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void De("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void De("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const de={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},we=new ve(3e4,6e4);function at(E,d){return E.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:E.tenantId}):d}function Rt(E,d,g,w){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,X.A)(function*(E,d,g,w,W={}){return pn(E,W,(0,X.A)(function*(){let ue={},We={};w&&("GET"===d?We=w:ue={body:JSON.stringify(w)});const yt=(0,Be.Am)(Object.assign({key:E.config.apiKey},We)).slice(1),$t=yield E._getAdditionalHeaders();$t["Content-Type"]="application/json",E.languageCode&&($t["X-Firebase-Locale"]=E.languageCode);const Rn=Object.assign({method:d,headers:$t},ue);return(0,Be.c1)()||(Rn.referrerPolicy="no-referrer"),oe.fetch()(Pn(E,E.config.apiHost,g,yt),Rn)}))})).apply(this,arguments)}function pn(E,d,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,X.A)(function*(E,d,g){E._canInitEmulator=!1;const w=Object.assign(Object.assign({},de),d);try{const W=new Wt(E),ue=yield Promise.race([g(),W.promise]);W.clearNetworkTimeout();const We=yield ue.json();if("needConfirmation"in We)throw on(E,"account-exists-with-different-credential",We);if(ue.ok&&!("errorMessage"in We))return We;{const yt=ue.ok?We.errorMessage:We.error.message,[$t,Rn]=yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$t)throw on(E,"credential-already-in-use",We);if("EMAIL_EXISTS"===$t)throw on(E,"email-already-in-use",We);if("USER_DISABLED"===$t)throw on(E,"user-disabled",We);const Hn=w[$t]||$t.toLowerCase().replace(/[_\s]+/g,"-");if(Rn)throw ke(E,Hn,Rn);Ht(E,Hn)}}catch(W){if(W instanceof Be.g)throw W;Ht(E,"network-request-failed",{message:String(W)})}})).apply(this,arguments)}function Lt(E,d,g,w){return br.apply(this,arguments)}function br(){return(br=(0,X.A)(function*(E,d,g,w,W={}){const ue=yield Rt(E,d,g,w,W);return"mfaPendingCredential"in ue&&Ht(E,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function Pn(E,d,g,w){const W=`${d}${g}?${w}`;return E.config.emulator?_e(E.config,W):`${E.config.apiScheme}://${W}`}function An(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wt{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Bt(this.auth,"network-request-failed")),we.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function on(E,d,g){const w={appName:E.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const W=Bt(E,d,w);return W.customData._tokenResponse=g,W}function Xe(E){return void 0!==E&&void 0!==E.enterprise}class an{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===d)return An(g.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function cn(E,d){return mn.apply(this,arguments)}function mn(){return(mn=(0,X.A)(function*(E,d){return Rt(E,"GET","/v2/recaptchaConfig",at(E,d))})).apply(this,arguments)}function dr(){return(dr=(0,X.A)(function*(E,d){return Rt(E,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Fr(E,d){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,X.A)(function*(E,d){return Rt(E,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Bn(E){if(E)try{const d=new Date(Number(E));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Si(){return(Si=(0,X.A)(function*(E,d=!1){const g=(0,Be.Ku)(E),w=yield g.getIdToken(d),W=Vr(w);Ye(W&&W.exp&&W.auth_time&&W.iat,g.auth,"internal-error");const ue="object"==typeof W.firebase?W.firebase:void 0,We=ue?.sign_in_provider;return{claims:W,token:w,authTime:Bn(ti(W.auth_time)),issuedAtTime:Bn(ti(W.iat)),expirationTime:Bn(ti(W.exp)),signInProvider:We||null,signInSecondFactor:ue?.sign_in_second_factor||null}})).apply(this,arguments)}function ti(E){return 1e3*Number(E)}function Vr(E){const[d,g,w]=E.split(".");if(void 0===d||void 0===g||void 0===w)return St("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,Be.u)(g);return W?JSON.parse(W):(St("Failed to decode base64 JWT payload"),null)}catch(W){return St("Caught error parsing JWT payload as JSON",W?.toString()),null}}function qe(E){const d=Vr(E);return Ye(d,"internal-error"),Ye(typeof d.exp<"u","internal-error"),Ye(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function Xn(E,d){return nn.apply(this,arguments)}function nn(){return(nn=(0,X.A)(function*(E,d,g=!1){if(g)return d;try{return yield d}catch(w){throw w instanceof Be.g&&function Ri({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(w)&&E.auth.currentUser===E&&(yield E.auth.signOut()),w}})).apply(this,arguments)}class Wi{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const W=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(d);this.timerId=setTimeout((0,X.A)(function*(){yield g.iteration()}),w)}iteration(){var d=this;return(0,X.A)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&d.schedule(!0))}d.schedule()})()}}class On{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bn(this.lastLoginAt),this.creationTime=Bn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function or(E){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,X.A)(function*(E){var d;const g=E.auth,w=yield E.getIdToken(),W=yield Xn(E,Fr(g,{idToken:w}));Ye(W?.users.length,g,"internal-error");const ue=W.users[0];E._notifyReloadListener(ue);const We=null!==(d=ue.providerUserInfo)&&void 0!==d&&d.length?ne(ue.providerUserInfo):[],yt=function mt(E,d){return[...E.filter(w=>!d.some(W=>W.providerId===w.providerId)),...d]}(E.providerData,We),Hn=!!E.isAnonymous&&!(E.email&&ue.passwordHash||yt?.length),kr={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:yt,metadata:new On(ue.createdAt,ue.lastLoginAt),isAnonymous:Hn};Object.assign(E,kr)})).apply(this,arguments)}function pi(){return(pi=(0,X.A)(function*(E){const d=(0,Be.Ku)(E);yield or(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function ne(E){return E.map(d=>{var{providerId:g}=d,w=(0,st.Tt)(d,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Y(){return(Y=(0,X.A)(function*(E,d){const g=yield pn(E,{},(0,X.A)(function*(){const w=(0,Be.Am)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:W,apiKey:ue}=E.config,We=Pn(E,W,"/v1/token",`key=${ue}`),yt=yield E._getAdditionalHeaders();return yt["Content-Type"]="application/x-www-form-urlencoded",oe.fetch()(We,{method:"POST",headers:yt,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function Re(){return(Re=(0,X.A)(function*(E,d){return Rt(E,"POST","/v2/accounts:revokeToken",at(E,d))})).apply(this,arguments)}class Tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Ye(d.idToken,"internal-error"),Ye(typeof d.idToken<"u","internal-error"),Ye(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):qe(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}updateFromIdToken(d){Ye(0!==d.length,"internal-error");const g=qe(d);this.updateTokensAndExpiration(d,null,g)}getToken(d,g=!1){var w=this;return(0,X.A)(function*(){return g||!w.accessToken||w.isExpired?(Ye(w.refreshToken,d,"user-token-expired"),w.refreshToken?(yield w.refresh(d,w.refreshToken),w.accessToken):null):w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var w=this;return(0,X.A)(function*(){const{accessToken:W,refreshToken:ue,expiresIn:We}=yield function j(E,d){return Y.apply(this,arguments)}(d,g);w.updateTokensAndExpiration(W,ue,Number(We))})()}updateTokensAndExpiration(d,g,w){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(d,g){const{refreshToken:w,accessToken:W,expirationTime:ue}=g,We=new Tt;return w&&(Ye("string"==typeof w,"internal-error",{appName:d}),We.refreshToken=w),W&&(Ye("string"==typeof W,"internal-error",{appName:d}),We.accessToken=W),ue&&(Ye("number"==typeof ue,"internal-error",{appName:d}),We.expirationTime=ue),We}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Tt,this.toJSON())}_performRefresh(){return De("not implemented")}}function Nt(E,d){Ye("string"==typeof E||typeof E>"u","internal-error",{appName:d})}class Tn{constructor(d){var{uid:g,auth:w,stsTokenManager:W}=d,ue=(0,st.Tt)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new On(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,X.A)(function*(){const w=yield Xn(g,g.stsTokenManager.getToken(g.auth,d));return Ye(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(d){return function fn(E){return Si.apply(this,arguments)}(this,d)}reload(){return function fi(E){return pi.apply(this,arguments)}(this)}_assign(d){this!==d&&(Ye(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const g=new Tn(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(d){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var w=this;return(0,X.A)(function*(){let W=!1;d.idToken&&d.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(d),W=!0),g&&(yield or(w)),yield w.auth._persistUserIfCurrent(w),W&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var d=this;return(0,X.A)(function*(){if((0,Le.xZ)(d.auth.app))return Promise.reject(Yt(d.auth));const g=yield d.getIdToken();return yield Xn(d,function wr(E,d){return dr.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var w,W,ue,We,yt,$t,Rn,Hn;const kr=null!==(w=g.displayName)&&void 0!==w?w:void 0,io=null!==(W=g.email)&&void 0!==W?W:void 0,qo=null!==(ue=g.phoneNumber)&&void 0!==ue?ue:void 0,Ba=null!==(We=g.photoURL)&&void 0!==We?We:void 0,tf=null!==(yt=g.tenantId)&&void 0!==yt?yt:void 0,kd=null!==($t=g._redirectEventId)&&void 0!==$t?$t:void 0,nf=null!==(Rn=g.createdAt)&&void 0!==Rn?Rn:void 0,rf=null!==(Hn=g.lastLoginAt)&&void 0!==Hn?Hn:void 0,{uid:xl,emailVerified:sf,isAnonymous:Nl,providerData:uu,stsTokenManager:Gu}=g;Ye(xl&&Gu,d,"internal-error");const kl=Tt.fromJSON(this.name,Gu);Ye("string"==typeof xl,d,"internal-error"),Nt(kr,d.name),Nt(io,d.name),Ye("boolean"==typeof sf,d,"internal-error"),Ye("boolean"==typeof Nl,d,"internal-error"),Nt(qo,d.name),Nt(Ba,d.name),Nt(tf,d.name),Nt(kd,d.name),Nt(nf,d.name),Nt(rf,d.name);const Fl=new Tn({uid:xl,auth:d,email:io,emailVerified:sf,displayName:kr,isAnonymous:Nl,photoURL:Ba,phoneNumber:qo,tenantId:tf,stsTokenManager:kl,createdAt:nf,lastLoginAt:rf});return uu&&Array.isArray(uu)&&(Fl.providerData=uu.map(Pp=>Object.assign({},Pp))),kd&&(Fl._redirectEventId=kd),Fl}static _fromIdTokenResponse(d,g,w=!1){return(0,X.A)(function*(){const W=new Tt;W.updateFromServerResponse(g);const ue=new Tn({uid:g.localId,auth:d,stsTokenManager:W,isAnonymous:w});return yield or(ue),ue})()}static _fromGetAccountInfoResponse(d,g,w){return(0,X.A)(function*(){const W=g.users[0];Ye(void 0!==W.localId,"internal-error");const ue=void 0!==W.providerUserInfo?ne(W.providerUserInfo):[],We=!(W.email&&W.passwordHash||ue?.length),yt=new Tt;yt.updateFromIdToken(w);const $t=new Tn({uid:W.localId,auth:d,stsTokenManager:yt,isAnonymous:We}),Rn={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:ue,metadata:new On(W.createdAt,W.lastLoginAt),isAnonymous:!(W.email&&W.passwordHash||ue?.length)};return Object.assign($t,Rn),$t})()}}const Yn=new Map;function kn(E){Kt(E instanceof Function,"Expected a class definition");let d=Yn.get(E);return d?(Kt(d instanceof E,"Instance stored in cache mismatched with class"),d):(d=new E,Yn.set(E,d),d)}const Ue=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,X.A)(function*(){return!0})()}_set(g,w){var W=this;return(0,X.A)(function*(){W.storage[g]=w})()}_get(g){var w=this;return(0,X.A)(function*(){const W=w.storage[g];return void 0===W?null:W})()}_remove(g){var w=this;return(0,X.A)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return E.type="NONE",E})();function be(E,d,g){return`firebase:${E}:${d}:${g}`}class Se{constructor(d,g,w){this.persistence=d,this.auth=g,this.userKey=w;const{config:W,name:ue}=this.auth;this.fullUserKey=be(this.userKey,W.apiKey,ue),this.fullPersistenceKey=be("persistence",W.apiKey,ue),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,X.A)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?Tn._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,X.A)(function*(){if(g.persistence===d)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,w="authUser"){return(0,X.A)(function*(){if(!g.length)return new Se(kn(Ue),d,w);const W=(yield Promise.all(g.map(function(){var Rn=(0,X.A)(function*(Hn){if(yield Hn._isAvailable())return Hn});return function(Hn){return Rn.apply(this,arguments)}}()))).filter(Rn=>Rn);let ue=W[0]||kn(Ue);const We=be(w,d.config.apiKey,d.name);let yt=null;for(const Rn of g)try{const Hn=yield Rn._get(We);if(Hn){const kr=Tn._fromJSON(d,Hn);Rn!==ue&&(yt=kr),ue=Rn;break}}catch{}const $t=W.filter(Rn=>Rn._shouldAllowMigration);return ue._shouldAllowMigration&&$t.length?(ue=$t[0],yt&&(yield ue._set(We,yt.toJSON())),yield Promise.all(g.map(function(){var Rn=(0,X.A)(function*(Hn){if(Hn!==ue)try{yield Hn._remove(We)}catch{}});return function(Hn){return Rn.apply(this,arguments)}}())),new Se(ue,d,w)):new Se(ue,d,w)})()}}function bt(E){const d=E.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(xr(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(zt(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ri(d))return"Blackberry";if(ct(d))return"Webos";if(dn(d))return"Safari";if((d.includes("chrome/")||qt(d))&&!d.includes("edge/"))return"Chrome";if(un(d))return"Android";{const w=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function zt(E=(0,Be.ZQ)()){return/firefox\//i.test(E)}function dn(E=(0,Be.ZQ)()){const d=E.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function qt(E=(0,Be.ZQ)()){return/crios\//i.test(E)}function xr(E=(0,Be.ZQ)()){return/iemobile/i.test(E)}function un(E=(0,Be.ZQ)()){return/android/i.test(E)}function ri(E=(0,Be.ZQ)()){return/blackberry/i.test(E)}function ct(E=(0,Be.ZQ)()){return/webos/i.test(E)}function He(E=(0,Be.ZQ)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function en(E=(0,Be.ZQ)()){return He(E)||un(E)||ct(E)||ri(E)||/windows phone/i.test(E)||xr(E)}function _n(E,d=[]){let g;switch(E){case"Browser":g=bt((0,Be.ZQ)());break;case"Worker":g=`${bt((0,Be.ZQ)())}-${E}`;break;default:g=E}const w=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${Le.MF}/${w}`}class er{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const w=ue=>new Promise((We,yt)=>{try{We(d(ue))}catch($t){yt($t)}});w.onAbort=g,this.queue.push(w);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,X.A)(function*(){if(g.auth.currentUser===d)return;const w=[];try{for(const W of g.queue)yield W(d),W.onAbort&&w.push(W.onAbort)}catch(W){w.reverse();for(const ue of w)try{ue()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:W?.message})}})()}}function Dn(){return(Dn=(0,X.A)(function*(E,d={}){return Rt(E,"GET","/v2/passwordPolicy",at(E,d))})).apply(this,arguments)}class bi{constructor(d){var g,w,W,ue;const We=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=We.minPasswordLength)&&void 0!==g?g:6,We.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=We.maxPasswordLength),void 0!==We.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=We.containsLowercaseCharacter),void 0!==We.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=We.containsUppercaseCharacter),void 0!==We.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=We.containsNumericCharacter),void 0!==We.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=We.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(W=null===(w=d.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==W?W:"",this.forceUpgradeOnSignin=null!==(ue=d.forceUpgradeOnSignin)&&void 0!==ue&&ue,this.schemaVersion=d.schemaVersion}validatePassword(d){var g,w,W,ue,We,yt;const $t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,$t),this.validatePasswordCharacterOptions(d,$t),$t.isValid&&($t.isValid=null===(g=$t.meetsMinPasswordLength)||void 0===g||g),$t.isValid&&($t.isValid=null===(w=$t.meetsMaxPasswordLength)||void 0===w||w),$t.isValid&&($t.isValid=null===(W=$t.containsLowercaseLetter)||void 0===W||W),$t.isValid&&($t.isValid=null===(ue=$t.containsUppercaseLetter)||void 0===ue||ue),$t.isValid&&($t.isValid=null===(We=$t.containsNumericCharacter)||void 0===We||We),$t.isValid&&($t.isValid=null===(yt=$t.containsNonAlphanumericCharacter)||void 0===yt||yt),$t}validatePasswordLengthOptions(d,g){const w=this.customStrengthOptions.minPasswordLength,W=this.customStrengthOptions.maxPasswordLength;w&&(g.meetsMinPasswordLength=d.length>=w),W&&(g.meetsMaxPasswordLength=d.length<=W)}validatePasswordCharacterOptions(d,g){let w;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let W=0;W<d.length;W++)w=d.charAt(W),this.updatePasswordCharacterOptionsStatuses(g,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(d,g,w,W,ue){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=W)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=ue))}}class Ps{constructor(d,g,w,W){this.app=d,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=W,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tn(this),this.idTokenSubscription=new tn(this),this.beforeStateQueue=new er(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=W.sdkClientVersion}_initializeWithPersistence(d,g){var w=this;return g&&(this._popupRedirectResolver=kn(g)),this._initializationPromise=this.queue((0,X.A)(function*(){var W,ue;if(!w._deleted&&(w.persistenceManager=yield Se.create(w,d),!w._deleted)){if(null!==(W=w._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(ue=w.currentUser)||void 0===ue?void 0:ue.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,X.A)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(d){var g=this;return(0,X.A)(function*(){try{const w=yield Fr(g,{idToken:d}),W=yield Tn._fromGetAccountInfoResponse(g,w,d);yield g.directlySetCurrentUser(W)}catch(w){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",w),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var g=this;return(0,X.A)(function*(){var w;if((0,Le.xZ)(g.app)){const yt=g.app.settings.authIdToken;return yt?new Promise($t=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(yt).then($t,$t))}):g.directlySetCurrentUser(null)}const W=yield g.assertedPersistence.getCurrentUser();let ue=W,We=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const yt=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,$t=ue?._redirectEventId,Rn=yield g.tryRedirectSignIn(d);(!yt||yt===$t)&&Rn?.user&&(ue=Rn.user,We=!0)}if(!ue)return g.directlySetCurrentUser(null);if(!ue._redirectEventId){if(We)try{yield g.beforeStateQueue.runMiddleware(ue)}catch(yt){ue=W,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(yt))}return ue?g.reloadAndSetCurrentUserOrClear(ue):g.directlySetCurrentUser(null)}return Ye(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ue._redirectEventId?g.directlySetCurrentUser(ue):g.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(d){var g=this;return(0,X.A)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,X.A)(function*(){try{yield or(d)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Oe(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var d=this;return(0,X.A)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,X.A)(function*(){if((0,Le.xZ)(g.app))return Promise.reject(Yt(g));const w=d?(0,Be.Ku)(d):null;return w&&Ye(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(d,g=!1){var w=this;return(0,X.A)(function*(){if(!w._deleted)return d&&Ye(w.tenantId===d.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(d)),w.queue((0,X.A)(function*(){yield w.directlySetCurrentUser(d),w.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,X.A)(function*(){return(0,Le.xZ)(d.app)?Promise.reject(Yt(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var g=this;return(0,Le.xZ)(this.app)?Promise.reject(Yt(this)):this.queue((0,X.A)(function*(){yield g.assertedPersistence.setPersistence(kn(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var g=this;return(0,X.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const w=g._getPasswordPolicyInternal();return w.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,X.A)(function*(){const g=yield function fr(E){return Dn.apply(this,arguments)}(d),w=new bi(g);null===d.tenantId?d._projectPasswordPolicy=w:d._tenantPasswordPolicies[d.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new Be.FA("auth","Firebase",d())}onAuthStateChanged(d,g,w){return this.registerStateListener(this.authStateSubscription,d,g,w)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,w){return this.registerStateListener(this.idTokenSubscription,d,g,w)}authStateReady(){return new Promise((d,g)=>{if(this.currentUser)d();else{const w=this.onAuthStateChanged(()=>{w(),d()},g)}})}revokeAccessToken(d){var g=this;return(0,X.A)(function*(){if(g.currentUser){const w=yield g.currentUser.getIdToken(),W={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:w};null!=g.tenantId&&(W.tenantId=g.tenantId),yield function Ae(E,d){return Re.apply(this,arguments)}(g,W)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var w=this;return(0,X.A)(function*(){const W=yield w.getOrInitRedirectPersistenceManager(g);return null===d?W.removeCurrentUser():W.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,X.A)(function*(){if(!g.redirectPersistenceManager){const w=d&&kn(d)||g._popupRedirectResolver;Ye(w,g,"argument-error"),g.redirectPersistenceManager=yield Se.create(g,[kn(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,X.A)(function*(){var w,W;return g._isInitialized&&(yield g.queue((0,X.A)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===d?g._currentUser:(null===(W=g.redirectUser)||void 0===W?void 0:W._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,X.A)(function*(){if(d===g.currentUser)return g.queue((0,X.A)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,w,W){if(this._deleted)return()=>{};const ue="function"==typeof g?g:g.next.bind(g);let We=!1;const yt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(yt,this,"internal-error"),yt.then(()=>{We||ue(this.currentUser)}),"function"==typeof g){const $t=d.addObserver(g,w,W);return()=>{We=!0,$t()}}{const $t=d.addObserver(g);return()=>{We=!0,$t()}}}directlySetCurrentUser(d){var g=this;return(0,X.A)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=_n(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,X.A)(function*(){var g;const w={"X-Client-Version":d.clientVersion};d.app.options.appId&&(w["X-Firebase-gmpid"]=d.app.options.appId);const W=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();W&&(w["X-Firebase-Client"]=W);const ue=yield d._getAppCheckToken();return ue&&(w["X-Firebase-AppCheck"]=ue),w})()}_getAppCheckToken(){var d=this;return(0,X.A)(function*(){var g;const w=yield null===(g=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function gt(E,...d){dt.logLevel<=Qe.$b.WARN&&dt.warn(`Auth (${Le.MF}): ${E}`,...d)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function Sr(E){return(0,Be.Ku)(E)}class tn{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,Be.tD)(g=>this.observer=g)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pt={loadJS:()=>(0,X.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sn(E){return Pt.loadJS(E)}function yi(E){return`__${E}${Math.floor(1e6*Math.random())}`}class Zi{constructor(d){this.type="recaptcha-enterprise",this.auth=Sr(d)}verify(d="verify",g=!1){var w=this;return(0,X.A)(function*(){function ue(){return ue=(0,X.A)(function*(yt){if(!g){if(null==yt.tenantId&&null!=yt._agentRecaptchaConfig)return yt._agentRecaptchaConfig.siteKey;if(null!=yt.tenantId&&void 0!==yt._tenantRecaptchaConfigs[yt.tenantId])return yt._tenantRecaptchaConfigs[yt.tenantId].siteKey}return new Promise(function(){var $t=(0,X.A)(function*(Rn,Hn){cn(yt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(kr=>{if(void 0!==kr.recaptchaKey){const io=new an(kr);return null==yt.tenantId?yt._agentRecaptchaConfig=io:yt._tenantRecaptchaConfigs[yt.tenantId]=io,Rn(io.siteKey)}Hn(new Error("recaptcha Enterprise site key undefined"))}).catch(kr=>{Hn(kr)})});return function(Rn,Hn){return $t.apply(this,arguments)}}())}),ue.apply(this,arguments)}function We(yt,$t,Rn){const Hn=window.grecaptcha;Xe(Hn)?Hn.enterprise.ready(()=>{Hn.enterprise.execute(yt,{action:d}).then(kr=>{$t(kr)}).catch(()=>{$t("NO_RECAPTCHA")})}):Rn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((yt,$t)=>{(function W(yt){return ue.apply(this,arguments)})(w.auth).then(Rn=>{if(!g&&Xe(window.grecaptcha))We(Rn,yt,$t);else{if(typeof window>"u")return void $t(new Error("RecaptchaVerifier is only supported in browser"));let Hn=function ii(){return Pt.recaptchaEnterpriseScript}();0!==Hn.length&&(Hn+=Rn),sn(Hn).then(()=>{We(Rn,yt,$t)}).catch(kr=>{$t(kr)})}}).catch(Rn=>{$t(Rn)})})})()}}function qi(E,d,g){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,X.A)(function*(E,d,g,w=!1){const W=new Zi(E);let ue;try{ue=yield W.verify(g)}catch{ue=yield W.verify(g,!0)}const We=Object.assign({},d);return Object.assign(We,w?{captchaResp:ue}:{captchaResponse:ue}),Object.assign(We,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(We,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),We})).apply(this,arguments)}function vs(E,d,g,w){return wi.apply(this,arguments)}function wi(){return wi=(0,X.A)(function*(E,d,g,w){var W;if(null!==(W=E._getRecaptchaConfig())&&void 0!==W&&W.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ue=yield qi(E,d,g,"getOobCode"===g);return w(E,ue)}return w(E,d).catch(function(){var ue=(0,X.A)(function*(We){if("auth/missing-recaptcha-token"===We.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const yt=yield qi(E,d,g,"getOobCode"===g);return w(E,yt)}return Promise.reject(We)});return function(We){return ue.apply(this,arguments)}}())}),wi.apply(this,arguments)}function uo(E){const d=E.indexOf(":");return d<0?"":E.substr(0,d+1)}function Ks(E){if(!E)return null;const d=Number(E);return isNaN(d)?null:d}class Es{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return De("not implemented")}_getIdTokenResponse(d){return De("not implemented")}_linkToIdToken(d,g){return De("not implemented")}_getReauthenticationResolver(d){return De("not implemented")}}function $s(E,d){return ji.apply(this,arguments)}function ji(){return(ji=(0,X.A)(function*(E,d){return Rt(E,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function Ts(E,d){return ar.apply(this,arguments)}function ar(){return(ar=(0,X.A)(function*(E,d){return Lt(E,"POST","/v1/accounts:signInWithPassword",at(E,d))})).apply(this,arguments)}function nr(){return(nr=(0,X.A)(function*(E,d){return Lt(E,"POST","/v1/accounts:signInWithEmailLink",at(E,d))})).apply(this,arguments)}function Ai(){return(Ai=(0,X.A)(function*(E,d){return Lt(E,"POST","/v1/accounts:signInWithEmailLink",at(E,d))})).apply(this,arguments)}class $i extends Es{constructor(d,g,w,W=null){super("password",w),this._email=d,this._password=g,this._tenantId=W}static _fromEmailAndPassword(d,g){return new $i(d,g,"password")}static _fromEmailAndCode(d,g,w=null){return new $i(d,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,X.A)(function*(){switch(g.signInMethod){case"password":return vs(d,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ts);case"emailLink":return function ln(E,d){return nr.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:Ht(d,"internal-error")}})()}_linkToIdToken(d,g){var w=this;return(0,X.A)(function*(){switch(w.signInMethod){case"password":return vs(d,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$s);case"emailLink":return function Er(E,d){return Ai.apply(this,arguments)}(d,{idToken:g,email:w._email,oobCode:w._password});default:Ht(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function lr(E,d){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,X.A)(function*(E,d){return Lt(E,"POST","/v1/accounts:signInWithIdp",at(E,d))})).apply(this,arguments)}class ps{constructor(d){var g,w,W,ue,We,yt;const $t=(0,Be.I9)((0,Be.hp)(d)),Rn=null!==(g=$t.apiKey)&&void 0!==g?g:null,Hn=null!==(w=$t.oobCode)&&void 0!==w?w:null,kr=function jo(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=$t.mode)&&void 0!==W?W:null);Ye(Rn&&Hn&&kr,"argument-error"),this.apiKey=Rn,this.operation=kr,this.code=Hn,this.continueUrl=null!==(ue=$t.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==(We=$t.languageCode)&&void 0!==We?We:null,this.tenantId=null!==(yt=$t.tenantId)&&void 0!==yt?yt:null}static parseLink(d){const g=function fs(E){const d=(0,Be.I9)((0,Be.hp)(E)).link,g=d?(0,Be.I9)((0,Be.hp)(d)).deep_link_id:null,w=(0,Be.I9)((0,Be.hp)(E)).deep_link_id;return(w?(0,Be.I9)((0,Be.hp)(w)).link:null)||w||g||d||E}(d);try{return new ps(g)}catch{return null}}}let Ns=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(g,w){return $i._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const W=ps.parseLink(w);return Ye(W,"argument-error"),$i._fromEmailAndCode(g,W.code,W.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class ir{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class aa extends ir{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class fe{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,w,W=!1){return(0,X.A)(function*(){const ue=yield Tn._fromIdTokenResponse(d,w,W),We=Ce(w);return new fe({user:ue,providerId:We,_tokenResponse:w,operationType:g})})()}static _forOperation(d,g,w){return(0,X.A)(function*(){yield d._updateTokensIfNecessary(w,!0);const W=Ce(w);return new fe({user:d,providerId:W,_tokenResponse:w,operationType:g})})()}}function Ce(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}class V extends Be.g{constructor(d,g,w,W){var ue;super(g.code,g.message),this.operationType=w,this.user=W,Object.setPrototypeOf(this,V.prototype),this.customData={appName:d.name,tenantId:null!==(ue=d.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(d,g,w,W){return new V(d,g,w,W)}}function B(E,d,g,w){return("reauthenticate"===d?g._getReauthenticationResolver(E):g._getIdTokenResponse(E)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?V._fromErrorAndOperation(E,ue,d,w):ue})}function Sn(){return(Sn=(0,X.A)(function*(E,d,g=!1){const w=yield Xn(E,d._linkToIdToken(E.auth,yield E.getIdToken()),g);return fe._forOperation(E,"link",w)})).apply(this,arguments)}function Hr(){return(Hr=(0,X.A)(function*(E,d,g=!1){const{auth:w}=E;if((0,Le.xZ)(w.app))return Promise.reject(Yt(w));const W="reauthenticate";try{const ue=yield Xn(E,B(w,W,d,E),g);Ye(ue.idToken,w,"internal-error");const We=Vr(ue.idToken);Ye(We,w,"internal-error");const{sub:yt}=We;return Ye(E.uid===yt,w,"user-mismatch"),fe._forOperation(E,W,ue)}catch(ue){throw"auth/user-not-found"===ue?.code&&Ht(w,"user-mismatch"),ue}})).apply(this,arguments)}function Gi(E,d){return gi.apply(this,arguments)}function gi(){return(gi=(0,X.A)(function*(E,d,g=!1){if((0,Le.xZ)(E.app))return Promise.reject(Yt(E));const w="signIn",W=yield B(E,w,d),ue=yield fe._fromIdTokenResponse(E,w,W);return g||(yield E._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}function Mi(){return(Mi=(0,X.A)(function*(E,d){return Gi(Sr(E),d)})).apply(this,arguments)}function Ze(){return(Ze=(0,X.A)(function*(E){const d=Sr(E);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function Ni(E,d,g){return(0,Le.xZ)(E.app)?Promise.reject(Yt(E)):function Ur(E,d){return Mi.apply(this,arguments)}((0,Be.Ku)(E),Ns.credential(d,g)).catch(function(){var w=(0,X.A)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&function ut(E){return Ze.apply(this,arguments)}(E),W});return function(W){return w.apply(this,arguments)}}())}function Cr(E){return(0,Be.Ku)(E).signOut()}const Aa="__sak";class sc{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Aa,"1"),this.storage.removeItem(Aa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const oc=(()=>{class E extends sc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=en(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const W=this.storage.getItem(w),ue=this.localCache[w];W!==ue&&g(w,ue,W)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((yt,$t,Rn)=>{this.notifyListeners(yt,Rn)});const W=g.key;w?this.detachListener():this.stopPolling();const ue=()=>{const yt=this.storage.getItem(W);!w&&this.localCache[W]===yt||this.notifyListeners(W,yt)},We=this.storage.getItem(W);!function Mn(){return(0,Be.lT)()&&10===document.documentMode}()||We===g.newValue||g.newValue===g.oldValue?ue():setTimeout(ue,10)}notifyListeners(g,w){this.localCache[g]=w;const W=this.listeners[g];if(W)for(const ue of Array.from(W))ue(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var W=()=>super._set,ue=this;return(0,X.A)(function*(){yield W().call(ue,g,w),ue.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,W=this;return(0,X.A)(function*(){const ue=yield w().call(W,g);return W.localCache[g]=JSON.stringify(ue),ue})()}_remove(g){var w=()=>super._remove,W=this;return(0,X.A)(function*(){yield w().call(W,g),delete W.localCache[g]})()}}return E.type="LOCAL",E})(),Co=(()=>{class E extends sc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return E.type="SESSION",E})();let uc=(()=>{class E{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(ue=>ue.isListeningto(g));if(w)return w;const W=new E(g);return this.receivers.push(W),W}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,X.A)(function*(){const W=g,{eventId:ue,eventType:We,data:yt}=W.data,$t=w.handlersMap[We];if(!$t?.size)return;W.ports[0].postMessage({status:"ack",eventId:ue,eventType:We});const Rn=Array.from($t).map(function(){var kr=(0,X.A)(function*(io){return io(W.origin,yt)});return function(io){return kr.apply(this,arguments)}}()),Hn=yield function ac(E){return Promise.all(E.map(function(){var d=(0,X.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return d.apply(this,arguments)}}()))}(Rn);W.ports[0].postMessage({status:"done",eventId:ue,eventType:We,response:Hn})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function bo(E="",d=10){let g="";for(let w=0;w<d;w++)g+=Math.floor(10*Math.random());return E+g}class lc{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,w=50){var W=this;return(0,X.A)(function*(){const ue=typeof MessageChannel<"u"?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let We,yt;return new Promise(($t,Rn)=>{const Hn=bo("",20);ue.port1.start();const kr=setTimeout(()=>{Rn(new Error("unsupported_event"))},w);yt={messageChannel:ue,onMessage(io){const qo=io;if(qo.data.eventId===Hn)switch(qo.data.status){case"ack":clearTimeout(kr),We=setTimeout(()=>{Rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(We),$t(qo.data.response);break;default:clearTimeout(kr),clearTimeout(We),Rn(new Error("invalid_response"))}}},W.handlers.add(yt),ue.port1.addEventListener("message",yt.onMessage),W.target.postMessage({eventType:d,eventId:Hn,data:g},[ue.port2])}).finally(()=>{yt&&W.removeMessageHandler(yt)})})()}}function us(){return window}function cc(){return typeof us().WorkerGlobalScope<"u"&&"function"==typeof us().importScripts}function Vt(){return(Vt=(0,X.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wu="firebaseLocalStorageDb",Sa="firebaseLocalStorage",la="fbase_key";class eo{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ca(E,d){return E.transaction([Sa],d?"readwrite":"readonly").objectStore(Sa)}function Au(){const E=indexedDB.open(wu,1);return new Promise((d,g)=>{E.addEventListener("error",()=>{g(E.error)}),E.addEventListener("upgradeneeded",()=>{const w=E.result;try{w.createObjectStore(Sa,{keyPath:la})}catch(W){g(W)}}),E.addEventListener("success",(0,X.A)(function*(){const w=E.result;w.objectStoreNames.contains(Sa)?d(w):(w.close(),yield function fl(){const E=indexedDB.deleteDatabase(wu);return new eo(E).toPromise()}(),d(yield Au()))}))})}function sd(E,d,g){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,X.A)(function*(E,d,g){const w=ca(E,!0).put({[la]:d,value:g});return new eo(w).toPromise()})).apply(this,arguments)}function wo(){return(wo=(0,X.A)(function*(E,d){const g=ca(E,!1).get(d),w=yield new eo(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function hc(E,d){const g=ca(E,!0).delete(d);return new eo(g).toPromise()}const S=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,X.A)(function*(){return g.db||(g.db=yield Au()),g.db})()}_withRetries(g){var w=this;return(0,X.A)(function*(){let W=0;for(;;)try{const ue=yield w._openDb();return yield g(ue)}catch(ue){if(W++>3)throw ue;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,X.A)(function*(){return cc()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,X.A)(function*(){g.receiver=uc._getInstance(function dc(){return cc()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,X.A)(function*(W,ue){return{keyProcessed:(yield g._poll()).includes(ue.key)}});return function(W,ue){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,X.A)(function*(W,ue){return["keyChanged"]});return function(W,ue){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,X.A)(function*(){var w,W;if(g.activeServiceWorker=yield function id(){return Vt.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new lc(g.activeServiceWorker);const ue=yield g.sender._send("ping",{},800);ue&&null!==(w=ue[0])&&void 0!==w&&w.fulfilled&&null!==(W=ue[0])&&void 0!==W&&W.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,X.A)(function*(){if(w.sender&&w.activeServiceWorker&&function jr(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,X.A)(function*(){try{if(!indexedDB)return!1;const g=yield Au();return yield sd(g,Aa,"1"),yield hc(g,Aa),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,X.A)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var W=this;return(0,X.A)(function*(){return W._withPendingWrite((0,X.A)(function*(){return yield W._withRetries(ue=>sd(ue,g,w)),W.localCache[g]=w,W.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,X.A)(function*(){const W=yield w._withRetries(ue=>function _s(E,d){return wo.apply(this,arguments)}(ue,g));return w.localCache[g]=W,W})()}_remove(g){var w=this;return(0,X.A)(function*(){return w._withPendingWrite((0,X.A)(function*(){return yield w._withRetries(W=>hc(W,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,X.A)(function*(){const w=yield g._withRetries(We=>{const yt=ca(We,!1).getAll();return new eo(yt).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const W=[],ue=new Set;if(0!==w.length)for(const{fbase_key:We,value:yt}of w)ue.add(We),JSON.stringify(g.localCache[We])!==JSON.stringify(yt)&&(g.notifyListeners(We,yt),W.push(We));for(const We of Object.keys(g.localCache))g.localCache[We]&&!ue.has(We)&&(g.notifyListeners(We,null),W.push(We));return W})()}notifyListeners(g,w){this.localCache[g]=w;const W=this.listeners[g];if(W)for(const ue of Array.from(W))ue(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,X.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();yi("rcb"),new ve(3e4,6e4);class Ya extends Es{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return lr(d,this._buildIdpRequest())}_linkToIdToken(d,g){return lr(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return lr(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function ld(E){return Gi(E.auth,new Ya(E),E.bypassAuthState)}function fc(E){const{auth:d,user:g}=E;return Ye(g,d,"internal-error"),function _i(E,d){return Hr.apply(this,arguments)}(g,new Ya(E),E.bypassAuthState)}function cd(E){return fa.apply(this,arguments)}function fa(){return(fa=(0,X.A)(function*(E){const{auth:d,user:g}=E;return Ye(g,d,"internal-error"),function kt(E,d){return Sn.apply(this,arguments)}(g,new Ya(E),E.bypassAuthState)})).apply(this,arguments)}class Pa{constructor(d,g,w,W,ue=!1){this.auth=d,this.resolver=w,this.user=W,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,X.A)(function*(w,W){d.pendingPromise={resolve:w,reject:W};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ue){d.reject(ue)}});return function(w,W){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,X.A)(function*(){const{urlResponse:w,sessionId:W,postBody:ue,tenantId:We,error:yt,type:$t}=d;if(yt)return void g.reject(yt);const Rn={auth:g.auth,requestUri:w,sessionId:W,tenantId:We||void 0,postBody:ue||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask($t)(Rn))}catch(Hn){g.reject(Hn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ld;case"linkViaPopup":case"linkViaRedirect":return cd;case"reauthViaPopup":case"reauthViaRedirect":return fc;default:Ht(this.auth,"internal-error")}}resolve(d){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ve(2e3,1e4);const gc="pendingRedirect",ea=new Map;class no extends Pa{constructor(d,g,w=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,X.A)(function*(){let w=ea.get(g.auth._key());if(!w){try{const ue=(yield function Su(E,d){return Oa.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;w=()=>Promise.resolve(ue)}catch(W){w=()=>Promise.reject(W)}ea.set(g.auth._key(),w)}return g.bypassAuthState||ea.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,w=this;return(0,X.A)(function*(){if("signInViaRedirect"===d.type)return g().call(w,d);if("unknown"!==d.type){if(d.eventId){const W=yield w.auth._redirectUserForId(d.eventId);if(W)return w.user=W,g().call(w,d);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,X.A)(function*(){})()}cleanUp(){}}function Oa(){return(Oa=(0,X.A)(function*(E,d){const g=function Ws(E){return be(gc,E.config.apiKey,E.name)}(d),w=function hd(E){return kn(E._redirectPersistence)}(E);if(!(yield w._isAvailable()))return!1;const W="true"===(yield w._get(g));return yield w._remove(g),W})).apply(this,arguments)}function Za(E,d){ea.set(E._key(),d)}function fd(E,d){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,X.A)(function*(E,d,g=!1){if((0,Le.xZ)(E.app))return Promise.reject(Yt(E));const w=Sr(E),W=function Uo(E,d){return d?kn(d):(Ye(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}(w,d),We=yield new no(w,W,g).execute();return We&&!g&&(delete We.user._redirectEventId,yield w._persistUserIfCurrent(We.user),yield w._setRedirectUser(null,d)),We})).apply(this,arguments)}class ka{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(d,w)&&(g=!0,this.sendToConsumer(d,w),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function ro(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return md(E);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var w;if(d.error&&!md(d)){const W=(null===(w=d.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Bt(this.auth,W))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const w=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&w}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ta(d))}saveEventToCache(d){this.cachedEventUids.add(ta(d)),this.lastProcessedEventTime=Date.now()}}function ta(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(d=>d).join("-")}function md({type:E,error:d}){return"unknown"===E&&"auth/no-auth-event"===d?.code}function vl(){return(vl=(0,X.A)(function*(E,d={}){return Rt(E,"GET","/v1/projects",d)})).apply(this,arguments)}const _d=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pp=/^https?/;function tu(){return tu=(0,X.A)(function*(E){if(E.config.emulator)return;const{authorizedDomains:d}=yield function fp(E){return vl.apply(this,arguments)}(E);for(const g of d)try{if(Xi(g))return}catch{}Ht(E,"unauthorized-domain")}),tu.apply(this,arguments)}function Xi(E){const d=N(),{protocol:g,hostname:w}=new URL(d);if(E.startsWith("chrome-extension://")){const We=new URL(E);return""===We.hostname&&""===w?"chrome-extension:"===g&&E.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&We.hostname===w}if(!pp.test(g))return!1;if(_d.test(E))return w===E;const W=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(w)}const Mu=new ve(3e4,6e4);function nu(){const E=us().___jsl;if(E?.H)for(const d of Object.keys(E.H))if(E.H[d].r=E.H[d].r||[],E.H[d].L=E.H[d].L||[],E.H[d].r=[...E.H[d].L],E.CP)for(let g=0;g<E.CP.length;g++)E.CP[g]=null}let Ou=null;const cm=new ve(5e3,15e3),mc="__/auth/iframe",yd="emulator/auth/iframe",dm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fh(E){const d=E.config;Ye(d.authDomain,E,"auth-domain-config-required");const g=d.emulator?_e(d,yd):`https://${E.config.authDomain}/${mc}`,w={apiKey:d.apiKey,appName:E.name,v:Le.MF},W=gp.get(E.config.apiHost);W&&(w.eid=W);const ue=E._getFrameworks();return ue.length&&(w.fw=ue.join(",")),`${g}?${(0,Be.Am)(w).slice(1)}`}function xu(){return xu=(0,X.A)(function*(E){const d=yield function Fa(E){return Ou=Ou||function kh(E){return new Promise((d,g)=>{var w,W,ue;function We(){nu(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{nu(),g(Bt(E,"network-request-failed"))},timeout:Mu.get()})}if(null!==(W=null===(w=us().gapi)||void 0===w?void 0:w.iframes)&&void 0!==W&&W.Iframe)d(gapi.iframes.getContext());else{if(null===(ue=us().gapi)||void 0===ue||!ue.load){const yt=yi("iframefcb");return us()[yt]=()=>{gapi.load?We():g(Bt(E,"network-request-failed"))},sn(`${function _r(){return Pt.gapiScript}()}?onload=${yt}`).catch($t=>g($t))}We()}}).catch(d=>{throw Ou=null,d})}(E),Ou}(E),g=us().gapi;return Ye(g,E,"internal-error"),d.open({where:document.body,url:Fh(E),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dm,dontclear:!0},w=>new Promise(function(){var W=(0,X.A)(function*(ue,We){yield w.restyle({setHideOnLeave:!1});const yt=Bt(E,"network-request-failed"),$t=us().setTimeout(()=>{We(yt)},cm.get());function Rn(){us().clearTimeout($t),ue(w)}w.ping(Rn).then(Rn,()=>{We(yt)})});return function(ue,We){return W.apply(this,arguments)}}()))}),xu.apply(this,arguments)}const _a={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Nu{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Va="__/auth/handler",Bh="emulator/auth/handler",El=encodeURIComponent("fac");function ku(E,d,g,w,W,ue){return _c.apply(this,arguments)}function _c(){return(_c=(0,X.A)(function*(E,d,g,w,W,ue){Ye(E.config.authDomain,E,"auth-domain-config-required"),Ye(E.config.apiKey,E,"invalid-api-key");const We={apiKey:E.config.apiKey,appName:E.name,authType:g,redirectUrl:w,v:Le.MF,eventId:W};if(d instanceof ir){d.setDefaultLanguage(E.languageCode),We.providerId=d.providerId||"",(0,Be.Im)(d.getCustomParameters())||(We.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Hn,kr]of Object.entries(ue||{}))We[Hn]=kr}if(d instanceof aa){const Hn=d.getScopes().filter(kr=>""!==kr);Hn.length>0&&(We.scopes=Hn.join(","))}E.tenantId&&(We.tid=E.tenantId);const yt=We;for(const Hn of Object.keys(yt))void 0===yt[Hn]&&delete yt[Hn];const $t=yield E._getAppCheckToken(),Rn=$t?`#${El}=${encodeURIComponent($t)}`:"";return`${function hm({config:E}){return E.emulator?_e(E,Bh):`https://${E.authDomain}/${Va}`}(E)}?${(0,Be.Am)(yt).slice(1)}${Rn}`})).apply(this,arguments)}const La="webStorageSupport",ho=class Il{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Co,this._completeRedirectFn=fd,this._overrideRedirectResult=Za}_openPopup(d,g,w,W){var ue=this;return(0,X.A)(function*(){var We;Kt(null===(We=ue.eventManagers[d._key()])||void 0===We?void 0:We.manager,"_initialize() not called before _openPopup()");const yt=yield ku(d,g,w,N(),W);return function Uh(E,d,g,w=500,W=600){const ue=Math.max((window.screen.availHeight-W)/2,0).toString(),We=Math.max((window.screen.availWidth-w)/2,0).toString();let yt="";const $t=Object.assign(Object.assign({},_a),{width:w.toString(),height:W.toString(),top:ue,left:We}),Rn=(0,Be.ZQ)().toLowerCase();g&&(yt=qt(Rn)?"_blank":g),zt(Rn)&&(d=d||"http://localhost",$t.scrollbars="yes");const Hn=Object.entries($t).reduce((io,[qo,Ba])=>`${io}${qo}=${Ba},`,"");if(function Zt(E=(0,Be.ZQ)()){var d;return He(E)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Rn)&&"_self"!==yt)return function So(E,d){const g=document.createElement("a");g.href=E,g.target=d;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(d||"",yt),new Nu(null);const kr=window.open(d||"",yt,Hn);Ye(kr,E,"popup-blocked");try{kr.focus()}catch{}return new Nu(kr)}(d,yt,bo())})()}_openRedirect(d,g,w,W){var ue=this;return(0,X.A)(function*(){return yield ue._originValidation(d),function rd(E){us().location.href=E}(yield ku(d,g,w,N(),W)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:W,promise:ue}=this.eventManagers[g];return W?Promise.resolve(W):(Kt(ue,"If manager is not set, promise should be"),ue)}const w=this.initAndGetManager(d);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(d){var g=this;return(0,X.A)(function*(){const w=yield function Vh(E){return xu.apply(this,arguments)}(d),W=new ka(d);return w.register("authEvent",ue=>(Ye(ue?.authEvent,d,"invalid-auth-event"),{status:W.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:W},g.iframes[d._key()]=w,W})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(La,{type:La},W=>{var ue;const We=null===(ue=W?.[0])||void 0===ue?void 0:ue[La];void 0!==We&&g(!!We),Ht(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Nh(E){return tu.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return en()||dn()||He()}};var Ec="@firebase/auth";class $h{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,X.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(w=>{d(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);g&&(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const su=(0,Be.XA)("authIdTokenMaxAge")||300;let Ic=null;const Fu=E=>function(){var d=(0,X.A)(function*(g){const w=g&&(yield g.getIdTokenResult()),W=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(W&&W>su)return;const ue=w?.token;Ic!==ue&&(Ic=ue,yield fetch(E,{method:ue?"POST":"DELETE",headers:ue?{Authorization:`Bearer ${ue}`}:{}}))});return function(g){return d.apply(this,arguments)}}();function Cd(E=(0,Le.Sx)()){const d=(0,Le.j6)(E,"auth");if(d.isInitialized())return d.getImmediate();const g=function es(E,d){const g=(0,Le.j6)(E,"auth");if(g.isInitialized()){const W=g.getImmediate(),ue=g.getOptions();if((0,Be.bD)(ue,d??{}))return W;Ht(W,"already-initialized")}return g.initialize({options:d})}(E,{popupRedirectResolver:ho,persistence:[S,oc,Co]}),w=(0,Be.XA)("authTokenSyncURL");if(w&&"boolean"==typeof isSecureContext&&isSecureContext){const ue=new URL(w,location.origin);if(location.origin===ue.origin){const We=Fu(ue.toString());(function ic(E,d,g){(0,Be.Ku)(E).beforeAuthStateChanged(d,g)})(g,We,()=>We(g.currentUser)),function Cu(E,d,g,w){(0,Be.Ku)(E).onIdTokenChanged(d,g,w)}(g,yt=>We(yt))}}const W=(0,Be.Tj)("auth");return W&&function hs(E,d,g){const w=Sr(E);Ye(w._canInitEmulator,w,"emulator-config-failed"),Ye(/^https?:\/\//.test(d),w,"invalid-emulator-scheme");const W=!!g?.disableWarnings,ue=uo(d),{host:We,port:yt}=function js(E){const d=uo(E),g=/(\/\/)?([^?#/]+)/.exec(E.substr(d.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(w);if(W){const ue=W[1];return{host:ue,port:Ks(w.substr(ue.length+1))}}{const[ue,We]=w.split(":");return{host:ue,port:Ks(We)}}}(d);w.config.emulator={url:`${ue}//${We}${null===yt?"":`:${yt}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:We,port:yt,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function Oo(){function E(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(g,`http://${W}`),g}(function xn(E){Pt=E})({loadJS:E=>new Promise((d,g)=>{const w=document.createElement("script");w.setAttribute("src",E),w.onload=d,w.onerror=W=>{const ue=Bt("internal-error");ue.customData=W,g(ue)},w.type="text/javascript",w.charset="UTF-8",function bd(){var E,d;return null!==(d=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==d?d:document}().appendChild(w)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function iu(E){(0,Le.om)(new pe.uA("auth",(d,{options:g})=>{const w=d.getProvider("app").getImmediate(),W=d.getProvider("heartbeat"),ue=d.getProvider("app-check-internal"),{apiKey:We,authDomain:yt}=w.options;Ye(We&&!We.includes(":"),"invalid-api-key",{appName:w.name});const $t={apiKey:We,authDomain:yt,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_n(E)},Rn=new Ps(w,W,ue,$t);return function $r(E,d){const g=d?.persistence||[],w=(Array.isArray(g)?g:[g]).map(kn);d?.errorMap&&E._updateErrorMap(d.errorMap),E._initializeWithPersistence(w,d?.popupRedirectResolver)}(Rn,g),Rn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,w)=>{d.getProvider("auth-internal").initialize()})),(0,Le.om)(new pe.uA("auth-internal",d=>{const g=Sr(d.getProvider("auth").getImmediate());return new $h(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Le.KO)(Ec,"1.7.9",function Tl(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(E)),(0,Le.KO)(Ec,"1.7.9","esm2017")}("Browser");var wd=K(1985);function bl(E){return new wd.c(function(d){var g=function To(E,d,g,w){return(0,Be.Ku)(E).onAuthStateChanged(d,g,w)}(E,d.next.bind(d),d.error.bind(d),d.complete.bind(d));return{unsubscribe:g}})}class ya{constructor(d){return d}}class ys{constructor(){return(0,c.CA)("auth")}}const Ad=new D.nKC("angularfire2.auth-instances");function Dl(E){return(d,g)=>{const w=d.runOutsideAngular(()=>E(g));return new ya(w)}}const zh={provide:ys,deps:[[new D.Xx1,Ad]]},Wh={provide:ya,useFactory:function Al(E,d){const g=(0,c.lR)("auth",E,d);return g&&new ya(g)},deps:[[new D.Xx1,Ad],rt.XU]};let mp=(()=>{class E{constructor(){(0,Ee.KO)("angularfire",c.xv.full,"auth")}static \u0275fac=function(w){return new(w||E)};static \u0275mod=D.$C({type:E});static \u0275inj=D.G2t({providers:[Wh,zh]})}return E})();function _p(E,...d){return{ngModule:mp,providers:[{provide:Ad,useFactory:Dl(E),multi:!0,deps:[D.SKi,D.zZn,c.u0,rt.gL,[new D.Xx1,c.Jv],...d]}]}}const Tc=(0,c.S3)(bl,!0),Pl=(0,c.S3)(Cd,!0),Zh=(0,c.S3)(Ni,!0),Yi=(0,c.S3)(Cr,!0)},9967:(Cn,_t,K)=>{K.d(_t,{_7:()=>gr,Qi:()=>ve,gS:()=>An,rJ:()=>cn,xs:()=>Rt,kd:()=>hr,H9:()=>ds,Bg:()=>Lt,GV:()=>Y,AB:()=>Re,P:()=>xr,mZ:()=>vr,_M:()=>Ps});var c=K(3586),D=K(540),rt=K(7440),Ee=K(2214),X=K(3273),Le=K(1985),Be=K(6354),Qe=function(){return Qe=Object.assign||function(Pt){for(var xn,sn=1,Wr=arguments.length;sn<Wr;sn++)for(var ii in xn=arguments[sn])Object.prototype.hasOwnProperty.call(xn,ii)&&(Pt[ii]=xn[ii]);return Pt},Qe.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var pe={includeMetadataChanges:!1};function me(tn,Pt){return void 0===Pt&&(Pt=pe),new Le.c(function(xn){return{unsubscribe:(0,X.aQ)(tn,Pt,{next:xn.next.bind(xn),error:xn.error.bind(xn),complete:xn.complete.bind(xn)})}})}function At(tn,Pt){return void 0===Pt&&(Pt={}),function Je(tn){return me(tn,{includeMetadataChanges:!0})}(tn).pipe((0,Be.T)(function(xn){return wt(xn,Pt)}))}function wt(tn,Pt){var xn;void 0===Pt&&(Pt={});var sn=tn.data(Pt);return tn.exists()&&"object"==typeof sn&&null!==sn&&Pt.idField?Qe(Qe({},sn),((xn={})[Pt.idField]=tn.id,xn)):sn}function ke(tn,Pt){return void 0===Pt&&(Pt={}),function St(tn){return me(tn,{includeMetadataChanges:!0}).pipe((0,Be.T)(function(Pt){return Pt.docs}))}(tn).pipe((0,Be.T)(function(xn){return xn.map(function(sn){return wt(sn,Pt)})}))}class gr{constructor(Pt){return Pt}}const Ye="firestore",N=new D.nKC("angularfire2.firestore-instances"),xt={provide:class De{constructor(){return(0,c.CA)(Ye)}},deps:[[new D.Xx1,N]]},Oe={provide:gr,useFactory:function Q(tn,Pt){const xn=(0,c.lR)(Ye,tn,Pt);return xn&&new gr(xn)},deps:[[new D.Xx1,N],rt.XU]};let ve=(()=>{class tn{constructor(){(0,Ee.KO)("angularfire",c.xv.full,"fst")}static \u0275fac=function(sn){return new(sn||tn)};static \u0275mod=D.$C({type:tn});static \u0275inj=D.G2t({providers:[Oe,xt]})}return tn})();const Rt=(0,c.S3)(ke,!0),Lt=(0,c.S3)(At,!0),An=(0,c.S3)(X.gS,!0),cn=(0,c.S3)(X.rJ,!0),hr=(0,c.S3)(X.kd,!0),ds=(0,c.S3)(X.H9,!0),Y=(0,c.S3)(X.GV,!0),Re=(0,c.S3)(X.AB,!0),xr=(0,c.S3)(X.P,!0),vr=(0,c.S3)(X.mZ,!0),Ps=(0,c.S3)(X._M,!0)},2107:(Cn,_t,K)=>{K.d(_t,{wc:()=>qn,qk:()=>ir,c7:()=>Us,Xm:()=>ai,KR:()=>is,D:()=>xi});var c=K(3586),D=K(540),rt=K(7440),Ee=K(8563),X=K(2214),Le=K(467),Be=K(7852),Qe=K(1076),st=K(1362);const pe="firebasestorage.googleapis.com",me="storageBucket";class Dt extends Qe.g{constructor(q,fe,Ce=0){super(Xt(q),`Firebase Storage: ${fe} (${Xt(q)})`),this.status_=Ce,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dt.prototype)}get status(){return this.status_}set status(q){this.status_=q}_codeEquals(q){return Xt(q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(q){this.customData.serverResponse=q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var rn=function(z){return z.UNKNOWN="unknown",z.OBJECT_NOT_FOUND="object-not-found",z.BUCKET_NOT_FOUND="bucket-not-found",z.PROJECT_NOT_FOUND="project-not-found",z.QUOTA_EXCEEDED="quota-exceeded",z.UNAUTHENTICATED="unauthenticated",z.UNAUTHORIZED="unauthorized",z.UNAUTHORIZED_APP="unauthorized-app",z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",z.INVALID_CHECKSUM="invalid-checksum",z.CANCELED="canceled",z.INVALID_EVENT_NAME="invalid-event-name",z.INVALID_URL="invalid-url",z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",z.NO_DEFAULT_BUCKET="no-default-bucket",z.CANNOT_SLICE_BLOB="cannot-slice-blob",z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",z.NO_DOWNLOAD_URL="no-download-url",z.INVALID_ARGUMENT="invalid-argument",z.INVALID_ARGUMENT_COUNT="invalid-argument-count",z.APP_DELETED="app-deleted",z.INVALID_ROOT_OPERATION="invalid-root-operation",z.INVALID_FORMAT="invalid-format",z.INTERNAL_ERROR="internal-error",z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",z}(rn||{});function Xt(z){return"storage/"+z}function bn(){return new Dt(rn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Kt(z){return new Dt(rn.INVALID_ARGUMENT,z)}function N(){return new Dt(rn.APP_DELETED,"The Firebase app was deleted.")}function ae(z,q){return new Dt(rn.INVALID_FORMAT,"String does not match format '"+z+"': "+q)}function xt(z){throw new Dt(rn.INTERNAL_ERROR,"Internal error: "+z)}class Oe{constructor(q,fe){this.bucket=q,this.path_=fe}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const q=encodeURIComponent;return"/b/"+q(this.bucket)+"/o/"+q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(q,fe){let Ce;try{Ce=Oe.makeFromUrl(q,fe)}catch{return new Oe(q,"")}if(""===Ce.path)return Ce;throw function ke(z){return new Dt(rn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+z+"'.")}(q)}static makeFromUrl(q,fe){let Ce=null;const Ke="([A-Za-z0-9.\\-_]+)",B=new RegExp("^gs://"+Ke+"(/(.*))?$","i");function Z(Mi){Mi.path_=decodeURIComponent(Mi.path)}const kt=fe.replace(/[.]/g,"\\."),Ur=[{regex:B,indices:{bucket:1,path:3},postModify:function Et(Mi){"/"===Mi.path.charAt(Mi.path.length-1)&&(Mi.path_=Mi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${kt}/v[A-Za-z0-9_]+/b/${Ke}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Z},{regex:new RegExp(`^https?://${fe===pe?"(?:storage.googleapis.com|storage.cloud.google.com)":fe}/${Ke}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Z}];for(let Mi=0;Mi<Ur.length;Mi++){const Eo=Ur[Mi],Ys=Eo.regex.exec(q);if(Ys){let lo=Ys[Eo.indices.path];lo||(lo=""),Ce=new Oe(Ys[Eo.indices.bucket],lo),Eo.postModify(Ce);break}}if(null==Ce)throw function Bt(z){return new Dt(rn.INVALID_URL,"Invalid URL '"+z+"'.")}(q);return Ce}}class ve{constructor(q){this.promise_=Promise.reject(q)}getPromise(){return this.promise_}cancel(q=!1){}}function Rt(z){return"string"==typeof z||z instanceof String}function Vn(z){return pn()&&z instanceof Blob}function pn(){return typeof Blob<"u"}function Wn(z,q,fe,Ce){if(Ce<q)throw Kt(`Invalid value for '${z}'. Expected ${q} or greater.`);if(Ce>fe)throw Kt(`Invalid value for '${z}'. Expected ${fe} or less.`)}function Lt(z,q,fe){let Ce=q;return null==fe&&(Ce=`https://${q}`),`${fe}://${Ce}/v0${z}`}function br(z){const q=encodeURIComponent;let fe="?";for(const Ce in z)z.hasOwnProperty(Ce)&&(fe=fe+(q(Ce)+"=")+q(z[Ce])+"&");return fe=fe.slice(0,-1),fe}var Pn=function(z){return z[z.NO_ERROR=0]="NO_ERROR",z[z.NETWORK_ERROR=1]="NETWORK_ERROR",z[z.ABORT=2]="ABORT",z}(Pn||{});class Wt{constructor(q,fe,Ce,Ke,Et,V,B,M,Z,Ie,kt,Sn=!0){this.url_=q,this.method_=fe,this.headers_=Ce,this.body_=Ke,this.successCodes_=Et,this.additionalRetryCodes_=V,this.callback_=B,this.errorCallback_=M,this.timeout_=Z,this.progressCallback_=Ie,this.connectionFactory_=kt,this.retry=Sn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Mr,Jr)=>{this.resolve_=Mr,this.reject_=Jr,this.start_()})}start_(){const fe=(Ce,Ke)=>{const Et=this.resolve_,V=this.reject_,B=Ke.connection;if(Ke.wasSuccessCode)try{const M=this.callback_(B,B.getResponse());!function de(z){return void 0!==z}(M)?Et():Et(M)}catch(M){V(M)}else if(null!==B){const M=bn();M.serverResponse=B.getErrorText(),V(this.errorCallback_?this.errorCallback_(B,M):M)}else V(Ke.canceled?this.appDelete_?N():function Ht(){return new Dt(rn.CANCELED,"User canceled the upload/download.")}():function St(){return new Dt(rn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?fe(0,new on(!1,null,!0)):this.backoffId_=function _e(z,q,fe){let Ce=1,Ke=null,Et=null,V=!1,B=0;function M(){return 2===B}let Z=!1;function Ie(...Hr){Z||(Z=!0,q.apply(null,Hr))}function kt(Hr){Ke=setTimeout(()=>{Ke=null,z(Mr,M())},Hr)}function Sn(){Et&&clearTimeout(Et)}function Mr(Hr,...Gi){if(Z)return void Sn();if(Hr)return Sn(),void Ie.call(null,Hr,...Gi);if(M()||V)return Sn(),void Ie.call(null,Hr,...Gi);let Ur;Ce<64&&(Ce*=2),1===B?(B=2,Ur=0):Ur=1e3*(Ce+Math.random()),kt(Ur)}let Jr=!1;function _i(Hr){Jr||(Jr=!0,Sn(),!Z&&(null!==Ke?(Hr||(B=2),clearTimeout(Ke),kt(0)):Hr||(B=1)))}return kt(0),Et=setTimeout(()=>{V=!0,_i(!0)},fe),_i}((Ce,Ke)=>{if(Ke)return void Ce(!1,new on(!1,null,!0));const Et=this.connectionFactory_();this.pendingConnection_=Et;const V=B=>{null!==this.progressCallback_&&this.progressCallback_(B.loaded,B.lengthComputable?B.total:-1)};null!==this.progressCallback_&&Et.addUploadProgressListener(V),Et.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Et.removeUploadProgressListener(V),this.pendingConnection_=null;const B=Et.getErrorCode()===Pn.NO_ERROR,M=Et.getStatus();if(!B||function An(z,q){const fe=z>=500&&z<600,Ke=-1!==[408,429].indexOf(z),Et=-1!==q.indexOf(z);return fe||Ke||Et}(M,this.additionalRetryCodes_)&&this.retry){const Ie=Et.getErrorCode()===Pn.ABORT;return void Ce(!1,new on(!1,null,Ie))}const Z=-1!==this.successCodes_.indexOf(M);Ce(!0,new on(Z,Et))})},fe,this.timeout_)}getPromise(){return this.promise_}cancel(q){this.canceled_=!0,this.appDelete_=q||!1,null!==this.backoffId_&&function oe(z){z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class on{constructor(q,fe,Ce){this.wasSuccessCode=q,this.connection=fe,this.canceled=!!Ce}}function mn(...z){const q=function cn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==q){const fe=new q;for(let Ce=0;Ce<z.length;Ce++)fe.append(z[Ce]);return fe.getBlob()}if(pn())return new Blob(z);throw new Dt(rn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hr{constructor(q,fe){this.data=q,this.contentType=fe||null}}function Ui(z){const q=[];for(let fe=0;fe<z.length;fe++){let Ce=z.charCodeAt(fe);Ce<=127?q.push(Ce):Ce<=2047?q.push(192|Ce>>6,128|63&Ce):55296==(64512&Ce)?fe<z.length-1&&56320==(64512&z.charCodeAt(fe+1))?(Ce=65536|(1023&Ce)<<10|1023&z.charCodeAt(++fe),q.push(240|Ce>>18,128|Ce>>12&63,128|Ce>>6&63,128|63&Ce)):q.push(239,191,189):56320==(64512&Ce)?q.push(239,191,189):q.push(224|Ce>>12,128|Ce>>6&63,128|63&Ce)}return new Uint8Array(q)}function ds(z,q){switch(z){case Or.BASE64:{const Ke=-1!==q.indexOf("-"),Et=-1!==q.indexOf("_");if(Ke||Et)throw ae(z,"Invalid character '"+(Ke?"-":"_")+"' found: is it base64url encoded?");break}case Or.BASE64URL:{const Ke=-1!==q.indexOf("+"),Et=-1!==q.indexOf("/");if(Ke||Et)throw ae(z,"Invalid character '"+(Ke?"+":"/")+"' found: is it base64 encoded?");q=q.replace(/-/g,"+").replace(/_/g,"/");break}}let fe;try{fe=function dr(z){if(typeof atob>"u")throw function De(z){return new Dt(rn.UNSUPPORTED_ENVIRONMENT,`${z} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(z)}(q)}catch(Ke){throw Ke.message.includes("polyfill")?Ke:ae(z,"Invalid character found")}const Ce=new Uint8Array(fe.length);for(let Ke=0;Ke<fe.length;Ke++)Ce[Ke]=fe.charCodeAt(Ke);return Ce}class fn{constructor(q){this.base64=!1,this.contentType=null;const fe=q.match(/^data:([^,]+)?,/);if(null===fe)throw ae(Or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ce=fe[1]||null;null!=Ce&&(this.base64=function Vr(z,q){return z.length>=q.length&&z.substring(z.length-q.length)===q}(Ce,";base64"),this.contentType=this.base64?Ce.substring(0,Ce.length-7):Ce),this.rest=q.substring(q.indexOf(",")+1)}}class qe{constructor(q,fe){let Ce=0,Ke="";Vn(q)?(this.data_=q,Ce=q.size,Ke=q.type):q instanceof ArrayBuffer?(fe?this.data_=new Uint8Array(q):(this.data_=new Uint8Array(q.byteLength),this.data_.set(new Uint8Array(q))),Ce=this.data_.length):q instanceof Uint8Array&&(fe?this.data_=q:(this.data_=new Uint8Array(q.length),this.data_.set(q)),Ce=q.length),this.size_=Ce,this.type_=Ke}size(){return this.size_}type(){return this.type_}slice(q,fe){if(Vn(this.data_)){const Ke=function wr(z,q,fe){return z.webkitSlice?z.webkitSlice(q,fe):z.mozSlice?z.mozSlice(q,fe):z.slice?z.slice(q,fe):null}(this.data_,q,fe);return null===Ke?null:new qe(Ke)}{const Ce=new Uint8Array(this.data_.buffer,q,fe-q);return new qe(Ce,!0)}}static getBlob(...q){if(pn()){const fe=q.map(Ce=>Ce instanceof qe?Ce.data_:Ce);return new qe(mn.apply(null,fe))}{const fe=q.map(V=>Rt(V)?function Fr(z,q){switch(z){case Or.RAW:return new hr(Ui(q));case Or.BASE64:case Or.BASE64URL:return new hr(ds(z,q));case Or.DATA_URL:return new hr(function Si(z){const q=new fn(z);return q.base64?ds(Or.BASE64,q.rest):function Bn(z){let q;try{q=decodeURIComponent(z)}catch{throw ae(Or.DATA_URL,"Malformed data URL.")}return Ui(q)}(q.rest)}(q),function ti(z){return new fn(z).contentType}(q))}throw bn()}(Or.RAW,V).data:V.data_);let Ce=0;fe.forEach(V=>{Ce+=V.byteLength});const Ke=new Uint8Array(Ce);let Et=0;return fe.forEach(V=>{for(let B=0;B<V.length;B++)Ke[Et++]=V[B]}),new qe(Ke,!0)}}uploadData(){return this.data_}}function Xn(z){let q;try{q=JSON.parse(z)}catch{return null}return function at(z){return"object"==typeof z&&!Array.isArray(z)}(q)?q:null}function Wi(z){const q=z.lastIndexOf("/",z.length-2);return-1===q?z:z.slice(q+1)}function On(z,q){return q}class or{constructor(q,fe,Ce,Ke){this.server=q,this.local=fe||q,this.writable=!!Ce,this.xform=Ke||On}}let Xr=null;function pi(){if(Xr)return Xr;const z=[];z.push(new or("bucket")),z.push(new or("generation")),z.push(new or("metageneration")),z.push(new or("name","fullPath",!0));const fe=new or("name");fe.xform=function q(Et,V){return function fi(z){return!Rt(z)||z.length<2?z:Wi(z)}(V)},z.push(fe);const Ke=new or("size");return Ke.xform=function Ce(Et,V){return void 0!==V?Number(V):V},z.push(Ke),z.push(new or("timeCreated")),z.push(new or("updated")),z.push(new or("md5Hash",null,!0)),z.push(new or("cacheControl",null,!0)),z.push(new or("contentDisposition",null,!0)),z.push(new or("contentEncoding",null,!0)),z.push(new or("contentLanguage",null,!0)),z.push(new or("contentType",null,!0)),z.push(new or("metadata","customMetadata",!0)),Xr=z,Xr}function j(z,q,fe){const Ce=Xn(q);return null===Ce?null:function ne(z,q,fe){const Ce={type:"file"},Ke=fe.length;for(let Et=0;Et<Ke;Et++){const V=fe[Et];Ce[V.local]=V.xform(Ce,q[V.server])}return function mt(z,q){Object.defineProperty(z,"ref",{get:function fe(){const Et=new Oe(z.bucket,z.fullPath);return q._makeStorageReference(Et)}})}(Ce,z),Ce}(z,Ce,fe)}class Yn{constructor(q,fe,Ce,Ke){this.url=q,this.method=fe,this.handler=Ce,this.timeout=Ke,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function kn(z){if(!z)throw bn()}function Se(z){return function q(fe,Ce){let Ke;return Ke=401===fe.getStatus()?fe.getErrorText().includes("Firebase App Check token is invalid")?function dt(){return new Dt(rn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function xe(){return new Dt(rn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===fe.getStatus()?function hn(z){return new Dt(rn.QUOTA_EXCEEDED,"Quota for bucket '"+z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(z.bucket):403===fe.getStatus()?function gt(z){return new Dt(rn.UNAUTHORIZED,"User does not have permission to access '"+z+"'.")}(z.path):Ce,Ke.status=fe.getStatus(),Ke.serverResponse=Ce.serverResponse,Ke}}function It(z,q,fe,Ce,Ke){const Et=q.bucketOnlyServerUrl(),V={"X-Goog-Upload-Protocol":"multipart"},M=function B(){let Ur="";for(let Mi=0;Mi<2;Mi++)Ur+=Math.random().toString().slice(2);return Ur}();V["Content-Type"]="multipart/related; boundary="+M;const Z=function He(z,q,fe){const Ce=Object.assign({},fe);return Ce.fullPath=z.path,Ce.size=q.size(),Ce.contentType||(Ce.contentType=function ct(z,q){return z&&z.contentType||q&&q.type()||"application/octet-stream"}(null,q)),Ce}(q,Ce,Ke),Ie=function Ae(z,q){const fe={},Ce=q.length;for(let Ke=0;Ke<Ce;Ke++){const Et=q[Ke];Et.writable&&(fe[Et.server]=z[Et.local])}return JSON.stringify(fe)}(Z,fe),Mr=qe.getBlob("--"+M+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ie+"\r\n--"+M+"\r\nContent-Type: "+Z.contentType+"\r\n\r\n",Ce,"\r\n--"+M+"--");if(null===Mr)throw function Ln(){return new Dt(rn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const Jr={name:Z.fullPath},_i=Lt(Et,z.host,z._protocol),Gi=z.maxUploadRetryTime,gi=new Yn(_i,"POST",function ni(z,q){return function fe(Ce,Ke){const Et=j(z,Ke,q);return kn(null!==Et),Et}}(z,fe),Gi);return gi.urlParams=Jr,gi.headers=V,gi.body=Mr.uploadData(),gi.errorHandler=Se(q),gi}let tn=null;class Pt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pn.NO_ERROR,this.sendPromise_=new Promise(q=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pn.ABORT,q()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pn.NETWORK_ERROR,q()}),this.xhr_.addEventListener("load",()=>{q()})})}send(q,fe,Ce,Ke){if(this.sent_)throw xt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(fe,q,!0),void 0!==Ke)for(const Et in Ke)Ke.hasOwnProperty(Et)&&this.xhr_.setRequestHeader(Et,Ke[Et].toString());return void 0!==Ce?this.xhr_.send(Ce):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(q){return this.xhr_.getResponseHeader(q)}addUploadProgressListener(q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",q)}removeUploadProgressListener(q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",q)}}class xn extends Pt{initXhr(){this.xhr_.responseType="text"}}function sn(){return tn?tn():new xn}class tr{constructor(q,fe){this._service=q,this._location=fe instanceof Oe?fe:Oe.makeFromUrl(fe,q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(q,fe){return new tr(q,fe)}get root(){const q=new Oe(this._location.bucket,"");return this._newRef(this._service,q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Wi(this._location.path)}get storage(){return this._service}get parent(){const q=function nn(z){if(0===z.length)return null;const q=z.lastIndexOf("/");return-1===q?"":z.slice(0,q)}(this._location.path);if(null===q)return null;const fe=new Oe(this._location.bucket,q);return new tr(this._service,fe)}_throwIfRoot(q){if(""===this._location.path)throw function Q(z){return new Dt(rn.INVALID_ROOT_OPERATION,"The operation '"+z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(q)}}function js(z){z._throwIfRoot("getDownloadURL");const q=function xr(z,q,fe){const Ke=Lt(q.fullServerUrl(),z.host,z._protocol),V=z.maxOperationRetryTime,B=new Yn(Ke,"GET",function be(z,q){return function fe(Ce,Ke){const Et=j(z,Ke,q);return kn(null!==Et),function Y(z,q,fe,Ce){const Ke=Xn(q);if(null===Ke||!Rt(Ke.downloadTokens))return null;const Et=Ke.downloadTokens;if(0===Et.length)return null;const V=encodeURIComponent;return Et.split(",").map(Z=>{const kt=z.fullPath;return Lt("/b/"+V(z.bucket)+"/o/"+V(kt),fe,Ce)+br({alt:"media",token:Z})})[0]}(Et,Ke,z.host,z._protocol)}}(z,fe),V);return B.errorHandler=function bt(z){const q=Se(z);return function fe(Ce,Ke){let Et=q(Ce,Ke);return 404===Ce.getStatus()&&(Et=function Zn(z){return new Dt(rn.OBJECT_NOT_FOUND,"Object '"+z+"' does not exist.")}(z.path)),Et.serverResponse=Ke.serverResponse,Et}}(q),B}(z.storage,z._location,pi());return z.storage.makeRequestWithTokens(q,sn).then(fe=>{if(null===fe)throw function Ye(){return new Dt(rn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return fe})}function Is(z,q){if(z instanceof ji){const fe=z;if(null==fe._bucket)throw function Yt(){return new Dt(rn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+me+"' property when initializing the app?")}();const Ce=new tr(fe,fe._bucket);return null!=q?Is(Ce,q):Ce}return void 0!==q?function Oo(z,q){const fe=function Ri(z,q){const fe=q.split("/").filter(Ce=>Ce.length>0).join("/");return 0===z.length?fe:z+"/"+fe}(z._location.path,q),Ce=new Oe(z._location.bucket,fe);return new tr(z.storage,Ce)}(z,q):z}function Bi(z,q){const fe=q?.[me];return null==fe?null:Oe.makeFromBucketSpec(fe,z)}class ji{constructor(q,fe,Ce,Ke,Et){this.app=q,this._authProvider=fe,this._appCheckProvider=Ce,this._url=Ke,this._firebaseVersion=Et,this._bucket=null,this._host=pe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ke?Oe.makeFromBucketSpec(Ke,this._host):Bi(this._host,this.app.options)}get host(){return this._host}set host(q){this._host=q,this._bucket=null!=this._url?Oe.makeFromBucketSpec(this._url,q):Bi(q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(q){Wn("time",0,Number.POSITIVE_INFINITY,q),this._maxUploadRetryTime=q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(q){Wn("time",0,Number.POSITIVE_INFINITY,q),this._maxOperationRetryTime=q}_getAuthToken(){var q=this;return(0,Le.A)(function*(){if(q._overrideAuthToken)return q._overrideAuthToken;const fe=q._authProvider.getImmediate({optional:!0});if(fe){const Ce=yield fe.getToken();if(null!==Ce)return Ce.accessToken}return null})()}_getAppCheckToken(){var q=this;return(0,Le.A)(function*(){const fe=q._appCheckProvider.getImmediate({optional:!0});return fe?(yield fe.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(q=>q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(q){return new tr(this,q)}_makeRequest(q,fe,Ce,Ke,Et=!0){if(this._deleted)return new ve(N());{const V=function Ut(z,q,fe,Ce,Ke,Et,V=!0){const B=br(z.urlParams),M=z.url+B,Z=Object.assign({},z.headers);return function an(z,q){q&&(z["X-Firebase-GMPID"]=q)}(Z,q),function gn(z,q){null!==q&&q.length>0&&(z.Authorization="Firebase "+q)}(Z,fe),function Xe(z,q){z["X-Firebase-Storage-Version"]="webjs/"+(q??"AppManager")}(Z,Et),function Fe(z,q){null!==q&&(z["X-Firebase-AppCheck"]=q)}(Z,Ce),new Wt(M,z.method,Z,z.body,z.successCodes,z.additionalRetryCodes,z.handler,z.errorHandler,z.timeout,z.progressCallback,Ke,V)}(q,this._appId,Ce,Ke,fe,this._firebaseVersion,Et);return this._requests.add(V),V.getPromise().then(()=>this._requests.delete(V),()=>this._requests.delete(V)),V}}makeRequestWithTokens(q,fe){var Ce=this;return(0,Le.A)(function*(){const[Ke,Et]=yield Promise.all([Ce._getAuthToken(),Ce._getAppCheckToken()]);return Ce._makeRequest(q,fe,Ke,Et).getPromise()})()}}const Vs="@firebase/storage",Ts="storage";function Pr(z,q,fe){return function Rr(z,q,fe){z._throwIfRoot("uploadBytes");const Ce=It(z.storage,z._location,pi(),new qe(q,!0),fe);return z.storage.makeRequestWithTokens(Ce,sn).then(Ke=>({metadata:Ke,ref:z}))}(z=(0,Qe.Ku)(z),q,fe)}function Qs(z){return js(z=(0,Qe.Ku)(z))}function qr(z,q){return function ts(z,q){if(q&&function Es(z){return/^[A-Za-z]+:\/\//.test(z)}(q)){if(z instanceof ji)return function Ki(z,q){return new tr(z,q)}(z,q);throw Kt("To use ref(service, url), the first argument must be a Storage instance.")}return Is(z,q)}(z=(0,Qe.Ku)(z),q)}function nr(z=(0,Be.Sx)(),q){z=(0,Qe.Ku)(z);const Ce=(0,Be.j6)(z,Ts).getImmediate({identifier:q}),Ke=(0,Qe.yU)("storage");return Ke&&function Er(z,q,fe,Ce={}){!function $s(z,q,fe,Ce={}){z.host=`${q}:${fe}`,z._protocol="http";const{mockUserToken:Ke}=Ce;Ke&&(z._overrideAuthToken="string"==typeof Ke?Ke:(0,Qe.Fy)(Ke,z.app.options.projectId))}(z,q,fe,Ce)}(Ce,...Ke),Ce}function lr(z,{instanceIdentifier:q}){const fe=z.getProvider("app").getImmediate(),Ce=z.getProvider("auth-internal"),Ke=z.getProvider("app-check-internal");return new ji(fe,Ce,Ke,q,Be.MF)}!function Hi(){(0,Be.om)(new st.uA(Ts,lr,"PUBLIC").setMultipleInstances(!0)),(0,Be.KO)(Vs,"0.13.2",""),(0,Be.KO)(Vs,"0.13.2","esm2017")}();class qn{constructor(q){return q}}const ui="storage",Pi=new D.nKC("angularfire2.storage-instances");function xs(z){return(q,fe)=>{const Ce=q.runOutsideAngular(()=>z(fe));return new qn(Ce)}}const Nn={provide:class rs{constructor(){return(0,c.CA)(ui)}},deps:[[new D.Xx1,Pi]]},Tr={provide:qn,useFactory:function Xs(z,q){const fe=(0,c.lR)(ui,z,q);return fe&&new qn(fe)},deps:[[new D.Xx1,Pi],rt.XU]};let Kr=(()=>{class z{constructor(){(0,X.KO)("angularfire",c.xv.full,"gcs")}static \u0275fac=function(Ce){return new(Ce||z)};static \u0275mod=D.$C({type:z});static \u0275inj=D.G2t({providers:[Tr,Nn]})}return z})();function ai(z,...q){return{ngModule:Kr,providers:[{provide:Pi,useFactory:xs(z),multi:!0,deps:[D.SKi,D.zZn,c.u0,rt.gL,[new D.Xx1,Ee.DF],[new D.Xx1,c.Jv],...q]}]}}const ir=(0,c.S3)(Qs,!0),Us=(0,c.S3)(nr,!0),is=(0,c.S3)(qr,!0),xi=(0,c.S3)(Pr,!0)},3586:(Cn,_t,K)=>{K.d(_t,{xv:()=>xe,u0:()=>gr,Jv:()=>Ht,CA:()=>St,lR:()=>gt,S3:()=>ve});var c=K(540),D=K(2214),rt=K(8359);class Ee extends rt.yU{constructor(oe,de){super()}schedule(oe,de=0){return this}}const X={setInterval(_e,oe,...de){const{delegate:we}=X;return we?.setInterval?we.setInterval(_e,oe,...de):setInterval(_e,oe,...de)},clearInterval(_e){const{delegate:oe}=X;return(oe?.clearInterval||clearInterval)(_e)},delegate:void 0};var Le=K(7908);class Be extends Ee{constructor(oe,de){super(oe,de),this.scheduler=oe,this.work=de,this.pending=!1}schedule(oe,de=0){var we;if(this.closed)return this;this.state=oe;const at=this.id,Rt=this.scheduler;return null!=at&&(this.id=this.recycleAsyncId(Rt,at,de)),this.pending=!0,this.delay=de,this.id=null!==(we=this.id)&&void 0!==we?we:this.requestAsyncId(Rt,this.id,de),this}requestAsyncId(oe,de,we=0){return X.setInterval(oe.flush.bind(oe,this),we)}recycleAsyncId(oe,de,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return de;null!=de&&X.clearInterval(de)}execute(oe,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(oe,de);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,de){let at,we=!1;try{this.work(oe)}catch(Rt){we=!0,at=Rt||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),at}unsubscribe(){if(!this.closed){const{id:oe,scheduler:de}=this,{actions:we}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Le.o)(we,this),null!=oe&&(this.id=this.recycleAsyncId(de,oe,null)),this.delay=null,super.unsubscribe()}}}const st={now:()=>(st.delegate||Date).now(),delegate:void 0};class pe{constructor(oe,de=pe.now){this.schedulerActionCtor=oe,this.now=de}schedule(oe,de=0,we){return new this.schedulerActionCtor(this,oe).schedule(we,de)}}pe.now=st.now;class me extends pe{constructor(oe,de=pe.now){super(oe,de),this.actions=[],this._active=!1}flush(oe){const{actions:de}=this;if(this._active)return void de.push(oe);let we;this._active=!0;do{if(we=oe.execute(oe.state,oe.delay))break}while(oe=de.shift());if(this._active=!1,we){for(;oe=de.shift();)oe.unsubscribe();throw we}}}const At=new class Je extends me{}(class Qe extends Be{constructor(oe,de){super(oe,de),this.scheduler=oe,this.work=de}schedule(oe,de=0){return de>0?super.schedule(oe,de):(this.delay=de,this.state=oe,this.scheduler.flush(this),this)}execute(oe,de){return de>0||this.closed?super.execute(oe,de):this._execute(oe,de)}requestAsyncId(oe,de,we=0){return null!=we&&we>0||null==we&&this.delay>0?super.requestAsyncId(oe,de,we):(oe.flush(this),0)}}),Dt=new me(Be);var Xt=K(1985),bn=K(8141),Zn=K(6745),hn=K(941);const xe=new c.RxE("ANGULARFIRE2_VERSION");function gt(_e,oe,de){if(oe){if(1===oe.length)return oe[0];const Rt=oe.filter(Vn=>Vn.app===de);if(1===Rt.length)return Rt[0]}return de.container.getProvider(_e).getImmediate({optional:!0})}const St=(_e,oe)=>{const de=oe?[oe]:(0,D.Dk)(),we=[];return de.forEach(at=>{at.container.getProvider(_e).instances.forEach(Vn=>{we.includes(Vn)||we.push(Vn)})}),we};class Ht{constructor(){return St(Bt)}}const Bt="app-check";function ke(){}class Yt{zone;delegate;constructor(oe,de=At){this.zone=oe,this.delegate=de}now(){return this.delegate.now()}schedule(oe,de,we){const at=this.zone;return this.delegate.schedule(function(Vn){at.runGuarded(()=>{oe.apply(this,[Vn])})},de,we)}}class Ln{zone;task=null;constructor(oe){this.zone=oe}call(oe,de){const we=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ke,{},ke,ke)),de.pipe((0,bn.M)({next:we,complete:we,error:we})).subscribe(oe).add(we)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gr=(()=>{class _e{ngZone;outsideAngular;insideAngular;constructor(de){this.ngZone=de,this.outsideAngular=de.runOutsideAngular(()=>new Yt(Zone.current)),this.insideAngular=de.run(()=>new Yt(Zone.current,Dt)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(we){return new(we||_e)(c.KVO(c.SKi))};static \u0275prov=c.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})();function Ye(){const _e=globalThis.\u0275AngularFireScheduler;if(!_e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return _e}function Kt(_e){return Ye().ngZone.run(()=>_e())}function ae(_e){return function xt(_e){return function(de){return(de=de.lift(new Ln(_e.ngZone))).pipe((0,Zn._)(_e.outsideAngular),(0,hn.Q)(_e.insideAngular))}}(Ye())(_e)}const Oe=(_e,oe)=>function(){const we=arguments;return oe&&setTimeout(()=>{"scheduled"===oe.state&&oe.invoke()},10),Kt(()=>_e.apply(void 0,we))},ve=(_e,oe)=>function(){let de;const we=arguments;for(let Rt=0;Rt<arguments.length;Rt++)"function"==typeof we[Rt]&&(oe&&(de||=Kt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ke,{},ke,ke))),we[Rt]=Oe(we[Rt],de));const at=function De(_e){return Ye().ngZone.runOutsideAngular(()=>_e())}(()=>_e.apply(this,we));if(!oe){if(at instanceof Xt.c){const Rt=Ye();return at.pipe((0,Zn._)(Rt.outsideAngular),(0,hn.Q)(Rt.insideAngular))}return Kt(()=>at)}return at instanceof Xt.c?at.pipe(ae):at instanceof Promise?Kt(()=>new Promise((Rt,Vn)=>at.then(pn=>Kt(()=>Rt(pn)),pn=>Kt(()=>Vn(pn))))):"function"==typeof at&&de?function(){return setTimeout(()=>{de&&"scheduled"===de.state&&de.invoke()},10),at.apply(this,arguments)}:Kt(()=>at)}},4341:(Cn,_t,K)=>{K.d(_t,{me:()=>xe,Dg:()=>fs,ok:()=>z,JD:()=>bs,j4:()=>ar,YN:()=>Ke,kq:()=>Dt,BC:()=>cn,cb:()=>mn,cV:()=>Wr,vS:()=>hs,xH:()=>nr,X1:()=>Et,YS:()=>ai,wz:()=>ln,k0:()=>ke,qT:()=>uo,y7:()=>qn});var c=K(540),D=K(177),rt=K(8455),Ee=K(1985),X=K(3073),Le=K(8750),Be=K(3794),Qe=K(4360),st=K(6450),pe=K(8496),Je=K(6354);let At=(()=>{class V{constructor(M,Z){this._renderer=M,this._elementRef=Z,this.onChange=Ie=>{},this.onTouched=()=>{}}setProperty(M,Z){this._renderer.setProperty(this._elementRef.nativeElement,M,Z)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}static{this.\u0275fac=function(Z){return new(Z||V)(c.rXU(c.sFG),c.rXU(c.aKT))}}static{this.\u0275dir=c.FsC({type:V})}}return V})(),wt=(()=>{class V extends At{static{this.\u0275fac=function(){let M;return function(Ie){return(M||(M=c.xGo(V)))(Ie||V)}}()}static{this.\u0275dir=c.FsC({type:V,features:[c.Vt3]})}}return V})();const Dt=new c.nKC("NgValueAccessor"),bn={provide:Dt,useExisting:(0,c.Rfq)(()=>xe),multi:!0},hn=new c.nKC("CompositionEventMode");let xe=(()=>{class V extends At{constructor(M,Z,Ie){super(M,Z),this._compositionMode=Ie,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Zn(){const V=(0,D.QT)()?(0,D.QT)().getUserAgent():"";return/android (\d+)/.test(V.toLowerCase())}())}writeValue(M){this.setProperty("value",M??"")}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}static{this.\u0275fac=function(Z){return new(Z||V)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(hn,8))}}static{this.\u0275dir=c.FsC({type:V,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Z,Ie){1&Z&&c.bIt("input",function(Sn){return Ie._handleInput(Sn.target.value)})("blur",function(){return Ie.onTouched()})("compositionstart",function(){return Ie._compositionStart()})("compositionend",function(Sn){return Ie._compositionEnd(Sn.target.value)})},features:[c.Jv_([bn]),c.Vt3]})}}return V})();function dt(V){return null==V||("string"==typeof V||Array.isArray(V))&&0===V.length}function gt(V){return null!=V&&"number"==typeof V.length}const St=new c.nKC("NgValidators"),Ht=new c.nKC("NgAsyncValidators"),Bt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ke{static min(B){return function Yt(V){return B=>{if(dt(B.value)||dt(V))return null;const M=parseFloat(B.value);return!isNaN(M)&&M<V?{min:{min:V,actual:B.value}}:null}}(B)}static max(B){return function Ln(V){return B=>{if(dt(B.value)||dt(V))return null;const M=parseFloat(B.value);return!isNaN(M)&&M>V?{max:{max:V,actual:B.value}}:null}}(B)}static required(B){return gr(B)}static requiredTrue(B){return function Ye(V){return!0===V.value?null:{required:!0}}(B)}static email(B){return De(B)}static minLength(B){return function Kt(V){return B=>dt(B.value)||!gt(B.value)?null:B.value.length<V?{minlength:{requiredLength:V,actualLength:B.value.length}}:null}(B)}static maxLength(B){return function N(V){return B=>gt(B.value)&&B.value.length>V?{maxlength:{requiredLength:V,actualLength:B.value.length}}:null}(B)}static pattern(B){return function Q(V){if(!V)return ae;let B,M;return"string"==typeof V?(M="","^"!==V.charAt(0)&&(M+="^"),M+=V,"$"!==V.charAt(V.length-1)&&(M+="$"),B=new RegExp(M)):(M=V.toString(),B=V),Z=>{if(dt(Z.value))return null;const Ie=Z.value;return B.test(Ie)?null:{pattern:{requiredPattern:M,actualValue:Ie}}}}(B)}static nullValidator(B){return null}static compose(B){return we(B)}static composeAsync(B){return Rt(B)}}function gr(V){return dt(V.value)?{required:!0}:null}function De(V){return dt(V.value)||Bt.test(V.value)?null:{email:!0}}function ae(V){return null}function xt(V){return null!=V}function Oe(V){return(0,c.jNT)(V)?(0,rt.H)(V):V}function ve(V){let B={};return V.forEach(M=>{B=null!=M?{...B,...M}:B}),0===Object.keys(B).length?null:B}function _e(V,B){return B.map(M=>M(V))}function de(V){return V.map(B=>function oe(V){return!V.validate}(B)?B:M=>B.validate(M))}function we(V){if(!V)return null;const B=V.filter(xt);return 0==B.length?null:function(M){return ve(_e(M,B))}}function at(V){return null!=V?we(de(V)):null}function Rt(V){if(!V)return null;const B=V.filter(xt);return 0==B.length?null:function(M){return function me(...V){const B=(0,Be.ms)(V),{args:M,keys:Z}=(0,X.D)(V),Ie=new Ee.c(kt=>{const{length:Sn}=M;if(!Sn)return void kt.complete();const Mr=new Array(Sn);let Jr=Sn,_i=Sn;for(let Hr=0;Hr<Sn;Hr++){let Gi=!1;(0,Le.Tg)(M[Hr]).subscribe((0,Qe._)(kt,gi=>{Gi||(Gi=!0,_i--),Mr[Hr]=gi},()=>Jr--,void 0,()=>{(!Jr||!Gi)&&(_i||kt.next(Z?(0,pe.e)(Z,Mr):Mr),kt.complete())}))}});return B?Ie.pipe((0,st.I)(B)):Ie}(_e(M,B).map(Oe)).pipe((0,Je.T)(ve))}}function Vn(V){return null!=V?Rt(de(V)):null}function pn(V,B){return null===V?[B]:Array.isArray(V)?[...V,B]:[V,B]}function Wn(V){return V._rawValidators}function Lt(V){return V._rawAsyncValidators}function br(V){return V?Array.isArray(V)?V:[V]:[]}function Pn(V,B){return Array.isArray(V)?V.includes(B):V===B}function An(V,B){const M=br(B);return br(V).forEach(Ie=>{Pn(M,Ie)||M.push(Ie)}),M}function Wt(V,B){return br(B).filter(M=>!Pn(V,M))}class on{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(B){this._rawValidators=B||[],this._composedValidatorFn=at(this._rawValidators)}_setAsyncValidators(B){this._rawAsyncValidators=B||[],this._composedAsyncValidatorFn=Vn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(B){this._onDestroyCallbacks.push(B)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(B=>B()),this._onDestroyCallbacks=[]}reset(B=void 0){this.control&&this.control.reset(B)}hasError(B,M){return!!this.control&&this.control.hasError(B,M)}getError(B,M){return this.control?this.control.getError(B,M):null}}class gn extends on{get formDirective(){return null}get path(){return null}}class Xe extends on{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class an{constructor(B){this._cd=B}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let cn=(()=>{class V extends an{constructor(M){super(M)}static{this.\u0275fac=function(Z){return new(Z||V)(c.rXU(Xe,2))}}static{this.\u0275dir=c.FsC({type:V,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Z,Ie){2&Z&&c.AVh("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)},features:[c.Vt3]})}}return V})(),mn=(()=>{class V extends an{constructor(M){super(M)}static{this.\u0275fac=function(Z){return new(Z||V)(c.rXU(gn,10))}}static{this.\u0275dir=c.FsC({type:V,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Z,Ie){2&Z&&c.AVh("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)("ng-submitted",Ie.isSubmitted)},features:[c.Vt3]})}}return V})();const On="VALID",or="INVALID",Xr="PENDING",fi="DISABLED";function pi(V){return(Y(V)?V.validators:V)||null}function ne(V,B){return(Y(B)?B.asyncValidators:V)||null}function Y(V){return null!=V&&!Array.isArray(V)&&"object"==typeof V}function Ae(V,B,M){const Z=V.controls;if(!(B?Object.keys(Z):Z).length)throw new c.wOt(1e3,"");if(!Z[M])throw new c.wOt(1001,"")}function Re(V,B,M){V._forEachChild((Z,Ie)=>{if(void 0===M[Ie])throw new c.wOt(1002,"")})}class Tt{constructor(B,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(B),this._assignAsyncValidators(M)}get validator(){return this._composedValidatorFn}set validator(B){this._rawValidators=this._composedValidatorFn=B}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(B){this._rawAsyncValidators=this._composedAsyncValidatorFn=B}get parent(){return this._parent}get valid(){return this.status===On}get invalid(){return this.status===or}get pending(){return this.status==Xr}get disabled(){return this.status===fi}get enabled(){return this.status!==fi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(B){this._assignValidators(B)}setAsyncValidators(B){this._assignAsyncValidators(B)}addValidators(B){this.setValidators(An(B,this._rawValidators))}addAsyncValidators(B){this.setAsyncValidators(An(B,this._rawAsyncValidators))}removeValidators(B){this.setValidators(Wt(B,this._rawValidators))}removeAsyncValidators(B){this.setAsyncValidators(Wt(B,this._rawAsyncValidators))}hasValidator(B){return Pn(this._rawValidators,B)}hasAsyncValidator(B){return Pn(this._rawAsyncValidators,B)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(B={}){this.touched=!0,this._parent&&!B.onlySelf&&this._parent.markAsTouched(B)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(B=>B.markAllAsTouched())}markAsUntouched(B={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}markAsDirty(B={}){this.pristine=!1,this._parent&&!B.onlySelf&&this._parent.markAsDirty(B)}markAsPristine(B={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}markAsPending(B={}){this.status=Xr,!1!==B.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!B.onlySelf&&this._parent.markAsPending(B)}disable(B={}){const M=this._parentMarkedDirty(B.onlySelf);this.status=fi,this.errors=null,this._forEachChild(Z=>{Z.disable({...B,onlySelf:!0})}),this._updateValue(),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...B,skipPristineCheck:M}),this._onDisabledChange.forEach(Z=>Z(!0))}enable(B={}){const M=this._parentMarkedDirty(B.onlySelf);this.status=On,this._forEachChild(Z=>{Z.enable({...B,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent}),this._updateAncestors({...B,skipPristineCheck:M}),this._onDisabledChange.forEach(Z=>Z(!1))}_updateAncestors(B){this._parent&&!B.onlySelf&&(this._parent.updateValueAndValidity(B),B.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(B){this._parent=B}getRawValue(){return this.value}updateValueAndValidity(B={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===On||this.status===Xr)&&this._runAsyncValidator(B.emitEvent)),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.updateValueAndValidity(B)}_updateTreeValidity(B={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(B)),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fi:On}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(B){if(this.asyncValidator){this.status=Xr,this._hasOwnPendingAsyncValidator=!0;const M=Oe(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(Z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Z,{emitEvent:B})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(B,M={}){this.errors=B,this._updateControlsErrors(!1!==M.emitEvent)}get(B){let M=B;return null==M||(Array.isArray(M)||(M=M.split(".")),0===M.length)?null:M.reduce((Z,Ie)=>Z&&Z._find(Ie),this)}getError(B,M){const Z=M?this.get(M):this;return Z&&Z.errors?Z.errors[B]:null}hasError(B,M){return!!this.getError(B,M)}get root(){let B=this;for(;B._parent;)B=B._parent;return B}_updateControlsErrors(B){this.status=this._calculateStatus(),B&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(B)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?fi:this.errors?or:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xr)?Xr:this._anyControlsHaveStatus(or)?or:On}_anyControlsHaveStatus(B){return this._anyControls(M=>M.status===B)}_anyControlsDirty(){return this._anyControls(B=>B.dirty)}_anyControlsTouched(){return this._anyControls(B=>B.touched)}_updatePristine(B={}){this.pristine=!this._anyControlsDirty(),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}_updateTouched(B={}){this.touched=this._anyControlsTouched(),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}_registerOnCollectionChange(B){this._onCollectionChange=B}_setUpdateStrategy(B){Y(B)&&null!=B.updateOn&&(this._updateOn=B.updateOn)}_parentMarkedDirty(B){return!B&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(B){return null}_assignValidators(B){this._rawValidators=Array.isArray(B)?B.slice():B,this._composedValidatorFn=function mt(V){return Array.isArray(V)?at(V):V||null}(this._rawValidators)}_assignAsyncValidators(B){this._rawAsyncValidators=Array.isArray(B)?B.slice():B,this._composedAsyncValidatorFn=function j(V){return Array.isArray(V)?Vn(V):V||null}(this._rawAsyncValidators)}}class Nt extends Tt{constructor(B,M,Z){super(pi(M),ne(Z,M)),this.controls=B,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(B,M){return this.controls[B]?this.controls[B]:(this.controls[B]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(B,M,Z={}){this.registerControl(B,M),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}removeControl(B,M={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(B,M,Z={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],M&&this.registerControl(B,M),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}contains(B){return this.controls.hasOwnProperty(B)&&this.controls[B].enabled}setValue(B,M={}){Re(this,0,B),Object.keys(B).forEach(Z=>{Ae(this,!0,Z),this.controls[Z].setValue(B[Z],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(B,M={}){null!=B&&(Object.keys(B).forEach(Z=>{const Ie=this.controls[Z];Ie&&Ie.patchValue(B[Z],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(B={},M={}){this._forEachChild((Z,Ie)=>{Z.reset(B?B[Ie]:null,{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(B,M,Z)=>(B[Z]=M.getRawValue(),B))}_syncPendingControls(){let B=this._reduceChildren(!1,(M,Z)=>!!Z._syncPendingControls()||M);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){Object.keys(this.controls).forEach(M=>{const Z=this.controls[M];Z&&B(Z,M)})}_setUpControls(){this._forEachChild(B=>{B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(B){for(const[M,Z]of Object.entries(this.controls))if(this.contains(M)&&B(Z))return!0;return!1}_reduceValue(){return this._reduceChildren({},(M,Z,Ie)=>((Z.enabled||this.disabled)&&(M[Ie]=Z.value),M))}_reduceChildren(B,M){let Z=B;return this._forEachChild((Ie,kt)=>{Z=M(Z,Ie,kt)}),Z}_allControlsDisabled(){for(const B of Object.keys(this.controls))if(this.controls[B].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(B){return this.controls.hasOwnProperty(B)?this.controls[B]:null}}class kn extends Nt{}const Ue=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>be}),be="always";function Se(V,B){return[...B.path,V]}function bt(V,B,M=be){xr(V,B),B.valueAccessor.writeValue(V.value),(V.disabled||"always"===M)&&B.valueAccessor.setDisabledState?.(V.disabled),function ri(V,B){B.valueAccessor.registerOnChange(M=>{V._pendingValue=M,V._pendingChange=!0,V._pendingDirty=!0,"change"===V.updateOn&&He(V,B)})}(V,B),function It(V,B){const M=(Z,Ie)=>{B.valueAccessor.writeValue(Z),Ie&&B.viewToModelUpdate(Z)};V.registerOnChange(M),B._registerOnDestroy(()=>{V._unregisterOnChange(M)})}(V,B),function ct(V,B){B.valueAccessor.registerOnTouched(()=>{V._pendingTouched=!0,"blur"===V.updateOn&&V._pendingChange&&He(V,B),"submit"!==V.updateOn&&V.markAsTouched()})}(V,B),function qt(V,B){if(B.valueAccessor.setDisabledState){const M=Z=>{B.valueAccessor.setDisabledState(Z)};V.registerOnDisabledChange(M),B._registerOnDestroy(()=>{V._unregisterOnDisabledChange(M)})}}(V,B)}function zt(V,B,M=!0){const Z=()=>{};B.valueAccessor&&(B.valueAccessor.registerOnChange(Z),B.valueAccessor.registerOnTouched(Z)),un(V,B),V&&(B._invokeOnDestroyCallbacks(),V._registerOnCollectionChange(()=>{}))}function dn(V,B){V.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(B)})}function xr(V,B){const M=Wn(V);null!==B.validator?V.setValidators(pn(M,B.validator)):"function"==typeof M&&V.setValidators([M]);const Z=Lt(V);null!==B.asyncValidator?V.setAsyncValidators(pn(Z,B.asyncValidator)):"function"==typeof Z&&V.setAsyncValidators([Z]);const Ie=()=>V.updateValueAndValidity();dn(B._rawValidators,Ie),dn(B._rawAsyncValidators,Ie)}function un(V,B){let M=!1;if(null!==V){if(null!==B.validator){const Ie=Wn(V);if(Array.isArray(Ie)&&Ie.length>0){const kt=Ie.filter(Sn=>Sn!==B.validator);kt.length!==Ie.length&&(M=!0,V.setValidators(kt))}}if(null!==B.asyncValidator){const Ie=Lt(V);if(Array.isArray(Ie)&&Ie.length>0){const kt=Ie.filter(Sn=>Sn!==B.asyncValidator);kt.length!==Ie.length&&(M=!0,V.setAsyncValidators(kt))}}}const Z=()=>{};return dn(B._rawValidators,Z),dn(B._rawAsyncValidators,Z),M}function He(V,B){V._pendingDirty&&V.markAsDirty(),V.setValue(V._pendingValue,{emitModelToViewChange:!1}),B.viewToModelUpdate(V._pendingValue),V._pendingChange=!1}function Zt(V,B){xr(V,B)}function vr(V,B){if(!V.hasOwnProperty("model"))return!1;const M=V.model;return!!M.isFirstChange()||!Object.is(B,M.currentValue)}function Ps(V,B){V._syncPendingControls(),B.forEach(M=>{const Z=M.control;"submit"===Z.updateOn&&Z._pendingChange&&(M.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1)})}function Sr(V,B){if(!B)return null;let M,Z,Ie;return Array.isArray(B),B.forEach(kt=>{kt.constructor===xe?M=kt:function bi(V){return Object.getPrototypeOf(V.constructor)===wt}(kt)?Z=kt:Ie=kt}),Ie||Z||M||null}const xn={provide:gn,useExisting:(0,c.Rfq)(()=>Wr)},sn=(()=>Promise.resolve())();let Wr=(()=>{class V extends gn{constructor(M,Z,Ie){super(),this.callSetDisabledState=Ie,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.bkB,this.form=new Nt({},at(M),Vn(Z))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(M){sn.then(()=>{const Z=this._findContainer(M.path);M.control=Z.registerControl(M.name,M.control),bt(M.control,M,this.callSetDisabledState),M.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(M)})}getControl(M){return this.form.get(M.path)}removeControl(M){sn.then(()=>{const Z=this._findContainer(M.path);Z&&Z.removeControl(M.name),this._directives.delete(M)})}addFormGroup(M){sn.then(()=>{const Z=this._findContainer(M.path),Ie=new Nt({});Zt(Ie,M),Z.registerControl(M.name,Ie),Ie.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(M){sn.then(()=>{const Z=this._findContainer(M.path);Z&&Z.removeControl(M.name)})}getFormGroup(M){return this.form.get(M.path)}updateModel(M,Z){sn.then(()=>{this.form.get(M.path).setValue(Z)})}setValue(M){this.control.setValue(M)}onSubmit(M){return this.submitted=!0,Ps(this.form,this._directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M=void 0){this.form.reset(M),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(M){return M.pop(),M.length?this.form.get(M):this.form}static{this.\u0275fac=function(Z){return new(Z||V)(c.rXU(St,10),c.rXU(Ht,10),c.rXU(Ue,8))}}static{this.\u0275dir=c.FsC({type:V,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Z,Ie){1&Z&&c.bIt("submit",function(Sn){return Ie.onSubmit(Sn)})("reset",function(){return Ie.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([xn]),c.Vt3]})}}return V})();function ii(V,B){const M=V.indexOf(B);M>-1&&V.splice(M,1)}function _r(V){return"object"==typeof V&&null!==V&&2===Object.keys(V).length&&"value"in V&&"disabled"in V}const yi=class extends Tt{constructor(B=null,M,Z){super(pi(M),ne(Z,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(B),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Y(M)&&(M.nonNullable||M.initialValueIsDefault)&&(this.defaultValue=_r(B)?B.value:B)}setValue(B,M={}){this.value=this._pendingValue=B,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(Z=>Z(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(B,M={}){this.setValue(B,M)}reset(B=this.defaultValue,M={}){this._applyFormState(B),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(B){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(B){this._onChange.push(B)}_unregisterOnChange(B){ii(this._onChange,B)}registerOnDisabledChange(B){this._onDisabledChange.push(B)}_unregisterOnDisabledChange(B){ii(this._onDisabledChange,B)}_forEachChild(B){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(B){_r(B)?(this.value=this._pendingValue=B.value,B.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=B}},es={provide:Xe,useExisting:(0,c.Rfq)(()=>hs)},$r=(()=>Promise.resolve())();let hs=(()=>{class V extends Xe{constructor(M,Z,Ie,kt,Sn,Mr){super(),this._changeDetectorRef=Sn,this.callSetDisabledState=Mr,this.control=new yi,this._registered=!1,this.name="",this.update=new c.bkB,this._parent=M,this._setValidators(Z),this._setAsyncValidators(Ie),this.valueAccessor=Sr(0,kt)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const Z=M.name.previousValue;this.formDirective.removeControl({name:Z,path:this._getPath(Z)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),vr(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){$r.then(()=>{this.control.setValue(M,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(M){const Z=M.isDisabled.currentValue,Ie=0!==Z&&(0,c.L39)(Z);$r.then(()=>{Ie&&!this.control.disabled?this.control.disable():!Ie&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(M){return this._parent?Se(M,this._parent):[M]}static{this.\u0275fac=function(Z){return new(Z||V)(c.rXU(gn,9),c.rXU(St,10),c.rXU(Ht,10),c.rXU(Dt,10),c.rXU(c.gRc,8),c.rXU(Ue,8))}}static{this.\u0275dir=c.FsC({type:V,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c.Jv_([es]),c.Vt3,c.OA$]})}}return V})(),uo=(()=>{class V{static{this.\u0275fac=function(Z){return new(Z||V)}}static{this.\u0275dir=c.FsC({type:V,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return V})(),Ki=(()=>{class V{static{this.\u0275fac=function(Z){return new(Z||V)}}static{this.\u0275mod=c.$C({type:V})}static{this.\u0275inj=c.G2t({})}}return V})();const ji=new c.nKC("NgModelWithFormControlWarning"),Ts={provide:gn,useExisting:(0,c.Rfq)(()=>ar)};let ar=(()=>{class V extends gn{constructor(M,Z,Ie){super(),this.callSetDisabledState=Ie,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.bkB,this._setValidators(M),this._setAsyncValidators(Z)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(un(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const Z=this.form.get(M.path);return bt(Z,M,this.callSetDisabledState),Z.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),Z}getControl(M){return this.form.get(M.path)}removeControl(M){zt(M.control||null,M,!1),function tn(V,B){const M=V.indexOf(B);M>-1&&V.splice(M,1)}(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,Z){this.form.get(M.path).setValue(Z)}onSubmit(M){return this.submitted=!0,Ps(this.form,this.directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M=void 0){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const Z=M.control,Ie=this.form.get(M.path);Z!==Ie&&(zt(Z||null,M),(V=>V instanceof yi)(Ie)&&(bt(Ie,M,this.callSetDisabledState),M.control=Ie))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const Z=this.form.get(M.path);Zt(Z,M),Z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const Z=this.form.get(M.path);Z&&function Mn(V,B){return un(V,B)}(Z,M)&&Z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xr(this.form,this),this._oldForm&&un(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(Z){return new(Z||V)(c.rXU(St,10),c.rXU(Ht,10),c.rXU(Ue,8))}}static{this.\u0275dir=c.FsC({type:V,selectors:[["","formGroup",""]],hostBindings:function(Z,Ie){1&Z&&c.bIt("submit",function(Sn){return Ie.onSubmit(Sn)})("reset",function(){return Ie.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([Ts]),c.Vt3,c.OA$]})}}return V})();const ns={provide:Xe,useExisting:(0,c.Rfq)(()=>bs)};let bs=(()=>{class V extends Xe{set isDisabled(M){}static{this._ngModelWarningSentOnce=!1}constructor(M,Z,Ie,kt,Sn){super(),this._ngModelWarningConfig=Sn,this._added=!1,this.name=null,this.update=new c.bkB,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(Z),this._setAsyncValidators(Ie),this.valueAccessor=Sr(0,kt)}ngOnChanges(M){this._added||this._setUpControl(),vr(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return Se(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(Z){return new(Z||V)(c.rXU(gn,13),c.rXU(St,10),c.rXU(Ht,10),c.rXU(Dt,10),c.rXU(ji,8))}}static{this.\u0275dir=c.FsC({type:V,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c.Jv_([ns]),c.Vt3,c.OA$]})}}return V})();const Qs={provide:Dt,useExisting:(0,c.Rfq)(()=>ln),multi:!0};function Ls(V,B){return null==V?`${B}`:(B&&"object"==typeof B&&(B="Object"),`${V}: ${B}`.slice(0,50))}let ln=(()=>{class V extends wt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){this.value=M;const Ie=Ls(this._getOptionId(M),M);this.setProperty("value",Ie)}registerOnChange(M){this.onChange=Z=>{this.value=this._getOptionValue(Z),M(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(M){for(const Z of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Z),M))return Z;return null}_getOptionValue(M){const Z=function qr(V){return V.split(":")[0]}(M);return this._optionMap.has(Z)?this._optionMap.get(Z):M}static{this.\u0275fac=function(){let M;return function(Ie){return(M||(M=c.xGo(V)))(Ie||V)}}()}static{this.\u0275dir=c.FsC({type:V,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Z,Ie){1&Z&&c.bIt("change",function(Sn){return Ie.onChange(Sn.target.value)})("blur",function(){return Ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([Qs]),c.Vt3]})}}return V})(),nr=(()=>{class V{constructor(M,Z,Ie){this._element=M,this._renderer=Z,this._select=Ie,this._select&&(this.id=this._select._registerOption())}set ngValue(M){null!=this._select&&(this._select._optionMap.set(this.id,M),this._setElementValue(Ls(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._setElementValue(M),this._select&&this._select.writeValue(this._select.value)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(Z){return new(Z||V)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(ln,9))}}static{this.\u0275dir=c.FsC({type:V,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return V})();const Er={provide:Dt,useExisting:(0,c.Rfq)(()=>Hi),multi:!0};function Ai(V,B){return null==V?`${B}`:("string"==typeof B&&(B=`'${B}'`),B&&"object"==typeof B&&(B="Object"),`${V}: ${B}`.slice(0,50))}let Hi=(()=>{class V extends wt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){let Z;if(this.value=M,Array.isArray(M)){const Ie=M.map(kt=>this._getOptionId(kt));Z=(kt,Sn)=>{kt._setSelected(Ie.indexOf(Sn.toString())>-1)}}else Z=(Ie,kt)=>{Ie._setSelected(!1)};this._optionMap.forEach(Z)}registerOnChange(M){this.onChange=Z=>{const Ie=[],kt=Z.selectedOptions;if(void 0!==kt){const Sn=kt;for(let Mr=0;Mr<Sn.length;Mr++){const _i=this._getOptionValue(Sn[Mr].value);Ie.push(_i)}}else{const Sn=Z.options;for(let Mr=0;Mr<Sn.length;Mr++){const Jr=Sn[Mr];if(Jr.selected){const _i=this._getOptionValue(Jr.value);Ie.push(_i)}}}this.value=Ie,M(Ie)}}_registerOption(M){const Z=(this._idCounter++).toString();return this._optionMap.set(Z,M),Z}_getOptionId(M){for(const Z of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Z)._value,M))return Z;return null}_getOptionValue(M){const Z=function $i(V){return V.split(":")[0]}(M);return this._optionMap.has(Z)?this._optionMap.get(Z)._value:M}static{this.\u0275fac=function(){let M;return function(Ie){return(M||(M=c.xGo(V)))(Ie||V)}}()}static{this.\u0275dir=c.FsC({type:V,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Z,Ie){1&Z&&c.bIt("change",function(Sn){return Ie.onChange(Sn.target)})("blur",function(){return Ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([Er]),c.Vt3]})}}return V})(),qn=(()=>{class V{constructor(M,Z,Ie){this._element=M,this._renderer=Z,this._select=Ie,this._select&&(this.id=this._select._registerOption(this))}set ngValue(M){null!=this._select&&(this._value=M,this._setElementValue(Ai(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._select?(this._value=M,this._setElementValue(Ai(this.id,M)),this._select.writeValue(this._select.value)):this._setElementValue(M)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}_setSelected(M){this._renderer.setProperty(this._element.nativeElement,"selected",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(Z){return new(Z||V)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(Hi,9))}}static{this.\u0275dir=c.FsC({type:V,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return V})(),jn=(()=>{class V{constructor(){this._validator=ae}ngOnChanges(M){if(this.inputName in M){const Z=this.normalizeInput(M[this.inputName].currentValue);this._enabled=this.enabled(Z),this._validator=this._enabled?this.createValidator(Z):ae,this._onChange&&this._onChange()}}validate(M){return this._validator(M)}registerOnValidatorChange(M){this._onChange=M}enabled(M){return null!=M}static{this.\u0275fac=function(Z){return new(Z||V)}}static{this.\u0275dir=c.FsC({type:V,features:[c.OA$]})}}return V})();const Tr={provide:St,useExisting:(0,c.Rfq)(()=>ai),multi:!0};let ai=(()=>{class V extends jn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.L39,this.createValidator=M=>gr}enabled(M){return M}static{this.\u0275fac=function(){let M;return function(Ie){return(M||(M=c.xGo(V)))(Ie||V)}}()}static{this.\u0275dir=c.FsC({type:V,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Z,Ie){2&Z&&c.BMQ("required",Ie._enabled?"":null)},inputs:{required:"required"},features:[c.Jv_([Tr]),c.Vt3]})}}return V})();const jo={provide:St,useExisting:(0,c.Rfq)(()=>fs),multi:!0};let fs=(()=>{class V extends jn{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=c.L39,this.createValidator=M=>De}enabled(M){return M}static{this.\u0275fac=function(){let M;return function(Ie){return(M||(M=c.xGo(V)))(Ie||V)}}()}static{this.\u0275dir=c.FsC({type:V,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c.Jv_([jo]),c.Vt3]})}}return V})(),is=(()=>{class V{static{this.\u0275fac=function(Z){return new(Z||V)}}static{this.\u0275mod=c.$C({type:V})}static{this.\u0275inj=c.G2t({imports:[Ki]})}}return V})();class Hs extends Tt{constructor(B,M,Z){super(pi(M),ne(Z,M)),this.controls=B,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(B){return this.controls[this._adjustIndex(B)]}push(B,M={}){this.controls.push(B),this._registerControl(B),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(B,M,Z={}){this.controls.splice(B,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:Z.emitEvent})}removeAt(B,M={}){let Z=this._adjustIndex(B);Z<0&&(Z=0),this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),this.controls.splice(Z,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(B,M,Z={}){let Ie=this._adjustIndex(B);Ie<0&&(Ie=0),this.controls[Ie]&&this.controls[Ie]._registerOnCollectionChange(()=>{}),this.controls.splice(Ie,1),M&&(this.controls.splice(Ie,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(B,M={}){Re(this,0,B),B.forEach((Z,Ie)=>{Ae(this,!1,Ie),this.at(Ie).setValue(Z,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(B,M={}){null!=B&&(B.forEach((Z,Ie)=>{this.at(Ie)&&this.at(Ie).patchValue(Z,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(B=[],M={}){this._forEachChild((Z,Ie)=>{Z.reset(B[Ie],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(B=>B.getRawValue())}clear(B={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:B.emitEvent}))}_adjustIndex(B){return B<0?B+this.length:B}_syncPendingControls(){let B=this.controls.reduce((M,Z)=>!!Z._syncPendingControls()||M,!1);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){this.controls.forEach((M,Z)=>{B(M,Z)})}_updateValue(){this.value=this.controls.filter(B=>B.enabled||this.disabled).map(B=>B.value)}_anyControls(B){return this.controls.some(M=>M.enabled&&B(M))}_setUpControls(){this._forEachChild(B=>this._registerControl(B))}_allControlsDisabled(){for(const B of this.controls)if(B.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(B){B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)}_find(B){return this.at(B)??null}}function di(V){return!!V&&(void 0!==V.asyncValidators||void 0!==V.validators||void 0!==V.updateOn)}let z=(()=>{class V{constructor(){this.useNonNullable=!1}get nonNullable(){const M=new V;return M.useNonNullable=!0,M}group(M,Z=null){const Ie=this._reduceControls(M);let kt={};return di(Z)?kt=Z:null!==Z&&(kt.validators=Z.validator,kt.asyncValidators=Z.asyncValidator),new Nt(Ie,kt)}record(M,Z=null){const Ie=this._reduceControls(M);return new kn(Ie,Z)}control(M,Z,Ie){let kt={};return this.useNonNullable?(di(Z)?kt=Z:(kt.validators=Z,kt.asyncValidators=Ie),new yi(M,{...kt,nonNullable:!0})):new yi(M,Z,Ie)}array(M,Z,Ie){const kt=M.map(Sn=>this._createControl(Sn));return new Hs(kt,Z,Ie)}_reduceControls(M){const Z={};return Object.keys(M).forEach(Ie=>{Z[Ie]=this._createControl(M[Ie])}),Z}_createControl(M){return M instanceof yi||M instanceof Tt?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}static{this.\u0275fac=function(Z){return new(Z||V)}}static{this.\u0275prov=c.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}}return V})(),Ke=(()=>{class V{static withConfig(M){return{ngModule:V,providers:[{provide:Ue,useValue:M.callSetDisabledState??be}]}}static{this.\u0275fac=function(Z){return new(Z||V)}}static{this.\u0275mod=c.$C({type:V})}static{this.\u0275inj=c.G2t({imports:[is]})}}return V})(),Et=(()=>{class V{static withConfig(M){return{ngModule:V,providers:[{provide:ji,useValue:M.warnOnNgModelWithFormControl??"always"},{provide:Ue,useValue:M.callSetDisabledState??be}]}}static{this.\u0275fac=function(Z){return new(Z||V)}}static{this.\u0275mod=c.$C({type:V})}static{this.\u0275inj=c.G2t({imports:[is]})}}return V})()},345:(Cn,_t,K)=>{K.d(_t,{B7:()=>Bt,Bb:()=>Pn,hE:()=>Xe,sG:()=>pn,up:()=>Vr});var c=K(540),D=K(177);class rt extends D.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ee extends rt{static makeCurrent(){(0,D.ZD)(new Ee)}onAndCancel(ne,j,Y){return ne.addEventListener(j,Y),()=>{ne.removeEventListener(j,Y)}}dispatchEvent(ne,j){ne.dispatchEvent(j)}remove(ne){ne.parentNode&&ne.parentNode.removeChild(ne)}createElement(ne,j){return(j=j||this.getDefaultDocument()).createElement(ne)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ne){return ne.nodeType===Node.ELEMENT_NODE}isShadowRoot(ne){return ne instanceof DocumentFragment}getGlobalEventTarget(ne,j){return"window"===j?window:"document"===j?ne:"body"===j?ne.body:null}getBaseHref(ne){const j=function Le(){return X=X||document.querySelector("base"),X?X.getAttribute("href"):null}();return null==j?null:function Qe(mt){Be=Be||document.createElement("a"),Be.setAttribute("href",mt);const ne=Be.pathname;return"/"===ne.charAt(0)?ne:`/${ne}`}(j)}resetBaseElement(){X=null}getUserAgent(){return window.navigator.userAgent}getCookie(ne){return(0,D._b)(document.cookie,ne)}}let Be,X=null,pe=(()=>{class mt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(Y){return new(Y||mt)}}static{this.\u0275prov=c.jDH({token:mt,factory:mt.\u0275fac})}}return mt})();const me=new c.nKC("EventManagerPlugins");let Je=(()=>{class mt{constructor(j,Y){this._zone=Y,this._eventNameToPlugin=new Map,j.forEach(Ae=>{Ae.manager=this}),this._plugins=j.slice().reverse()}addEventListener(j,Y,Ae){return this._findPluginFor(Y).addEventListener(j,Y,Ae)}getZone(){return this._zone}_findPluginFor(j){let Y=this._eventNameToPlugin.get(j);if(Y)return Y;if(Y=this._plugins.find(Re=>Re.supports(j)),!Y)throw new c.wOt(5101,!1);return this._eventNameToPlugin.set(j,Y),Y}static{this.\u0275fac=function(Y){return new(Y||mt)(c.KVO(me),c.KVO(c.SKi))}}static{this.\u0275prov=c.jDH({token:mt,factory:mt.\u0275fac})}}return mt})();class At{constructor(ne){this._doc=ne}}const wt="ng-app-id";let Dt=(()=>{class mt{constructor(j,Y,Ae,Re={}){this.doc=j,this.appId=Y,this.nonce=Ae,this.platformId=Re,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,D.Vy)(Re),this.resetHostNodes()}addStyles(j){for(const Y of j)1===this.changeUsageCount(Y,1)&&this.onStyleAdded(Y)}removeStyles(j){for(const Y of j)this.changeUsageCount(Y,-1)<=0&&this.onStyleRemoved(Y)}ngOnDestroy(){const j=this.styleNodesInDOM;j&&(j.forEach(Y=>Y.remove()),j.clear());for(const Y of this.getAllStyles())this.onStyleRemoved(Y);this.resetHostNodes()}addHost(j){this.hostNodes.add(j);for(const Y of this.getAllStyles())this.addStyleToHost(j,Y)}removeHost(j){this.hostNodes.delete(j)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(j){for(const Y of this.hostNodes)this.addStyleToHost(Y,j)}onStyleRemoved(j){const Y=this.styleRef;Y.get(j)?.elements?.forEach(Ae=>Ae.remove()),Y.delete(j)}collectServerRenderedStyles(){const j=this.doc.head?.querySelectorAll(`style[${wt}="${this.appId}"]`);if(j?.length){const Y=new Map;return j.forEach(Ae=>{null!=Ae.textContent&&Y.set(Ae.textContent,Ae)}),Y}return null}changeUsageCount(j,Y){const Ae=this.styleRef;if(Ae.has(j)){const Re=Ae.get(j);return Re.usage+=Y,Re.usage}return Ae.set(j,{usage:Y,elements:[]}),Y}getStyleElement(j,Y){const Ae=this.styleNodesInDOM,Re=Ae?.get(Y);if(Re?.parentNode===j)return Ae.delete(Y),Re.removeAttribute(wt),Re;{const Tt=this.doc.createElement("style");return this.nonce&&Tt.setAttribute("nonce",this.nonce),Tt.textContent=Y,this.platformIsServer&&Tt.setAttribute(wt,this.appId),Tt}}addStyleToHost(j,Y){const Ae=this.getStyleElement(j,Y);j.appendChild(Ae);const Re=this.styleRef,Tt=Re.get(Y)?.elements;Tt?Tt.push(Ae):Re.set(Y,{elements:[Ae],usage:1})}resetHostNodes(){const j=this.hostNodes;j.clear(),j.add(this.doc.head)}static{this.\u0275fac=function(Y){return new(Y||mt)(c.KVO(D.qQ),c.KVO(c.sZ2),c.KVO(c.BIS,8),c.KVO(c.Agw))}}static{this.\u0275prov=c.jDH({token:mt,factory:mt.\u0275fac})}}return mt})();const rn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xt=/%COMP%/g,dt=new c.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ht(mt,ne){return ne.map(j=>j.replace(Xt,mt))}let Bt=(()=>{class mt{constructor(j,Y,Ae,Re,Tt,Nt,Tn,Yn=null){this.eventManager=j,this.sharedStylesHost=Y,this.appId=Ae,this.removeStylesOnCompDestroy=Re,this.doc=Tt,this.platformId=Nt,this.ngZone=Tn,this.nonce=Yn,this.rendererByCompId=new Map,this.platformIsServer=(0,D.Vy)(Nt),this.defaultRenderer=new ke(j,Tt,Tn,this.platformIsServer)}createRenderer(j,Y){if(!j||!Y)return this.defaultRenderer;this.platformIsServer&&Y.encapsulation===c.gXe.ShadowDom&&(Y={...Y,encapsulation:c.gXe.Emulated});const Ae=this.getOrCreateRenderer(j,Y);return Ae instanceof Kt?Ae.applyToHost(j):Ae instanceof De&&Ae.applyStyles(),Ae}getOrCreateRenderer(j,Y){const Ae=this.rendererByCompId;let Re=Ae.get(Y.id);if(!Re){const Tt=this.doc,Nt=this.ngZone,Tn=this.eventManager,Yn=this.sharedStylesHost,kn=this.removeStylesOnCompDestroy,ni=this.platformIsServer;switch(Y.encapsulation){case c.gXe.Emulated:Re=new Kt(Tn,Yn,Y,this.appId,kn,Tt,Nt,ni);break;case c.gXe.ShadowDom:return new Ye(Tn,Yn,j,Y,Tt,Nt,this.nonce,ni);default:Re=new De(Tn,Yn,Y,kn,Tt,Nt,ni)}Ae.set(Y.id,Re)}return Re}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(Y){return new(Y||mt)(c.KVO(Je),c.KVO(Dt),c.KVO(c.sZ2),c.KVO(dt),c.KVO(D.qQ),c.KVO(c.Agw),c.KVO(c.SKi),c.KVO(c.BIS))}}static{this.\u0275prov=c.jDH({token:mt,factory:mt.\u0275fac})}}return mt})();class ke{constructor(ne,j,Y,Ae){this.eventManager=ne,this.doc=j,this.ngZone=Y,this.platformIsServer=Ae,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ne,j){return j?this.doc.createElementNS(rn[j]||j,ne):this.doc.createElement(ne)}createComment(ne){return this.doc.createComment(ne)}createText(ne){return this.doc.createTextNode(ne)}appendChild(ne,j){(gr(ne)?ne.content:ne).appendChild(j)}insertBefore(ne,j,Y){ne&&(gr(ne)?ne.content:ne).insertBefore(j,Y)}removeChild(ne,j){ne&&ne.removeChild(j)}selectRootElement(ne,j){let Y="string"==typeof ne?this.doc.querySelector(ne):ne;if(!Y)throw new c.wOt(-5104,!1);return j||(Y.textContent=""),Y}parentNode(ne){return ne.parentNode}nextSibling(ne){return ne.nextSibling}setAttribute(ne,j,Y,Ae){if(Ae){j=Ae+":"+j;const Re=rn[Ae];Re?ne.setAttributeNS(Re,j,Y):ne.setAttribute(j,Y)}else ne.setAttribute(j,Y)}removeAttribute(ne,j,Y){if(Y){const Ae=rn[Y];Ae?ne.removeAttributeNS(Ae,j):ne.removeAttribute(`${Y}:${j}`)}else ne.removeAttribute(j)}addClass(ne,j){ne.classList.add(j)}removeClass(ne,j){ne.classList.remove(j)}setStyle(ne,j,Y,Ae){Ae&(c.czy.DashCase|c.czy.Important)?ne.style.setProperty(j,Y,Ae&c.czy.Important?"important":""):ne.style[j]=Y}removeStyle(ne,j,Y){Y&c.czy.DashCase?ne.style.removeProperty(j):ne.style[j]=""}setProperty(ne,j,Y){ne[j]=Y}setValue(ne,j){ne.nodeValue=j}listen(ne,j,Y){if("string"==typeof ne&&!(ne=(0,D.QT)().getGlobalEventTarget(this.doc,ne)))throw new Error(`Unsupported event target ${ne} for event ${j}`);return this.eventManager.addEventListener(ne,j,this.decoratePreventDefault(Y))}decoratePreventDefault(ne){return j=>{if("__ngUnwrap__"===j)return ne;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ne(j)):ne(j))&&j.preventDefault()}}}function gr(mt){return"TEMPLATE"===mt.tagName&&void 0!==mt.content}class Ye extends ke{constructor(ne,j,Y,Ae,Re,Tt,Nt,Tn){super(ne,Re,Tt,Tn),this.sharedStylesHost=j,this.hostEl=Y,this.shadowRoot=Y.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Yn=Ht(Ae.id,Ae.styles);for(const kn of Yn){const ni=document.createElement("style");Nt&&ni.setAttribute("nonce",Nt),ni.textContent=kn,this.shadowRoot.appendChild(ni)}}nodeOrShadowRoot(ne){return ne===this.hostEl?this.shadowRoot:ne}appendChild(ne,j){return super.appendChild(this.nodeOrShadowRoot(ne),j)}insertBefore(ne,j,Y){return super.insertBefore(this.nodeOrShadowRoot(ne),j,Y)}removeChild(ne,j){return super.removeChild(this.nodeOrShadowRoot(ne),j)}parentNode(ne){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ne)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class De extends ke{constructor(ne,j,Y,Ae,Re,Tt,Nt,Tn){super(ne,Re,Tt,Nt),this.sharedStylesHost=j,this.removeStylesOnCompDestroy=Ae,this.styles=Tn?Ht(Tn,Y.styles):Y.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Kt extends De{constructor(ne,j,Y,Ae,Re,Tt,Nt,Tn){const Yn=Ae+"-"+Y.id;super(ne,j,Y,Re,Tt,Nt,Tn,Yn),this.contentAttr=function gt(mt){return"_ngcontent-%COMP%".replace(Xt,mt)}(Yn),this.hostAttr=function St(mt){return"_nghost-%COMP%".replace(Xt,mt)}(Yn)}applyToHost(ne){this.applyStyles(),this.setAttribute(ne,this.hostAttr,"")}createElement(ne,j){const Y=super.createElement(ne,j);return super.setAttribute(Y,this.contentAttr,""),Y}}let N=(()=>{class mt extends At{constructor(j){super(j)}supports(j){return!0}addEventListener(j,Y,Ae){return j.addEventListener(Y,Ae,!1),()=>this.removeEventListener(j,Y,Ae)}removeEventListener(j,Y,Ae){return j.removeEventListener(Y,Ae)}static{this.\u0275fac=function(Y){return new(Y||mt)(c.KVO(D.qQ))}}static{this.\u0275prov=c.jDH({token:mt,factory:mt.\u0275fac})}}return mt})();const Q=["alt","control","meta","shift"],ae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xt={alt:mt=>mt.altKey,control:mt=>mt.ctrlKey,meta:mt=>mt.metaKey,shift:mt=>mt.shiftKey};let Oe=(()=>{class mt extends At{constructor(j){super(j)}supports(j){return null!=mt.parseEventName(j)}addEventListener(j,Y,Ae){const Re=mt.parseEventName(Y),Tt=mt.eventCallback(Re.fullKey,Ae,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.QT)().onAndCancel(j,Re.domEventName,Tt))}static parseEventName(j){const Y=j.toLowerCase().split("."),Ae=Y.shift();if(0===Y.length||"keydown"!==Ae&&"keyup"!==Ae)return null;const Re=mt._normalizeKey(Y.pop());let Tt="",Nt=Y.indexOf("code");if(Nt>-1&&(Y.splice(Nt,1),Tt="code."),Q.forEach(Yn=>{const kn=Y.indexOf(Yn);kn>-1&&(Y.splice(kn,1),Tt+=Yn+".")}),Tt+=Re,0!=Y.length||0===Re.length)return null;const Tn={};return Tn.domEventName=Ae,Tn.fullKey=Tt,Tn}static matchEventFullKeyCode(j,Y){let Ae=ae[j.key]||j.key,Re="";return Y.indexOf("code.")>-1&&(Ae=j.code,Re="code."),!(null==Ae||!Ae)&&(Ae=Ae.toLowerCase()," "===Ae?Ae="space":"."===Ae&&(Ae="dot"),Q.forEach(Tt=>{Tt!==Ae&&(0,xt[Tt])(j)&&(Re+=Tt+".")}),Re+=Ae,Re===Y)}static eventCallback(j,Y,Ae){return Re=>{mt.matchEventFullKeyCode(Re,j)&&Ae.runGuarded(()=>Y(Re))}}static _normalizeKey(j){return"esc"===j?"escape":j}static{this.\u0275fac=function(Y){return new(Y||mt)(c.KVO(D.qQ))}}static{this.\u0275prov=c.jDH({token:mt,factory:mt.\u0275fac})}}return mt})();const pn=(0,c.oH4)(c.fpN,"browser",[{provide:c.Agw,useValue:D.AJ},{provide:c.PLl,useValue:function we(){Ee.makeCurrent()},multi:!0},{provide:D.qQ,useFactory:function Rt(){return(0,c.TL$)(document),document},deps:[]}]),Wn=new c.nKC(""),Lt=[{provide:c.e01,useClass:class st{addToWindow(ne){c.JZv.getAngularTestability=(Y,Ae=!0)=>{const Re=ne.findTestabilityInTree(Y,Ae);if(null==Re)throw new c.wOt(5103,!1);return Re},c.JZv.getAllAngularTestabilities=()=>ne.getAllTestabilities(),c.JZv.getAllAngularRootElements=()=>ne.getAllRootElements(),c.JZv.frameworkStabilizers||(c.JZv.frameworkStabilizers=[]),c.JZv.frameworkStabilizers.push(Y=>{const Ae=c.JZv.getAllAngularTestabilities();let Re=Ae.length,Tt=!1;const Nt=function(Tn){Tt=Tt||Tn,Re--,0==Re&&Y(Tt)};Ae.forEach(Tn=>{Tn.whenStable(Nt)})})}findTestabilityInTree(ne,j,Y){return null==j?null:ne.getTestability(j)??(Y?(0,D.QT)().isShadowRoot(j)?this.findTestabilityInTree(ne,j.host,!0):this.findTestabilityInTree(ne,j.parentElement,!0):null)}},deps:[]},{provide:c.WHO,useClass:c.NYb,deps:[c.SKi,c.giA,c.e01]},{provide:c.NYb,useClass:c.NYb,deps:[c.SKi,c.giA,c.e01]}],br=[{provide:c.H8p,useValue:"root"},{provide:c.zcH,useFactory:function at(){return new c.zcH},deps:[]},{provide:me,useClass:N,multi:!0,deps:[D.qQ,c.SKi,c.Agw]},{provide:me,useClass:Oe,multi:!0,deps:[D.qQ]},Bt,Dt,Je,{provide:c._9s,useExisting:Bt},{provide:D.N0,useClass:pe,deps:[]},[]];let Pn=(()=>{class mt{constructor(j){}static withServerTransition(j){return{ngModule:mt,providers:[{provide:c.sZ2,useValue:j.appId}]}}static{this.\u0275fac=function(Y){return new(Y||mt)(c.KVO(Wn,12))}}static{this.\u0275mod=c.$C({type:mt})}static{this.\u0275inj=c.G2t({providers:[...br,...Lt],imports:[D.MD,c.Hbi]})}}return mt})(),Xe=(()=>{class mt{constructor(j){this._doc=j}getTitle(){return this._doc.title}setTitle(j){this._doc.title=j||""}static{this.\u0275fac=function(Y){return new(Y||mt)(c.KVO(D.qQ))}}static{this.\u0275prov=c.jDH({token:mt,factory:function(Y){let Ae=null;return Ae=Y?new Y:function gn(){return new Xe((0,c.KVO)(D.qQ))}(),Ae},providedIn:"root"})}}return mt})();typeof window<"u"&&window;let Vr=(()=>{class mt{static{this.\u0275fac=function(Y){return new(Y||mt)}}static{this.\u0275prov=c.jDH({token:mt,factory:function(Y){let Ae=null;return Ae=Y?new(Y||mt):c.KVO(Xn),Ae},providedIn:"root"})}}return mt})(),Xn=(()=>{class mt extends Vr{constructor(j){super(),this._doc=j}sanitize(j,Y){if(null==Y)return null;switch(j){case c.WPN.NONE:return Y;case c.WPN.HTML:return(0,c.ZF7)(Y,"HTML")?(0,c.rcV)(Y):(0,c.h9k)(this._doc,String(Y)).toString();case c.WPN.STYLE:return(0,c.ZF7)(Y,"Style")?(0,c.rcV)(Y):Y;case c.WPN.SCRIPT:if((0,c.ZF7)(Y,"Script"))return(0,c.rcV)(Y);throw new c.wOt(5200,!1);case c.WPN.URL:return(0,c.ZF7)(Y,"URL")?(0,c.rcV)(Y):(0,c.$MX)(String(Y));case c.WPN.RESOURCE_URL:if((0,c.ZF7)(Y,"ResourceURL"))return(0,c.rcV)(Y);throw new c.wOt(5201,!1);default:throw new c.wOt(5202,!1)}}bypassSecurityTrustHtml(j){return(0,c.Kcf)(j)}bypassSecurityTrustStyle(j){return(0,c.cWb)(j)}bypassSecurityTrustScript(j){return(0,c.UyX)(j)}bypassSecurityTrustUrl(j){return(0,c.osQ)(j)}bypassSecurityTrustResourceUrl(j){return(0,c.e5t)(j)}static{this.\u0275fac=function(Y){return new(Y||mt)(c.KVO(D.qQ))}}static{this.\u0275prov=c.jDH({token:mt,factory:function(Y){let Ae=null;return Ae=Y?new Y:function qe(mt){return new Xn(mt.get(D.qQ))}(c.KVO(c.zZn)),Ae},providedIn:"root"})}}return mt})()},6448:(Cn,_t,K)=>{K.d(_t,{nX:()=>ns,Ix:()=>Cr,Wk:()=>os,wQ:()=>Go,iI:()=>ls,n3:()=>$i});var c=K(540),D=K(1985),rt=K(8071),X=K(8455),Le=K(7673),Be=K(4412),Qe=K(3073),st=K(3669),pe=K(6450),me=K(3794),Je=K(8496),At=K(4360),wt=K(5225);function Dt(...I){const S=(0,me.lI)(I),y=(0,me.ms)(I),{args:P,keys:L}=(0,Qe.D)(I);if(0===P.length)return(0,X.H)([],S);const se=new D.c(function rn(I,S,y=st.D){return P=>{Xt(S,()=>{const{length:L}=I,se=new Array(L);let ye=L,ht=L;for(let ft=0;ft<L;ft++)Xt(S,()=>{const yn=(0,X.H)(I[ft],S);let ur=!1;yn.subscribe((0,At._)(P,oi=>{se[ft]=oi,ur||(ur=!0,ht--),ht||P.next(y(se.slice()))},()=>{--ye||P.complete()}))},P)},P)}}(P,S,L?ye=>(0,Je.e)(L,ye):st.D));return y?se.pipe((0,pe.I)(y)):se}function Xt(I,S,y){I?(0,wt.N)(y,I,S):S()}const Zn=(0,K(1853).L)(I=>function(){I(this),this.name="EmptyError",this.message="no elements in sequence"});var hn=K(6365);function dt(...I){return function xe(){return(0,hn.U)(1)}()((0,X.H)(I,(0,me.lI)(I)))}var gt=K(8750);function St(I){return new D.c(S=>{(0,gt.Tg)(I()).subscribe(S)})}var Ht=K(1203),Bt=K(8810),ke=K(983),Yt=K(8359),Ln=K(9974);function gr(){return(0,Ln.N)((I,S)=>{let y=null;I._refCount++;const P=(0,At._)(S,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(y=null);const L=I._connection,se=y;y=null,L&&(!se||L===se)&&L.unsubscribe(),S.unsubscribe()});I.subscribe(P),P.closed||(y=I.connect())})}class Ye extends D.c{constructor(S,y){super(),this.source=S,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Ln.S)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new Yt.yU;const y=this.getSubject();S.add(this.source.subscribe((0,At._)(y,void 0,()=>{this._teardown(),y.complete()},P=>{this._teardown(),y.error(P)},()=>this._teardown()))),S.closed&&(this._connection=null,S=Yt.yU.EMPTY)}return S}refCount(){return gr()(this)}}var De=K(1413),Kt=K(177),N=K(6354),Q=K(5558);function ae(I){return I<=0?()=>ke.w:(0,Ln.N)((S,y)=>{let P=0;S.subscribe((0,At._)(y,L=>{++P<=I&&(y.next(L),I<=P&&y.complete())}))})}var Oe=K(5964),ve=K(1397);function _e(I){return(0,Ln.N)((S,y)=>{let P=!1;S.subscribe((0,At._)(y,L=>{P=!0,y.next(L)},()=>{P||y.next(I),y.complete()}))})}function oe(I=de){return(0,Ln.N)((S,y)=>{let P=!1;S.subscribe((0,At._)(y,L=>{P=!0,y.next(L)},()=>P?y.complete():y.error(I())))})}function de(){return new Zn}function we(I,S){const y=arguments.length>=2;return P=>P.pipe(I?(0,Oe.p)((L,se)=>I(L,se,P)):st.D,ae(1),y?_e(S):oe(()=>new Zn))}var at=K(274),Rt=K(8141),Vn=K(9437);function Lt(I){return I<=0?()=>ke.w:(0,Ln.N)((S,y)=>{let P=[];S.subscribe((0,At._)(y,L=>{P.push(L),I<P.length&&P.shift()},()=>{for(const L of P)y.next(L);y.complete()},void 0,()=>{P=null}))})}var An=K(980),Wt=K(5343),gn=K(345);const Xe="primary",an=Symbol("RouteTitle");class Fe{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const y=this.params[S];return Array.isArray(y)?y[0]:y}return null}getAll(S){if(this.has(S)){const y=this.params[S];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Ut(I){return new Fe(I)}function cn(I,S,y){const P=y.path.split("/");if(P.length>I.length||"full"===y.pathMatch&&(S.hasChildren()||P.length<I.length))return null;const L={};for(let se=0;se<P.length;se++){const ye=P[se],ht=I[se];if(ye.startsWith(":"))L[ye.substring(1)]=ht;else if(ye!==ht.path)return null}return{consumed:I.slice(0,P.length),posParams:L}}function wr(I,S){const y=I?Object.keys(I):void 0,P=S?Object.keys(S):void 0;if(!y||!P||y.length!=P.length)return!1;let L;for(let se=0;se<y.length;se++)if(L=y[se],!dr(I[L],S[L]))return!1;return!0}function dr(I,S){if(Array.isArray(I)&&Array.isArray(S)){if(I.length!==S.length)return!1;const y=[...I].sort(),P=[...S].sort();return y.every((L,se)=>P[se]===L)}return I===S}function Or(I){return I.length>0?I[I.length-1]:null}function hr(I){return function Ee(I){return!!I&&(I instanceof D.c||(0,rt.T)(I.lift)&&(0,rt.T)(I.subscribe))}(I)?I:(0,c.jNT)(I)?(0,X.H)(Promise.resolve(I)):(0,Le.of)(I)}const Fr={exact:function fn(I,S,y){if(!On(I.segments,S.segments)||!qe(I.segments,S.segments,y)||I.numberOfChildren!==S.numberOfChildren)return!1;for(const P in S.children)if(!I.children[P]||!fn(I.children[P],S.children[P],y))return!1;return!0},subset:ti},Ui={exact:function ds(I,S){return wr(I,S)},subset:function Si(I,S){return Object.keys(S).length<=Object.keys(I).length&&Object.keys(S).every(y=>dr(I[y],S[y]))},ignored:()=>!0};function Bn(I,S,y){return Fr[y.paths](I.root,S.root,y.matrixParams)&&Ui[y.queryParams](I.queryParams,S.queryParams)&&!("exact"===y.fragment&&I.fragment!==S.fragment)}function ti(I,S,y){return Vr(I,S,S.segments,y)}function Vr(I,S,y,P){if(I.segments.length>y.length){const L=I.segments.slice(0,y.length);return!(!On(L,y)||S.hasChildren()||!qe(L,y,P))}if(I.segments.length===y.length){if(!On(I.segments,y)||!qe(I.segments,y,P))return!1;for(const L in S.children)if(!I.children[L]||!ti(I.children[L],S.children[L],P))return!1;return!0}{const L=y.slice(0,I.segments.length),se=y.slice(I.segments.length);return!!(On(I.segments,L)&&qe(I.segments,L,P)&&I.children[Xe])&&Vr(I.children[Xe],S,se,P)}}function qe(I,S,y){return S.every((P,L)=>Ui[y](I[L].parameters,P.parameters))}class Xn{constructor(S=new nn([],{}),y={},P=null){this.root=S,this.queryParams=y,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ut(this.queryParams)),this._queryParamMap}toString(){return pi.serialize(this)}}class nn{constructor(S,y){this.segments=S,this.children=y,this.parent=null,Object.values(y).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mt(this)}}class Ri{constructor(S,y){this.path=S,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Ut(this.parameters)),this._parameterMap}toString(){return Tn(this)}}function On(I,S){return I.length===S.length&&I.every((y,P)=>y.path===S[P].path)}let Xr=(()=>{class I{static{this.\u0275fac=function(P){return new(P||I)}}static{this.\u0275prov=c.jDH({token:I,factory:function(){return new fi},providedIn:"root"})}}return I})();class fi{parse(S){const y=new xr(S);return new Xn(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(S){const y=`/${ne(S.root,!0)}`,P=function kn(I){const S=Object.keys(I).map(y=>{const P=I[y];return Array.isArray(P)?P.map(L=>`${Y(y)}=${Y(L)}`).join("&"):`${Y(y)}=${Y(P)}`}).filter(y=>!!y);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${y}${P}${"string"==typeof S.fragment?`#${function Ae(I){return encodeURI(I)}(S.fragment)}`:""}`}}const pi=new fi;function mt(I){return I.segments.map(S=>Tn(S)).join("/")}function ne(I,S){if(!I.hasChildren())return mt(I);if(S){const y=I.children[Xe]?ne(I.children[Xe],!1):"",P=[];return Object.entries(I.children).forEach(([L,se])=>{L!==Xe&&P.push(`${L}:${ne(se,!1)}`)}),P.length>0?`${y}(${P.join("//")})`:y}{const y=function or(I,S){let y=[];return Object.entries(I.children).forEach(([P,L])=>{P===Xe&&(y=y.concat(S(L,P)))}),Object.entries(I.children).forEach(([P,L])=>{P!==Xe&&(y=y.concat(S(L,P)))}),y}(I,(P,L)=>L===Xe?[ne(I.children[Xe],!1)]:[`${L}:${ne(P,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Xe]?`${mt(I)}/${y[0]}`:`${mt(I)}/(${y.join("//")})`}}function j(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Y(I){return j(I).replace(/%3B/gi,";")}function Re(I){return j(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tt(I){return decodeURIComponent(I)}function Nt(I){return Tt(I.replace(/\+/g,"%20"))}function Tn(I){return`${Re(I.path)}${function Yn(I){return Object.keys(I).map(S=>`;${Re(S)}=${Re(I[S])}`).join("")}(I.parameters)}`}const ni=/^[^\/()?;#]+/;function Ue(I){const S=I.match(ni);return S?S[0]:""}const be=/^[^\/()?;=#]+/,bt=/^[^=?&#]+/,dn=/^[^&#]+/;class xr{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(S.length>0||Object.keys(y).length>0)&&(P[Xe]=new nn(S,y)),P}parseSegment(){const S=Ue(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(S),new Ri(Tt(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const y=function Se(I){const S=I.match(be);return S?S[0]:""}(this.remaining);if(!y)return;this.capture(y);let P="";if(this.consumeOptional("=")){const L=Ue(this.remaining);L&&(P=L,this.capture(P))}S[Tt(y)]=Tt(P)}parseQueryParam(S){const y=function zt(I){const S=I.match(bt);return S?S[0]:""}(this.remaining);if(!y)return;this.capture(y);let P="";if(this.consumeOptional("=")){const ye=function qt(I){const S=I.match(dn);return S?S[0]:""}(this.remaining);ye&&(P=ye,this.capture(P))}const L=Nt(y),se=Nt(P);if(S.hasOwnProperty(L)){let ye=S[L];Array.isArray(ye)||(ye=[ye],S[L]=ye),ye.push(se)}else S[L]=se}parseParens(S){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=Ue(this.remaining),L=this.remaining[P.length];if("/"!==L&&")"!==L&&";"!==L)throw new c.wOt(4010,!1);let se;P.indexOf(":")>-1?(se=P.slice(0,P.indexOf(":")),this.capture(se),this.capture(":")):S&&(se=Xe);const ye=this.parseChildren();y[se]=1===Object.keys(ye).length?ye[Xe]:new nn([],ye),this.consumeOptional("//")}return y}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new c.wOt(4011,!1)}}function un(I){return I.segments.length>0?new nn([],{[Xe]:I}):I}function ri(I){const S={};for(const P of Object.keys(I.children)){const se=ri(I.children[P]);if(P===Xe&&0===se.segments.length&&se.hasChildren())for(const[ye,ht]of Object.entries(se.children))S[ye]=ht;else(se.segments.length>0||se.hasChildren())&&(S[P]=se)}return function ct(I){if(1===I.numberOfChildren&&I.children[Xe]){const S=I.children[Xe];return new nn(I.segments.concat(S.segments),S.children)}return I}(new nn(I.segments,S))}function He(I){return I instanceof Xn}function Zt(I){let S;const L=un(function y(se){const ye={};for(const ft of se.children){const yn=y(ft);ye[ft.outlet]=yn}const ht=new nn(se.url,ye);return se===I&&(S=ht),ht}(I.root));return S??L}function Mn(I,S,y,P){let L=I;for(;L.parent;)L=L.parent;if(0===S.length)return er(L,L,L,y,P);const se=function vr(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new Dn(!0,0,I);let S=0,y=!1;const P=I.reduce((L,se,ye)=>{if("object"==typeof se&&null!=se){if(se.outlets){const ht={};return Object.entries(se.outlets).forEach(([ft,yn])=>{ht[ft]="string"==typeof yn?yn.split("/"):yn}),[...L,{outlets:ht}]}if(se.segmentPath)return[...L,se.segmentPath]}return"string"!=typeof se?[...L,se]:0===ye?(se.split("/").forEach((ht,ft)=>{0==ft&&"."===ht||(0==ft&&""===ht?y=!0:".."===ht?S++:""!=ht&&L.push(ht))}),L):[...L,se]},[]);return new Dn(y,S,P)}(S);if(se.toRoot())return er(L,L,new nn([],{}),y,P);const ye=function Ps(I,S,y){if(I.isAbsolute)return new bi(S,!0,0);if(!y)return new bi(S,!1,NaN);if(null===y.parent)return new bi(y,!0,0);const P=en(I.commands[0])?0:1;return function Sr(I,S,y){let P=I,L=S,se=y;for(;se>L;){if(se-=L,P=P.parent,!P)throw new c.wOt(4005,!1);L=P.segments.length}return new bi(P,!1,L-se)}(y,y.segments.length-1+P,I.numberOfDoubleDots)}(se,L,I),ht=ye.processChildren?xn(ye.segmentGroup,ye.index,se.commands):Pt(ye.segmentGroup,ye.index,se.commands);return er(L,ye.segmentGroup,ht,y,P)}function en(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function _n(I){return"object"==typeof I&&null!=I&&I.outlets}function er(I,S,y,P,L){let ye,se={};P&&Object.entries(P).forEach(([ft,yn])=>{se[ft]=Array.isArray(yn)?yn.map(ur=>`${ur}`):`${yn}`}),ye=I===S?y:fr(I,S,y);const ht=un(ri(ye));return new Xn(ht,se,L)}function fr(I,S,y){const P={};return Object.entries(I.children).forEach(([L,se])=>{P[L]=se===S?y:fr(se,S,y)}),new nn(I.segments,P)}class Dn{constructor(S,y,P){if(this.isAbsolute=S,this.numberOfDoubleDots=y,this.commands=P,S&&P.length>0&&en(P[0]))throw new c.wOt(4003,!1);const L=P.find(_n);if(L&&L!==Or(P))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bi{constructor(S,y,P){this.segmentGroup=S,this.processChildren=y,this.index=P}}function Pt(I,S,y){if(I||(I=new nn([],{})),0===I.segments.length&&I.hasChildren())return xn(I,S,y);const P=function sn(I,S,y){let P=0,L=S;const se={match:!1,pathIndex:0,commandIndex:0};for(;L<I.segments.length;){if(P>=y.length)return se;const ye=I.segments[L],ht=y[P];if(_n(ht))break;const ft=`${ht}`,yn=P<y.length-1?y[P+1]:null;if(L>0&&void 0===ft)break;if(ft&&yn&&"object"==typeof yn&&void 0===yn.outlets){if(!yi(ft,yn,ye))return se;P+=2}else{if(!yi(ft,{},ye))return se;P++}L++}return{match:!0,pathIndex:L,commandIndex:P}}(I,S,y),L=y.slice(P.commandIndex);if(P.match&&P.pathIndex<I.segments.length){const se=new nn(I.segments.slice(0,P.pathIndex),{});return se.children[Xe]=new nn(I.segments.slice(P.pathIndex),I.children),xn(se,0,L)}return P.match&&0===L.length?new nn(I.segments,{}):P.match&&!I.hasChildren()?Wr(I,S,y):P.match?xn(I,0,L):Wr(I,S,y)}function xn(I,S,y){if(0===y.length)return new nn(I.segments,{});{const P=function tn(I){return _n(I[0])?I[0].outlets:{[Xe]:I}}(y),L={};if(Object.keys(P).some(se=>se!==Xe)&&I.children[Xe]&&1===I.numberOfChildren&&0===I.children[Xe].segments.length){const se=xn(I.children[Xe],S,y);return new nn(I.segments,se.children)}return Object.entries(P).forEach(([se,ye])=>{"string"==typeof ye&&(ye=[ye]),null!==ye&&(L[se]=Pt(I.children[se],S,ye))}),Object.entries(I.children).forEach(([se,ye])=>{void 0===P[se]&&(L[se]=ye)}),new nn(I.segments,L)}}function Wr(I,S,y){const P=I.segments.slice(0,S);let L=0;for(;L<y.length;){const se=y[L];if(_n(se)){const ft=ii(se.outlets);return new nn(P,ft)}if(0===L&&en(y[0])){P.push(new Ri(I.segments[S].path,_r(y[0]))),L++;continue}const ye=_n(se)?se.outlets[Xe]:`${se}`,ht=L<y.length-1?y[L+1]:null;ye&&ht&&en(ht)?(P.push(new Ri(ye,_r(ht))),L+=2):(P.push(new Ri(ye,{})),L++)}return new nn(P,{})}function ii(I){const S={};return Object.entries(I).forEach(([y,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(S[y]=Wr(new nn([],{}),0,P))}),S}function _r(I){const S={};return Object.entries(I).forEach(([y,P])=>S[y]=`${P}`),S}function yi(I,S,y){return I==y.path&&wr(S,y.parameters)}const si="imperative";class tr{constructor(S,y){this.id=S,this.url=y}}class Zi extends tr{constructor(S,y,P="imperative",L=null){super(S,y),this.type=0,this.navigationTrigger=P,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qi extends tr{constructor(S,y,P){super(S,y),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rr extends tr{constructor(S,y,P,L){super(S,y),this.reason=P,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vs extends tr{constructor(S,y,P,L){super(S,y),this.reason=P,this.code=L,this.type=16}}class wi extends tr{constructor(S,y,P,L){super(S,y),this.error=P,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yr extends tr{constructor(S,y,P,L){super(S,y),this.urlAfterRedirects=P,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ms extends tr{constructor(S,y,P,L){super(S,y),this.urlAfterRedirects=P,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class es extends tr{constructor(S,y,P,L,se){super(S,y),this.urlAfterRedirects=P,this.state=L,this.shouldActivate=se,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $r extends tr{constructor(S,y,P,L){super(S,y),this.urlAfterRedirects=P,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hs extends tr{constructor(S,y,P,L){super(S,y),this.urlAfterRedirects=P,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uo{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class js{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ks{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oo{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Es{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ki{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Is{constructor(S,y,P){this.routerEvent=S,this.position=y,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ts{}class Bi{constructor(S){this.url=S}}class ji{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Vs,this.attachRef=null}}let Vs=(()=>{class I{constructor(){this.contexts=new Map}onChildOutletCreated(y,P){const L=this.getOrCreateContext(y);L.outlet=P,this.contexts.set(y,L)}onChildOutletDestroyed(y){const P=this.getContext(y);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let P=this.getContext(y);return P||(P=new ji,this.contexts.set(y,P)),P}getContext(y){return this.contexts.get(y)||null}static{this.\u0275fac=function(P){return new(P||I)}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();class Os{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const y=this.pathFromRoot(S);return y.length>1?y[y.length-2]:null}children(S){const y=Ts(S,this._root);return y?y.children.map(P=>P.value):[]}firstChild(S){const y=Ts(S,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(S){const y=ar(S,this._root);return y.length<2?[]:y[y.length-2].children.map(L=>L.value).filter(L=>L!==S)}pathFromRoot(S){return ar(S,this._root).map(y=>y.value)}}function Ts(I,S){if(I===S.value)return S;for(const y of S.children){const P=Ts(I,y);if(P)return P}return null}function ar(I,S){if(I===S.value)return[S];for(const y of S.children){const P=ar(I,y);if(P.length)return P.unshift(S),P}return[]}class Pr{constructor(S,y){this.value=S,this.children=y}toString(){return`TreeNode(${this.value})`}}function Nr(I){const S={};return I&&I.children.forEach(y=>S[y.value.outlet]=y),S}class Cs extends Os{constructor(S,y){super(S),this.snapshot=y,ln(this,S)}toString(){return this.snapshot.toString()}}function ci(I,S){const y=function xo(I,S){const ye=new Ls([],{},{},"",{},Xe,S,null,{});return new qr("",new Pr(ye,[]))}(0,S),P=new Be.t([new Ri("",{})]),L=new Be.t({}),se=new Be.t({}),ye=new Be.t({}),ht=new Be.t(""),ft=new ns(P,L,ye,ht,se,Xe,S,y.root);return ft.snapshot=y.root,new Cs(new Pr(ft,[]),y)}class ns{constructor(S,y,P,L,se,ye,ht,ft){this.urlSubject=S,this.paramsSubject=y,this.queryParamsSubject=P,this.fragmentSubject=L,this.dataSubject=se,this.outlet=ye,this.component=ht,this._futureSnapshot=ft,this.title=this.dataSubject?.pipe((0,N.T)(yn=>yn[an]))??(0,Le.of)(void 0),this.url=S,this.params=y,this.queryParams=P,this.fragment=L,this.data=se}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,N.T)(S=>Ut(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,N.T)(S=>Ut(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bs(I,S="emptyOnly"){const y=I.pathFromRoot;let P=0;if("always"!==S)for(P=y.length-1;P>=1;){const L=y[P],se=y[P-1];if(L.routeConfig&&""===L.routeConfig.path)P--;else{if(se.component)break;P--}}return function Qs(I){return I.reduce((S,y)=>({params:{...S.params,...y.params},data:{...S.data,...y.data},resolve:{...y.data,...S.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(P))}class Ls{get title(){return this.data?.[an]}constructor(S,y,P,L,se,ye,ht,ft,yn){this.url=S,this.params=y,this.queryParams=P,this.fragment=L,this.data=se,this.outlet=ye,this.component=ht,this.routeConfig=ft,this._resolve=yn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ut(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ut(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qr extends Os{constructor(S,y){super(y),this.url=S,ln(this,y)}toString(){return nr(this._root)}}function ln(I,S){S.value._routerState=I,S.children.forEach(y=>ln(I,y))}function nr(I){const S=I.children.length>0?` { ${I.children.map(nr).join(", ")} } `:"";return`${I.value}${S}`}function Er(I){if(I.snapshot){const S=I.snapshot,y=I._futureSnapshot;I.snapshot=y,wr(S.queryParams,y.queryParams)||I.queryParamsSubject.next(y.queryParams),S.fragment!==y.fragment&&I.fragmentSubject.next(y.fragment),wr(S.params,y.params)||I.paramsSubject.next(y.params),function mn(I,S){if(I.length!==S.length)return!1;for(let y=0;y<I.length;++y)if(!wr(I[y],S[y]))return!1;return!0}(S.url,y.url)||I.urlSubject.next(y.url),wr(S.data,y.data)||I.dataSubject.next(y.data)}else I.snapshot=I._futureSnapshot,I.dataSubject.next(I._futureSnapshot.data)}function Ai(I,S){const y=wr(I.params,S.params)&&function Wi(I,S){return On(I,S)&&I.every((y,P)=>wr(y.parameters,S[P].parameters))}(I.url,S.url);return y&&!(!I.parent!=!S.parent)&&(!I.parent||Ai(I.parent,S.parent))}let $i=(()=>{class I{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xe,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(Vs),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.environmentInjector=(0,c.WQX)(c.uvJ),this.inputBinder=(0,c.WQX)(Hi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(y){if(y.name){const{firstChange:P,previousValue:L}=y.name;if(P)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,P){this.activated=y,this._activatedRoute=P,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,P){if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=y;const L=this.location,ye=y.snapshot.component,ht=this.parentContexts.getOrCreateContext(this.name).children,ft=new lr(y,ht,L.injector);this.activated=L.createComponent(ye,{index:L.length,injector:ft,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(P){return new(P||I)}}static{this.\u0275dir=c.FsC({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]})}}return I})();class lr{constructor(S,y,P){this.route=S,this.childContexts=y,this.parent=P}get(S,y){return S===ns?this.route:S===Vs?this.childContexts:this.parent.get(S,y)}}const Hi=new c.nKC("");let qn=(()=>{class I{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:P}=y,L=Dt([P.queryParams,P.params,P.data]).pipe((0,Q.n)(([se,ye,ht],ft)=>(ht={...se,...ye,...ht},0===ft?(0,Le.of)(ht):Promise.resolve(ht)))).subscribe(se=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(y);const ye=(0,c.HJs)(P.component);if(ye)for(const{templateName:ht}of ye.inputs)y.activatedComponentRef.setInput(ht,se[ht]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,L)}static{this.\u0275fac=function(P){return new(P||I)}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac})}}return I})();function rs(I,S,y){if(y&&I.shouldReuseRoute(S.value,y.value.snapshot)){const P=y.value;P._futureSnapshot=S.value;const L=function jn(I,S,y){return S.children.map(P=>{for(const L of y.children)if(I.shouldReuseRoute(P.value,L.value.snapshot))return rs(I,P,L);return rs(I,P)})}(I,S,y);return new Pr(P,L)}{if(I.shouldAttach(S.value)){const se=I.retrieve(S.value);if(null!==se){const ye=se.route;return ye.value._futureSnapshot=S.value,ye.children=S.children.map(ht=>rs(I,ht)),ye}}const P=function Pi(I){return new ns(new Be.t(I.url),new Be.t(I.params),new Be.t(I.queryParams),new Be.t(I.fragment),new Be.t(I.data),I.outlet,I.component,I)}(S.value),L=S.children.map(se=>rs(I,se));return new Pr(P,L)}}const Xs="ngNavigationCancelingError";function xs(I,S){const{redirectTo:y,navigationBehaviorOptions:P}=He(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,L=Nn(!1,0,S);return L.url=y,L.navigationBehaviorOptions=P,L}function Nn(I,S,y){const P=new Error("NavigationCancelingError: "+(I||""));return P[Xs]=!0,P.cancellationCode=S,y&&(P.url=y),P}function Kr(I){return I&&I[Xs]}let ai=(()=>{class I{static{this.\u0275fac=function(P){return new(P||I)}}static{this.\u0275cmp=c.VBU({type:I,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(P,L){1&P&&c.nrm(0,"router-outlet")},dependencies:[$i],encapsulation:2})}}return I})();function $o(I){const S=I.children&&I.children.map($o),y=S?{...I,children:S}:{...I};return!y.component&&!y.loadComponent&&(S||y.loadChildren)&&y.outlet&&y.outlet!==Xe&&(y.component=ai),y}function vi(I){return I.outlet||Xe}function is(I){if(!I)return null;if(I.routeConfig?._injector)return I.routeConfig._injector;for(let S=I.parent;S;S=S.parent){const y=S.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class ko{constructor(S,y,P,L,se){this.routeReuseStrategy=S,this.futureState=y,this.currState=P,this.forwardEvent=L,this.inputBindingEnabled=se}activate(S){const y=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,P,S),Er(this.futureState.root),this.activateChildRoutes(y,P,S)}deactivateChildRoutes(S,y,P){const L=Nr(y);S.children.forEach(se=>{const ye=se.value.outlet;this.deactivateRoutes(se,L[ye],P),delete L[ye]}),Object.values(L).forEach(se=>{this.deactivateRouteAndItsChildren(se,P)})}deactivateRoutes(S,y,P){const L=S.value,se=y?y.value:null;if(L===se)if(L.component){const ye=P.getContext(L.outlet);ye&&this.deactivateChildRoutes(S,y,ye.children)}else this.deactivateChildRoutes(S,y,P);else se&&this.deactivateRouteAndItsChildren(y,P)}deactivateRouteAndItsChildren(S,y){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,y):this.deactivateRouteAndOutlet(S,y)}detachAndStoreRouteSubtree(S,y){const P=y.getContext(S.value.outlet),L=P&&S.value.component?P.children:y,se=Nr(S);for(const ye of Object.keys(se))this.deactivateRouteAndItsChildren(se[ye],L);if(P&&P.outlet){const ye=P.outlet.detach(),ht=P.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:ye,route:S,contexts:ht})}}deactivateRouteAndOutlet(S,y){const P=y.getContext(S.value.outlet),L=P&&S.value.component?P.children:y,se=Nr(S);for(const ye of Object.keys(se))this.deactivateRouteAndItsChildren(se[ye],L);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(S,y,P){const L=Nr(y);S.children.forEach(se=>{this.activateRoutes(se,L[se.value.outlet],P),this.forwardEvent(new Ki(se.value.snapshot))}),S.children.length&&this.forwardEvent(new Oo(S.value.snapshot))}activateRoutes(S,y,P){const L=S.value,se=y?y.value:null;if(Er(L),L===se)if(L.component){const ye=P.getOrCreateContext(L.outlet);this.activateChildRoutes(S,y,ye.children)}else this.activateChildRoutes(S,y,P);else if(L.component){const ye=P.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const ht=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),ye.children.onOutletReAttached(ht.contexts),ye.attachRef=ht.componentRef,ye.route=ht.route.value,ye.outlet&&ye.outlet.attach(ht.componentRef,ht.route.value),Er(ht.route.value),this.activateChildRoutes(S,null,ye.children)}else{const ht=is(L.snapshot);ye.attachRef=null,ye.route=L,ye.injector=ht,ye.outlet&&ye.outlet.activateWith(L,ye.injector),this.activateChildRoutes(S,null,ye.children)}}else this.activateChildRoutes(S,null,P)}}class di{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class z{constructor(S,y){this.component=S,this.route=y}}function q(I,S,y){const P=I._root;return Ke(P,S?S._root:null,y,[P.value])}function Ce(I,S){const y=Symbol(),P=S.get(I,y);return P===y?"function"!=typeof I||(0,c.LfX)(I)?S.get(I):I:P}function Ke(I,S,y,P,L={canDeactivateChecks:[],canActivateChecks:[]}){const se=Nr(S);return I.children.forEach(ye=>{(function Et(I,S,y,P,L={canDeactivateChecks:[],canActivateChecks:[]}){const se=I.value,ye=S?S.value:null,ht=y?y.getContext(I.value.outlet):null;if(ye&&se.routeConfig===ye.routeConfig){const ft=function V(I,S,y){if("function"==typeof y)return y(I,S);switch(y){case"pathParamsChange":return!On(I.url,S.url);case"pathParamsOrQueryParamsChange":return!On(I.url,S.url)||!wr(I.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ai(I,S)||!wr(I.queryParams,S.queryParams);default:return!Ai(I,S)}}(ye,se,se.routeConfig.runGuardsAndResolvers);ft?L.canActivateChecks.push(new di(P)):(se.data=ye.data,se._resolvedData=ye._resolvedData),Ke(I,S,se.component?ht?ht.children:null:y,P,L),ft&&ht&&ht.outlet&&ht.outlet.isActivated&&L.canDeactivateChecks.push(new z(ht.outlet.component,ye))}else ye&&B(S,ht,L),L.canActivateChecks.push(new di(P)),Ke(I,null,se.component?ht?ht.children:null:y,P,L)})(ye,se[ye.value.outlet],y,P.concat([ye.value]),L),delete se[ye.value.outlet]}),Object.entries(se).forEach(([ye,ht])=>B(ht,y.getContext(ye),L)),L}function B(I,S,y){const P=Nr(I),L=I.value;Object.entries(P).forEach(([se,ye])=>{B(ye,L.component?S?S.children.getContext(se):null:S,y)}),y.canDeactivateChecks.push(new z(L.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,L))}function M(I){return"function"==typeof I}function Gi(I){return I instanceof Zn||"EmptyError"===I?.name}const gi=Symbol("INITIAL_VALUE");function Ur(){return(0,Q.n)(I=>Dt(I.map(S=>S.pipe(ae(1),function xt(...I){const S=(0,me.lI)(I);return(0,Ln.N)((y,P)=>{(S?dt(I,y,S):dt(I,y)).subscribe(P)})}(gi)))).pipe((0,N.T)(S=>{for(const y of S)if(!0!==y){if(y===gi)return gi;if(!1===y||y instanceof Xn)return y}return!0}),(0,Oe.p)(S=>S!==gi),ae(1)))}function J(I){return(0,Ht.F)((0,Rt.M)(S=>{if(He(S))throw xs(0,S)}),(0,N.T)(S=>!0===S))}class Ne{constructor(S){this.segmentGroup=S||null}}class Pe{constructor(S){this.urlTree=S}}function ut(I){return(0,Bt.$)(new Ne(I))}function Ze(I){return(0,Bt.$)(new Pe(I))}class Ar{constructor(S,y){this.urlSerializer=S,this.urlTree=y}noMatchError(S){return new c.wOt(4002,!1)}lineralizeSegments(S,y){let P=[],L=y.root;for(;;){if(P=P.concat(L.segments),0===L.numberOfChildren)return(0,Le.of)(P);if(L.numberOfChildren>1||!L.children[Xe])return(0,Bt.$)(new c.wOt(4e3,!1));L=L.children[Xe]}}applyRedirectCommands(S,y,P){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),S,P)}applyRedirectCreateUrlTree(S,y,P,L){const se=this.createSegmentGroup(S,y.root,P,L);return new Xn(se,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(S,y){const P={};return Object.entries(S).forEach(([L,se])=>{if("string"==typeof se&&se.startsWith(":")){const ht=se.substring(1);P[L]=y[ht]}else P[L]=se}),P}createSegmentGroup(S,y,P,L){const se=this.createSegments(S,y.segments,P,L);let ye={};return Object.entries(y.children).forEach(([ht,ft])=>{ye[ht]=this.createSegmentGroup(S,ft,P,L)}),new nn(se,ye)}createSegments(S,y,P,L){return y.map(se=>se.path.startsWith(":")?this.findPosParam(S,se,L):this.findOrReturn(se,P))}findPosParam(S,y,P){const L=P[y.path.substring(1)];if(!L)throw new c.wOt(4001,!1);return L}findOrReturn(S,y){let P=0;for(const L of y){if(L.path===S.path)return y.splice(P),L;P++}return S}}const sr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gn(I,S,y,P,L){const se=Jn(I,S,y);return se.matched?(P=function ws(I,S){return I.providers&&!I._injector&&(I._injector=(0,c.Ol2)(I.providers,S,`Route: ${I.path}`)),I._injector??S}(S,P),function ce(I,S,y,P){const L=S.canMatch;if(!L||0===L.length)return(0,Le.of)(!0);const se=L.map(ye=>{const ht=Ce(ye,I);return hr(function Jr(I){return I&&M(I.canMatch)}(ht)?ht.canMatch(S,y):I.runInContext(()=>ht(S,y)))});return(0,Le.of)(se).pipe(Ur(),J())}(P,S,y).pipe((0,N.T)(ye=>!0===ye?se:{...sr}))):(0,Le.of)(se)}function Jn(I,S,y){if(""===S.path)return"full"===S.pathMatch&&(I.hasChildren()||y.length>0)?{...sr}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const L=(S.matcher||cn)(y,I,S);if(!L)return{...sr};const se={};Object.entries(L.posParams??{}).forEach(([ht,ft])=>{se[ht]=ft.path});const ye=L.consumed.length>0?{...se,...L.consumed[L.consumed.length-1].parameters}:se;return{matched:!0,consumedSegments:L.consumed,remainingSegments:y.slice(L.consumed.length),parameters:ye,positionalParamSegments:L.posParams??{}}}function li(I,S,y,P){return y.length>0&&function Ii(I,S,y){return y.some(P=>As(I,S,P)&&vi(P)!==Xe)}(I,y,P)?{segmentGroup:new nn(S,zi(P,new nn(y,I.children))),slicedSegments:[]}:0===y.length&&function Ti(I,S,y){return y.some(P=>As(I,S,P))}(I,y,P)?{segmentGroup:new nn(I.segments,Ei(I,0,y,P,I.children)),slicedSegments:y}:{segmentGroup:new nn(I.segments,I.children),slicedSegments:y}}function Ei(I,S,y,P,L){const se={};for(const ye of P)if(As(I,y,ye)&&!L[vi(ye)]){const ht=new nn([],{});se[vi(ye)]=ht}return{...L,...se}}function zi(I,S){const y={};y[Xe]=S;for(const P of I)if(""===P.path&&vi(P)!==Xe){const L=new nn([],{});y[vi(P)]=L}return y}function As(I,S,y){return(!(I.hasChildren()||S.length>0)||"full"!==y.pathMatch)&&""===y.path}class Gs{constructor(S,y,P,L,se,ye,ht){this.injector=S,this.configLoader=y,this.rootComponentType=P,this.config=L,this.urlTree=se,this.paramsInheritanceStrategy=ye,this.urlSerializer=ht,this.allowRedirects=!0,this.applyRedirects=new Ar(this.urlSerializer,this.urlTree)}noMatchError(S){return new c.wOt(4002,!1)}recognize(){const S=li(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,Xe).pipe((0,Vn.W)(y=>{if(y instanceof Pe)return this.allowRedirects=!1,this.urlTree=y.urlTree,this.match(y.urlTree);throw y instanceof Ne?this.noMatchError(y):y}),(0,N.T)(y=>{const P=new Ls([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xe,this.rootComponentType,null,{}),L=new Pr(P,y),se=new qr("",L),ye=function It(I,S,y=null,P=null){return Mn(Zt(I),S,y,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return ye.queryParams=this.urlTree.queryParams,se.url=this.urlSerializer.serialize(ye),this.inheritParamsAndData(se._root),{state:se,tree:ye}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,Xe).pipe((0,Vn.W)(P=>{throw P instanceof Ne?this.noMatchError(P):P}))}inheritParamsAndData(S){const y=S.value,P=bs(y,this.paramsInheritanceStrategy);y.params=Object.freeze(P.params),y.data=Object.freeze(P.data),S.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(S,y,P,L){return 0===P.segments.length&&P.hasChildren()?this.processChildren(S,y,P):this.processSegment(S,y,P,P.segments,L,!0)}processChildren(S,y,P){const L=[];for(const se of Object.keys(P.children))"primary"===se?L.unshift(se):L.push(se);return(0,X.H)(L).pipe((0,at.H)(se=>{const ye=P.children[se],ht=function No(I,S){const y=I.filter(P=>vi(P)===S);return y.push(...I.filter(P=>vi(P)!==S)),y}(y,se);return this.processSegmentGroup(S,ht,ye,se)}),function Wn(I,S){return(0,Ln.N)(function pn(I,S,y,P,L){return(se,ye)=>{let ht=y,ft=S,yn=0;se.subscribe((0,At._)(ye,ur=>{const oi=yn++;ft=ht?I(ft,ur,oi):(ht=!0,ur),P&&ye.next(ft)},L&&(()=>{ht&&ye.next(ft),ye.complete()})))}}(I,S,arguments.length>=2,!0))}((se,ye)=>(se.push(...ye),se)),_e(null),function br(I,S){const y=arguments.length>=2;return P=>P.pipe(I?(0,Oe.p)((L,se)=>I(L,se,P)):st.D,Lt(1),y?_e(S):oe(()=>new Zn))}(),(0,ve.Z)(se=>{if(null===se)return ut(P);const ye=ee(se);return function Io(I){I.sort((S,y)=>S.value.outlet===Xe?-1:y.value.outlet===Xe?1:S.value.outlet.localeCompare(y.value.outlet))}(ye),(0,Le.of)(ye)}))}processSegment(S,y,P,L,se,ye){return(0,X.H)(y).pipe((0,at.H)(ht=>this.processSegmentAgainstRoute(ht._injector??S,y,ht,P,L,se,ye).pipe((0,Vn.W)(ft=>{if(ft instanceof Ne)return(0,Le.of)(null);throw ft}))),we(ht=>!!ht),(0,Vn.W)(ht=>{if(Gi(ht))return function ki(I,S,y){return 0===S.length&&!I.children[y]}(P,L,se)?(0,Le.of)([]):ut(P);throw ht}))}processSegmentAgainstRoute(S,y,P,L,se,ye,ht){return function Ni(I,S,y,P){return!!(vi(I)===P||P!==Xe&&As(S,y,I))&&("**"===I.path||Jn(S,I,y).matched)}(P,L,se,ye)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(S,L,P,se,ye,ht):ht&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,L,y,P,se,ye):ut(L):ut(L)}expandSegmentAgainstRouteUsingRedirect(S,y,P,L,se,ye){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,P,L,ye):this.expandRegularSegmentAgainstRouteUsingRedirect(S,y,P,L,se,ye)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,y,P,L){const se=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?Ze(se):this.applyRedirects.lineralizeSegments(P,se).pipe((0,ve.Z)(ye=>{const ht=new nn(ye,{});return this.processSegment(S,y,ht,ye,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,y,P,L,se,ye){const{matched:ht,consumedSegments:ft,remainingSegments:yn,positionalParamSegments:ur}=Jn(y,L,se);if(!ht)return ut(y);const oi=this.applyRedirects.applyRedirectCommands(ft,L.redirectTo,ur);return L.redirectTo.startsWith("/")?Ze(oi):this.applyRedirects.lineralizeSegments(L,oi).pipe((0,ve.Z)(zr=>this.processSegment(S,P,y,zr.concat(yn),ye,!1)))}matchSegmentAgainstRoute(S,y,P,L,se,ye){let ht;if("**"===P.path){const ft=L.length>0?Or(L).parameters:{},yn=new Ls(L,ft,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G(P),vi(P),P.component??P._loadedComponent??null,P,Te(P));ht=(0,Le.of)({snapshot:yn,consumedSegments:[],remainingSegments:[]}),y.children={}}else ht=Gn(y,P,L,S).pipe((0,N.T)(({matched:ft,consumedSegments:yn,remainingSegments:ur,parameters:oi})=>ft?{snapshot:new Ls(yn,oi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G(P),vi(P),P.component??P._loadedComponent??null,P,Te(P)),consumedSegments:yn,remainingSegments:ur}:null));return ht.pipe((0,Q.n)(ft=>null===ft?ut(y):this.getChildConfig(S=P._injector??S,P,L).pipe((0,Q.n)(({routes:yn})=>{const ur=P._loadedInjector??S,{snapshot:oi,consumedSegments:zr,remainingSegments:Vo}=ft,{segmentGroup:da,slicedSegments:Jo}=li(y,zr,Vo,yn);if(0===Jo.length&&da.hasChildren())return this.processChildren(ur,yn,da).pipe((0,N.T)(Lo=>null===Lo?null:[new Pr(oi,Lo)]));if(0===yn.length&&0===Jo.length)return(0,Le.of)([new Pr(oi,[])]);const ha=vi(P)===se;return this.processSegment(ur,yn,da,Jo,ha?Xe:se,!0).pipe((0,N.T)(Lo=>[new Pr(oi,Lo)]))}))))}getChildConfig(S,y,P){return y.children?(0,Le.of)({routes:y.children,injector:S}):y.loadChildren?void 0!==y._loadedRoutes?(0,Le.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function k(I,S,y,P){const L=S.canLoad;if(void 0===L||0===L.length)return(0,Le.of)(!0);const se=L.map(ye=>{const ht=Ce(ye,I);return hr(function Ie(I){return I&&M(I.canLoad)}(ht)?ht.canLoad(S,y):I.runInContext(()=>ht(S,y)))});return(0,Le.of)(se).pipe(Ur(),J())}(S,y,P).pipe((0,ve.Z)(L=>L?this.configLoader.loadChildren(S,y).pipe((0,Rt.M)(se=>{y._loadedRoutes=se.routes,y._loadedInjector=se.injector})):function In(I){return(0,Bt.$)(Nn(!1,3))}())):(0,Le.of)({routes:[],injector:S})}}function A(I){const S=I.value.routeConfig;return S&&""===S.path}function ee(I){const S=[],y=new Set;for(const P of I){if(!A(P)){S.push(P);continue}const L=S.find(se=>P.value.routeConfig===se.value.routeConfig);void 0!==L?(L.children.push(...P.children),y.add(L)):S.push(P)}for(const P of y){const L=ee(P.children);S.push(new Pr(P.value,L))}return S.filter(P=>!y.has(P))}function G(I){return I.data||{}}function Te(I){return I.resolve||{}}function $n(I){return"string"==typeof I.title||null===I.title}function yr(I){return(0,Q.n)(S=>{const y=I(S);return y?(0,X.H)(y).pipe((0,N.T)(()=>S)):(0,Le.of)(S)})}const Qn=new c.nKC("ROUTES");let Di=(()=>{class I{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,Le.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const P=hr(y.loadComponent()).pipe((0,N.T)(ms),(0,Rt.M)(se=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=se}),(0,An.j)(()=>{this.componentLoaders.delete(y)})),L=new Ye(P,()=>new De.B).pipe(gr());return this.componentLoaders.set(y,L),L}loadChildren(y,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,Le.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const se=function Js(I,S,y,P){return hr(I.loadChildren()).pipe((0,N.T)(ms),(0,ve.Z)(L=>L instanceof c.Co$||Array.isArray(L)?(0,Le.of)(L):(0,X.H)(S.compileModuleAsync(L))),(0,N.T)(L=>{P&&P(I);let se,ye,ht=!1;return Array.isArray(L)?(ye=L,!0):(se=L.create(y).injector,ye=se.get(Qn,[],{optional:!0,self:!0}).flat()),{routes:ye.map($o),injector:se}}))}(P,this.compiler,y,this.onLoadEndListener).pipe((0,An.j)(()=>{this.childrenLoaders.delete(P)})),ye=new Ye(se,()=>new De.B).pipe(gr());return this.childrenLoaders.set(P,ye),ye}static{this.\u0275fac=function(P){return new(P||I)}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();function ms(I){return function Gr(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let Br=(()=>{class I{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new De.B,this.transitionAbortSubject=new De.B,this.configLoader=(0,c.WQX)(Di),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(Xr),this.rootContexts=(0,c.WQX)(Vs),this.inputBindingEnabled=null!==(0,c.WQX)(Hi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Le.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=L=>this.events.next(new js(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new uo(L))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:P})}setupNavigations(y,P,L){return this.transitions=new Be.t({id:0,currentUrlTree:P,currentRawUrl:P,currentBrowserUrl:P,extractedUrl:y.urlHandlingStrategy.extract(P),urlAfterRedirects:y.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:si,restoredState:null,currentSnapshot:L.snapshot,targetSnapshot:null,currentRouterState:L,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Oe.p)(se=>0!==se.id),(0,N.T)(se=>({...se,extractedUrl:y.urlHandlingStrategy.extract(se.rawUrl)})),(0,Q.n)(se=>{this.currentTransition=se;let ye=!1,ht=!1;return(0,Le.of)(se).pipe((0,Rt.M)(ft=>{this.currentNavigation={id:ft.id,initialUrl:ft.rawUrl,extractedUrl:ft.extractedUrl,trigger:ft.source,extras:ft.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Q.n)(ft=>{const yn=ft.currentBrowserUrl.toString(),ur=!y.navigated||ft.extractedUrl.toString()!==yn||yn!==ft.currentUrlTree.toString();if(!ur&&"reload"!==(ft.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const zr="";return this.events.next(new vs(ft.id,this.urlSerializer.serialize(ft.rawUrl),zr,0)),ft.resolve(null),ke.w}if(y.urlHandlingStrategy.shouldProcessUrl(ft.rawUrl))return(0,Le.of)(ft).pipe((0,Q.n)(zr=>{const Vo=this.transitions?.getValue();return this.events.next(new Zi(zr.id,this.urlSerializer.serialize(zr.extractedUrl),zr.source,zr.restoredState)),Vo!==this.transitions?.getValue()?ke.w:Promise.resolve(zr)}),function je(I,S,y,P,L,se){return(0,ve.Z)(ye=>function ss(I,S,y,P,L,se,ye="emptyOnly"){return new Gs(I,S,y,P,L,ye,se).recognize()}(I,S,y,P,ye.extractedUrl,L,se).pipe((0,N.T)(({state:ht,tree:ft})=>({...ye,targetSnapshot:ht,urlAfterRedirects:ft}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,Rt.M)(zr=>{se.targetSnapshot=zr.targetSnapshot,se.urlAfterRedirects=zr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:zr.urlAfterRedirects};const Vo=new Yr(zr.id,this.urlSerializer.serialize(zr.extractedUrl),this.urlSerializer.serialize(zr.urlAfterRedirects),zr.targetSnapshot);this.events.next(Vo)}));if(ur&&y.urlHandlingStrategy.shouldProcessUrl(ft.currentRawUrl)){const{id:zr,extractedUrl:Vo,source:da,restoredState:Jo,extras:ha}=ft,Lo=new Zi(zr,this.urlSerializer.serialize(Vo),da,Jo);this.events.next(Lo);const to=ci(0,this.rootComponentType).snapshot;return this.currentTransition=se={...ft,targetSnapshot:to,urlAfterRedirects:Vo,extras:{...ha,skipLocationChange:!1,replaceUrl:!1}},(0,Le.of)(se)}{const zr="";return this.events.next(new vs(ft.id,this.urlSerializer.serialize(ft.extractedUrl),zr,1)),ft.resolve(null),ke.w}}),(0,Rt.M)(ft=>{const yn=new Ms(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot);this.events.next(yn)}),(0,N.T)(ft=>(this.currentTransition=se={...ft,guards:q(ft.targetSnapshot,ft.currentSnapshot,this.rootContexts)},se)),function Mi(I,S){return(0,ve.Z)(y=>{const{targetSnapshot:P,currentSnapshot:L,guards:{canActivateChecks:se,canDeactivateChecks:ye}}=y;return 0===ye.length&&0===se.length?(0,Le.of)({...y,guardsResult:!0}):function Eo(I,S,y,P){return(0,X.H)(I).pipe((0,ve.Z)(L=>function b(I,S,y,P,L){const se=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!se||0===se.length)return(0,Le.of)(!0);const ye=se.map(ht=>{const ft=is(S)??L,yn=Ce(ht,ft);return hr(function Mr(I){return I&&M(I.canDeactivate)}(yn)?yn.canDeactivate(I,S,y,P):ft.runInContext(()=>yn(I,S,y,P))).pipe(we())});return(0,Le.of)(ye).pipe(Ur())}(L.component,L.route,y,S,P)),we(L=>!0!==L,!0))}(ye,P,L,I).pipe((0,ve.Z)(ht=>ht&&function Z(I){return"boolean"==typeof I}(ht)?function Ys(I,S,y,P){return(0,X.H)(S).pipe((0,at.H)(L=>dt(function lo(I,S){return null!==I&&S&&S(new Ks(I)),(0,Le.of)(!0)}(L.route.parent,P),function gs(I,S){return null!==I&&S&&S(new Es(I)),(0,Le.of)(!0)}(L.route,P),function v(I,S,y){const P=S[S.length-1],se=S.slice(0,S.length-1).reverse().map(ye=>function fe(I){const S=I.routeConfig?I.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:I,guards:S}:null}(ye)).filter(ye=>null!==ye).map(ye=>St(()=>{const ht=ye.guards.map(ft=>{const yn=is(ye.node)??y,ur=Ce(ft,yn);return hr(function Sn(I){return I&&M(I.canActivateChild)}(ur)?ur.canActivateChild(P,I):yn.runInContext(()=>ur(P,I))).pipe(we())});return(0,Le.of)(ht).pipe(Ur())}));return(0,Le.of)(se).pipe(Ur())}(I,L.path,y),function te(I,S,y){const P=S.routeConfig?S.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Le.of)(!0);const L=P.map(se=>St(()=>{const ye=is(S)??y,ht=Ce(se,ye);return hr(function kt(I){return I&&M(I.canActivate)}(ht)?ht.canActivate(S,I):ye.runInContext(()=>ht(S,I))).pipe(we())}));return(0,Le.of)(L).pipe(Ur())}(I,L.route,y))),we(L=>!0!==L,!0))}(P,se,I,S):(0,Le.of)(ht)),(0,N.T)(ht=>({...y,guardsResult:ht})))})}(this.environmentInjector,ft=>this.events.next(ft)),(0,Rt.M)(ft=>{if(se.guardsResult=ft.guardsResult,He(ft.guardsResult))throw xs(0,ft.guardsResult);const yn=new es(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot,!!ft.guardsResult);this.events.next(yn)}),(0,Oe.p)(ft=>!!ft.guardsResult||(this.cancelNavigationTransition(ft,"",3),!1)),yr(ft=>{if(ft.guards.canActivateChecks.length)return(0,Le.of)(ft).pipe((0,Rt.M)(yn=>{const ur=new $r(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(ur)}),(0,Q.n)(yn=>{let ur=!1;return(0,Le.of)(yn).pipe(function it(I,S){return(0,ve.Z)(y=>{const{targetSnapshot:P,guards:{canActivateChecks:L}}=y;if(!L.length)return(0,Le.of)(y);let se=0;return(0,X.H)(L).pipe((0,at.H)(ye=>function Ft(I,S,y,P){const L=I.routeConfig,se=I._resolve;return void 0!==L?.title&&!$n(L)&&(se[an]=L.title),function Fn(I,S,y,P){const L=function pr(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}(I);if(0===L.length)return(0,Le.of)({});const se={};return(0,X.H)(L).pipe((0,ve.Z)(ye=>function mr(I,S,y,P){const L=is(S)??P,se=Ce(I,L);return hr(se.resolve?se.resolve(S,y):L.runInContext(()=>se(S,y)))}(I[ye],S,y,P).pipe(we(),(0,Rt.M)(ht=>{se[ye]=ht}))),Lt(1),function Pn(I){return(0,N.T)(()=>I)}(se),(0,Vn.W)(ye=>Gi(ye)?ke.w:(0,Bt.$)(ye)))}(se,I,S,P).pipe((0,N.T)(ye=>(I._resolvedData=ye,I.data=bs(I,y).resolve,L&&$n(L)&&(I.data[an]=L.title),null)))}(ye.route,P,I,S)),(0,Rt.M)(()=>se++),Lt(1),(0,ve.Z)(ye=>se===L.length?(0,Le.of)(y):ke.w))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,Rt.M)({next:()=>ur=!0,complete:()=>{ur||this.cancelNavigationTransition(yn,"",2)}}))}),(0,Rt.M)(yn=>{const ur=new hs(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(ur)}))}),yr(ft=>{const yn=ur=>{const oi=[];ur.routeConfig?.loadComponent&&!ur.routeConfig._loadedComponent&&oi.push(this.configLoader.loadComponent(ur.routeConfig).pipe((0,Rt.M)(zr=>{ur.component=zr}),(0,N.T)(()=>{})));for(const zr of ur.children)oi.push(...yn(zr));return oi};return Dt(yn(ft.targetSnapshot.root)).pipe(_e(),ae(1))}),yr(()=>this.afterPreactivation()),(0,N.T)(ft=>{const yn=function ui(I,S,y){const P=rs(I,S._root,y?y._root:void 0);return new Cs(P,S)}(y.routeReuseStrategy,ft.targetSnapshot,ft.currentRouterState);return this.currentTransition=se={...ft,targetRouterState:yn},se}),(0,Rt.M)(()=>{this.events.next(new ts)}),((I,S,y,P)=>(0,N.T)(L=>(new ko(S,L.targetRouterState,L.currentRouterState,y,P).activate(I),L)))(this.rootContexts,y.routeReuseStrategy,ft=>this.events.next(ft),this.inputBindingEnabled),ae(1),(0,Rt.M)({next:ft=>{ye=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qi(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects))),y.titleStrategy?.updateTitle(ft.targetRouterState.snapshot),ft.resolve(!0)},complete:()=>{ye=!0}}),function on(I){return(0,Ln.N)((S,y)=>{(0,gt.Tg)(I).subscribe((0,At._)(y,()=>y.complete(),Wt.l)),!y.closed&&S.subscribe(y)})}(this.transitionAbortSubject.pipe((0,Rt.M)(ft=>{throw ft}))),(0,An.j)(()=>{ye||ht||this.cancelNavigationTransition(se,"",1),this.currentNavigation?.id===se.id&&(this.currentNavigation=null)}),(0,Vn.W)(ft=>{if(ht=!0,Kr(ft))this.events.next(new Rr(se.id,this.urlSerializer.serialize(se.extractedUrl),ft.message,ft.cancellationCode)),function Tr(I){return Kr(I)&&He(I.url)}(ft)?this.events.next(new Bi(ft.url)):se.resolve(!1);else{this.events.next(new wi(se.id,this.urlSerializer.serialize(se.extractedUrl),ft,se.targetSnapshot??void 0));try{se.resolve(y.errorHandler(ft))}catch(yn){se.reject(yn)}}return ke.w}))}))}cancelNavigationTransition(y,P,L){const se=new Rr(y.id,this.urlSerializer.serialize(y.extractedUrl),P,L);this.events.next(se),y.resolve(!1)}static{this.\u0275fac=function(P){return new(P||I)}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();function Ds(I){return I!==si}let zs=(()=>{class I{buildTitle(y){let P,L=y.root;for(;void 0!==L;)P=this.getResolvedTitleForRoute(L)??P,L=L.children.find(se=>se.outlet===Xe);return P}getResolvedTitleForRoute(y){return y.data[an]}static{this.\u0275fac=function(P){return new(P||I)}}static{this.\u0275prov=c.jDH({token:I,factory:function(){return(0,c.WQX)(Ho)},providedIn:"root"})}}return I})(),Ho=(()=>{class I extends zs{constructor(y){super(),this.title=y}updateTitle(y){const P=this.buildTitle(y);void 0!==P&&this.title.setTitle(P)}static{this.\u0275fac=function(P){return new(P||I)(c.KVO(gn.hE))}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),ll=(()=>{class I{static{this.\u0275fac=function(P){return new(P||I)}}static{this.\u0275prov=c.jDH({token:I,factory:function(){return(0,c.WQX)(Zr)},providedIn:"root"})}}return I})();class Qi{shouldDetach(S){return!1}store(S,y){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,y){return S.routeConfig===y.routeConfig}}let Zr=(()=>{class I extends Qi{static{this.\u0275fac=function(){let y;return function(L){return(y||(y=c.xGo(I)))(L||I)}}()}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();const Iu=new c.nKC("",{providedIn:"root",factory:()=>({})});let rc=(()=>{class I{static{this.\u0275fac=function(P){return new(P||I)}}static{this.\u0275prov=c.jDH({token:I,factory:function(){return(0,c.WQX)(Tu)},providedIn:"root"})}}return I})(),Tu=(()=>{class I{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,P){return y}static{this.\u0275fac=function(P){return new(P||I)}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();var Yo=function(I){return I[I.COMPLETE=0]="COMPLETE",I[I.FAILED=1]="FAILED",I[I.REDIRECTING=2]="REDIRECTING",I}(Yo||{});function Cu(I,S){I.events.pipe((0,Oe.p)(y=>y instanceof qi||y instanceof Rr||y instanceof wi||y instanceof vs),(0,N.T)(y=>y instanceof qi||y instanceof vs?Yo.COMPLETE:y instanceof Rr&&(0===y.code||1===y.code)?Yo.REDIRECTING:Yo.FAILED),(0,Oe.p)(y=>y!==Yo.REDIRECTING),ae(1)).subscribe(()=>{S()})}function ic(I){throw I}function To(I,S,y){return S.parse("/")}const cl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ka={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cr=(()=>{class I{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.WQX)(c.H3F),this.isNgZoneEnabled=!1,this._events=new De.B,this.options=(0,c.WQX)(Iu,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.$K3),this.errorHandler=this.options.errorHandler||ic,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||To,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.WQX)(rc),this.routeReuseStrategy=(0,c.WQX)(ll),this.titleStrategy=(0,c.WQX)(zs),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.WQX)(Qn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.WQX)(Br),this.urlSerializer=(0,c.WQX)(Xr),this.location=(0,c.WQX)(Kt.aZ),this.componentInputBindingEnabled=!!(0,c.WQX)(Hi,{optional:!0}),this.eventsSubscription=new Yt.yU,this.isNgZoneEnabled=(0,c.WQX)(c.SKi)instanceof c.SKi&&c.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ci(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const y=this.navigationTransitions.events.subscribe(P=>{try{const{currentTransition:L}=this.navigationTransitions;if(null===L)return void(ua(P)&&this._events.next(P));if(P instanceof Zi)Ds(L.source)&&(this.browserUrlTree=L.extractedUrl);else if(P instanceof vs)this.rawUrlTree=L.rawUrl;else if(P instanceof Yr){if("eager"===this.urlUpdateStrategy){if(!L.extras.skipLocationChange){const se=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl);this.setBrowserUrl(se,L)}this.browserUrlTree=L.urlAfterRedirects}}else if(P instanceof ts)this.currentUrlTree=L.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl),this.routerState=L.targetRouterState,"deferred"===this.urlUpdateStrategy&&(L.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,L),this.browserUrlTree=L.urlAfterRedirects);else if(P instanceof Rr)0!==P.code&&1!==P.code&&(this.navigated=!0),(3===P.code||2===P.code)&&this.restoreHistory(L);else if(P instanceof Bi){const se=this.urlHandlingStrategy.merge(P.url,L.currentRawUrl),ye={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ds(L.source)};this.scheduleNavigation(se,si,null,ye,{resolve:L.resolve,reject:L.reject,promise:L.promise})}P instanceof wi&&this.restoreHistory(L,!0),P instanceof qi&&(this.navigated=!0),ua(P)&&this._events.next(P)}catch(L){this.navigationTransitions.transitionAbortSubject.next(L)}});this.eventsSubscription.add(y)}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),si,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const P="popstate"===y.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,P,y.state)},0)}))}navigateToSyncWithBrowser(y,P,L){const se={replaceUrl:!0},ye=L?.navigationId?L:null;if(L){const ft={...L};delete ft.navigationId,delete ft.\u0275routerPageId,0!==Object.keys(ft).length&&(se.state=ft)}const ht=this.parseUrl(y);this.scheduleNavigation(ht,P,ye,se)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map($o),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(y,P={}){const{relativeTo:L,queryParams:se,fragment:ye,queryParamsHandling:ht,preserveFragment:ft}=P,yn=ft?this.currentUrlTree.fragment:ye;let oi,ur=null;switch(ht){case"merge":ur={...this.currentUrlTree.queryParams,...se};break;case"preserve":ur=this.currentUrlTree.queryParams;break;default:ur=se||null}null!==ur&&(ur=this.removeEmptyProps(ur));try{oi=Zt(L?L.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||!y[0].startsWith("/"))&&(y=[]),oi=this.currentUrlTree.root}return Mn(oi,y,ur,yn??null)}navigateByUrl(y,P={skipLocationChange:!1}){const L=He(y)?y:this.parseUrl(y),se=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(se,si,null,P)}navigate(y,P={skipLocationChange:!1}){return function Ca(I){for(let S=0;S<I.length;S++)if(null==I[S])throw new c.wOt(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,P),P)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let P;try{P=this.urlSerializer.parse(y)}catch(L){P=this.malformedUriErrorHandler(L,this.urlSerializer,y)}return P}isActive(y,P){let L;if(L=!0===P?{...cl}:!1===P?{...Ka}:P,He(y))return Bn(this.currentUrlTree,y,L);const se=this.parseUrl(y);return Bn(this.currentUrlTree,se,L)}removeEmptyProps(y){return Object.keys(y).reduce((P,L)=>{const se=y[L];return null!=se&&(P[L]=se),P},{})}scheduleNavigation(y,P,L,se,ye){if(this.disposed)return Promise.resolve(!1);let ht,ft,yn;ye?(ht=ye.resolve,ft=ye.reject,yn=ye.promise):yn=new Promise((oi,zr)=>{ht=oi,ft=zr});const ur=this.pendingTasks.add();return Cu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ur))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:y,extras:se,resolve:ht,reject:ft,promise:yn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yn.catch(oi=>Promise.reject(oi))}setBrowserUrl(y,P){const L=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(L)||P.extras.replaceUrl){const ye={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(L,"",ye)}else{const se={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(L,"",se)}}restoreHistory(y,P=!1){if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-this.browserPageId;0!==se?this.location.historyGo(se):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===se&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,P){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:P}:{navigationId:y}}static{this.\u0275fac=function(P){return new(P||I)}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();function ua(I){return!(I instanceof ts||I instanceof Bi)}let os=(()=>{class I{constructor(y,P,L,se,ye,ht){this.router=y,this.route=P,this.tabIndexAttribute=L,this.renderer=se,this.el=ye,this.locationStrategy=ht,this.href=null,this.commands=null,this.onChanges=new De.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ft=ye.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ft||"area"===ft,this.isAnchorElement?this.subscription=y.events.subscribe(yn=>{yn instanceof qi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,P,L,se,ye){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||P||L||se||ye||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,P){const L=this.renderer,se=this.el.nativeElement;null!==P?L.setAttribute(se,y,P):L.removeAttribute(se,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(P){return new(P||I)(c.rXU(Cr),c.rXU(ns),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Kt.hb))}}static{this.\u0275dir=c.FsC({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,L){1&P&&c.bIt("click",function(ye){return L.onClick(ye.button,ye.ctrlKey,ye.shiftKey,ye.altKey,ye.metaKey)}),2&P&&c.BMQ("target",L.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.L39],skipLocationChange:["skipLocationChange","skipLocationChange",c.L39],replaceUrl:["replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]})}}return I})(),Go=(()=>{class I{get isActive(){return this._isActive}constructor(y,P,L,se,ye){this.router=y,this.element=P,this.renderer=L,this.cdr=se,this.link=ye,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.bkB,this.routerEventsSubscription=y.events.subscribe(ht=>{ht instanceof qi&&this.update()})}ngAfterContentInit(){(0,Le.of)(this.links.changes,(0,Le.of)(null)).pipe((0,hn.U)()).subscribe(y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const y=[...this.links.toArray(),this.link].filter(P=>!!P).map(P=>P.onChanges);this.linkInputChangesSubscription=(0,X.H)(y).pipe((0,hn.U)()).subscribe(P=>{this._isActive!==this.isLinkActive(this.router)(P)&&this.update()})}set routerLinkActive(y){const P=Array.isArray(y)?y:y.split(" ");this.classes=P.filter(L=>!!L)}ngOnChanges(y){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const y=this.hasActiveLinks();this._isActive!==y&&(this._isActive=y,this.cdr.markForCheck(),this.classes.forEach(P=>{y?this.renderer.addClass(this.element.nativeElement,P):this.renderer.removeClass(this.element.nativeElement,P)}),y&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(y))})}isLinkActive(y){const P=function Qa(I){return!!I.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return L=>!!L.urlTree&&y.isActive(L.urlTree,P)}hasActiveLinks(){const y=this.isLinkActive(this.router);return this.link&&y(this.link)||this.links.some(y)}static{this.\u0275fac=function(P){return new(P||I)(c.rXU(Cr),c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(c.gRc),c.rXU(os,8))}}static{this.\u0275dir=c.FsC({type:I,selectors:[["","routerLinkActive",""]],contentQueries:function(P,L,se){if(1&P&&c.wni(se,os,5),2&P){let ye;c.mGM(ye=c.lsd())&&(L.links=ye)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.OA$]})}}return I})();class ba{}let Mh=(()=>{class I{constructor(y,P,L,se,ye){this.router=y,this.injector=L,this.preloadingStrategy=se,this.loader=ye}setUpPreloading(){this.subscription=this.router.events.pipe((0,Oe.p)(y=>y instanceof qi),(0,at.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,P){const L=[];for(const se of P){se.providers&&!se._injector&&(se._injector=(0,c.Ol2)(se.providers,y,`Route: ${se.path}`));const ye=se._injector??y,ht=se._loadedInjector??ye;(se.loadChildren&&!se._loadedRoutes&&void 0===se.canLoad||se.loadComponent&&!se._loadedComponent)&&L.push(this.preloadConfig(ye,se)),(se.children||se._loadedRoutes)&&L.push(this.processRoutes(ht,se.children??se._loadedRoutes))}return(0,X.H)(L).pipe((0,hn.U)())}preloadConfig(y,P){return this.preloadingStrategy.preload(P,()=>{let L;L=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(y,P):(0,Le.of)(null);const se=L.pipe((0,ve.Z)(ye=>null===ye?(0,Le.of)(void 0):(P._loadedRoutes=ye.routes,P._loadedInjector=ye.injector,this.processRoutes(ye.injector??y,ye.routes))));if(P.loadComponent&&!P._loadedComponent){const ye=this.loader.loadComponent(P);return(0,X.H)([se,ye]).pipe((0,hn.U)())}return se})}static{this.\u0275fac=function(P){return new(P||I)(c.KVO(Cr),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(ba),c.KVO(Di))}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();const dl=new c.nKC("");let zo=(()=>{class I{constructor(y,P,L,se,ye={}){this.urlSerializer=y,this.transitions=P,this.viewportScroller=L,this.zone=se,this.options=ye,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ye.scrollPositionRestoration=ye.scrollPositionRestoration||"disabled",ye.anchorScrolling=ye.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Zi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof qi?(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment)):y instanceof vs&&0===y.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Is&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Is(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(P){c.QTQ()}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac})}}return I})();function Zs(I,S){return{\u0275kind:I,\u0275providers:S}}function bu(){const I=(0,c.WQX)(c.zZn);return S=>{const y=I.get(c.o8S);if(S!==y.components[0])return;const P=I.get(Cr),L=I.get(oc);1===I.get(Da)&&P.initialNavigation(),I.get(bo,null,c.$GK.Optional)?.setUpPreloading(),I.get(dl,null,c.$GK.Optional)?.init(),P.resetRootComponentType(y.componentTypes[0]),L.closed||(L.next(),L.complete(),L.unsubscribe())}}const oc=new c.nKC("",{factory:()=>new De.B}),Da=new c.nKC("",{providedIn:"root",factory:()=>1}),bo=new c.nKC("");function lc(I){return Zs(0,[{provide:bo,useExisting:Mh},{provide:ba,useExisting:I}])}const jr=new c.nKC("ROUTER_FORROOT_GUARD"),dc=[Kt.aZ,{provide:Xr,useClass:fi},Cr,Vs,{provide:ns,useFactory:function wa(I){return I.routerState.root},deps:[Cr]},Di,[]];function wu(){return new c.NEm("Router",Cr)}let ls=(()=>{class I{constructor(y){}static forRoot(y,P){return{ngModule:I,providers:[dc,[],{provide:Qn,multi:!0,useValue:y},{provide:jr,useFactory:ca,deps:[[Cr,new c.Xx1,new c.kdw]]},{provide:Iu,useValue:P||{}},P?.useHash?{provide:Kt.hb,useClass:Kt.fw}:{provide:Kt.hb,useClass:Kt.Sm},{provide:dl,useFactory:()=>{const I=(0,c.WQX)(Kt.Xr),S=(0,c.WQX)(c.SKi),y=(0,c.WQX)(Iu),P=(0,c.WQX)(Br),L=(0,c.WQX)(Xr);return y.scrollOffset&&I.setOffset(y.scrollOffset),new zo(L,P,I,S,y)}},P?.preloadingStrategy?lc(P.preloadingStrategy).\u0275providers:[],{provide:c.NEm,multi:!0,useFactory:wu},P?.initialNavigation?fl(P):[],P?.bindToComponentInputs?Zs(8,[qn,{provide:Hi,useExisting:qn}]).\u0275providers:[],[{provide:Au,useFactory:bu},{provide:c.iLQ,multi:!0,useExisting:Au}]]}}static forChild(y){return{ngModule:I,providers:[{provide:Qn,multi:!0,useValue:y}]}}static{this.\u0275fac=function(P){return new(P||I)(c.KVO(jr,8))}}static{this.\u0275mod=c.$C({type:I})}static{this.\u0275inj=c.G2t({})}}return I})();function ca(I){return"guarded"}function fl(I){return["disabled"===I.initialNavigation?Zs(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const S=(0,c.WQX)(Cr);return()=>{S.setUpLocationChangeListener()}}},{provide:Da,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?Zs(2,[{provide:Da,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:S=>{const y=S.get(Kt.hj,Promise.resolve());return()=>y.then(()=>new Promise(P=>{const L=S.get(Cr),se=S.get(oc);Cu(L,()=>{P(!0)}),S.get(Br).afterPreactivation=()=>(P(!0),se.closed?(0,Le.of)(void 0):se),L.initialNavigation()}))}}]).\u0275providers:[]]}const Au=new c.nKC("")},7852:(Cn,_t,K)=>{K.d(_t,{MF:()=>Wi,j6:()=>ds,xZ:()=>ti,om:()=>Bn,Sx:()=>Xr,Dk:()=>fi,Wp:()=>On,KO:()=>ne});var c=K(467),D=K(1362),rt=K(8041),Ee=K(1076);const X=(ct,He)=>He.some(It=>ct instanceof It);let Le,Be;const pe=new WeakMap,me=new WeakMap,Je=new WeakMap,At=new WeakMap,wt=new WeakMap;let Xt={get(ct,He,It){if(ct instanceof IDBTransaction){if("done"===He)return me.get(ct);if("objectStoreNames"===He)return ct.objectStoreNames||Je.get(ct);if("store"===He)return It.objectStoreNames[1]?void 0:It.objectStore(It.objectStoreNames[0])}return xe(ct[He])},set:(ct,He,It)=>(ct[He]=It,!0),has:(ct,He)=>ct instanceof IDBTransaction&&("done"===He||"store"===He)||He in ct};function hn(ct){return"function"==typeof ct?function Zn(ct){return ct!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function st(){return Be||(Be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ct)?function(...He){return ct.apply(dt(this),He),xe(pe.get(this))}:function(...He){return xe(ct.apply(dt(this),He))}:function(He,...It){const Zt=ct.call(dt(this),He,...It);return Je.set(Zt,He.sort?He.sort():[He]),xe(Zt)}}(ct):(ct instanceof IDBTransaction&&function rn(ct){if(me.has(ct))return;const He=new Promise((It,Zt)=>{const Mn=()=>{ct.removeEventListener("complete",en),ct.removeEventListener("error",_n),ct.removeEventListener("abort",_n)},en=()=>{It(),Mn()},_n=()=>{Zt(ct.error||new DOMException("AbortError","AbortError")),Mn()};ct.addEventListener("complete",en),ct.addEventListener("error",_n),ct.addEventListener("abort",_n)});me.set(ct,He)}(ct),X(ct,function Qe(){return Le||(Le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ct,Xt):ct)}function xe(ct){if(ct instanceof IDBRequest)return function Dt(ct){const He=new Promise((It,Zt)=>{const Mn=()=>{ct.removeEventListener("success",en),ct.removeEventListener("error",_n)},en=()=>{It(xe(ct.result)),Mn()},_n=()=>{Zt(ct.error),Mn()};ct.addEventListener("success",en),ct.addEventListener("error",_n)});return He.then(It=>{It instanceof IDBCursor&&pe.set(It,ct)}).catch(()=>{}),wt.set(He,ct),He}(ct);if(At.has(ct))return At.get(ct);const He=hn(ct);return He!==ct&&(At.set(ct,He),wt.set(He,ct)),He}const dt=ct=>wt.get(ct),Ht=["get","getKey","getAll","getAllKeys","count"],Bt=["put","add","delete","clear"],ke=new Map;function Yt(ct,He){if(!(ct instanceof IDBDatabase)||He in ct||"string"!=typeof He)return;if(ke.get(He))return ke.get(He);const It=He.replace(/FromIndex$/,""),Zt=He!==It,Mn=Bt.includes(It);if(!(It in(Zt?IDBIndex:IDBObjectStore).prototype)||!Mn&&!Ht.includes(It))return;const en=function(){var _n=(0,c.A)(function*(er,...fr){const Dn=this.transaction(er,Mn?"readwrite":"readonly");let vr=Dn.store;return Zt&&(vr=vr.index(fr.shift())),(yield Promise.all([vr[It](...fr),Mn&&Dn.done]))[0]});return function(fr){return _n.apply(this,arguments)}}();return ke.set(He,en),en}!function bn(ct){Xt=ct(Xt)}(ct=>({...ct,get:(He,It,Zt)=>Yt(He,It)||ct.get(He,It,Zt),has:(He,It)=>!!Yt(He,It)||ct.has(He,It)}));class Ln{constructor(He){this.container=He}getPlatformInfoString(){return this.container.getProviders().map(It=>{if(function gr(ct){const He=ct.getComponent();return"VERSION"===He?.type}(It)){const Zt=It.getImmediate();return`${Zt.library}/${Zt.version}`}return null}).filter(It=>It).join(" ")}}const Ye="@firebase/app",De="0.10.13",Kt=new rt.Vy("@firebase/app"),mn="[DEFAULT]",wr={[Ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},dr=new Map,Or=new Map,hr=new Map;function Fr(ct,He){try{ct.container.addComponent(He)}catch(It){Kt.debug(`Component ${He.name} failed to register with FirebaseApp ${ct.name}`,It)}}function Bn(ct){const He=ct.name;if(hr.has(He))return Kt.debug(`There were multiple attempts to register component ${He}.`),!1;hr.set(He,ct);for(const It of dr.values())Fr(It,ct);for(const It of Or.values())Fr(It,ct);return!0}function ds(ct,He){const It=ct.container.getProvider("heartbeat").getImmediate({optional:!0});return It&&It.triggerHeartbeat(),ct.container.getProvider(He)}function ti(ct){return void 0!==ct.settings}const Xn=new Ee.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class nn{constructor(He,It,Zt){this._isDeleted=!1,this._options=Object.assign({},He),this._config=Object.assign({},It),this._name=It.name,this._automaticDataCollectionEnabled=It.automaticDataCollectionEnabled,this._container=Zt,this.container.addComponent(new D.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this.checkDestroyed(),this._automaticDataCollectionEnabled=He}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(He){this._isDeleted=He}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}const Wi="10.14.1";function On(ct,He={}){let It=ct;"object"!=typeof He&&(He={name:He});const Zt=Object.assign({name:mn,automaticDataCollectionEnabled:!1},He),Mn=Zt.name;if("string"!=typeof Mn||!Mn)throw Xn.create("bad-app-name",{appName:String(Mn)});if(It||(It=(0,Ee.T9)()),!It)throw Xn.create("no-options");const en=dr.get(Mn);if(en){if((0,Ee.bD)(It,en.options)&&(0,Ee.bD)(Zt,en.config))return en;throw Xn.create("duplicate-app",{appName:Mn})}const _n=new D.h1(Mn);for(const fr of hr.values())_n.addComponent(fr);const er=new nn(It,Zt,_n);return dr.set(Mn,er),er}function Xr(ct=mn){const He=dr.get(ct);if(!He&&ct===mn&&(0,Ee.T9)())return On();if(!He)throw Xn.create("no-app",{appName:ct});return He}function fi(){return Array.from(dr.values())}function ne(ct,He,It){var Zt;let Mn=null!==(Zt=wr[ct])&&void 0!==Zt?Zt:ct;It&&(Mn+=`-${It}`);const en=Mn.match(/\s|\//),_n=He.match(/\s|\//);if(en||_n){const er=[`Unable to register library "${Mn}" with version "${He}":`];return en&&er.push(`library name "${Mn}" contains illegal characters (whitespace or "/")`),en&&_n&&er.push("and"),_n&&er.push(`version name "${He}" contains illegal characters (whitespace or "/")`),void Kt.warn(er.join(" "))}Bn(new D.uA(`${Mn}-version`,()=>({library:Mn,version:He}),"VERSION"))}const Ae="firebase-heartbeat-database",Re=1,Tt="firebase-heartbeat-store";let Nt=null;function Tn(){return Nt||(Nt=function gt(ct,He,{blocked:It,upgrade:Zt,blocking:Mn,terminated:en}={}){const _n=indexedDB.open(ct,He),er=xe(_n);return Zt&&_n.addEventListener("upgradeneeded",fr=>{Zt(xe(_n.result),fr.oldVersion,fr.newVersion,xe(_n.transaction),fr)}),It&&_n.addEventListener("blocked",fr=>It(fr.oldVersion,fr.newVersion,fr)),er.then(fr=>{en&&fr.addEventListener("close",()=>en()),Mn&&fr.addEventListener("versionchange",Dn=>Mn(Dn.oldVersion,Dn.newVersion,Dn))}).catch(()=>{}),er}(Ae,Re,{upgrade:(ct,He)=>{if(0===He)try{ct.createObjectStore(Tt)}catch(It){console.warn(It)}}}).catch(ct=>{throw Xn.create("idb-open",{originalErrorMessage:ct.message})})),Nt}function kn(){return(kn=(0,c.A)(function*(ct){try{const It=(yield Tn()).transaction(Tt),Zt=yield It.objectStore(Tt).get(be(ct));return yield It.done,Zt}catch(He){if(He instanceof Ee.g)Kt.warn(He.message);else{const It=Xn.create("idb-get",{originalErrorMessage:He?.message});Kt.warn(It.message)}}})).apply(this,arguments)}function ni(ct,He){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,c.A)(function*(ct,He){try{const Zt=(yield Tn()).transaction(Tt,"readwrite");yield Zt.objectStore(Tt).put(He,be(ct)),yield Zt.done}catch(It){if(It instanceof Ee.g)Kt.warn(It.message);else{const Zt=Xn.create("idb-set",{originalErrorMessage:It?.message});Kt.warn(Zt.message)}}})).apply(this,arguments)}function be(ct){return`${ct.name}!${ct.options.appId}`}class zt{constructor(He){this.container=He,this._heartbeatsCache=null;const It=this.container.getProvider("app").getImmediate();this._storage=new xr(It),this._heartbeatsCachePromise=this._storage.read().then(Zt=>(this._heartbeatsCache=Zt,Zt))}triggerHeartbeat(){var He=this;return(0,c.A)(function*(){var It,Zt;try{const en=He.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_n=dn();return null==(null===(It=He._heartbeatsCache)||void 0===It?void 0:It.heartbeats)&&(He._heartbeatsCache=yield He._heartbeatsCachePromise,null==(null===(Zt=He._heartbeatsCache)||void 0===Zt?void 0:Zt.heartbeats))||He._heartbeatsCache.lastSentHeartbeatDate===_n||He._heartbeatsCache.heartbeats.some(er=>er.date===_n)?void 0:(He._heartbeatsCache.heartbeats.push({date:_n,agent:en}),He._heartbeatsCache.heartbeats=He._heartbeatsCache.heartbeats.filter(er=>{const fr=new Date(er.date).valueOf();return Date.now()-fr<=2592e6}),He._storage.overwrite(He._heartbeatsCache))}catch(Mn){Kt.warn(Mn)}})()}getHeartbeatsHeader(){var He=this;return(0,c.A)(function*(){var It;try{if(null===He._heartbeatsCache&&(yield He._heartbeatsCachePromise),null==(null===(It=He._heartbeatsCache)||void 0===It?void 0:It.heartbeats)||0===He._heartbeatsCache.heartbeats.length)return"";const Zt=dn(),{heartbeatsToSend:Mn,unsentEntries:en}=function qt(ct,He=1024){const It=[];let Zt=ct.slice();for(const Mn of ct){const en=It.find(_n=>_n.agent===Mn.agent);if(en){if(en.dates.push(Mn.date),un(It)>He){en.dates.pop();break}}else if(It.push({agent:Mn.agent,dates:[Mn.date]}),un(It)>He){It.pop();break}Zt=Zt.slice(1)}return{heartbeatsToSend:It,unsentEntries:Zt}}(He._heartbeatsCache.heartbeats),_n=(0,Ee.Uj)(JSON.stringify({version:2,heartbeats:Mn}));return He._heartbeatsCache.lastSentHeartbeatDate=Zt,en.length>0?(He._heartbeatsCache.heartbeats=en,yield He._storage.overwrite(He._heartbeatsCache)):(He._heartbeatsCache.heartbeats=[],He._storage.overwrite(He._heartbeatsCache)),_n}catch(Zt){return Kt.warn(Zt),""}})()}}function dn(){return(new Date).toISOString().substring(0,10)}class xr{constructor(He){this.app=He,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,Ee.zW)()&&(0,Ee.eX)().then(()=>!0).catch(()=>!1)})()}read(){var He=this;return(0,c.A)(function*(){if(yield He._canUseIndexedDBPromise){const Zt=yield function Yn(ct){return kn.apply(this,arguments)}(He.app);return Zt?.heartbeats?Zt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(He){var It=this;return(0,c.A)(function*(){var Zt;if(yield It._canUseIndexedDBPromise){const en=yield It.read();return ni(It.app,{lastSentHeartbeatDate:null!==(Zt=He.lastSentHeartbeatDate)&&void 0!==Zt?Zt:en.lastSentHeartbeatDate,heartbeats:He.heartbeats})}})()}add(He){var It=this;return(0,c.A)(function*(){var Zt;if(yield It._canUseIndexedDBPromise){const en=yield It.read();return ni(It.app,{lastSentHeartbeatDate:null!==(Zt=He.lastSentHeartbeatDate)&&void 0!==Zt?Zt:en.lastSentHeartbeatDate,heartbeats:[...en.heartbeats,...He.heartbeats]})}})()}}function un(ct){return(0,Ee.Uj)(JSON.stringify({version:2,heartbeats:ct})).length}!function ri(ct){Bn(new D.uA("platform-logger",He=>new Ln(He),"PRIVATE")),Bn(new D.uA("heartbeat",He=>new zt(He),"PRIVATE")),ne(Ye,De,ct),ne(Ye,De,"esm2017"),ne("fire-js","")}("")},1362:(Cn,_t,K)=>{K.d(_t,{h1:()=>Qe,uA:()=>rt});var c=K(467),D=K(1076);class rt{constructor(pe,me,Je){this.name=pe,this.instanceFactory=me,this.type=Je,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(pe){return this.instantiationMode=pe,this}setMultipleInstances(pe){return this.multipleInstances=pe,this}setServiceProps(pe){return this.serviceProps=pe,this}setInstanceCreatedCallback(pe){return this.onInstanceCreated=pe,this}}const Ee="[DEFAULT]";class X{constructor(pe,me){this.name=pe,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(pe){const me=this.normalizeInstanceIdentifier(pe);if(!this.instancesDeferred.has(me)){const Je=new D.cY;if(this.instancesDeferred.set(me,Je),this.isInitialized(me)||this.shouldAutoInitialize())try{const At=this.getOrInitializeService({instanceIdentifier:me});At&&Je.resolve(At)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(pe){var me;const Je=this.normalizeInstanceIdentifier(pe?.identifier),At=null!==(me=pe?.optional)&&void 0!==me&&me;if(!this.isInitialized(Je)&&!this.shouldAutoInitialize()){if(At)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Je})}catch(wt){if(At)return null;throw wt}}getComponent(){return this.component}setComponent(pe){if(pe.name!==this.name)throw Error(`Mismatching Component ${pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=pe,this.shouldAutoInitialize()){if(function Be(st){return"EAGER"===st.instantiationMode}(pe))try{this.getOrInitializeService({instanceIdentifier:Ee})}catch{}for(const[me,Je]of this.instancesDeferred.entries()){const At=this.normalizeInstanceIdentifier(me);try{const wt=this.getOrInitializeService({instanceIdentifier:At});Je.resolve(wt)}catch{}}}}clearInstance(pe=Ee){this.instancesDeferred.delete(pe),this.instancesOptions.delete(pe),this.instances.delete(pe)}delete(){var pe=this;return(0,c.A)(function*(){const me=Array.from(pe.instances.values());yield Promise.all([...me.filter(Je=>"INTERNAL"in Je).map(Je=>Je.INTERNAL.delete()),...me.filter(Je=>"_delete"in Je).map(Je=>Je._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(pe=Ee){return this.instances.has(pe)}getOptions(pe=Ee){return this.instancesOptions.get(pe)||{}}initialize(pe={}){const{options:me={}}=pe,Je=this.normalizeInstanceIdentifier(pe.instanceIdentifier);if(this.isInitialized(Je))throw Error(`${this.name}(${Je}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const At=this.getOrInitializeService({instanceIdentifier:Je,options:me});for(const[wt,Dt]of this.instancesDeferred.entries())Je===this.normalizeInstanceIdentifier(wt)&&Dt.resolve(At);return At}onInit(pe,me){var Je;const At=this.normalizeInstanceIdentifier(me),wt=null!==(Je=this.onInitCallbacks.get(At))&&void 0!==Je?Je:new Set;wt.add(pe),this.onInitCallbacks.set(At,wt);const Dt=this.instances.get(At);return Dt&&pe(Dt,At),()=>{wt.delete(pe)}}invokeOnInitCallbacks(pe,me){const Je=this.onInitCallbacks.get(me);if(Je)for(const At of Je)try{At(pe,me)}catch{}}getOrInitializeService({instanceIdentifier:pe,options:me={}}){let Je=this.instances.get(pe);if(!Je&&this.component&&(Je=this.component.instanceFactory(this.container,{instanceIdentifier:(st=pe,st===Ee?void 0:st),options:me}),this.instances.set(pe,Je),this.instancesOptions.set(pe,me),this.invokeOnInitCallbacks(Je,pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,pe,Je)}catch{}var st;return Je||null}normalizeInstanceIdentifier(pe=Ee){return this.component?this.component.multipleInstances?pe:Ee:pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Qe{constructor(pe){this.name=pe,this.providers=new Map}addComponent(pe){const me=this.getProvider(pe.name);if(me.isComponentSet())throw new Error(`Component ${pe.name} has already been registered with ${this.name}`);me.setComponent(pe)}addOrOverwriteComponent(pe){this.getProvider(pe.name).isComponentSet()&&this.providers.delete(pe.name),this.addComponent(pe)}getProvider(pe){if(this.providers.has(pe))return this.providers.get(pe);const me=new X(pe,this);return this.providers.set(pe,me),me}getProviders(){return Array.from(this.providers.values())}}},8041:(Cn,_t,K)=>{K.d(_t,{$b:()=>D,Vy:()=>Be});const c=[];var D=function(pe){return pe[pe.DEBUG=0]="DEBUG",pe[pe.VERBOSE=1]="VERBOSE",pe[pe.INFO=2]="INFO",pe[pe.WARN=3]="WARN",pe[pe.ERROR=4]="ERROR",pe[pe.SILENT=5]="SILENT",pe}(D||{});const rt={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},Ee=D.INFO,X={[D.DEBUG]:"log",[D.VERBOSE]:"log",[D.INFO]:"info",[D.WARN]:"warn",[D.ERROR]:"error"},Le=(pe,me,...Je)=>{if(me<pe.logLevel)return;const At=(new Date).toISOString(),wt=X[me];if(!wt)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[wt](`[${At}]  ${pe.name}:`,...Je)};class Be{constructor(me){this.name=me,this._logLevel=Ee,this._logHandler=Le,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in D))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?rt[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...me),this._logHandler(this,D.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...me),this._logHandler(this,D.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,D.INFO,...me),this._logHandler(this,D.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,D.WARN,...me),this._logHandler(this,D.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,D.ERROR,...me),this._logHandler(this,D.ERROR,...me)}}},4056:(Cn,_t,K)=>{K.d(_t,{Qt:()=>Ye,Rj:()=>gr});var c=K(540),D=K(177),rt=K(1626),Ee=K(4341),X=K(345);const Le=["*"];function Be(De,Kt){if(1&De&&(c.qex(0),c.qSk(),c.j41(1,"svg"),c.nrm(2,"use"),c.k0s(),c.bVm()),2&De){const N=c.XpG();c.R7$(2),c.BMQ("href","assets/ae-icons/icons.svg#"+N.iconName)("href","assets/ae-icons/icons.svg#"+N.iconName,null,"xlink")}}function Qe(De,Kt){1&De&&c.SdG(0)}const st=["labelButton"],pe=function(De,Kt){return{selected:De,focused:Kt}};function me(De,Kt){if(1&De){const N=c.RV6();c.j41(0,"button",6),c.bIt("click",function(ae){const Oe=c.eBV(N).$implicit,ve=c.XpG();return c.Njj(ve.optionSelect(Oe,ae))}),c.EFF(1),c.k0s()}if(2&De){const N=Kt.$implicit,Q=Kt.index,ae=c.XpG();c.Y8G("ngClass",c.l_i(2,pe,N.value===ae.value,Q===ae.optionId)),c.R7$(1),c.SpI(" ",N.label," ")}}function Je(De,Kt){1&De&&(c.j41(0,"span",7),c.EFF(1,"No items for select"),c.k0s())}const At=function(De){return{"ae-expanded":De}},wt=["fileInput"];function Dt(De,Kt){if(1&De){const N=c.RV6();c.j41(0,"div",2)(1,"ae-select",37),c.bIt("ngModelChange",function(ae){c.eBV(N);const xt=c.XpG(2);return c.Njj(xt.customClassId=ae)})("change",function(){c.eBV(N);const ae=c.XpG(2);return c.Njj(ae.setCustomClass(ae.customClassId))}),c.k0s()()}if(2&De){const N=c.XpG(2);c.R7$(1),c.Y8G("options",N.customClassList)("ngModel",N.customClassId)("disabled",N.htmlMode)("hidden",N.isButtonHidden("customClasses"))}}function rn(De,Kt){if(1&De){const N=c.RV6();c.j41(0,"div",1)(1,"div",2)(2,"button",3),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("undo"))}),c.k0s(),c.j41(3,"button",4),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("redo"))}),c.k0s()(),c.j41(4,"div",2)(5,"button",5),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("bold"))}),c.k0s(),c.j41(6,"button",6),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("italic"))}),c.k0s(),c.j41(7,"button",7),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("underline"))}),c.k0s(),c.j41(8,"button",8),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("strikeThrough"))}),c.k0s(),c.j41(9,"button",9),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("subscript"))}),c.k0s(),c.j41(10,"button",10),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("superscript"))}),c.k0s()(),c.j41(11,"div",2)(12,"button",11),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("justifyLeft"))}),c.k0s(),c.j41(13,"button",12),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("justifyCenter"))}),c.k0s(),c.j41(14,"button",13),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("justifyRight"))}),c.k0s(),c.j41(15,"button",14),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("justifyFull"))}),c.k0s()(),c.j41(16,"div",2)(17,"button",15),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("indent"))}),c.k0s(),c.j41(18,"button",16),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("outdent"))}),c.k0s()(),c.j41(19,"div",2)(20,"button",17),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("insertUnorderedList"))}),c.k0s(),c.j41(21,"button",18),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("insertOrderedList"))}),c.k0s()(),c.j41(22,"div",2)(23,"ae-select",19),c.bIt("ngModelChange",function(ae){c.eBV(N);const xt=c.XpG();return c.Njj(xt.block=ae)})("change",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand(ae.block))}),c.k0s()(),c.j41(24,"div",2)(25,"ae-select",20),c.bIt("ngModelChange",function(ae){c.eBV(N);const xt=c.XpG();return c.Njj(xt.fontName=ae)})("change",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.setFontName(ae.fontName))}),c.k0s()(),c.j41(26,"div",2)(27,"ae-select",21),c.bIt("ngModelChange",function(ae){c.eBV(N);const xt=c.XpG();return c.Njj(xt.fontSize=ae)})("change",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.setFontSize(ae.fontSize))}),c.k0s()(),c.j41(28,"div",2)(29,"input",22,23),c.bIt("change",function(){c.eBV(N);const ae=c.sdS(30),xt=c.XpG();return c.Njj(xt.insertColor(ae.value,"textColor"))}),c.k0s(),c.j41(31,"button",24),c.bIt("click",function(){c.eBV(N);const ae=c.sdS(30);return c.XpG().focus(),c.Njj(ae.click())}),c.k0s(),c.j41(32,"input",22,25),c.bIt("change",function(){c.eBV(N);const ae=c.sdS(33),xt=c.XpG();return c.Njj(xt.insertColor(ae.value,"backgroundColor"))}),c.k0s(),c.j41(34,"button",26),c.bIt("click",function(){c.eBV(N);const ae=c.sdS(33);return c.XpG().focus(),c.Njj(ae.click())}),c.k0s()(),c.DNE(35,Dt,2,4,"div",27),c.j41(36,"div",2)(37,"button",28),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.insertUrl())}),c.k0s(),c.j41(38,"button",29),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("unlink"))}),c.k0s(),c.j41(39,"input",30,31),c.bIt("change",function(ae){c.eBV(N);const xt=c.XpG();return c.Njj(xt.onFileChanged(ae))}),c.k0s(),c.j41(41,"button",32),c.bIt("click",function(){c.eBV(N);const ae=c.sdS(40);return c.XpG().focus(),c.Njj(ae.click())}),c.k0s(),c.j41(42,"button",33),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.insertVideo())}),c.k0s(),c.j41(43,"button",34),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("insertHorizontalRule"))}),c.k0s()(),c.j41(44,"div",2)(45,"button",35),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("removeFormat"))}),c.k0s()(),c.j41(46,"div",2)(47,"button",36),c.bIt("click",function(){c.eBV(N);const ae=c.XpG();return c.Njj(ae.triggerCommand("toggleEditorMode"))}),c.k0s()(),c.SdG(48),c.k0s()}if(2&De){const N=c.XpG();c.R7$(2),c.Y8G("hidden",N.isButtonHidden("undo")),c.R7$(1),c.Y8G("hidden",N.isButtonHidden("redo")),c.R7$(2),c.Y8G("id","bold-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("bold")),c.R7$(1),c.Y8G("id","italic-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("italic")),c.R7$(1),c.Y8G("id","underline-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("underline")),c.R7$(1),c.Y8G("id","strikeThrough-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("strikeThrough")),c.R7$(1),c.Y8G("id","subscript-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("subscript")),c.R7$(1),c.Y8G("id","superscript-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("superscript")),c.R7$(2),c.Y8G("id","justifyLeft-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("justifyLeft")),c.R7$(1),c.Y8G("id","justifyCenter-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("justifyCenter")),c.R7$(1),c.Y8G("id","justifyRight-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("justifyRight")),c.R7$(1),c.Y8G("id","justifyFull-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("justifyFull")),c.R7$(2),c.Y8G("id","indent-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("indent")),c.R7$(1),c.Y8G("id","outdent-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("outdent")),c.R7$(2),c.Y8G("id","insertUnorderedList-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("insertUnorderedList")),c.R7$(1),c.Y8G("id","insertOrderedList-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("insertOrderedList")),c.R7$(2),c.Y8G("options",N.headings)("ngModel",N.block)("disabled",N.htmlMode)("hidden",N.isButtonHidden("heading")),c.R7$(2),c.Y8G("options",N.fonts)("ngModel",N.fontName)("disabled",N.htmlMode)("hidden",N.isButtonHidden("fontName")),c.R7$(2),c.Y8G("options",N.fontSizes)("ngModel",N.fontSize)("disabled",N.htmlMode)("hidden",N.isButtonHidden("fontSize")),c.R7$(4),c.Y8G("id","foregroundColorPicker-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("textColor")),c.R7$(3),c.Y8G("id","backgroundColorPicker-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("backgroundColor")),c.R7$(1),c.Y8G("ngIf",N._customClasses),c.R7$(2),c.Y8G("id","link-"+N.id)("disabled",N.isLinkButtonDisabled)("hidden",N.isButtonHidden("link")),c.R7$(1),c.Y8G("id","unlink-"+N.id)("disabled",N.htmlMode||!N.linkSelected)("hidden",N.isButtonHidden("unlink")),c.R7$(3),c.Y8G("id","insertImage-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("insertImage")),c.R7$(1),c.Y8G("id","insertVideo-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("insertVideo")),c.R7$(1),c.Y8G("id","insertHorizontalRule-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("insertHorizontalRule")),c.R7$(2),c.Y8G("id","clearFormatting-"+N.id)("disabled",N.htmlMode)("hidden",N.isButtonHidden("removeFormat")),c.R7$(2),c.Y8G("id","toggleEditorMode-"+N.id)("hidden",N.isButtonHidden("toggleEditorMode"))}}const Xt=["customButtons"],bn=["editor"],Zn=["editorWrapper"],hn=["editorToolbar"],xe=function(De){return{bottom:De}},dt=function(De){return{executeCommandFn:De}};let gt=(()=>{class De{constructor(N,Q){this.http=N,this.doc=Q,this.saveSelection=()=>{if(this.doc.getSelection){const ae=this.doc.getSelection();ae.getRangeAt&&ae.rangeCount&&(this.savedSelection=ae.getRangeAt(0),this.selectedText=ae.toString())}else this.savedSelection=this.doc.getSelection&&this.doc.createRange?document.createRange():null}}executeCommand(N,Q){["h1","h2","h3","h4","h5","h6","p","pre"].includes(N)?this.doc.execCommand("formatBlock",!1,N):this.doc.execCommand(N,!1,Q)}createLink(N){N.includes("http")?this.insertHtml('<a href="'+N+'" target="_blank">'+this.selectedText+"</a>"):this.doc.execCommand("createlink",!1,N)}insertColor(N,Q){this.restoreSelection()&&this.doc.execCommand("textColor"===Q?"foreColor":"hiliteColor",!1,N)}setFontName(N){this.doc.execCommand("fontName",!1,N)}setFontSize(N){this.doc.execCommand("fontSize",!1,N)}insertHtml(N){if(!this.doc.execCommand("insertHTML",!1,N))throw new Error("Unable to perform the operation")}restoreSelection(){if(!this.savedSelection)return!1;if(this.doc.getSelection){const N=this.doc.getSelection();return N.removeAllRanges(),N.addRange(this.savedSelection),!0}return!!this.doc.getSelection||void 0}executeInNextQueueIteration(N,Q=100){setTimeout(N,Q)}checkSelection(){if(0===this.savedSelection.toString().length)throw new Error("No Selection Made");return!0}uploadImage(N){const Q=new FormData;return Q.append("file",N,N.name),this.http.post(this.uploadUrl,Q,{reportProgress:!0,observe:"events",withCredentials:this.uploadWithCredentials})}insertImage(N){this.doc.execCommand("insertImage",!1,N)}setDefaultParagraphSeparator(N){this.doc.execCommand("defaultParagraphSeparator",!1,N)}createCustomClass(N){let Q=this.selectedText;if(N){const ae=N.tag?N.tag:"span";Q="<"+ae+' class="'+N.class+'">'+this.selectedText+"</"+ae+">"}this.insertHtml(Q)}insertVideo(N){N.match("www.youtube.com")&&this.insertYouTubeVideoTag(N),N.match("vimeo.com")&&this.insertVimeoVideoTag(N)}insertYouTubeVideoTag(N){const ae=`https://img.youtube.com/vi/${N.split("v=")[1]}/0.jpg`;this.insertHtml(`\n      <div style='position: relative'>\n        <a href='${N}' target='_blank'>\n          <img src="${ae}" alt="click to watch"/>\n          <img style='position: absolute; left:200px; top:140px'\n          src="https://img.icons8.com/color/96/000000/youtube-play.png"/>\n        </a>\n      </div>`)}insertVimeoVideoTag(N){const Q=this.http.get(`https://vimeo.com/api/oembed.json?url=${N}`).subscribe(ae=>{this.insertHtml(`<div>\n        <a href='${N}' target='_blank'>\n          <img src="${ae.thumbnail_url_with_play_button}" alt="${ae.title}"/>\n        </a>\n      </div>`),Q.unsubscribe()})}nextNode(N){if(N.hasChildNodes())return N.firstChild;for(;N&&!N.nextSibling;)N=N.parentNode;return N?N.nextSibling:null}getRangeSelectedNodes(N,Q){let ae=N.startContainer;const xt=N.endContainer;let Oe=[];if(ae===xt)Oe=[ae];else{for(;ae&&ae!==xt;)Oe.push(ae=this.nextNode(ae));for(ae=N.startContainer;ae&&ae!==N.commonAncestorContainer;)Oe.unshift(ae),ae=ae.parentNode}if(Q)for(ae=N.commonAncestorContainer;ae;)Oe.push(ae),ae=ae.parentNode;return Oe}getSelectedNodes(){const N=[];if(this.doc.getSelection){const Q=this.doc.getSelection();for(let ae=0,xt=Q.rangeCount;ae<xt;++ae)N.push.apply(N,this.getRangeSelectedNodes(Q.getRangeAt(ae),!0))}return N}replaceWithOwnChildren(N){const Q=N.parentNode;for(;N.hasChildNodes();)Q.insertBefore(N.firstChild,N);Q.removeChild(N)}removeSelectedElements(N){const Q=N.toLowerCase().split(",");this.getSelectedNodes().forEach(ae=>{1===ae.nodeType&&Q.indexOf(ae.tagName.toLowerCase())>-1&&this.replaceWithOwnChildren(ae)})}}return De.\u0275fac=function(N){return new(N||De)(c.KVO(rt.Qq),c.KVO(D.qQ))},De.\u0275prov=c.jDH({token:De,factory:De.\u0275fac}),De})();const St={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",outline:!0};function Ht(De){return null!=De}let Bt=(()=>{class De{constructor(){}}return De.\u0275fac=function(N){return new(N||De)},De.\u0275cmp=c.VBU({type:De,selectors:[["ae-toolbar-set"],["","aeToolbarSet",""]],hostAttrs:[1,"angular-editor-toolbar-set"],ngContentSelectors:Le,decls:1,vars:0,template:function(N,Q){1&N&&(c.NAR(),c.SdG(0))},styles:["a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-toolbar-set[_nghost-%COMP%]{display:flex;gap:1px;width:fit-content;vertical-align:baseline}"]}),De})(),ke=(()=>{class De{constructor(){this.iconName=""}}return De.\u0275fac=function(N){return new(N||De)},De.\u0275cmp=c.VBU({type:De,selectors:[["ae-button"],["button","aeButton",""]],hostAttrs:[1,"angular-editor-button"],hostVars:2,hostBindings:function(N,Q){2&N&&c.Mr5("tabIndex",-1)("type","button")},inputs:{iconName:"iconName"},ngContentSelectors:Le,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["contentTemplate",""]],template:function(N,Q){if(1&N&&(c.NAR(),c.DNE(0,Be,3,2,"ng-container",0),c.DNE(1,Qe,1,0,"ng-template",null,1,c.C5r)),2&N){const ae=c.sdS(2);c.Y8G("ngIf",Q.iconName)("ngIfElse",ae)}},dependencies:[D.bT],styles:["a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-button[_nghost-%COMP%]{background-color:var(--ae-button-bg-color, white);vertical-align:middle;border:var(--ae-button-border, 1px solid #ddd);border-radius:var(--ae-button-radius, 4px);padding:.4rem;float:left;width:2rem;height:2rem}.angular-editor-button[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.angular-editor-button[_nghost-%COMP%]:hover{cursor:pointer;background-color:var(--ae-button-hover-bg-color, #f1f1f1);transition:.2s ease}.angular-editor-button[_nghost-%COMP%]:focus, .angular-editor-button.focus[_nghost-%COMP%]{outline:0}.angular-editor-button[_nghost-%COMP%]:disabled{background-color:var(--ae-button-disabled-bg-color, #f5f5f5);pointer-events:none;cursor:not-allowed}.angular-editor-button[_nghost-%COMP%]:disabled > .color-label[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.angular-editor-button[_nghost-%COMP%]:disabled > .color-label.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background:#555555}.angular-editor-button[_nghost-%COMP%]:disabled > .color-label.background[_ngcontent-%COMP%]{background:#555555}.angular-editor-button.active[_nghost-%COMP%]{background:var(--ae-button-active-bg-color, #fffbd3)}.angular-editor-button.active[_nghost-%COMP%]:hover{background-color:var(--ae-button-active-hover-bg-color, #fffaad)}"]}),De})(),Yt=(()=>{class De{constructor(N,Q){this.elRef=N,this.r=Q,this.options=[],this.disabled=!1,this.optionId=0,this.opened=!1,this.hidden="inline-block",this.changeEvent=new c.bkB,this.onChange=()=>{},this.onTouched=()=>{}}get label(){return this.selectedOption&&this.selectedOption.hasOwnProperty("label")?this.selectedOption.label:"Select"}get value(){return this.selectedOption.value}ngOnInit(){this.selectedOption=this.options[0],Ht(this.isHidden)&&this.isHidden&&this.hide()}hide(){this.hidden="none"}optionSelect(N,Q){Q.stopPropagation(),this.setValue(N.value),this.onChange(this.selectedOption.value),this.changeEvent.emit(this.selectedOption.value),this.onTouched(),this.opened=!1}toggleOpen(N){this.disabled||(this.opened=!this.opened)}onClick(N){this.elRef.nativeElement.contains(N.target)||this.close()}close(){this.opened=!1}get isOpen(){return this.opened}writeValue(N){!N||"string"!=typeof N||this.setValue(N)}setValue(N){let Q=0;const ae=this.options.find((xt,Oe)=>(Q=Oe,xt.value===N));ae&&(this.selectedOption=ae,this.optionId=Q)}registerOnChange(N){this.onChange=N}registerOnTouched(N){this.onTouched=N}setDisabledState(N){this.labelButton.nativeElement.disabled=N,this.r[N?"addClass":"removeClass"](this.labelButton.nativeElement,"disabled"),this.disabled=N}handleKeyDown(N){if(this.opened)switch(N.key){case"ArrowDown":this._handleArrowDown(N);break;case"ArrowUp":this._handleArrowUp(N);break;case"Space":this._handleSpace(N);break;case"Enter":this._handleEnter(N);break;case"Tab":this._handleTab(N);break;case"Escape":this.close(),N.preventDefault();break;case"Backspace":this._handleBackspace()}}_handleArrowDown(N){this.optionId<this.options.length-1&&this.optionId++}_handleArrowUp(N){this.optionId>=1&&this.optionId--}_handleSpace(N){}_handleEnter(N){this.optionSelect(this.options[this.optionId],N)}_handleTab(N){}_handleBackspace(){}}return De.\u0275fac=function(N){return new(N||De)(c.rXU(c.aKT),c.rXU(c.sFG))},De.\u0275cmp=c.VBU({type:De,selectors:[["ae-select"]],viewQuery:function(N,Q){if(1&N&&c.GBs(st,7),2&N){let ae;c.mGM(ae=c.lsd())&&(Q.labelButton=ae.first)}},hostVars:2,hostBindings:function(N,Q){1&N&&c.bIt("click",function(xt){return Q.onClick(xt)},!1,c.EBC)("keydown",function(xt){return Q.handleKeyDown(xt)}),2&N&&c.xc7("display",Q.hidden)},inputs:{options:"options",isHidden:["hidden","isHidden"]},outputs:{changeEvent:"change"},features:[c.Jv_([{provide:Ee.kq,useExisting:(0,c.Rfq)(()=>De),multi:!0}])],decls:9,vars:9,consts:[[1,"ae-picker",3,"ngClass"],["tabindex","-1","type","button","role","button",1,"ae-picker-label",3,"tabIndex","click"],["labelButton",""],[1,"ae-picker-options"],["tabindex","-1","type","button","role","button","class","ae-picker-item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","dropdown-item",4,"ngIf"],["tabindex","-1","type","button","role","button",1,"ae-picker-item",3,"ngClass","click"],[1,"dropdown-item"]],template:function(N,Q){1&N&&(c.j41(0,"span",0)(1,"button",1,2),c.bIt("click",function(xt){return Q.toggleOpen(xt)}),c.EFF(3),c.qSk(),c.j41(4,"svg"),c.nrm(5,"use"),c.k0s()(),c.joV(),c.j41(6,"span",3),c.DNE(7,me,2,5,"button",4),c.DNE(8,Je,2,0,"span",5),c.k0s()()),2&N&&(c.Y8G("ngClass",c.eq3(7,At,Q.isOpen)),c.R7$(1),c.Y8G("tabIndex",-1),c.R7$(2),c.SpI("",Q.label," "),c.R7$(2),c.BMQ("href","assets/ae-icons/icons.svg#sort")("href","assets/ae-icons/icons.svg#sort",null,"xlink"),c.R7$(2),c.Y8G("ngForOf",Q.options),c.R7$(1),c.Y8G("ngIf",!Q.options.length))},dependencies:[D.YU,D.Sq,D.bT],styles:['a[_ngcontent-%COMP%]{cursor:pointer}svg[_ngcontent-%COMP%]{width:100%;height:100%}.ae-picker[_ngcontent-%COMP%]{color:var(--ae-picker-color, #444);display:inline-block;float:left;width:100%;position:relative;vertical-align:middle}.ae-picker-label[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;padding-left:8px;padding-right:10px;position:relative;width:100%;line-height:1.8rem;vertical-align:middle;font-size:85%;text-align:left;background-color:var(--ae-picker-label-color, white);min-width:2rem;float:left;border:1px solid #ddd;border-radius:var(--ae-button-radius, 4px);text-overflow:clip;overflow:hidden;white-space:nowrap;height:2rem}.ae-picker-label[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:0;width:20px;height:100%;background:linear-gradient(to right,var(--ae-picker-label-color, white),var(--ae-picker-label-color, white) 100%)}.ae-picker-label[_ngcontent-%COMP%]:focus{outline:none}.ae-picker-label[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.ae-picker-label[_ngcontent-%COMP%]:hover:before{background:linear-gradient(to right,#f5f5f5 100%,#ffffff 100%)}.ae-picker-label[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.ae-picker-label[_ngcontent-%COMP%]:disabled:before{background:linear-gradient(to right,#f5f5f5 100%,#ffffff 100%)}.ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;right:0;width:1rem}.ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:not(:root){overflow:hidden}.ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .ae-stroke[_ngcontent-%COMP%]{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ae-picker-options[_ngcontent-%COMP%]{background-color:var(--ae-picker-option-bg-color, #fff);display:none;min-width:100%;position:absolute;white-space:nowrap;z-index:3;border:1px solid transparent;box-shadow:#0003 0 2px 8px}.ae-picker-options[_ngcontent-%COMP%]   .ae-picker-item[_ngcontent-%COMP%]{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px;padding-left:5px;z-index:3;text-align:left;background-color:transparent;min-width:2rem;width:100%;border:0 solid #ddd}.ae-picker-options[_ngcontent-%COMP%]   .ae-picker-item.selected[_ngcontent-%COMP%]{color:#06c;background-color:var(--ae-picker-option-active-bg-color, #fff4c2)}.ae-picker-options[_ngcontent-%COMP%]   .ae-picker-item.focused[_ngcontent-%COMP%]{background-color:var(--ae-picker-option-focused-bg-color, #fbf9b0)}.ae-picker-options[_ngcontent-%COMP%]   .ae-picker-item[_ngcontent-%COMP%]:hover{background-color:var(--ae-picker-option-hover-bg-color, #fffa98)}.ae-expanded[_ngcontent-%COMP%]{display:block;margin-top:-1px;z-index:1}.ae-expanded[_ngcontent-%COMP%]   .ae-picker-label[_ngcontent-%COMP%]{color:#ccc;z-index:2}.ae-expanded[_ngcontent-%COMP%]   .ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#ccc;z-index:2}.ae-expanded[_ngcontent-%COMP%]   .ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .ae-stroke[_ngcontent-%COMP%]{stroke:#ccc}.ae-expanded[_ngcontent-%COMP%]   .ae-picker-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:-1px;top:100%;z-index:3;border-color:#ccc}']}),De})(),Ln=(()=>{class De{constructor(N,Q,ae,xt){this.r=N,this.editorService=Q,this.er=ae,this.doc=xt,this.htmlMode=!1,this.linkSelected=!1,this.block="default",this.fontName="Times New Roman",this.fontSize="3",this.headings=[{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"},{label:"Heading 5",value:"h5"},{label:"Heading 6",value:"h6"},{label:"Heading 7",value:"h7"},{label:"Paragraph",value:"p"},{label:"Predefined",value:"pre"},{label:"Standard",value:"div"},{label:"default",value:"default"}],this.fontSizes=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"}],this.customClassId="-1",this.customClassList=[{label:"",value:""}],this.tagMap={BLOCKQUOTE:"indent",A:"link"},this.select=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"],this.buttons=["bold","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent","insertUnorderedList","insertOrderedList","link"],this.fonts=[{label:"",value:""}],this.execute=new c.bkB}set customClasses(N){N&&(this._customClasses=N,this.customClassList=this._customClasses.map((Q,ae)=>({label:Q.name,value:ae.toString()})),this.customClassList.unshift({label:"Clear Class",value:"-1"}))}set defaultFontName(N){N&&(this.fontName=N)}set defaultFontSize(N){N&&(this.fontSize=N)}get isLinkButtonDisabled(){return this.htmlMode||!this.editorService.selectedText}triggerCommand(N){this.execute.emit(N)}triggerButtons(){this.showToolbar&&this.buttons.forEach(N=>{const Q=this.doc.queryCommandState(N),ae=this.doc.getElementById(N+"-"+this.id);Q?this.r.addClass(ae,"active"):this.r.removeClass(ae,"active")})}triggerBlocks(N){if(!this.showToolbar)return;this.linkSelected=N.findIndex(ae=>"A"===ae.nodeName)>-1;let Q=!1;this.select.forEach(ae=>{const xt=N.find(Oe=>Oe.nodeName===ae);void 0!==xt&&ae===xt.nodeName?!1===Q&&(this.block=xt.nodeName.toLowerCase(),Q=!0):!1===Q&&(this.block="default")}),Q=!1,this._customClasses&&this._customClasses.forEach((ae,xt)=>{void 0!==N.find(ve=>{if(ve instanceof Element)return ve.className===ae.class})?!1===Q&&(this.customClassId=xt.toString(),Q=!0):!1===Q&&(this.customClassId="-1")}),Object.keys(this.tagMap).map(ae=>{const xt=this.doc.getElementById(this.tagMap[ae]+"-"+this.id),Oe=N.find(ve=>ve.nodeName===ae);void 0!==Oe&&ae===Oe.nodeName?this.r.addClass(xt,"active"):this.r.removeClass(xt,"active")}),this.foreColour=this.doc.queryCommandValue("ForeColor"),this.fontSize=this.doc.queryCommandValue("FontSize"),this.fontName=this.doc.queryCommandValue("FontName").replace(/"/g,""),this.backColor=this.doc.queryCommandValue("backColor")}insertUrl(){let N="https://";const Q=this.editorService.savedSelection;if(Q&&"A"===Q.commonAncestorContainer.parentElement.nodeName){const ae=Q.commonAncestorContainer.parentElement;""!==ae.href&&(N=ae.href)}N=prompt("Insert URL link",N),N&&""!==N&&"https://"!==N&&this.editorService.createLink(N)}insertVideo(){this.execute.emit("");const N=prompt("Insert Video link","https://");N&&""!==N&&"https://"!==N&&this.editorService.insertVideo(N)}insertColor(N,Q){this.editorService.insertColor(N,Q),this.execute.emit("")}setFontName(N){this.editorService.setFontName(N),this.execute.emit("")}setFontSize(N){this.editorService.setFontSize(N),this.execute.emit("")}setEditorMode(N){const Q=this.doc.getElementById("toggleEditorMode-"+this.id);N?this.r.addClass(Q,"active"):this.r.removeClass(Q,"active"),this.htmlMode=N}onFileChanged(N){const Q=N.target.files[0];if(Q.type.includes("image/"))if(this.upload)this.upload(Q).subscribe(ae=>this.watchUploadImage(ae,N));else if(this.uploadUrl)this.editorService.uploadImage(Q).subscribe(ae=>this.watchUploadImage(ae,N));else{const ae=new FileReader;ae.onload=xt=>{this.editorService.insertImage(xt.currentTarget.result.toString())},ae.readAsDataURL(Q)}}watchUploadImage(N,Q){const{imageUrl:ae}=N.body;this.editorService.insertImage(ae),Q.srcElement.value=null}setCustomClass(N){"-1"===N?this.execute.emit("clear"):this.editorService.createCustomClass(this._customClasses[+N])}isButtonHidden(N){if(!(N&&this.hiddenButtons instanceof Array))return!1;let Q;for(const ae of this.hiddenButtons)if(ae instanceof Array&&(Q=ae.find(xt=>xt===N)),Q)break;return void 0!==Q}focus(){this.execute.emit("focus"),console.log("focused")}}return De.\u0275fac=function(N){return new(N||De)(c.rXU(c.sFG),c.rXU(gt),c.rXU(c.aKT),c.rXU(D.qQ))},De.\u0275cmp=c.VBU({type:De,selectors:[["angular-editor-toolbar"],["ae-toolbar"],["div","aeToolbar",""]],viewQuery:function(N,Q){if(1&N&&c.GBs(wt,7),2&N){let ae;c.mGM(ae=c.lsd())&&(Q.myInputFile=ae.first)}},inputs:{id:"id",uploadUrl:"uploadUrl",upload:"upload",showToolbar:"showToolbar",fonts:"fonts",customClasses:"customClasses",defaultFontName:"defaultFontName",defaultFontSize:"defaultFontSize",hiddenButtons:"hiddenButtons"},outputs:{execute:"execute"},ngContentSelectors:Le,decls:1,vars:1,consts:[["class","angular-editor-toolbar",4,"ngIf"],[1,"angular-editor-toolbar"],["aeToolbarSet",""],["aeButton","","title","Undo","iconName","undo",3,"hidden","click"],["aeButton","","title","Redo","iconName","redo",3,"hidden","click"],["aeButton","","title","Bold","iconName","bold",3,"id","disabled","hidden","click"],["aeButton","","iconName","italic","title","Italic",3,"id","disabled","hidden","click"],["aeButton","","title","Underline","iconName","underline",3,"id","disabled","hidden","click"],["aeButton","","iconName","strikeThrough","title","Strikethrough",3,"id","disabled","hidden","click"],["aeButton","","title","Subscript","iconName","subscript",3,"id","disabled","hidden","click"],["aeButton","","iconName","superscript","title","Superscript",3,"id","disabled","hidden","click"],["aeButton","","iconName","justifyLeft","title","Justify Left",3,"id","disabled","hidden","click"],["aeButton","","iconName","justifyCenter","title","Justify Center",3,"id","disabled","hidden","click"],["aeButton","","iconName","justifyRight","title","Justify Right",3,"id","disabled","hidden","click"],["aeButton","","iconName","justifyFull","title","Justify Full",3,"id","disabled","hidden","click"],["aeButton","","iconName","indent","title","Indent",3,"id","disabled","hidden","click"],["aeButton","","iconName","outdent","title","Outdent",3,"id","disabled","hidden","click"],["aeButton","","iconName","unorderedList","title","Unordered List",3,"id","disabled","hidden","click"],["aeButton","","iconName","orderedList","title","Ordered List",3,"id","disabled","hidden","click"],["tabindex","-1",1,"select-heading",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["tabindex","-1",1,"select-font",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["tabindex","-1",1,"select-font-size",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["type","color",2,"display","none",3,"change"],["fgInput",""],["aeButton","","iconName","textColor","title","Text Color",3,"id","disabled","hidden","click"],["bgInput",""],["aeButton","","iconName","backgroundColor","title","Background Color",3,"id","disabled","hidden","click"],["aeToolbarSet","",4,"ngIf"],["aeButton","","iconName","link","title","Insert Link",3,"id","disabled","hidden","click"],["aeButton","","iconName","unlink","title","Unlink",3,"id","disabled","hidden","click"],["accept","image/*","type","file",2,"display","none",3,"change"],["fileInput",""],["aeButton","","iconName","image","title","Insert Image",3,"id","disabled","hidden","click"],["aeButton","","iconName","video","title","Insert Video",3,"id","disabled","hidden","click"],["aeButton","","iconName","horizontalLine","title","Horizontal Line",3,"id","disabled","hidden","click"],["aeButton","","iconName","removeFormat","title","Clear Formatting",1,"angular-editor-button",3,"id","disabled","hidden","click"],["aeButton","","iconName","htmlCode","title","HTML Code",3,"id","hidden","click"],["tabindex","-1",1,"select-custom-style",3,"options","ngModel","disabled","hidden","ngModelChange","change"]],template:function(N,Q){1&N&&(c.NAR(),c.DNE(0,rn,49,83,"div",0)),2&N&&c.Y8G("ngIf",Q.showToolbar)},dependencies:[Bt,ke,Yt,D.bT,Ee.BC,Ee.vS],styles:['a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]{font:100 14px/15px Roboto,Arial,sans-serif;background-color:var(--ae-toolbar-bg-color, #f5f5f5);font-size:.8rem;padding:var(--ae-toolbar-padding, .2rem);border:var(--ae-toolbar-border-radius, 1px solid #ddd);display:flex;flex-wrap:wrap;gap:4px}.select-heading[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-heading[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.select-heading[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.select-heading[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{font-size:16px}.select-heading[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:24px}.select-heading[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}.select-heading[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}.select-heading[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:15px}.select-heading[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{font-size:14px}.select-heading[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{font-size:13px}.select-heading[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%], .select-heading[_ngcontent-%COMP%]   .pre[_ngcontent-%COMP%]{font-size:12px}}.select-heading[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-heading[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-font[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-font[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.select-font[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.select-font[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-font[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-font-size[_ngcontent-%COMP%]{display:inline-block;width:50px}@supports not (-moz-appearance: none){.select-font-size[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.select-font-size[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.select-font-size[_ngcontent-%COMP%]   .size1[_ngcontent-%COMP%]{font-size:10px}.select-font-size[_ngcontent-%COMP%]   .size2[_ngcontent-%COMP%]{font-size:12px}.select-font-size[_ngcontent-%COMP%]   .size3[_ngcontent-%COMP%]{font-size:14px}.select-font-size[_ngcontent-%COMP%]   .size4[_ngcontent-%COMP%]{font-size:16px}.select-font-size[_ngcontent-%COMP%]   .size5[_ngcontent-%COMP%]{font-size:18px}.select-font-size[_ngcontent-%COMP%]   .size6[_ngcontent-%COMP%]{font-size:20px}.select-font-size[_ngcontent-%COMP%]   .size7[_ngcontent-%COMP%]{font-size:22px}}.select-font-size[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-font-size[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-custom-style[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-custom-style[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.select-custom-style[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.select-custom-style[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-custom-style[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.color-label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.background[_ngcontent-%COMP%]{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{position:absolute;content:"";inset:auto auto -3px -1px;width:15px;height:2px;z-index:0;background:#1b1b1b}']}),De})(),gr=(()=>{class De{constructor(N,Q,ae,xt,Oe,ve,_e){this.r=N,this.editorService=Q,this.doc=ae,this.sanitizer=xt,this.cdRef=Oe,this.autoFocus=_e,this.modeVisual=!0,this.showPlaceholder=!1,this.disabled=!1,this.focused=!1,this.touched=!1,this.changed=!1,this.id="",this.config=St,this.placeholder="",this.executeCommandFn=this.executeCommand.bind(this),this.viewMode=new c.bkB,this.blurEvent=new c.bkB,this.focusEvent=new c.bkB,this.tabindex=-1;const oe=Number(ve);this.tabIndex=oe||0===oe?oe:null}onFocus(){this.focus()}ngOnInit(){this.config.toolbarPosition=this.config.toolbarPosition?this.config.toolbarPosition:St.toolbarPosition}ngAfterViewInit(){Ht(this.autoFocus)&&this.focus()}onPaste(N){if(this.config.rawPaste){N.preventDefault();const Q=N.clipboardData.getData("text/plain");return document.execCommand("insertHTML",!1,Q),Q}}executeCommand(N,Q){this.focus(),"focus"!==N&&("toggleEditorMode"===N?this.toggleEditorMode(this.modeVisual):""!==N&&("clear"===N?(this.editorService.removeSelectedElements(this.getCustomTags()),this.onContentChange(this.textArea.nativeElement)):"default"===N?(this.editorService.removeSelectedElements("h1,h2,h3,h4,h5,h6,p,pre"),this.onContentChange(this.textArea.nativeElement)):this.editorService.executeCommand(N,Q),this.exec()))}onTextAreaFocus(N){this.focused?N.stopPropagation():(this.focused=!0,this.focusEvent.emit(N),(!this.touched||!this.changed)&&this.editorService.executeInNextQueueIteration(()=>{this.configure(),this.touched=!0}))}onTextAreaMouseOut(N){this.editorService.saveSelection()}onTextAreaBlur(N){if(this.editorService.executeInNextQueueIteration(this.editorService.saveSelection),"function"==typeof this.onTouched&&this.onTouched(),null!==N.relatedTarget){const Q=N.relatedTarget.parentElement;!Q.classList.contains("angular-editor-toolbar-set")&&!Q.classList.contains("ae-picker")&&(this.blurEvent.emit(N),this.focused=!1)}}focus(){this.modeVisual?this.textArea.nativeElement.focus():(this.doc.getElementById("sourceText"+this.id).focus(),this.focused=!0)}onContentChange(N){let Q="";Q=this.modeVisual?N.innerHTML:N.innerText,(!Q||"<br>"===Q)&&(Q=""),"function"==typeof this.onChange&&(this.onChange(this.config.sanitize||void 0===this.config.sanitize?this.sanitizer.sanitize(c.WPN.HTML,Q):Q),!Q!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder)),this.changed=!0}registerOnChange(N){this.onChange=Q=>N("<br>"===Q?"":Q)}registerOnTouched(N){this.onTouched=N}writeValue(N){(!N||"<br>"===N||""===N)!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder),(void 0===N||""===N||"<br>"===N)&&(N=null),this.refreshView(N)}refreshView(N){this.r.setProperty(this.textArea.nativeElement,"innerHTML",null===N?"":N)}togglePlaceholder(N){N?(this.r.removeClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!1):(this.r.addClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!0)}setDisabledState(N){this.r[N?"addClass":"removeClass"](this.textArea.nativeElement,"disabled"),this.disabled=N}toggleEditorMode(N){let Q;const ae=this.textArea.nativeElement;if(N){Q=this.r.createText(ae.innerHTML),this.r.setProperty(ae,"innerHTML",""),this.r.setProperty(ae,"contentEditable",!1);const xt=this.r.createElement("pre");this.r.setStyle(xt,"margin","0"),this.r.setStyle(xt,"outline","none");const Oe=this.r.createElement("code");this.r.setProperty(Oe,"id","sourceText"+this.id),this.r.setStyle(Oe,"display","block"),this.r.setStyle(Oe,"white-space","pre-wrap"),this.r.setStyle(Oe,"word-break","keep-all"),this.r.setStyle(Oe,"outline","none"),this.r.setStyle(Oe,"margin","0"),this.r.setStyle(Oe,"background-color","#fff5b9"),this.r.setProperty(Oe,"contentEditable",!0),this.r.appendChild(Oe,Q),this.focusInstance=this.r.listen(Oe,"focus",ve=>this.onTextAreaFocus(ve)),this.blurInstance=this.r.listen(Oe,"blur",ve=>this.onTextAreaBlur(ve)),this.r.appendChild(xt,Oe),this.r.appendChild(ae,xt),this.doc.execCommand("defaultParagraphSeparator",!1,"div"),this.modeVisual=!1,this.viewMode.emit(!1),Oe.focus()}else this.doc.querySelectorAll?this.r.setProperty(ae,"innerHTML",ae.innerText):(Q=this.doc.createRange(),Q.selectNodeContents(ae.firstChild),this.r.setProperty(ae,"innerHTML",Q.toString())),this.r.setProperty(ae,"contentEditable",!0),this.modeVisual=!0,this.viewMode.emit(!0),this.onContentChange(ae),ae.focus();this.editorToolbar.setEditorMode(!this.modeVisual)}exec(){let N;this.editorToolbar.triggerButtons(),this.doc.getSelection&&(N=this.doc.getSelection(),this.editorService.executeInNextQueueIteration(this.editorService.saveSelection));let Q=N.focusNode;const ae=[];for(;Q&&"editor"!==Q.id;)ae.unshift(Q),Q=Q.parentNode;this.editorToolbar.triggerBlocks(ae)}configure(){this.editorService.uploadUrl=this.config.uploadUrl,this.editorService.uploadWithCredentials=this.config.uploadWithCredentials,this.config.defaultParagraphSeparator&&this.editorService.setDefaultParagraphSeparator(this.config.defaultParagraphSeparator),this.config.defaultFontName&&this.editorService.setFontName(this.config.defaultFontName),this.config.defaultFontSize&&this.editorService.setFontSize(this.config.defaultFontSize)}getFonts(){return(this.config.fonts?this.config.fonts:St.fonts).map(Q=>({label:Q.name,value:Q.name}))}getCustomTags(){const N=["span"];return this.config.customClasses.forEach(Q=>{void 0!==Q.tag&&(N.includes(Q.tag)||N.push(Q.tag))}),N.join(",")}ngOnDestroy(){this.blurInstance&&this.blurInstance(),this.focusInstance&&this.focusInstance()}filterStyles(N){return N.replace("position: fixed;","")}}return De.\u0275fac=function(N){return new(N||De)(c.rXU(c.sFG),c.rXU(gt),c.rXU(D.qQ),c.rXU(X.up),c.rXU(c.gRc),c.kS0("tabindex"),c.kS0("autofocus"))},De.\u0275cmp=c.VBU({type:De,selectors:[["angular-editor"]],contentQueries:function(N,Q,ae){if(1&N&&c.wni(ae,Xt,5),2&N){let xt;c.mGM(xt=c.lsd())&&(Q.customButtonsTemplateRef=xt.first)}},viewQuery:function(N,Q){if(1&N&&(c.GBs(bn,7),c.GBs(Zn,7),c.GBs(hn,5)),2&N){let ae;c.mGM(ae=c.lsd())&&(Q.textArea=ae.first),c.mGM(ae=c.lsd())&&(Q.editorWrapper=ae.first),c.mGM(ae=c.lsd())&&(Q.editorToolbar=ae.first)}},hostVars:1,hostBindings:function(N,Q){1&N&&c.bIt("focus",function(){return Q.onFocus()}),2&N&&c.BMQ("tabindex",Q.tabindex)},inputs:{id:"id",config:"config",placeholder:"placeholder",tabIndex:"tabIndex"},outputs:{html:"html",viewMode:"viewMode",blurEvent:"blur",focusEvent:"focus"},features:[c.Jv_([{provide:Ee.kq,useExisting:(0,c.Rfq)(()=>De),multi:!0},gt])],decls:11,vars:33,consts:[[1,"angular-editor",3,"ngClass"],["angularEditor",""],[3,"id","uploadUrl","upload","showToolbar","fonts","customClasses","defaultFontName","defaultFontSize","hiddenButtons","execute"],["editorToolbar",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"angular-editor-wrapper"],["editorWrapper",""],[1,"angular-editor-textarea",3,"input","focus","blur","click","keyup","mouseout","paste"],["editor",""],[1,"angular-editor-placeholder"]],template:function(N,Q){1&N&&(c.j41(0,"div",0,1)(2,"angular-editor-toolbar",2,3),c.bIt("execute",function(xt){return Q.executeCommand(xt)}),c.eu8(4,4),c.k0s(),c.j41(5,"div",5,6)(7,"div",7,8),c.bIt("input",function(xt){return Q.onContentChange(xt.target)})("focus",function(xt){return Q.onTextAreaFocus(xt)})("blur",function(xt){return Q.onTextAreaBlur(xt)})("click",function(){return Q.exec()})("keyup",function(){return Q.exec()})("mouseout",function(xt){return Q.onTextAreaMouseOut(xt)})("paste",function(xt){return Q.onPaste(xt)}),c.k0s(),c.j41(9,"span",9),c.EFF(10),c.k0s()()()),2&N&&(c.xc7("width",Q.config.width)("min-width",Q.config.minWidth),c.Y8G("ngClass",c.eq3(29,xe,"bottom"===Q.config.toolbarPosition)),c.R7$(2),c.Y8G("id",Q.id)("uploadUrl",Q.config.uploadUrl)("upload",Q.config.upload)("showToolbar",void 0===Q.config.showToolbar||Q.config.showToolbar)("fonts",Q.getFonts())("customClasses",Q.config.customClasses)("defaultFontName",Q.config.defaultFontName)("defaultFontSize",Q.config.defaultFontSize)("hiddenButtons",Q.config.toolbarHiddenButtons),c.R7$(2),c.Y8G("ngTemplateOutlet",Q.customButtonsTemplateRef)("ngTemplateOutletContext",c.eq3(31,dt,Q.executeCommandFn)),c.R7$(3),c.xc7("height",Q.config.height)("min-height",Q.config.minHeight)("max-height",Q.config.maxHeight)("outline",!1===Q.config.outline?"none":void 0),c.BMQ("contenteditable",Q.config.editable)("tabindex",Q.disabled?-1:Q.tabIndex)("translate",Q.config.translate)("spellcheck",Q.config.spellcheck),c.R7$(3),c.JRh(Q.placeholder||Q.config.placeholder))},dependencies:[Ln,D.YU,D.T3],styles:['a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--ae-gap, 5px)}.angular-editor.bottom[_ngcontent-%COMP%]{flex-direction:column-reverse}.angular-editor[_ngcontent-%COMP%]     [contenteditable=true]:empty:before{content:attr(placeholder);color:#868e96;opacity:1}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]{position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]{min-height:150px;overflow:auto;resize:vertical}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;display:block;width:8px;height:8px;cursor:nwse-resize;background-color:#ffffff80}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]{min-height:5rem;padding:.5rem .8rem 1rem;border-radius:var(--ae-text-area-border-radius, .3rem);border:var(--ae-text-area-border, 1px solid #ddd);background-color:transparent;overflow-x:hidden;overflow-y:auto;position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]:focus, .angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea.focus[_ngcontent-%COMP%]{outline:var(--ae-focus-outline-color, -webkit-focus-ring-color auto 1px)}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]     blockquote{margin-left:1rem;border-left:.2em solid #dfe2e5;padding-left:.5rem}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]     p{margin-bottom:0}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:none;position:absolute;top:0;padding:.6rem .8rem 1rem .9rem;color:#6c757d;opacity:.75}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.show-placeholder[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:block}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5;pointer-events:none}']}),De})(),Ye=(()=>{class De{}return De.\u0275fac=function(N){return new(N||De)},De.\u0275mod=c.$C({type:De}),De.\u0275inj=c.G2t({imports:[[D.MD,Ee.YN,Ee.X1]]}),De})()},2214:(Cn,_t,K)=>{K.d(_t,{Dk:()=>c.Dk,KO:()=>c.KO,Sx:()=>c.Sx,Wp:()=>c.Wp});var c=K(7852);(0,c.KO)("firebase","10.14.1","app")},3273:(Cn,_t,K)=>{K.d(_t,{gS:()=>Oy,rJ:()=>Vm,kd:()=>My,H9:()=>Tf,GV:()=>a_,AB:()=>Km,aQ:()=>xy,My:()=>Mf,P:()=>oE,mZ:()=>Nf,_M:()=>Pf});var Qe,st,c=K(467),D=K(7852),rt=K(1362),Ee=K(8041),X=K(1076),Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Be={};(function(){var a;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(et,Me,Ge){Ge||(Ge=0);var tt=Array(16);if("string"==typeof Me)for(var ot=0;16>ot;++ot)tt[ot]=Me.charCodeAt(Ge++)|Me.charCodeAt(Ge++)<<8|Me.charCodeAt(Ge++)<<16|Me.charCodeAt(Ge++)<<24;else for(ot=0;16>ot;++ot)tt[ot]=Me[Ge++]|Me[Ge++]<<8|Me[Ge++]<<16|Me[Ge++]<<24;var vt=et.g[3],$e=(Me=et.g[0])+(vt^(Ge=et.g[1])&((ot=et.g[2])^vt))+tt[0]+3614090360&4294967295;$e=(Ge=(ot=(vt=(Me=(Ge=(ot=(vt=(Me=(Ge=(ot=(vt=(Me=(Ge=(ot=(vt=(Me=(Ge=(ot=(vt=(Me=(Ge=(ot=(vt=(Me=(Ge=(ot=(vt=(Me=(Ge=(ot=(vt=(Me=(Ge=(ot=(vt=(Me=(Ge=(ot=(vt=(Me=(Ge=(ot=(vt=(Me=(Ge=(ot=(vt=(Me=(Ge=(ot=(vt=(Me=(Ge=(ot=(vt=(Me=(Ge=(ot=(vt=(Me=Ge+($e<<7&4294967295|$e>>>25))+(($e=vt+(ot^Me&(Ge^ot))+tt[1]+3905402710&4294967295)<<12&4294967295|$e>>>20))+(($e=ot+(Ge^vt&(Me^Ge))+tt[2]+606105819&4294967295)<<17&4294967295|$e>>>15))+(($e=Ge+(Me^ot&(vt^Me))+tt[3]+3250441966&4294967295)<<22&4294967295|$e>>>10))+(($e=Me+(vt^Ge&(ot^vt))+tt[4]+4118548399&4294967295)<<7&4294967295|$e>>>25))+(($e=vt+(ot^Me&(Ge^ot))+tt[5]+1200080426&4294967295)<<12&4294967295|$e>>>20))+(($e=ot+(Ge^vt&(Me^Ge))+tt[6]+2821735955&4294967295)<<17&4294967295|$e>>>15))+(($e=Ge+(Me^ot&(vt^Me))+tt[7]+4249261313&4294967295)<<22&4294967295|$e>>>10))+(($e=Me+(vt^Ge&(ot^vt))+tt[8]+1770035416&4294967295)<<7&4294967295|$e>>>25))+(($e=vt+(ot^Me&(Ge^ot))+tt[9]+2336552879&4294967295)<<12&4294967295|$e>>>20))+(($e=ot+(Ge^vt&(Me^Ge))+tt[10]+4294925233&4294967295)<<17&4294967295|$e>>>15))+(($e=Ge+(Me^ot&(vt^Me))+tt[11]+2304563134&4294967295)<<22&4294967295|$e>>>10))+(($e=Me+(vt^Ge&(ot^vt))+tt[12]+1804603682&4294967295)<<7&4294967295|$e>>>25))+(($e=vt+(ot^Me&(Ge^ot))+tt[13]+4254626195&4294967295)<<12&4294967295|$e>>>20))+(($e=ot+(Ge^vt&(Me^Ge))+tt[14]+2792965006&4294967295)<<17&4294967295|$e>>>15))+(($e=Ge+(Me^ot&(vt^Me))+tt[15]+1236535329&4294967295)<<22&4294967295|$e>>>10))+(($e=Me+(ot^vt&(Ge^ot))+tt[1]+4129170786&4294967295)<<5&4294967295|$e>>>27))+(($e=vt+(Ge^ot&(Me^Ge))+tt[6]+3225465664&4294967295)<<9&4294967295|$e>>>23))+(($e=ot+(Me^Ge&(vt^Me))+tt[11]+643717713&4294967295)<<14&4294967295|$e>>>18))+(($e=Ge+(vt^Me&(ot^vt))+tt[0]+3921069994&4294967295)<<20&4294967295|$e>>>12))+(($e=Me+(ot^vt&(Ge^ot))+tt[5]+3593408605&4294967295)<<5&4294967295|$e>>>27))+(($e=vt+(Ge^ot&(Me^Ge))+tt[10]+38016083&4294967295)<<9&4294967295|$e>>>23))+(($e=ot+(Me^Ge&(vt^Me))+tt[15]+3634488961&4294967295)<<14&4294967295|$e>>>18))+(($e=Ge+(vt^Me&(ot^vt))+tt[4]+3889429448&4294967295)<<20&4294967295|$e>>>12))+(($e=Me+(ot^vt&(Ge^ot))+tt[9]+568446438&4294967295)<<5&4294967295|$e>>>27))+(($e=vt+(Ge^ot&(Me^Ge))+tt[14]+3275163606&4294967295)<<9&4294967295|$e>>>23))+(($e=ot+(Me^Ge&(vt^Me))+tt[3]+4107603335&4294967295)<<14&4294967295|$e>>>18))+(($e=Ge+(vt^Me&(ot^vt))+tt[8]+1163531501&4294967295)<<20&4294967295|$e>>>12))+(($e=Me+(ot^vt&(Ge^ot))+tt[13]+2850285829&4294967295)<<5&4294967295|$e>>>27))+(($e=vt+(Ge^ot&(Me^Ge))+tt[2]+4243563512&4294967295)<<9&4294967295|$e>>>23))+(($e=ot+(Me^Ge&(vt^Me))+tt[7]+1735328473&4294967295)<<14&4294967295|$e>>>18))+(($e=Ge+(vt^Me&(ot^vt))+tt[12]+2368359562&4294967295)<<20&4294967295|$e>>>12))+(($e=Me+(Ge^ot^vt)+tt[5]+4294588738&4294967295)<<4&4294967295|$e>>>28))+(($e=vt+(Me^Ge^ot)+tt[8]+2272392833&4294967295)<<11&4294967295|$e>>>21))+(($e=ot+(vt^Me^Ge)+tt[11]+1839030562&4294967295)<<16&4294967295|$e>>>16))+(($e=Ge+(ot^vt^Me)+tt[14]+4259657740&4294967295)<<23&4294967295|$e>>>9))+(($e=Me+(Ge^ot^vt)+tt[1]+2763975236&4294967295)<<4&4294967295|$e>>>28))+(($e=vt+(Me^Ge^ot)+tt[4]+1272893353&4294967295)<<11&4294967295|$e>>>21))+(($e=ot+(vt^Me^Ge)+tt[7]+4139469664&4294967295)<<16&4294967295|$e>>>16))+(($e=Ge+(ot^vt^Me)+tt[10]+3200236656&4294967295)<<23&4294967295|$e>>>9))+(($e=Me+(Ge^ot^vt)+tt[13]+681279174&4294967295)<<4&4294967295|$e>>>28))+(($e=vt+(Me^Ge^ot)+tt[0]+3936430074&4294967295)<<11&4294967295|$e>>>21))+(($e=ot+(vt^Me^Ge)+tt[3]+3572445317&4294967295)<<16&4294967295|$e>>>16))+(($e=Ge+(ot^vt^Me)+tt[6]+76029189&4294967295)<<23&4294967295|$e>>>9))+(($e=Me+(Ge^ot^vt)+tt[9]+3654602809&4294967295)<<4&4294967295|$e>>>28))+(($e=vt+(Me^Ge^ot)+tt[12]+3873151461&4294967295)<<11&4294967295|$e>>>21))+(($e=ot+(vt^Me^Ge)+tt[15]+530742520&4294967295)<<16&4294967295|$e>>>16))+(($e=Ge+(ot^vt^Me)+tt[2]+3299628645&4294967295)<<23&4294967295|$e>>>9))+(($e=Me+(ot^(Ge|~vt))+tt[0]+4096336452&4294967295)<<6&4294967295|$e>>>26))+(($e=vt+(Ge^(Me|~ot))+tt[7]+1126891415&4294967295)<<10&4294967295|$e>>>22))+(($e=ot+(Me^(vt|~Ge))+tt[14]+2878612391&4294967295)<<15&4294967295|$e>>>17))+(($e=Ge+(vt^(ot|~Me))+tt[5]+4237533241&4294967295)<<21&4294967295|$e>>>11))+(($e=Me+(ot^(Ge|~vt))+tt[12]+1700485571&4294967295)<<6&4294967295|$e>>>26))+(($e=vt+(Ge^(Me|~ot))+tt[3]+2399980690&4294967295)<<10&4294967295|$e>>>22))+(($e=ot+(Me^(vt|~Ge))+tt[10]+4293915773&4294967295)<<15&4294967295|$e>>>17))+(($e=Ge+(vt^(ot|~Me))+tt[1]+2240044497&4294967295)<<21&4294967295|$e>>>11))+(($e=Me+(ot^(Ge|~vt))+tt[8]+1873313359&4294967295)<<6&4294967295|$e>>>26))+(($e=vt+(Ge^(Me|~ot))+tt[15]+4264355552&4294967295)<<10&4294967295|$e>>>22))+(($e=ot+(Me^(vt|~Ge))+tt[6]+2734768916&4294967295)<<15&4294967295|$e>>>17))+(($e=Ge+(vt^(ot|~Me))+tt[13]+1309151649&4294967295)<<21&4294967295|$e>>>11))+((vt=(Me=Ge+(($e=Me+(ot^(Ge|~vt))+tt[4]+4149444226&4294967295)<<6&4294967295|$e>>>26))+(($e=vt+(Ge^(Me|~ot))+tt[11]+3174756917&4294967295)<<10&4294967295|$e>>>22))^((ot=vt+(($e=ot+(Me^(vt|~Ge))+tt[2]+718787259&4294967295)<<15&4294967295|$e>>>17))|~Me))+tt[9]+3951481745&4294967295,et.g[0]=et.g[0]+Me&4294967295,et.g[1]=et.g[1]+(ot+($e<<21&4294967295|$e>>>11))&4294967295,et.g[2]=et.g[2]+ot&4294967295,et.g[3]=et.g[3]+vt&4294967295}function m(et,Me){this.h=Me;for(var Ge=[],tt=!0,ot=et.length-1;0<=ot;ot--){var vt=0|et[ot];tt&&vt==Me||(Ge[ot]=vt,tt=!1)}this.g=Ge}(function e(et,Me){function Ge(){}Ge.prototype=Me.prototype,et.D=Me.prototype,et.prototype=new Ge,et.prototype.constructor=et,et.C=function(tt,ot,vt){for(var $e=Array(arguments.length-2),pu=2;pu<arguments.length;pu++)$e[pu-2]=arguments[pu];return Me.prototype[ot].apply(tt,$e)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(et,Me){void 0===Me&&(Me=et.length);for(var Ge=Me-this.blockSize,tt=this.B,ot=this.h,vt=0;vt<Me;){if(0==ot)for(;vt<=Ge;)u(this,et,vt),vt+=this.blockSize;if("string"==typeof et){for(;vt<Me;)if(tt[ot++]=et.charCodeAt(vt++),ot==this.blockSize){u(this,tt),ot=0;break}}else for(;vt<Me;)if(tt[ot++]=et[vt++],ot==this.blockSize){u(this,tt),ot=0;break}}this.h=ot,this.o+=Me},s.prototype.v=function(){var et=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);et[0]=128;for(var Me=1;Me<et.length-8;++Me)et[Me]=0;var Ge=8*this.o;for(Me=et.length-8;Me<et.length;++Me)et[Me]=255&Ge,Ge/=256;for(this.u(et),et=Array(16),Me=Ge=0;4>Me;++Me)for(var tt=0;32>tt;tt+=8)et[Ge++]=this.g[Me]>>>tt&255;return et};var C={};function O(et){return-128<=et&&128>et?function f(et,Me){var Ge=C;return Object.prototype.hasOwnProperty.call(Ge,et)?Ge[et]:Ge[et]=Me(et)}(et,function(Me){return new m([0|Me],0>Me?-1:0)}):new m([0|et],0>et?-1:0)}function $(et){if(isNaN(et)||!isFinite(et))return he;if(0>et)return Gt($(-et));for(var Me=[],Ge=1,tt=0;et>=Ge;tt++)Me[tt]=et/Ge|0,Ge*=4294967296;return new m(Me,0)}var he=O(0),Ve=O(1),pt=O(16777216);function Ot(et){if(0!=et.h)return!1;for(var Me=0;Me<et.g.length;Me++)if(0!=et.g[Me])return!1;return!0}function Jt(et){return-1==et.h}function Gt(et){for(var Me=et.g.length,Ge=[],tt=0;tt<Me;tt++)Ge[tt]=~et.g[tt];return new m(Ge,~et.h).add(Ve)}function Un(et,Me){return et.add(Gt(Me))}function rr(et,Me){for(;(65535&et[Me])!=et[Me];)et[Me+1]+=et[Me]>>>16,et[Me]&=65535,Me++}function zn(et,Me){this.g=et,this.h=Me}function Ir(et,Me){if(Ot(Me))throw Error("division by zero");if(Ot(et))return new zn(he,he);if(Jt(et))return Me=Ir(Gt(et),Me),new zn(Gt(Me.g),Gt(Me.h));if(Jt(Me))return Me=Ir(et,Gt(Me)),new zn(Gt(Me.g),Me.h);if(30<et.g.length){if(Jt(et)||Jt(Me))throw Error("slowDivide_ only works with positive integers.");for(var Ge=Ve,tt=Me;0>=tt.l(et);)Ge=hi(Ge),tt=hi(tt);var ot=Lr(Ge,1),vt=Lr(tt,1);for(tt=Lr(tt,2),Ge=Lr(Ge,2);!Ot(tt);){var $e=vt.add(tt);0>=$e.l(et)&&(ot=ot.add(Ge),vt=$e),tt=Lr(tt,1),Ge=Lr(Ge,1)}return Me=Un(et,ot.j(Me)),new zn(ot,Me)}for(ot=he;0<=et.l(Me);){for(Ge=Math.max(1,Math.floor(et.m()/Me.m())),tt=48>=(tt=Math.ceil(Math.log(Ge)/Math.LN2))?1:Math.pow(2,tt-48),$e=(vt=$(Ge)).j(Me);Jt($e)||0<$e.l(et);)$e=(vt=$(Ge-=tt)).j(Me);Ot(vt)&&(vt=Ve),ot=ot.add(vt),et=Un(et,$e)}return new zn(ot,et)}function hi(et){for(var Me=et.g.length+1,Ge=[],tt=0;tt<Me;tt++)Ge[tt]=et.i(tt)<<1|et.i(tt-1)>>>31;return new m(Ge,et.h)}function Lr(et,Me){var Ge=Me>>5;Me%=32;for(var tt=et.g.length-Ge,ot=[],vt=0;vt<tt;vt++)ot[vt]=0<Me?et.i(vt+Ge)>>>Me|et.i(vt+Ge+1)<<32-Me:et.i(vt+Ge);return new m(ot,et.h)}(a=m.prototype).m=function(){if(Jt(this))return-Gt(this).m();for(var et=0,Me=1,Ge=0;Ge<this.g.length;Ge++){var tt=this.i(Ge);et+=(0<=tt?tt:4294967296+tt)*Me,Me*=4294967296}return et},a.toString=function(et){if(2>(et=et||10)||36<et)throw Error("radix out of range: "+et);if(Ot(this))return"0";if(Jt(this))return"-"+Gt(this).toString(et);for(var Me=$(Math.pow(et,6)),Ge=this,tt="";;){var ot=Ir(Ge,Me).g,vt=((0<(Ge=Un(Ge,ot.j(Me))).g.length?Ge.g[0]:Ge.h)>>>0).toString(et);if(Ot(Ge=ot))return vt+tt;for(;6>vt.length;)vt="0"+vt;tt=vt+tt}},a.i=function(et){return 0>et?0:et<this.g.length?this.g[et]:this.h},a.l=function(et){return Jt(et=Un(this,et))?-1:Ot(et)?0:1},a.abs=function(){return Jt(this)?Gt(this):this},a.add=function(et){for(var Me=Math.max(this.g.length,et.g.length),Ge=[],tt=0,ot=0;ot<=Me;ot++){var vt=tt+(65535&this.i(ot))+(65535&et.i(ot)),$e=(vt>>>16)+(this.i(ot)>>>16)+(et.i(ot)>>>16);tt=$e>>>16,Ge[ot]=($e&=65535)<<16|(vt&=65535)}return new m(Ge,-2147483648&Ge[Ge.length-1]?-1:0)},a.j=function(et){if(Ot(this)||Ot(et))return he;if(Jt(this))return Jt(et)?Gt(this).j(Gt(et)):Gt(Gt(this).j(et));if(Jt(et))return Gt(this.j(Gt(et)));if(0>this.l(pt)&&0>et.l(pt))return $(this.m()*et.m());for(var Me=this.g.length+et.g.length,Ge=[],tt=0;tt<2*Me;tt++)Ge[tt]=0;for(tt=0;tt<this.g.length;tt++)for(var ot=0;ot<et.g.length;ot++){var vt=this.i(tt)>>>16,$e=65535&this.i(tt),pu=et.i(ot)>>>16,Lc=65535&et.i(ot);Ge[2*tt+2*ot]+=$e*Lc,rr(Ge,2*tt+2*ot),Ge[2*tt+2*ot+1]+=vt*Lc,rr(Ge,2*tt+2*ot+1),Ge[2*tt+2*ot+1]+=$e*pu,rr(Ge,2*tt+2*ot+1),Ge[2*tt+2*ot+2]+=vt*pu,rr(Ge,2*tt+2*ot+2)}for(tt=0;tt<Me;tt++)Ge[tt]=Ge[2*tt+1]<<16|Ge[2*tt];for(tt=Me;tt<2*Me;tt++)Ge[tt]=0;return new m(Ge,0)},a.A=function(et){return Ir(this,et).h},a.and=function(et){for(var Me=Math.max(this.g.length,et.g.length),Ge=[],tt=0;tt<Me;tt++)Ge[tt]=this.i(tt)&et.i(tt);return new m(Ge,this.h&et.h)},a.or=function(et){for(var Me=Math.max(this.g.length,et.g.length),Ge=[],tt=0;tt<Me;tt++)Ge[tt]=this.i(tt)|et.i(tt);return new m(Ge,this.h|et.h)},a.xor=function(et){for(var Me=Math.max(this.g.length,et.g.length),Ge=[],tt=0;tt<Me;tt++)Ge[tt]=this.i(tt)^et.i(tt);return new m(Ge,this.h^et.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,st=Be.Md5=s,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=$,m.fromString=function ie(et,Me){if(0==et.length)throw Error("number format error: empty string");if(2>(Me=Me||10)||36<Me)throw Error("radix out of range: "+Me);if("-"==et.charAt(0))return Gt(ie(et.substring(1),Me));if(0<=et.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ge=$(Math.pow(Me,8)),tt=he,ot=0;ot<et.length;ot+=8){var vt=Math.min(8,et.length-ot),$e=parseInt(et.substring(ot,ot+vt),Me);8>vt?(vt=$(Math.pow(Me,vt)),tt=tt.j(vt).add($($e))):tt=(tt=tt.j(Ge)).add($($e))}return tt},Qe=Be.Integer=m}).apply(typeof Le<"u"?Le:typeof self<"u"?self:typeof window<"u"?window:{});var Je,wt,Dt,rn,Xt,bn,Zn,hn,pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},me={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(p,x,H){return p==Array.prototype||p==Object.prototype||(p[x]=H.value),p},s=function r(p){p=["object"==typeof globalThis&&globalThis,p,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof pe&&pe];for(var x=0;x<p.length;++x){var H=p[x];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}(this);!function u(p,x){if(x)e:{var H=s;p=p.split(".");for(var le=0;le<p.length-1;le++){var lt=p[le];if(!(lt in H))break e;H=H[lt]}(x=x(le=H[p=p[p.length-1]]))!=le&&null!=x&&e(H,p,{configurable:!0,writable:!0,value:x})}}("Array.prototype.values",function(p){return p||function(){return function f(p,x){p instanceof String&&(p+="");var H=0,le=!1,lt={next:function(){if(!le&&H<p.length){var Ct=H++;return{value:x(Ct,p[Ct]),done:!1}}return le=!0,{done:!0,value:void 0}}};return lt[Symbol.iterator]=function(){return lt},lt}(this,function(x,H){return H})}});var m=m||{},C=this||self;function O(p){var x=typeof p;return"array"==(x="object"!=x?x:p?Array.isArray(p)?"array":x:"null")||"object"==x&&"number"==typeof p.length}function $(p){var x=typeof p;return"object"==x&&null!=p||"function"==x}function ie(p,x,H){return p.call.apply(p.bind,arguments)}function he(p,x,H){if(!p)throw Error();if(2<arguments.length){var le=Array.prototype.slice.call(arguments,2);return function(){var lt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(lt,le),p.apply(x,lt)}}return function(){return p.apply(x,arguments)}}function Ve(p,x,H){return(Ve=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ie:he).apply(null,arguments)}function pt(p,x){var H=Array.prototype.slice.call(arguments,1);return function(){var le=H.slice();return le.push.apply(le,arguments),p.apply(this,le)}}function Ot(p,x){function H(){}H.prototype=x.prototype,p.aa=x.prototype,p.prototype=new H,p.prototype.constructor=p,p.Qb=function(le,lt,Ct){for(var vn=Array(arguments.length-2),Oi=2;Oi<arguments.length;Oi++)vn[Oi-2]=arguments[Oi];return x.prototype[lt].apply(le,vn)}}function Jt(p){const x=p.length;if(0<x){const H=Array(x);for(let le=0;le<x;le++)H[le]=p[le];return H}return[]}function Gt(p,x){for(let H=1;H<arguments.length;H++){const le=arguments[H];if(O(le)){const lt=p.length||0,Ct=le.length||0;p.length=lt+Ct;for(let vn=0;vn<Ct;vn++)p[lt+vn]=le[vn]}else p.push(le)}}function rr(p){return/^[\s\xa0]*$/.test(p)}function zn(){var p=C.navigator;return p&&(p=p.userAgent)?p:""}function Ir(p){return Ir[" "](p),p}Ir[" "]=function(){};var hi=!(-1==zn().indexOf("Gecko")||-1!=zn().toLowerCase().indexOf("webkit")&&-1==zn().indexOf("Edge")||-1!=zn().indexOf("Trident")||-1!=zn().indexOf("MSIE")||-1!=zn().indexOf("Edge"));function Lr(p,x,H){for(const le in p)x.call(H,p[le],le,p)}function Me(p){const x={};for(const H in p)x[H]=p[H];return x}const Ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(p,x){let H,le;for(let lt=1;lt<arguments.length;lt++){for(H in le=arguments[lt],le)p[H]=le[H];for(let Ct=0;Ct<Ge.length;Ct++)H=Ge[Ct],Object.prototype.hasOwnProperty.call(le,H)&&(p[H]=le[H])}}function ot(p){var x=1;p=p.split(":");const H=[];for(;0<x&&p.length;)H.push(p.shift()),x--;return p.length&&H.push(p.join(":")),H}function vt(p){C.setTimeout(()=>{throw p},0)}function $e(){var p=Ro;let x=null;return p.g&&(x=p.g,p.g=p.g.next,p.g||(p.h=null),x.next=null),x}var Lc=new class Un{constructor(x,H){this.i=x,this.j=H,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}(()=>new c_,p=>p.reset());class c_{constructor(){this.next=this.g=this.h=null}set(x,H){this.h=x,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let ih,sh=!1,Ro=new class pu{constructor(){this.h=this.g=null}add(x,H){const le=Lc.get();le.set(x,H),this.h?this.h.next=le:this.g=le,this.h=le}},d_=()=>{const p=C.Promise.resolve(void 0);ih=()=>{p.then($y)}};var $y=()=>{for(var p;p=$e();){try{p.h.call(p.g)}catch(H){vt(H)}var x=Lc;x.j(p),100>x.h&&(x.h++,p.next=x.g,x.g=p)}sh=!1};function Kl(){this.s=this.s,this.C=this.C}function oo(p,x){this.type=p,this.g=this.target=x,this.defaultPrevented=!1}Kl.prototype.s=!1,Kl.prototype.ma=function(){this.s||(this.s=!0,this.N())},Kl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},oo.prototype.h=function(){this.defaultPrevented=!0};var h_=function(){if(!C.addEventListener||!Object.defineProperty)return!1;var p=!1,x=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const H=()=>{};C.addEventListener("test",H,x),C.removeEventListener("test",H,x)}catch{}return p}();function oh(p,x){if(oo.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var H=this.type=p.type,le=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=x,x=p.relatedTarget){if(hi){e:{try{Ir(x.nodeName);var lt=!0;break e}catch{}lt=!1}lt||(x=null)}}else"mouseover"==H?x=p.fromElement:"mouseout"==H&&(x=p.toElement);this.relatedTarget=x,le?(this.clientX=void 0!==le.clientX?le.clientX:le.pageX,this.clientY=void 0!==le.clientY?le.clientY:le.pageY,this.screenX=le.screenX||0,this.screenY=le.screenY||0):(this.clientX=void 0!==p.clientX?p.clientX:p.pageX,this.clientY=void 0!==p.clientY?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType="string"==typeof p.pointerType?p.pointerType:Hy[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&oh.aa.h.call(this)}}Ot(oh,oo);var Hy={2:"touch",3:"pen",4:"mouse"};oh.prototype.h=function(){oh.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ah="closure_listenable_"+(1e6*Math.random()|0),f_=0;function Gy(p,x,H,le,lt){this.listener=p,this.proxy=null,this.src=x,this.type=H,this.capture=!!le,this.ha=lt,this.key=++f_,this.da=this.fa=!1}function Lf(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Uc(p){this.src=p,this.g={},this.h=0}function _g(p,x){var H=x.type;if(H in p.g){var Ct,le=p.g[H],lt=Array.prototype.indexOf.call(le,x,void 0);(Ct=0<=lt)&&Array.prototype.splice.call(le,lt,1),Ct&&(Lf(x),0==p.g[H].length&&(delete p.g[H],p.h--))}}function yg(p,x,H,le){for(var lt=0;lt<p.length;++lt){var Ct=p[lt];if(!Ct.da&&Ct.listener==x&&Ct.capture==!!H&&Ct.ha==le)return lt}return-1}Uc.prototype.add=function(p,x,H,le,lt){var Ct=p.toString();(p=this.g[Ct])||(p=this.g[Ct]=[],this.h++);var vn=yg(p,x,le,lt);return-1<vn?(x=p[vn],H||(x.fa=!1)):((x=new Gy(x,this.src,Ct,!!le,lt)).fa=H,p.push(x)),x};var vg="closure_lm_"+(1e6*Math.random()|0),Eg={};function p_(p,x,H,le,lt){if(le&&le.once)return g_(p,x,H,le,lt);if(Array.isArray(x)){for(var Ct=0;Ct<x.length;Ct++)p_(p,x[Ct],H,le,lt);return null}return H=__(H),p&&p[ah]?p.K(x,H,$(le)?!!le.capture:!!le,lt):Ia(p,x,H,!1,le,lt)}function Ia(p,x,H,le,lt,Ct){if(!x)throw Error("Invalid event type");var vn=$(lt)?!!lt.capture:!!lt,Oi=Bc(p);if(Oi||(p[vg]=Oi=new Uc(p)),(H=Oi.add(x,H,le,vn,Ct)).proxy)return H;if(le=function Ig(){const x=m_;return function p(H){return x.call(p.src,p.listener,H)}}(),H.proxy=le,le.src=p,le.listener=H,p.addEventListener)h_||(lt=vn),void 0===lt&&(lt=!1),p.addEventListener(x.toString(),le,lt);else if(p.attachEvent)p.attachEvent(bg(x.toString()),le);else{if(!p.addListener||!p.removeListener)throw Error("addEventListener and attachEvent are unavailable.");p.addListener(le)}return H}function g_(p,x,H,le,lt){if(Array.isArray(x)){for(var Ct=0;Ct<x.length;Ct++)g_(p,x[Ct],H,le,lt);return null}return H=__(H),p&&p[ah]?p.L(x,H,$(le)?!!le.capture:!!le,lt):Ia(p,x,H,!0,le,lt)}function Tg(p,x,H,le,lt){if(Array.isArray(x))for(var Ct=0;Ct<x.length;Ct++)Tg(p,x[Ct],H,le,lt);else le=$(le)?!!le.capture:!!le,H=__(H),p&&p[ah]?(p=p.i,(x=String(x).toString())in p.g&&-1<(H=yg(Ct=p.g[x],H,le,lt))&&(Lf(Ct[H]),Array.prototype.splice.call(Ct,H,1),0==Ct.length&&(delete p.g[x],p.h--))):p&&(p=Bc(p))&&(x=p.g[x.toString()],p=-1,x&&(p=yg(x,H,le,lt)),(H=-1<p?x[p]:null)&&Cg(H))}function Cg(p){if("number"!=typeof p&&p&&!p.da){var x=p.src;if(x&&x[ah])_g(x.i,p);else{var H=p.type,le=p.proxy;x.removeEventListener?x.removeEventListener(H,le,p.capture):x.detachEvent?x.detachEvent(bg(H),le):x.addListener&&x.removeListener&&x.removeListener(le),(H=Bc(x))?(_g(H,p),0==H.h&&(H.src=null,x[vg]=null)):Lf(p)}}}function bg(p){return p in Eg?Eg[p]:Eg[p]="on"+p}function m_(p,x){if(p.da)p=!0;else{x=new oh(x,this);var H=p.listener,le=p.ha||p.src;p.fa&&Cg(p),p=H.call(le,x)}return p}function Bc(p){return(p=p[vg])instanceof Uc?p:null}var uh="__closure_events_fn_"+(1e9*Math.random()>>>0);function __(p){return"function"==typeof p?p:(p[uh]||(p[uh]=function(x){return p.handleEvent(x)}),p[uh])}function po(){Kl.call(this),this.i=new Uc(this),this.M=this,this.F=null}function vo(p,x){var H,le=p.F;if(le)for(H=[];le;le=le.F)H.push(le);if(p=p.M,le=x.type||x,"string"==typeof x)x=new oo(x,p);else if(x instanceof oo)x.target=x.target||p;else{var lt=x;tt(x=new oo(le,p),lt)}if(lt=!0,H)for(var Ct=H.length-1;0<=Ct;Ct--){var vn=x.g=H[Ct];lt=lh(vn,le,!0,x)&&lt}if(lt=lh(vn=x.g=p,le,!0,x)&&lt,lt=lh(vn,le,!1,x)&&lt,H)for(Ct=0;Ct<H.length;Ct++)lt=lh(vn=x.g=H[Ct],le,!1,x)&&lt}function lh(p,x,H,le){if(!(x=p.i.g[String(x)]))return!0;x=x.concat();for(var lt=!0,Ct=0;Ct<x.length;++Ct){var vn=x[Ct];if(vn&&!vn.da&&vn.capture==H){var Oi=vn.listener,go=vn.ha||vn.src;vn.fa&&_g(p.i,vn),lt=!1!==Oi.call(go,le)&&lt}}return lt&&!le.defaultPrevented}function wg(p,x,H){if("function"==typeof p)H&&(p=Ve(p,H));else{if(!p||"function"!=typeof p.handleEvent)throw Error("Invalid listener argument");p=Ve(p.handleEvent,p)}return 2147483647<Number(x)?-1:C.setTimeout(p,x||0)}function Uf(p){p.g=wg(()=>{p.g=null,p.i&&(p.i=!1,Uf(p))},p.l);const x=p.h;p.h=null,p.m.apply(null,x)}Ot(po,Kl),po.prototype[ah]=!0,po.prototype.removeEventListener=function(p,x,H,le){Tg(this,p,x,H,le)},po.prototype.N=function(){if(po.aa.N.call(this),this.i){var x,p=this.i;for(x in p.g){for(var H=p.g[x],le=0;le<H.length;le++)Lf(H[le]);delete p.g[x],p.h--}}this.F=null},po.prototype.K=function(p,x,H,le){return this.i.add(String(p),x,!1,H,le)},po.prototype.L=function(p,x,H,le){return this.i.add(String(p),x,!0,H,le)};class gu extends Kl{constructor(x,H){super(),this.m=x,this.l=H,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Uf(this)}N(){super.N(),this.g&&(C.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ch(p){Kl.call(this),this.h=p,this.g={}}Ot(ch,Kl);var y_=[];function Bf(p){Lr(p.g,function(x,H){this.g.hasOwnProperty(H)&&Cg(x)},p),p.g={}}ch.prototype.N=function(){ch.aa.N.call(this),Bf(this)},ch.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ag=C.JSON.stringify,v_=C.JSON.parse,zy=class{stringify(p){return C.JSON.stringify(p,void 0)}parse(p){return C.JSON.parse(p,void 0)}};function jc(){}function Dg(){}jc.prototype.h=null;var tl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function E_(){oo.call(this,"d")}function Sg(){oo.call(this,"c")}Ot(E_,oo),Ot(Sg,oo);var nl={},Rg=null;function jf(){return Rg=Rg||new po}function I_(p){oo.call(this,nl.La,p)}function Hc(p){const x=jf();vo(x,new I_(x))}function Pg(p,x){oo.call(this,nl.STAT_EVENT,p),this.stat=x}function qs(p){const x=jf();vo(x,new Pg(x,p))}function T_(p,x){oo.call(this,nl.Ma,p),this.size=x}function Gc(p,x){if("function"!=typeof p)throw Error("Fn must not be null and must be a function");return C.setTimeout(function(){p()},x)}function zc(){this.g=!0}function za(p,x,H,le){p.info(function(){return"XMLHTTP TEXT ("+x+"): "+function Qy(p,x){if(!p.g)return x;if(!x)return null;try{var H=JSON.parse(x);if(H)for(p=0;p<H.length;p++)if(Array.isArray(H[p])){var le=H[p];if(!(2>le.length)){var lt=le[1];if(Array.isArray(lt)&&!(1>lt.length)){var Ct=lt[0];if("noop"!=Ct&&"stop"!=Ct&&"close"!=Ct)for(var vn=1;vn<lt.length;vn++)lt[vn]=""}}}return Ag(H)}catch{return x}}(p,H)+(le?" "+le:"")})}nl.La="serverreachability",Ot(I_,oo),nl.STAT_EVENT="statevent",Ot(Pg,oo),nl.Ma="timingevent",Ot(T_,oo),zc.prototype.xa=function(){this.g=!1},zc.prototype.info=function(){};var Mg,$f={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},C_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Hf(){}function rl(p,x,H,le){this.j=p,this.i=x,this.l=H,this.R=le||1,this.U=new ch(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new b_}function b_(){this.i=null,this.g="",this.h=!1}Ot(Hf,jc),Hf.prototype.g=function(){return new XMLHttpRequest},Hf.prototype.i=function(){return{}},Mg=new Hf;var Og={},dh={};function xg(p,x,H){p.L=1,p.v=mu(Po(x)),p.m=H,p.P=!0,hh(p,null)}function hh(p,x){p.F=Date.now(),Gf(p),p.A=Po(p.v);var H=p.A,le=p.R;Array.isArray(le)||(le=[String(le)]),Ug(H.i,"t",le),p.C=0,H=p.j.J,p.h=new b_,p.g=Qg(p.j,H?x:null,!p.m),0<p.O&&(p.M=new gu(Ve(p.Y,p,p.g),p.O)),x=p.U,H=p.g,le=p.ca;var lt="readystatechange";Array.isArray(lt)||(lt&&(y_[0]=lt.toString()),lt=y_);for(var Ct=0;Ct<lt.length;Ct++){var vn=p_(H,lt[Ct],le||x.handleEvent,!1,x.h||x);if(!vn)break;x.g[vn.key]=vn}x=p.H?Me(p.H):{},p.m?(p.u||(p.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,x)):(p.u="GET",p.g.ea(p.A,p.u,null,x)),Hc(),function Wy(p,x,H,le,lt,Ct){p.info(function(){if(p.g)if(Ct)for(var vn="",Oi=Ct.split("&"),go=0;go<Oi.length;go++){var mi=Oi[go].split("=");if(1<mi.length){var mo=mi[0];mi=mi[1];var ao=mo.split("_");vn=2<=ao.length&&"type"==ao[1]?vn+(mo+"=")+mi+"&":vn+(mo+"=redacted&")}}else vn=null;else vn=Ct;return"XMLHTTP REQ ("+le+") [attempt "+lt+"]: "+x+"\n"+H+"\n"+vn})}(p.i,p.u,p.A,p.l,p.R,p.m)}function w_(p){return!!p.g&&"GET"==p.u&&2!=p.L&&p.j.Ca}function Xy(p,x){var H=p.C,le=x.indexOf("\n",H);return-1==le?dh:(H=Number(x.substring(H,le)),isNaN(H)?Og:(le+=1)+H>x.length?dh:(x=x.slice(le,le+H),p.C=le+H,x))}function Gf(p){p.S=Date.now()+p.I,A_(p,p.I)}function A_(p,x){if(null!=p.B)throw Error("WatchDog timer not null");p.B=Gc(Ve(p.ba,p),x)}function Ng(p){p.B&&(C.clearTimeout(p.B),p.B=null)}function fh(p){0==p.j.G||p.J||qg(p.j,p)}function Ql(p){Ng(p);var x=p.M;x&&"function"==typeof x.ma&&x.ma(),p.M=null,Bf(p.U),p.g&&(x=p.g,p.g=null,x.abort(),x.ma())}function zf(p,x){try{var H=p.j;if(0!=H.G&&(H.g==p||Wf(H.h,p)))if(!p.K&&Wf(H.h,p)&&3==H.G){try{var le=H.Da.g.parse(x)}catch{le=null}if(Array.isArray(le)&&3==le.length){var lt=le;if(0==lt[0]){e:if(!H.u){if(H.g){if(!(H.g.F+3e3<p.F))break e;Ch(H),Jc(H)}Jf(H),qs(18)}}else H.za=lt[1],0<H.za-H.T&&37500>lt[2]&&H.F&&0==H.v&&!H.C&&(H.C=Gc(Ve(H.Za,H),6e3));if(1>=kg(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else ec(H,11)}else if((p.K||H.g==p)&&Ch(H),!rr(x))for(lt=H.Da.g.parse(x),x=0;x<lt.length;x++){let mi=lt[x];if(H.T=mi[0],mi=mi[1],2==H.G)if("c"==mi[0]){H.K=mi[1],H.ia=mi[2];const mo=mi[3];null!=mo&&(H.la=mo,H.j.info("VER="+H.la));const ao=mi[4];null!=ao&&(H.Aa=ao,H.j.info("SVER="+H.Aa));const tc=mi[5];null!=tc&&"number"==typeof tc&&0<tc&&(H.L=le=1.5*tc,H.j.info("backChannelRequestTimeoutMs_="+le)),le=H;const Qo=p.g;if(Qo){const Ah=Qo.g?Qo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ah){var Ct=le.h;Ct.g||-1==Ah.indexOf("spdy")&&-1==Ah.indexOf("quic")&&-1==Ah.indexOf("h2")||(Ct.j=Ct.l,Ct.g=new Set,Ct.h&&(R_(Ct,Ct.h),Ct.h=null))}if(le.D){const Xg=Qo.g?Qo.g.getResponseHeader("X-HTTP-Session-Id"):null;Xg&&(le.ya=Xg,Ci(le.I,le.D,Xg))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-p.F,H.j.info("Handshake RTT: "+H.R+"ms"));var vn=p;if((le=H).qa=j_(le,le.J?le.ia:null,le.W),vn.K){ph(le.h,vn);var Oi=vn,go=le.L;go&&(Oi.I=go),Oi.B&&(Ng(Oi),Gf(Oi)),le.g=vn}else L_(le);0<H.i.length&&Zl(H)}else"stop"!=mi[0]&&"close"!=mi[0]||ec(H,7);else 3==H.G&&("stop"==mi[0]||"close"==mi[0]?"stop"==mi[0]?ec(H,7):zg(H):"noop"!=mi[0]&&H.l&&H.l.ta(mi),H.v=0)}Hc()}catch{}}function S_(p){this.l=p||10,p=C.PerformanceNavigationTiming?0<(p=C.performance.getEntriesByType("navigation")).length&&("hq"==p[0].nextHopProtocol||"h2"==p[0].nextHopProtocol):!!(C.chrome&&C.chrome.loadTimes&&C.chrome.loadTimes()&&C.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yy(p){return!!p.h||!!p.g&&p.g.size>=p.j}function kg(p){return p.h?1:p.g?p.g.size:0}function Wf(p,x){return p.h?p.h==x:!!p.g&&p.g.has(x)}function R_(p,x){p.g?p.g.add(x):p.h=x}function ph(p,x){p.h&&p.h==x?p.h=null:p.g&&p.g.has(x)&&p.g.delete(x)}function P_(p){if(null!=p.h)return p.i.concat(p.h.D);if(null!=p.g&&0!==p.g.size){let x=p.i;for(const H of p.g.values())x=x.concat(H.D);return x}return Jt(p.i)}function M_(p,x){if(p.forEach&&"function"==typeof p.forEach)p.forEach(x,void 0);else if(O(p)||"string"==typeof p)Array.prototype.forEach.call(p,x,void 0);else for(var H=function Fg(p){if(p.na&&"function"==typeof p.na)return p.na();if(!p.V||"function"!=typeof p.V){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(O(p)||"string"==typeof p){var x=[];p=p.length;for(var H=0;H<p;H++)x.push(H);return x}x=[],H=0;for(const le in p)x[H++]=le;return x}}}(p),le=function Jy(p){if(p.V&&"function"==typeof p.V)return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if("string"==typeof p)return p.split("");if(O(p)){for(var x=[],H=p.length,le=0;le<H;le++)x.push(p[le]);return x}for(le in x=[],H=0,p)x[H++]=p[le];return x}(p),lt=le.length,Ct=0;Ct<lt;Ct++)x.call(void 0,le[Ct],H&&H[Ct],p)}rl.prototype.ca=function(p){p=p.target;const x=this.M;x&&3==yu(p)?x.j():this.Y(p)},rl.prototype.Y=function(p){try{if(p==this.g)e:{const ao=yu(this.g);var x=this.g.Ba();if(this.g.Z(),!(3>ao)&&(3!=ao||this.g&&(this.h.h||this.g.oa()||Yc(this.g)))){this.J||4!=ao||7==x||Hc(),Ng(this);var H=this.g.Z();this.X=H;t:if(w_(this)){var le=Yc(this.g);p="";var lt=le.length,Ct=4==yu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ql(this),fh(this);var vn="";break t}this.h.i=new C.TextDecoder}for(x=0;x<lt;x++)this.h.h=!0,p+=this.h.i.decode(le[x],{stream:!(Ct&&x==lt-1)});le.length=0,this.h.g+=p,this.C=0,vn=this.h.g}else vn=this.g.oa();if(this.o=200==H,function qy(p,x,H,le,lt,Ct,vn){p.info(function(){return"XMLHTTP RESP ("+le+") [ attempt "+lt+"]: "+x+"\n"+H+"\n"+Ct+" "+vn})}(this.i,this.u,this.A,this.l,this.R,ao,H),this.o){if(this.T&&!this.K){t:{if(this.g){var Oi,go=this.g;if((Oi=go.g?go.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rr(Oi)){var mi=Oi;break t}}mi=null}if(!(H=mi)){this.o=!1,this.s=3,qs(12),Ql(this),fh(this);break e}za(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zf(this,H)}if(this.P){let Qo;for(H=!0;!this.J&&this.C<vn.length;){if(Qo=Xy(this,vn),Qo==dh){4==ao&&(this.s=4,qs(14),H=!1),za(this.i,this.l,null,"[Incomplete Response]");break}if(Qo==Og){this.s=4,qs(15),za(this.i,this.l,vn,"[Invalid Chunk]"),H=!1;break}za(this.i,this.l,Qo,null),zf(this,Qo)}if(w_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ao||0!=vn.length||this.h.h||(this.s=1,qs(16),H=!1),this.o=this.o&&H,H){if(0<vn.length&&!this.W){this.W=!0;var mo=this.j;mo.g==this&&mo.ba&&!mo.M&&(mo.j.info("Great, no buffering proxy detected. Bytes received: "+vn.length),Wg(mo),mo.M=!0,qs(11))}}else za(this.i,this.l,vn,"[Invalid Chunked Response]"),Ql(this),fh(this)}else za(this.i,this.l,vn,null),zf(this,vn);4==ao&&Ql(this),this.o&&!this.J&&(4==ao?qg(this.j,this):(this.o=!1,Gf(this)))}else(function ev(p){const x={};p=(p.g&&2<=yu(p)&&p.g.getAllResponseHeaders()||"").split("\r\n");for(let le=0;le<p.length;le++){if(rr(p[le]))continue;var H=ot(p[le]);const lt=H[0];if("string"!=typeof(H=H[1]))continue;H=H.trim();const Ct=x[lt]||[];x[lt]=Ct,Ct.push(H)}!function et(p,x){for(const H in p)x.call(void 0,p[H],H,p)}(x,function(le){return le.join(", ")})})(this.g),400==H&&0<vn.indexOf("Unknown SID")?(this.s=3,qs(12)):(this.s=0,qs(13)),Ql(this),fh(this)}}}catch{}},rl.prototype.cancel=function(){this.J=!0,Ql(this)},rl.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(function Ky(p,x){p.info(function(){return"TIMEOUT: "+x})}(this.i,this.A),2!=this.L&&(Hc(),qs(17)),Ql(this),this.s=2,fh(this)):A_(this,this.S-p)},S_.prototype.cancel=function(){if(this.i=P_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const p of this.g.values())p.cancel();this.g.clear()}};var Ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ss(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ss){this.h=p.h,Xl(this,p.j),this.o=p.o,this.g=p.g,Mo(this,p.s),this.l=p.l;var x=p.i,H=new Xc;H.i=x.i,x.g&&(H.g=new Map(x.g),H.h=x.h),qf(this,H),this.m=p.m}else p&&(x=String(p).match(Ta))?(this.h=!1,Xl(this,x[1]||"",!0),this.o=Wa(x[2]||""),this.g=Wa(x[3]||"",!0),Mo(this,x[4]),this.l=Wa(x[5]||"",!0),qf(this,x[6]||"",!0),this.m=Wa(x[7]||"")):(this.h=!1,this.i=new Xc(null,this.h))}function Po(p){return new Ss(p)}function Xl(p,x,H){p.j=H?Wa(x,!0):x,p.j&&(p.j=p.j.replace(/:$/,""))}function Mo(p,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);p.s=x}else p.s=null}function qf(p,x,H){x instanceof Xc?(p.i=x,function x_(p,x){x&&!p.j&&(_u(p),p.i=null,p.g.forEach(function(H,le){var lt=le.toLowerCase();le!=lt&&(Vg(this,le),Ug(this,lt,H))},p)),p.j=x}(p.i,p.h)):(H||(x=qa(x,Qc)),p.i=new Xc(x,p.h))}function Ci(p,x,H){p.i.set(x,H)}function mu(p){return Ci(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Wa(p,x){return p?x?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function qa(p,x,H){return"string"==typeof p?(p=encodeURI(p).replace(x,Wc),H&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Wc(p){return"%"+((p=p.charCodeAt(0))>>4&15).toString(16)+(15&p).toString(16)}Ss.prototype.toString=function(){var p=[],x=this.j;x&&p.push(qa(x,Yl,!0),":");var H=this.g;return(H||"file"==x)&&(p.push("//"),(x=this.o)&&p.push(qa(x,Yl,!0),"@"),p.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(H=this.s)&&p.push(":",String(H))),(H=this.l)&&(this.g&&"/"!=H.charAt(0)&&p.push("/"),p.push(qa(H,"/"==H.charAt(0)?Kc:qc,!0))),(H=this.i.toString())&&p.push("?",H),(H=this.m)&&p.push("#",qa(H,O_)),p.join("")};var p,Yl=/[#\/\?@]/g,qc=/[#\?:]/g,Kc=/[#\?]/g,Qc=/[#\?@]/g,O_=/#/g;function Xc(p,x){this.h=this.g=null,this.i=p||null,this.j=!!x}function _u(p){p.g||(p.g=new Map,p.h=0,p.i&&function gh(p,x){if(p){p=p.split("&");for(var H=0;H<p.length;H++){var le=p[H].indexOf("="),lt=null;if(0<=le){var Ct=p[H].substring(0,le);lt=p[H].substring(le+1)}else Ct=p[H];x(Ct,lt?decodeURIComponent(lt.replace(/\+/g," ")):"")}}}(p.i,function(x,H){p.add(decodeURIComponent(x.replace(/\+/g," ")),H)}))}function Vg(p,x){_u(p),x=Jl(p,x),p.g.has(x)&&(p.i=null,p.h-=p.g.get(x).length,p.g.delete(x))}function Lg(p,x){return _u(p),x=Jl(p,x),p.g.has(x)}function Ug(p,x,H){Vg(p,x),0<H.length&&(p.i=null,p.g.set(Jl(p,x),Jt(H)),p.h+=H.length)}function Jl(p,x){return x=String(x),p.j&&(x=x.toLowerCase()),x}function il(p,x,H,le,lt){try{lt&&(lt.onload=null,lt.onerror=null,lt.onabort=null,lt.ontimeout=null),le(H)}catch{}}function bE(){this.g=new zy}function wE(p,x,H){const le=H||"";try{M_(p,function(lt,Ct){let vn=lt;$(lt)&&(vn=Ag(lt)),x.push(le+Ct+"="+encodeURIComponent(vn))})}catch(lt){throw x.push(le+"type="+encodeURIComponent("_badmap")),lt}}function mh(p){this.l=p.Ub||null,this.j=p.eb||!1}function Kf(p,x){po.call(this),this.D=p,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Zy(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}function _h(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Qf(p)}function Qf(p){p.onreadystatechange&&p.onreadystatechange.call(p)}function k_(p){let x="";return Lr(p,function(H,le){x+=le,x+=":",x+=H,x+="\r\n"}),x}function jg(p,x,H){e:{for(le in H){var le=!1;break e}le=!0}le||(H=k_(H),"string"==typeof p?null!=H&&encodeURIComponent(String(H)):Ci(p,x,H))}function Rs(p){po.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=Xc.prototype).add=function(p,x){_u(this),this.i=null,p=Jl(this,p);var H=this.g.get(p);return H||this.g.set(p,H=[]),H.push(x),this.h+=1,this},a.forEach=function(p,x){_u(this),this.g.forEach(function(H,le){H.forEach(function(lt){p.call(x,lt,le,this)},this)},this)},a.na=function(){_u(this);const p=Array.from(this.g.values()),x=Array.from(this.g.keys()),H=[];for(let le=0;le<x.length;le++){const lt=p[le];for(let Ct=0;Ct<lt.length;Ct++)H.push(x[le])}return H},a.V=function(p){_u(this);let x=[];if("string"==typeof p)Lg(this,p)&&(x=x.concat(this.g.get(Jl(this,p))));else{p=Array.from(this.g.values());for(let H=0;H<p.length;H++)x=x.concat(p[H])}return x},a.set=function(p,x){return _u(this),this.i=null,Lg(this,p=Jl(this,p))&&(this.h-=this.g.get(p).length),this.g.set(p,[x]),this.h+=1,this},a.get=function(p,x){return p&&0<(p=this.V(p)).length?String(p[0]):x},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],x=Array.from(this.g.keys());for(var H=0;H<x.length;H++){var le=x[H];const Ct=encodeURIComponent(String(le)),vn=this.V(le);for(le=0;le<vn.length;le++){var lt=Ct;""!==vn[le]&&(lt+="="+encodeURIComponent(String(vn[le]))),p.push(lt)}}return this.i=p.join("&")},Ot(mh,jc),mh.prototype.g=function(){return new Kf(this.l,this.j)},mh.prototype.i=(p={},function(){return p}),Ot(Kf,po),(a=Kf.prototype).open=function(p,x){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=x,this.readyState=1,Qf(this)},a.send=function(p){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(x.body=p),(this.D||C).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_h(this)),this.readyState=0},a.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Qf(this)),this.g&&(this.readyState=3,Qf(this),this.g)))if("arraybuffer"===this.responseType)p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof C.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zy(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var x=p.value?p.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!p.done}))&&(this.response=this.responseText+=x)}p.done?_h(this):Qf(this),3==this.readyState&&Zy(this)}},a.Ra=function(p){this.g&&(this.response=this.responseText=p,_h(this))},a.Qa=function(p){this.g&&(this.response=p,_h(this))},a.ga=function(){this.g&&_h(this)},a.setRequestHeader=function(p,x){this.u.append(p,x)},a.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],x=this.h.entries();for(var H=x.next();!H.done;)p.push((H=H.value)[0]+": "+H[1]),H=x.next();return p.join("\r\n")},Object.defineProperty(Kf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(p){this.m=p?"include":"same-origin"}}),Ot(Rs,po);var $g=/^https?$/i,yh=["POST","PUT"];function Xf(p,x){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=x,p.m=5,vh(p),sl(p)}function vh(p){p.A||(p.A=!0,vo(p,"complete"),vo(p,"error"))}function Hg(p){if(p.h&&typeof m<"u"&&(!p.v[1]||4!=yu(p)||2!=p.Z()))if(p.u&&4==yu(p))wg(p.Ea,0,p);else if(vo(p,"readystatechange"),4==yu(p)){p.h=!1;try{const vn=p.Z();e:switch(vn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var H;if(!(H=x)){var le;if(le=0===vn){var lt=String(p.D).match(Ta)[1]||null;!lt&&C.self&&C.self.location&&(lt=C.self.location.protocol.slice(0,-1)),le=!$g.test(lt?lt.toLowerCase():"")}H=le}if(H)vo(p,"complete"),vo(p,"success");else{p.m=6;try{var Ct=2<yu(p)?p.g.statusText:""}catch{Ct=""}p.l=Ct+" ["+p.Z()+"]",vh(p)}}finally{sl(p)}}}function sl(p,x){if(p.g){Gg(p);const H=p.g,le=p.v[0]?()=>{}:null;p.g=null,p.v=null,x||vo(p,"ready");try{H.onreadystatechange=le}catch{}}}function Gg(p){p.I&&(C.clearTimeout(p.I),p.I=null)}function yu(p){return p.g?p.g.readyState:0}function Yc(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Eh(p,x,H){return H&&H.internalChannelParams&&H.internalChannelParams[p]||x}function F_(p){this.Aa=0,this.i=[],this.j=new zc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Eh("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Eh("baseRetryDelayMs",5e3,p),this.cb=Eh("retryDelaySeedMs",1e4,p),this.Wa=Eh("forwardChannelMaxRetries",2,p),this.wa=Eh("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new S_(p&&p.concurrentRequestLimit),this.Da=new bE,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function zg(p){if(Ih(p),3==p.G){var x=p.U++,H=Po(p.I);if(Ci(H,"SID",p.K),Ci(H,"RID",x),Ci(H,"TYPE","terminate"),Th(p,H),(x=new rl(p,p.j,x)).L=2,x.v=mu(Po(H)),H=!1,C.navigator&&C.navigator.sendBeacon)try{H=C.navigator.sendBeacon(x.v.toString(),"")}catch{}!H&&C.Image&&((new Image).src=x.v,H=!0),H||(x.g=Qg(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Gf(x)}B_(p)}function Jc(p){p.g&&(Wg(p),p.g.cancel(),p.g=null)}function Ih(p){Jc(p),p.u&&(C.clearTimeout(p.u),p.u=null),Ch(p),p.h.cancel(),p.s&&("number"==typeof p.s&&C.clearTimeout(p.s),p.s=null)}function Zl(p){if(!Yy(p.h)&&!p.s){p.s=!0;var x=p.Ga;ih||d_(),sh||(ih(),sh=!0),Ro.add(x,p),p.B=0}}function V_(p,x){var H;H=x?x.l:p.U++;const le=Po(p.I);Ci(le,"SID",p.K),Ci(le,"RID",H),Ci(le,"AID",p.T),Th(p,le),p.m&&p.o&&jg(le,p.m,p.o),H=new rl(p,p.j,H,p.B+1),null===p.m&&(H.H=p.o),x&&(p.i=x.D.concat(p.i)),x=Yf(p,H,1e3),H.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),R_(p.h,H),xg(H,le,x)}function Th(p,x){p.H&&Lr(p.H,function(H,le){Ci(x,le,H)}),p.l&&M_({},function(H,le){Ci(x,le,H)})}function Yf(p,x,H){H=Math.min(p.i.length,H);var le=p.l?Ve(p.l.Na,p.l,p):null;e:{var lt=p.i;let Ct=-1;for(;;){const vn=["count="+H];-1==Ct?0<H?(Ct=lt[0].g,vn.push("ofs="+Ct)):Ct=0:vn.push("ofs="+Ct);let Oi=!0;for(let go=0;go<H;go++){let mi=lt[go].g;const mo=lt[go].map;if(mi-=Ct,0>mi)Ct=Math.max(0,lt[go].g-100),Oi=!1;else try{wE(mo,vn,"req"+mi+"_")}catch{le&&le(mo)}}if(Oi){le=vn.join("&");break e}}}return p=p.i.splice(0,H),x.D=p,le}function L_(p){if(!p.g&&!p.u){p.Y=1;var x=p.Fa;ih||d_(),sh||(ih(),sh=!0),Ro.add(x,p),p.v=0}}function Jf(p){return!(p.g||p.u||3<=p.v||(p.Y++,p.u=Gc(Ve(p.Fa,p),Kg(p,p.v)),p.v++,0))}function Wg(p){null!=p.A&&(C.clearTimeout(p.A),p.A=null)}function U_(p){p.g=new rl(p,p.j,"rpc",p.Y),null===p.m&&(p.g.H=p.o),p.g.O=0;var x=Po(p.qa);Ci(x,"RID","rpc"),Ci(x,"SID",p.K),Ci(x,"AID",p.T),Ci(x,"CI",p.F?"0":"1"),!p.F&&p.ja&&Ci(x,"TO",p.ja),Ci(x,"TYPE","xmlhttp"),Th(p,x),p.m&&p.o&&jg(x,p.m,p.o),p.L&&(p.g.I=p.L);var H=p.g;p=p.ia,H.L=1,H.v=mu(Po(x)),H.m=null,H.P=!0,hh(H,p)}function Ch(p){null!=p.C&&(C.clearTimeout(p.C),p.C=null)}function qg(p,x){var H=null;if(p.g==x){Ch(p),Wg(p),p.g=null;var le=2}else{if(!Wf(p.h,x))return;H=x.D,ph(p.h,x),le=1}if(0!=p.G)if(x.o)if(1==le){H=x.m?x.m.length:0,x=Date.now()-x.F;var lt=p.B;vo(le=jf(),new T_(le,H)),Zl(p)}else L_(p);else if(3==(lt=x.s)||0==lt&&0<x.X||!(1==le&&function AE(p,x){return!(kg(p.h)>=p.h.j-(p.s?1:0)||(p.s?(p.i=x.D.concat(p.i),0):1==p.G||2==p.G||p.B>=(p.Va?0:p.Wa)||(p.s=Gc(Ve(p.Ga,p,x),Kg(p,p.B)),p.B++,0)))}(p,x)||2==le&&Jf(p)))switch(H&&0<H.length&&(x=p.h,x.i=x.i.concat(H)),lt){case 1:ec(p,5);break;case 4:ec(p,10);break;case 3:ec(p,6);break;default:ec(p,2)}}function Kg(p,x){let H=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(H*=2),H*x}function ec(p,x){if(p.j.info("Error code "+x),2==x){var H=Ve(p.fb,p),le=p.Xa;const lt=!le;le=new Ss(le||"//www.google.com/images/cleardot.gif"),C.location&&"http"==C.location.protocol||Xl(le,"https"),mu(le),lt?function N_(p,x){const H=new zc;if(C.Image){const le=new Image;le.onload=pt(il,H,"TestLoadImage: loaded",!0,x,le),le.onerror=pt(il,H,"TestLoadImage: error",!1,x,le),le.onabort=pt(il,H,"TestLoadImage: abort",!1,x,le),le.ontimeout=pt(il,H,"TestLoadImage: timeout",!1,x,le),C.setTimeout(function(){le.ontimeout&&le.ontimeout()},1e4),le.src=p}else x(!1)}(le.toString(),H):function Bg(p,x){new zc;const le=new AbortController,lt=setTimeout(()=>{le.abort(),il(0,0,!1,x)},1e4);fetch(p,{signal:le.signal}).then(Ct=>{clearTimeout(lt),il(0,0,!!Ct.ok,x)}).catch(()=>{clearTimeout(lt),il(0,0,!1,x)})}(le.toString(),H)}else qs(2);p.G=0,p.l&&p.l.sa(x),B_(p),Ih(p)}function B_(p){if(p.G=0,p.ka=[],p.l){const x=P_(p.h);(0!=x.length||0!=p.i.length)&&(Gt(p.ka,x),Gt(p.ka,p.i),p.h.i.length=0,Jt(p.i),p.i.length=0),p.l.ra()}}function j_(p,x,H){var le=H instanceof Ss?Po(H):new Ss(H);if(""!=le.g)x&&(le.g=x+"."+le.g),Mo(le,le.s);else{var lt=C.location;le=lt.protocol,x=x?x+"."+lt.hostname:lt.hostname,lt=+lt.port;var Ct=new Ss(null);le&&Xl(Ct,le),x&&(Ct.g=x),lt&&Mo(Ct,lt),H&&(Ct.l=H),le=Ct}return x=p.ya,(H=p.D)&&x&&Ci(le,H,x),Ci(le,"VER",p.la),Th(p,le),le}function Qg(p,x,H){if(x&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return(x=new Rs(p.Ca&&!p.pa?new mh({eb:H}):p.pa)).Ha(p.J),x}function Zf(){}function Zc(){}function Ko(p,x){po.call(this),this.g=new F_(x),this.l=p,this.h=x&&x.messageUrlParams||null,p=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(p?p["X-WebChannel-Content-Type"]=x.messageContentType:p={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(p?p["X-WebChannel-Client-Profile"]=x.va:p={"X-WebChannel-Client-Profile":x.va}),this.g.S=p,(p=x&&x.Sb)&&!rr(p)&&(this.g.m=p),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!rr(x)&&(this.g.D=x,null!==(p=this.h)&&x in p&&x in(p=this.h)&&delete p[x]),this.j=new ol(this)}function bh(p){E_.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var x=p.__sm__;if(x){e:{for(const H in x){p=H;break e}p=void 0}(this.i=p)&&(p=this.i,x=null!==x&&p in x?x[p]:void 0),this.data=x}else this.data=p}function wh(){Sg.call(this),this.status=1}function ol(p){this.g=p}(a=Rs.prototype).Ha=function(p){this.J=p},a.ea=function(p,x,H,le){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);x=x?x.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mg.g(),this.v=function $c(p){return p.h||(p.h=p.i())}(this.o?this.o:Mg),this.g.onreadystatechange=Ve(this.Ea,this);try{this.B=!0,this.g.open(x,String(p),!0),this.B=!1}catch(Ct){return void Xf(this,Ct)}if(p=H||"",H=new Map(this.headers),le)if(Object.getPrototypeOf(le)===Object.prototype)for(var lt in le)H.set(lt,le[lt]);else{if("function"!=typeof le.keys||"function"!=typeof le.get)throw Error("Unknown input type for opt_headers: "+String(le));for(const Ct of le.keys())H.set(Ct,le.get(Ct))}le=Array.from(H.keys()).find(Ct=>"content-type"==Ct.toLowerCase()),lt=C.FormData&&p instanceof C.FormData,!(0<=Array.prototype.indexOf.call(yh,x,void 0))||le||lt||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ct,vn]of H)this.g.setRequestHeader(Ct,vn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gg(this),this.u=!0,this.g.send(p),this.u=!1}catch(Ct){Xf(this,Ct)}},a.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,vo(this,"complete"),vo(this,"abort"),sl(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sl(this,!0)),Rs.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Hg(this):this.bb())},a.bb=function(){Hg(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<yu(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(p){if(this.g){var x=this.g.responseText;return p&&0==x.indexOf(p)&&(x=x.substring(p.length)),v_(x)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=F_.prototype).la=8,a.G=1,a.connect=function(p,x,H,le){qs(0),this.W=p,this.H=x||{},H&&void 0!==le&&(this.H.OSID=H,this.H.OAID=le),this.F=this.X,this.I=j_(this,null,this.W),Zl(this)},a.Ga=function(p){if(this.s)if(this.s=null,1==this.G){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const lt=new rl(this,this.j,p);let Ct=this.o;if(this.S&&(Ct?(Ct=Me(Ct),tt(Ct,this.S)):Ct=this.S),null!==this.m||this.O||(lt.H=Ct,Ct=null),this.P)e:{for(var x=0,H=0;H<this.i.length;H++){var le=this.i[H];if(void 0===(le="__data__"in le.map&&"string"==typeof(le=le.map.__data__)?le.length:void 0))break;if(4096<(x+=le)){x=H;break e}if(4096===x||H===this.i.length-1){x=H+1;break e}}x=1e3}else x=1e3;x=Yf(this,lt,x),Ci(H=Po(this.I),"RID",p),Ci(H,"CVER",22),this.D&&Ci(H,"X-HTTP-Session-Id",this.D),Th(this,H),Ct&&(this.O?x="headers="+encodeURIComponent(String(k_(Ct)))+"&"+x:this.m&&jg(H,this.m,Ct)),R_(this.h,lt),this.Ua&&Ci(H,"TYPE","init"),this.P?(Ci(H,"$req",x),Ci(H,"SID","null"),lt.T=!0,xg(lt,H,null)):xg(lt,H,x),this.G=2}}else 3==this.G&&(p?V_(this,p):0==this.i.length||Yy(this.h)||V_(this))},a.Fa=function(){if(this.u=null,U_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Gc(Ve(this.ab,this),p)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qs(10),Jc(this),U_(this))},a.Za=function(){null!=this.C&&(this.C=null,Jc(this),Jf(this),qs(19))},a.fb=function(p){p?(this.j.info("Successfully pinged google.com"),qs(2)):(this.j.info("Failed to ping google.com"),qs(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=Zf.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},Zc.prototype.g=function(p,x){return new Ko(p,x)},Ot(Ko,po),Ko.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ko.prototype.close=function(){zg(this.g)},Ko.prototype.o=function(p){var x=this.g;if("string"==typeof p){var H={};H.__data__=p,p=H}else this.u&&((H={}).__data__=Ag(p),p=H);x.i.push(new class{constructor(p,x){this.g=p,this.map=x}}(x.Ya++,p)),3==x.G&&Zl(x)},Ko.prototype.N=function(){this.g.l=null,delete this.j,zg(this.g),delete this.g,Ko.aa.N.call(this)},Ot(bh,E_),Ot(wh,Sg),Ot(ol,Zf),ol.prototype.ua=function(){vo(this.g,"a")},ol.prototype.ta=function(p){vo(this.g,new bh(p))},ol.prototype.sa=function(p){vo(this.g,new wh)},ol.prototype.ra=function(){vo(this.g,"b")},Zc.prototype.createWebChannel=Zc.prototype.g,Ko.prototype.send=Ko.prototype.o,Ko.prototype.open=Ko.prototype.m,Ko.prototype.close=Ko.prototype.close,hn=me.createWebChannelTransport=function(){return new Zc},Zn=me.getStatEventTarget=function(){return jf()},bn=me.Event=nl,Xt=me.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$f.NO_ERROR=0,$f.TIMEOUT=8,$f.HTTP_ERROR=6,rn=me.ErrorCode=$f,C_.COMPLETE="complete",Dt=me.EventType=C_,Dg.EventType=tl,tl.OPEN="a",tl.CLOSE="b",tl.ERROR="c",tl.MESSAGE="d",po.prototype.listen=po.prototype.K,wt=me.WebChannel=Dg,me.FetchXmlHttpFactory=mh,Rs.prototype.listenOnce=Rs.prototype.L,Rs.prototype.getLastError=Rs.prototype.Ka,Rs.prototype.getLastErrorCode=Rs.prototype.Ba,Rs.prototype.getStatus=Rs.prototype.Z,Rs.prototype.getResponseJson=Rs.prototype.Oa,Rs.prototype.getResponseText=Rs.prototype.oa,Rs.prototype.send=Rs.prototype.ea,Rs.prototype.setWithCredentials=Rs.prototype.Ha,Je=me.XhrIo=Rs}).apply(typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{});const xe="@firebase/firestore";class dt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");let gt="10.14.0";const St=new Ee.Vy("@firebase/firestore");function Ht(){return St.logLevel}function ke(a,...e){if(St.logLevel<=Ee.$b.DEBUG){const r=e.map(gr);St.debug(`Firestore (${gt}): ${a}`,...r)}}function Yt(a,...e){if(St.logLevel<=Ee.$b.ERROR){const r=e.map(gr);St.error(`Firestore (${gt}): ${a}`,...r)}}function Ln(a,...e){if(St.logLevel<=Ee.$b.WARN){const r=e.map(gr);St.warn(`Firestore (${gt}): ${a}`,...r)}}function gr(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function Ye(a="Unexpected state"){const e=`FIRESTORE (${gt}) INTERNAL ASSERTION FAILED: `+a;throw Yt(e),new Error(e)}function De(a,e){a||Ye()}function N(a,e){return a}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends X.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xt{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Oe{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ve{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(dt.UNAUTHENTICATED))}shutdown(){}}class oe{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;De(void 0===this.o);let u=this.i;const f=$=>this.i!==u?(u=this.i,r($)):Promise.resolve();let m=new xt;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new xt,e.enqueueRetryable(()=>f(this.currentUser))};const C=()=>{const $=m;e.enqueueRetryable((0,c.A)(function*(){yield $.promise,yield f(s.currentUser)}))},O=$=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.o&&(this.auth.addAuthTokenListener(this.o),C())};this.t.onInit($=>O($)),setTimeout(()=>{if(!this.auth){const $=this.t.getImmediate({optional:!0});$?O($):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new xt)}},0),C()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(De("string"==typeof s.accessToken),new Oe(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(null===e||"string"==typeof e),new dt(e)}}class de{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class we{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new de(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class at{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rt{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){De(void 0===this.o);const s=f=>{null!=f.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.R;return this.R=f.token,ke("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?r(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>s(f))};const u=f=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(De("string"==typeof r.token),this.R=r.token,new at(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pn(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class Wn{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=pn(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return s}}function Lt(a,e){return a<e?-1:a>e?1:0}function br(a,e,r){return a.length===e.length&&a.every((s,u)=>r(s,e[u]))}class An{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new An(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new An(0,0))}static max(){return new Wt(new An(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class on{constructor(e,r,s){void 0===r?r=0:r>e.length&&Ye(),void 0===s?s=e.length-r:s>e.length-r&&Ye(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===on.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof on?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let u=0;u<s;u++){const f=e.get(u),m=r.get(u);if(f<m)return-1;if(f>m)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class gn extends on{construct(e,r,s){return new gn(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new gn(r)}static emptyPath(){return new gn([])}}const Xe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends on{construct(e,r,s){return new an(e,r,s)}static isValidIdentifier(e){return Xe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new an(["__name__"])}static fromServerFormat(e){const r=[];let s="",u=0;const f=()=>{if(0===s.length)throw new ae(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let m=!1;for(;u<e.length;){const C=e[u];if("\\"===C){if(u+1===e.length)throw new ae(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[u+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new ae(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=O,u+=2}else"`"===C?(m=!m,u++):"."!==C||m?(s+=C,u++):(f(),u++)}if(f(),m)throw new ae(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(r)}static emptyPath(){return new an([])}}class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(gn.fromString(e))}static fromName(e){return new Fe(gn.fromString(e).popFirst(5))}static empty(){return new Fe(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return gn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new gn(e.slice()))}}class Bn{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Bn(Wt.min(),Fe.empty(),-1)}static max(){return new Bn(Wt.max(),Fe.empty(),-1)}}function ds(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=Fe.comparator(a.documentKey,e.documentKey),0!==r?r:Lt(a.largestBatchId,e.largestBatchId))}const fn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Si{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ti(a){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,c.A)(function*(a){if(a.code!==Q.FAILED_PRECONDITION||a.message!==fn)throw a;ke("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new qe((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(r,f).next(s,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof qe?r:qe.resolve(r)}catch(r){return qe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):qe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):qe.reject(r)}static resolve(e){return new qe((r,s)=>{r(e)})}static reject(e){return new qe((r,s)=>{s(e)})}static waitFor(e){return new qe((r,s)=>{let u=0,f=0,m=!1;e.forEach(C=>{++u,C.next(()=>{++f,m&&f===u&&r()},O=>s(O))}),m=!0,f===u&&r()})}static or(e){let r=qe.resolve(!1);for(const s of e)r=r.next(u=>u?qe.resolve(u):s());return r}static forEach(e,r){const s=[];return e.forEach((u,f)=>{s.push(r.call(this,u,f))}),this.waitFor(s)}static mapArray(e,r){return new qe((s,u)=>{const f=e.length,m=new Array(f);let C=0;for(let O=0;O<f;O++){const $=O;r(e[$]).next(ie=>{m[$]=ie,++C,C===f&&s(m)},ie=>u(ie))}})}static doWhile(e,r){return new qe((s,u)=>{const f=()=>{!0===e()?r().next(()=>{f()},u):s()};f()})}}function or(a){return"IndexedDbTransactionError"===a.name}let Y=(()=>{class a{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function Ae(a){return null==a}function Re(a){return 0===a&&1/a==-1/0}function xn(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function sn(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function ii(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class _r{constructor(e,r){this.comparator=e,this.root=r||si.EMPTY}insert(e,r){return new _r(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,si.BLACK,null,null))}remove(e){return new _r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,si.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yi(this.root,e,this.comparator,!1)}getReverseIterator(){return new yi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yi(this.root,e,this.comparator,!0)}}class yi{constructor(e,r,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?s(e.key,r):1,r&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class si{constructor(e,r,s,u,f){this.key=e,this.value=r,this.color=s??si.RED,this.left=u??si.EMPTY,this.right=f??si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,u,f){return new si(e??this.key,r??this.value,s??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let u=this;const f=s(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,r,s),null):0===f?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return si.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const e=this.left.check();if(e!==this.right.check())throw Ye();return e+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1,si.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(e,r,s,u,f){return this}insert(e,r,s){return new si(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tr{constructor(e){this.comparator=e,this.data=new _r(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Zi(this.data.getIterator())}getIteratorFrom(e){return new Zi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=s.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new tr(this.comparator);return r.data=e,r}}class Zi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rr{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Rr([])}unionWith(e){let r=new tr(an.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Rr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return br(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class vs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new vs("Invalid base64 string: "+f):f}}(e);return new Yr(r)}static fromUint8Array(e){const r=function(u){let f="";for(let m=0;m<u.length;++m)f+=String.fromCharCode(u[m]);return f}(e);return new Yr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yr.EMPTY_BYTE_STRING=new Yr("");const Ms=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(a){if(De(!!a),"string"==typeof a){let e=0;const r=Ms.exec(a);if(De(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:$r(a.seconds),nanos:$r(a.nanos)}}function $r(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function hs(a){return"string"==typeof a?Yr.fromBase64String(a):Yr.fromUint8Array(a)}function uo(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function js(a){const e=a.mapValue.fields.__previous_value__;return uo(e)?js(e):e}function Ks(a){const e=es(a.mapValue.fields.__local_write_time__.timestampValue);return new An(e.seconds,e.nanos)}class Oo{constructor(e,r,s,u,f,m,C,O,$){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=C,this.longPollingOptions=O,this.useFetchStreams=$}}class Es{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Es("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Es&&e.projectId===this.projectId&&e.database===this.database}}const Ki={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ts(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?uo(a)?4:qr(a)?9007199254740991:Qs(a)?10:11:Ye()}function Bi(a,e){if(a===e)return!0;const r=ts(a);if(r!==ts(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Ks(a).isEqual(Ks(e));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const m=es(u.timestampValue),C=es(f.timestampValue);return m.seconds===C.seconds&&m.nanos===C.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return f=e,hs(a.bytesValue).isEqual(hs(f.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,f){return $r(u.geoPointValue.latitude)===$r(f.geoPointValue.latitude)&&$r(u.geoPointValue.longitude)===$r(f.geoPointValue.longitude)}(a,e);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return $r(u.integerValue)===$r(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const m=$r(u.doubleValue),C=$r(f.doubleValue);return m===C?Re(m)===Re(C):isNaN(m)&&isNaN(C)}return!1}(a,e);case 9:return br(a.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return function(u,f){const m=u.mapValue.fields||{},C=f.mapValue.fields||{};if(xn(m)!==xn(C))return!1;for(const O in m)if(m.hasOwnProperty(O)&&(void 0===C[O]||!Bi(m[O],C[O])))return!1;return!0}(a,e);default:return Ye()}var f}function $s(a,e){return void 0!==(a.values||[]).find(r=>Bi(r,e))}function ji(a,e){if(a===e)return 0;const r=ts(a),s=ts(e);if(r!==s)return Lt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Lt(a.booleanValue,e.booleanValue);case 2:return function(f,m){const C=$r(f.integerValue||f.doubleValue),O=$r(m.integerValue||m.doubleValue);return C<O?-1:C>O?1:C===O?0:isNaN(C)?isNaN(O)?0:-1:1}(a,e);case 3:return Vs(a.timestampValue,e.timestampValue);case 4:return Vs(Ks(a),Ks(e));case 5:return Lt(a.stringValue,e.stringValue);case 6:return function(f,m){const C=hs(f),O=hs(m);return C.compareTo(O)}(a.bytesValue,e.bytesValue);case 7:return function(f,m){const C=f.split("/"),O=m.split("/");for(let $=0;$<C.length&&$<O.length;$++){const ie=Lt(C[$],O[$]);if(0!==ie)return ie}return Lt(C.length,O.length)}(a.referenceValue,e.referenceValue);case 8:return function(f,m){const C=Lt($r(f.latitude),$r(m.latitude));return 0!==C?C:Lt($r(f.longitude),$r(m.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Os(a.arrayValue,e.arrayValue);case 10:return function(f,m){var C,O,$,ie;const pt=null===(C=(f.fields||{}).value)||void 0===C?void 0:C.arrayValue,Ot=null===(O=(m.fields||{}).value)||void 0===O?void 0:O.arrayValue,Jt=Lt((null===($=pt?.values)||void 0===$?void 0:$.length)||0,(null===(ie=Ot?.values)||void 0===ie?void 0:ie.length)||0);return 0!==Jt?Jt:Os(pt,Ot)}(a.mapValue,e.mapValue);case 11:return function(f,m){if(f===Ki.mapValue&&m===Ki.mapValue)return 0;if(f===Ki.mapValue)return 1;if(m===Ki.mapValue)return-1;const C=f.fields||{},O=Object.keys(C),$=m.fields||{},ie=Object.keys($);O.sort(),ie.sort();for(let he=0;he<O.length&&he<ie.length;++he){const Ve=Lt(O[he],ie[he]);if(0!==Ve)return Ve;const pt=ji(C[O[he]],$[ie[he]]);if(0!==pt)return pt}return Lt(O.length,ie.length)}(a.mapValue,e.mapValue);default:throw Ye()}}function Vs(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return Lt(a,e);const r=es(a),s=es(e),u=Lt(r.seconds,s.seconds);return 0!==u?u:Lt(r.nanos,s.nanos)}function Os(a,e){const r=a.values||[],s=e.values||[];for(let u=0;u<r.length&&u<s.length;++u){const f=ji(r[u],s[u]);if(f)return f}return Lt(r.length,s.length)}function Ts(a){return ar(a)}function ar(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const s=es(r);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?hs(a.bytesValue).toBase64():"referenceValue"in a?Fe.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let s="[",u=!0;for(const f of r.values||[])u?u=!1:s+=",",s+=ar(f);return s+"]"}(a.arrayValue):"mapValue"in a?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",f=!0;for(const m of s)f?f=!1:u+=",",u+=`${m}:${ar(r.fields[m])}`;return u+"}"}(a.mapValue):Ye()}function Nr(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Cs(a){return!!a&&"integerValue"in a}function ci(a){return!!a&&"arrayValue"in a}function xo(a){return!!a&&"nullValue"in a}function ns(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function bs(a){return!!a&&"mapValue"in a}function Qs(a){var e,r;return"__vector__"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Ls(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return sn(a.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Ls(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ls(a.arrayValue.values[r]);return e}return Object.assign({},a)}function qr(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!bs(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ls(r)}setAll(e){let r=an.emptyPath(),s={},u=[];e.forEach((m,C)=>{if(!r.isImmediateParentOf(C)){const O=this.getFieldsMap(r);this.applyChanges(O,s,u),s={},u=[],r=C.popLast()}m?s[C.lastSegment()]=Ls(m):u.push(C.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,s,u)}delete(e){const r=this.field(e.popLast());bs(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=r.mapValue.fields[e.get(s)];bs(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,s){sn(r,(u,f)=>e[u]=f);for(const u of s)delete e[u]}clone(){return new lr(Ls(this.value))}}function Hi(a){const e=[];return sn(a.fields,(r,s)=>{const u=new an([r]);if(bs(s)){const f=Hi(s.mapValue).fields;if(0===f.length)e.push(u);else for(const m of f)e.push(u.child(m))}else e.push(u)}),new Rr(e)}class qn{constructor(e,r,s,u,f,m,C){this.key=e,this.documentType=r,this.version=s,this.readTime=u,this.createTime=f,this.data=m,this.documentState=C}static newInvalidDocument(e){return new qn(e,0,Wt.min(),Wt.min(),Wt.min(),lr.empty(),0)}static newFoundDocument(e,r,s,u){return new qn(e,1,r,Wt.min(),s,u,0)}static newNoDocument(e,r){return new qn(e,2,r,Wt.min(),Wt.min(),lr.empty(),0)}static newUnknownDocument(e,r){return new qn(e,3,r,Wt.min(),Wt.min(),lr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ui{constructor(e,r){this.position=e,this.inclusive=r}}function rs(a,e,r){let s=0;for(let u=0;u<a.position.length;u++){const f=e[u],m=a.position[u];if(s=f.field.isKeyField()?Fe.comparator(Fe.fromName(m.referenceValue),r.key):ji(m,r.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function jn(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Bi(a.position[r],e.position[r]))return!1;return!0}class Pi{constructor(e,r="asc"){this.field=e,this.dir=r}}function Xs(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class xs{}class Nn extends xs{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new ir(e,r,s):"array-contains"===r?new vi(e,s):"in"===r?new No(e,s):"not-in"===r?new is(e,s):"array-contains-any"===r?new Hs(e,s):new Nn(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new aa(e,s):new Us(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(ji(r,this.value)):null!==r&&ts(this.value)===ts(r)&&this.matchesComparison(ji(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends xs{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Tr(e,r)}matches(e){return Kr(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Kr(a){return"and"===a.op}function ws(a){return function jo(a){for(const e of a.filters)if(e instanceof Tr)return!1;return!0}(a)&&Kr(a)}function fs(a){if(a instanceof Nn)return a.field.canonicalString()+a.op.toString()+Ts(a.value);if(ws(a))return a.filters.map(e=>fs(e)).join(",");{const e=a.filters.map(r=>fs(r)).join(",");return`${a.op}(${e})`}}function ps(a,e){return a instanceof Nn?(s=a,(u=e)instanceof Nn&&s.op===u.op&&s.field.isEqual(u.field)&&Bi(s.value,u.value)):a instanceof Tr?function(s,u){return u instanceof Tr&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((f,m,C)=>f&&ps(m,u.filters[C]),!0)}(a,e):void Ye();var s,u}function Ns(a){return a instanceof Nn?`${(r=a).field.canonicalString()} ${r.op} ${Ts(r.value)}`:a instanceof Tr?function(r){return r.op.toString()+" {"+r.getFilters().map(Ns).join(" ,")+"}"}(a):"Filter";var r}class ir extends Nn{constructor(e,r,s){super(e,r,s),this.key=Fe.fromName(s.referenceValue)}matches(e){const r=Fe.comparator(e.key,this.key);return this.matchesComparison(r)}}class aa extends Nn{constructor(e,r){super(e,"in",r),this.keys=$o(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Us extends Nn{constructor(e,r){super(e,"not-in",r),this.keys=$o(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function $o(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Fe.fromName(s.referenceValue))}class vi extends Nn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ci(r)&&$s(r.arrayValue,this.value)}}class No extends Nn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&$s(this.value.arrayValue,r)}}class is extends Nn{constructor(e,r){super(e,"not-in",r)}matches(e){if($s(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!$s(this.value.arrayValue,r)}}class Hs extends Nn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ci(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>$s(this.value.arrayValue,s))}}class xi{constructor(e,r=null,s=[],u=[],f=null,m=null,C=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=m,this.endAt=C,this.ue=null}}function ko(a,e=null,r=[],s=[],u=null,f=null,m=null){return new xi(a,e,r,s,u,f,m)}function di(a){const e=N(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>fs(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),Ae(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Ts(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Ts(s)).join(",")),e.ue=r}return e.ue}function z(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!Xs(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!ps(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!jn(a.startAt,e.startAt)&&jn(a.endAt,e.endAt)}function q(a){return Fe.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}class Et{constructor(e,r=null,s=[],u=[],f=null,m="F",C=null,O=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=m,this.startAt=C,this.endAt=O,this.ce=null,this.le=null,this.he=null}}function B(a){return new Et(a)}function M(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function Z(a){return null!==a.collectionGroup}function Ie(a){const e=N(a);if(null===e.ce){e.ce=[];const r=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),r.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let C=new tr(an.comparator);return m.filters.forEach(O=>{O.getFlattenedFilters().forEach($=>{$.isInequality()&&(C=C.add($.field))})}),C})(e).forEach(f=>{r.has(f.canonicalString())||f.isKeyField()||e.ce.push(new Pi(f,s))}),r.has(an.keyField().canonicalString())||e.ce.push(new Pi(an.keyField(),s))}return e.ce}function kt(a){const e=N(a);return e.le||(e.le=function Mr(a,e){if("F"===a.limitType)return ko(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>new Pi(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new ui(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new ui(a.startAt.position,a.startAt.inclusive):null;return ko(a.path,a.collectionGroup,e,a.filters,a.limit,r,s)}}(e,Ie(a))),e.le}function Jr(a,e){const r=a.filters.concat([e]);return new Et(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function _i(a,e,r){return new Et(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function Hr(a,e){return z(kt(a),kt(e))&&a.limitType===e.limitType}function Gi(a){return`${di(kt(a))}|lt:${a.limitType}`}function gi(a){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>Ns(u)).join(", ")}]`),Ae(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(m=u).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>Ts(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>Ts(u)).join(",")),`Target(${s})`}(kt(a))}; limitType=${a.limitType})`}function Ur(a,e){return e.isFoundDocument()&&function(s,u){const f=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):Fe.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(a,e)&&function(s,u){for(const f of Ie(s))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(a,e)&&function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0}(a,e)&&(u=e,!((s=a).startAt&&!function(m,C,O){const $=rs(m,C,O);return m.inclusive?$<=0:$<0}(s.startAt,Ie(s),u)||s.endAt&&!function(m,C,O){const $=rs(m,C,O);return m.inclusive?$>=0:$>0}(s.endAt,Ie(s),u)));var s,u}function Eo(a){return(e,r)=>{let s=!1;for(const u of Ie(a)){const f=Ys(u,e,r);if(0!==f)return f;s=s||u.field.isKeyField()}return 0}}function Ys(a,e,r){const s=a.field.isKeyField()?Fe.comparator(e.key,r.key):function(f,m,C){const O=m.data.field(f),$=C.data.field(f);return null!==O&&null!==$?ji(O,$):Ye()}(a.field,e,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Ye()}}class gs{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[u,f]of s)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,r]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){sn(this.inner,(r,s)=>{for(const[u,f]of s)e(u,f)})}isEmpty(){return ii(this.inner)}size(){return this.innerSize}}const lo=new _r(Fe.comparator);function te(){return lo}const v=new _r(Fe.comparator);function b(...a){let e=v;for(const r of a)e=e.insert(r.key,r);return e}function k(a){let e=v;return a.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function J(){return Ne()}function ce(){return Ne()}function Ne(){return new gs(a=>a.toString(),(a,e)=>a.isEqual(e))}const Pe=new _r(Fe.comparator),ut=new tr(Fe.comparator);function Ze(...a){let e=ut;for(const r of a)e=e.add(r);return e}const En=new tr(Lt);function Ar(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Re(e)?"-0":e}}function sr(a){return{integerValue:""+a}}function Gn(a,e){return function Tt(a){return"number"==typeof a&&Number.isInteger(a)&&!Re(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}(e)?sr(e):Ar(a,e)}class Jn{constructor(){this._=void 0}}function li(a,e,r){return a instanceof Ii?function(u,f){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&uo(f)&&(f=js(f)),f&&(m.fields.__previous_value__=f),{mapValue:m}}(r,e):a instanceof Ti?As(a,e):a instanceof Ni?ki(a,e):function(u,f){const m=zi(u,f),C=Gs(m)+Gs(u.Pe);return Cs(m)&&Cs(u.Pe)?sr(C):Ar(u.serializer,C)}(a,e)}function Ei(a,e,r){return a instanceof Ti?As(a,e):a instanceof Ni?ki(a,e):r}function zi(a,e){return a instanceof ss?Cs(s=e)||(f=s)&&"doubleValue"in f?e:{integerValue:0}:null;var s,f}class Ii extends Jn{}class Ti extends Jn{constructor(e){super(),this.elements=e}}function As(a,e){const r=Io(e);for(const s of a.elements)r.some(u=>Bi(u,s))||r.push(s);return{arrayValue:{values:r}}}class Ni extends Jn{constructor(e){super(),this.elements=e}}function ki(a,e){let r=Io(e);for(const s of a.elements)r=r.filter(u=>!Bi(u,s));return{arrayValue:{values:r}}}class ss extends Jn{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Gs(a){return $r(a.integerValue||a.doubleValue)}function Io(a){return ci(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class A{constructor(e,r){this.field=e,this.transform=r}}class F{constructor(e,r){this.version=e,this.transformResults=r}}class G{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new G}static exists(e){return new G(void 0,e)}static updateTime(e){return new G(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Te(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class je{}function it(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new Gr(a.key,G.none()):new $n(a.key,a.data,G.none());{const r=a.data,s=lr.empty();let u=new tr(an.comparator);for(let f of e.fields)if(!u.has(f)){let m=r.field(f);null===m&&f.length>1&&(f=f.popLast(),m=r.field(f)),null===m?s.delete(f):s.set(f,m),u=u.add(f)}return new yr(a.key,s,new Rr(u.toArray()),G.none())}}function Ft(a,e,r){a instanceof $n?function(u,f,m){const C=u.value.clone(),O=Di(u.fieldTransforms,f,m.transformResults);C.setAll(O),f.convertToFoundDocument(m.version,C).setHasCommittedMutations()}(a,e,r):a instanceof yr?function(u,f,m){if(!Te(u.precondition,f))return void f.convertToUnknownDocument(m.version);const C=Di(u.fieldTransforms,f,m.transformResults),O=f.data;O.setAll(Qn(u)),O.setAll(C),f.convertToFoundDocument(m.version,O).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Fn(a,e,r,s){return a instanceof $n?function(f,m,C,O){if(!Te(f.precondition,m))return C;const $=f.value.clone(),ie=Js(f.fieldTransforms,O,m);return $.setAll(ie),m.convertToFoundDocument(m.version,$).setHasLocalMutations(),null}(a,e,r,s):a instanceof yr?function(f,m,C,O){if(!Te(f.precondition,m))return C;const $=Js(f.fieldTransforms,O,m),ie=m.data;return ie.setAll(Qn(f)),ie.setAll($),m.convertToFoundDocument(m.version,ie).setHasLocalMutations(),null===C?null:C.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(he=>he.field))}(a,e,r,s):(C=r,Te(a.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):C);var m,C}function pr(a,e){let r=null;for(const s of a.fieldTransforms){const u=e.data.field(s.field),f=zi(s.transform,u||null);null!=f&&(null===r&&(r=lr.empty()),r.set(s.field,f))}return r||null}function mr(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=a.fieldTransforms)&&void 0===u||s&&u&&br(s,u,(f,m)=>function ee(a,e){return a.field.isEqual(e.field)&&(u=e.transform,(s=a.transform)instanceof Ti&&u instanceof Ti||s instanceof Ni&&u instanceof Ni?br(s.elements,u.elements,Bi):s instanceof ss&&u instanceof ss?Bi(s.Pe,u.Pe):s instanceof Ii&&u instanceof Ii);var s,u}(f,m))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var s,u}class $n extends je{constructor(e,r,s,u=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class yr extends je{constructor(e,r,s,u,f=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Qn(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=a.data.field(r);e.set(r,s)}}),e}function Di(a,e,r){const s=new Map;De(a.length===r.length);for(let u=0;u<r.length;u++){const f=a[u],m=f.transform,C=e.data.field(f.field);s.set(f.field,Ei(m,C,r[u]))}return s}function Js(a,e,r){const s=new Map;for(const u of a){const f=u.transform,m=r.data.field(u.field);s.set(u.field,li(f,m,e))}return s}class Gr extends je{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ms extends je{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Br{constructor(e,r,s,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&Ft(f,e,s[u])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Fn(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Fn(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=ce();return this.mutations.forEach(u=>{const f=e.get(u.key),m=f.overlayedDocument;let C=this.applyToLocalView(m,f.mutatedFields);C=r.has(u.key)?null:C;const O=it(m,C);null!==O&&s.set(u.key,O),m.isValidDocument()||m.convertToNoDocument(Wt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ze())}isEqual(e){return this.batchId===e.batchId&&br(this.mutations,e.mutations,(r,s)=>mr(r,s))&&br(this.baseMutations,e.baseMutations,(r,s)=>mr(r,s))}}class Ds{constructor(e,r,s,u){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(e,r,s){De(e.mutations.length===s.length);let u=Pe;const f=e.mutations;for(let m=0;m<f.length;m++)u=u.insert(f[m].key,s[m].version);return new Ds(e,r,s,u)}}class zs{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ll{constructor(e,r){this.count=e,this.unchangedNames=r}}var Qi,Zr;function rc(a){if(void 0===a)return Yt("GRPC error has no .code"),Q.UNKNOWN;switch(a){case Qi.OK:return Q.OK;case Qi.CANCELLED:return Q.CANCELLED;case Qi.UNKNOWN:return Q.UNKNOWN;case Qi.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Qi.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Qi.INTERNAL:return Q.INTERNAL;case Qi.UNAVAILABLE:return Q.UNAVAILABLE;case Qi.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Qi.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Qi.NOT_FOUND:return Q.NOT_FOUND;case Qi.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Qi.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Qi.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Qi.ABORTED:return Q.ABORTED;case Qi.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Qi.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Qi.DATA_LOSS:return Q.DATA_LOSS;default:return Ye()}}(Zr=Qi||(Qi={}))[Zr.OK=0]="OK",Zr[Zr.CANCELLED=1]="CANCELLED",Zr[Zr.UNKNOWN=2]="UNKNOWN",Zr[Zr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zr[Zr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zr[Zr.NOT_FOUND=5]="NOT_FOUND",Zr[Zr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zr[Zr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zr[Zr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zr[Zr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zr[Zr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zr[Zr.ABORTED=10]="ABORTED",Zr[Zr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zr[Zr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zr[Zr.INTERNAL=13]="INTERNAL",Zr[Zr.UNAVAILABLE=14]="UNAVAILABLE",Zr[Zr.DATA_LOSS=15]="DATA_LOSS";const Cu=new Qe([4294967295,4294967295],0);function ic(a){const e=function Yo(){return new TextEncoder}().encode(a),r=new st;return r.update(e),new Uint8Array(r.digest())}function To(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Qe([r,s],0),new Qe([u,f],0)]}class cl{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Ka(`Invalid padding: ${r}`);if(s<0)throw new Ka(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Ka(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Ka(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Qe.fromNumber(this.Ie)}Ee(e,r,s){let u=e.add(r.multiply(Qe.fromNumber(s)));return 1===u.compare(Cu)&&(u=new Qe([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=ic(e),[s,u]=To(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(s,u,f);if(!this.de(m))return!1}return!0}static create(e,r,s){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),m=new cl(f,u,r);return s.forEach(C=>m.insert(C)),m}insert(e){if(0===this.Ie)return;const r=ic(e),[s,u]=To(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(s,u,f);this.Ae(m)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cr{constructor(e,r,s,u,f){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const u=new Map;return u.set(e,Ca.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Cr(Wt.min(),u,new _r(Lt),te(),Ze())}}class Ca{constructor(e,r,s,u,f){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Ca(s,r,Ze(),Ze(),Ze())}}class ua{constructor(e,r,s,u){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=u}}class os{constructor(e,r){this.targetId=e,this.me=r}}class Go{constructor(e,r,s=Yr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=u}}class Qa{constructor(){this.fe=0,this.ge=nd(),this.pe=Yr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ze(),r=Ze(),s=Ze();return this.ge.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:Ye()}}),new Ca(this.pe,this.ye,e,r,s)}Ce(){this.we=!1,this.ge=nd()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ba{constructor(e){this.Le=e,this.Be=new Map,this.ke=te(),this.qe=co(),this.Qe=new _r(Lt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:Ye()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,s=e.me.count,u=this.Je(r);if(u){const f=u.target;if(q(f))if(0===s){const m=new Fe(f.path);this.Ue(r,m,qn.newNoDocument(m,Wt.min()))}else De(1===s);else{const m=this.Ye(r);if(m!==s){const C=this.Ze(e),O=C?this.Xe(C,e,m):1;0!==O&&(this.je(r),this.Qe=this.Qe.insert(r,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=r;let m,C;try{m=hs(s).toUint8Array()}catch(O){if(O instanceof vs)return Ln("Decoding the base64 bloom filter in existence filter failed ("+O.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw O}try{C=new cl(m,u,f)}catch(O){return Ln(O instanceof Ka?"BloomFilter error: ":"Applying bloom filter failed: ",O),null}return 0===C.Ie?null:C}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let u=0;return s.forEach(f=>{const m=this.Le.tt(),C=`projects/${m.projectId}/databases/${m.database}/documents/${f.path.canonicalString()}`;e.mightContain(C)||(this.Ue(r,f,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((f,m)=>{const C=this.Je(m);if(C){if(f.current&&q(C.target)){const O=new Fe(C.target.path);null!==this.ke.get(O)||this.it(m,O)||this.Ue(m,O,qn.newNoDocument(O,e))}f.be&&(r.set(m,f.ve()),f.Ce())}});let s=Ze();this.qe.forEach((f,m)=>{let C=!0;m.forEachWhile(O=>{const $=this.Je(O);return!$||"TargetPurposeLimboResolution"===$.purpose||(C=!1,!1)}),C&&(s=s.add(f))}),this.ke.forEach((f,m)=>m.setReadTime(e));const u=new Cr(e,r,this.Qe,this.ke,s);return this.ke=te(),this.qe=co(),this.Qe=new _r(Lt),u}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Qa,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new tr(Lt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||ke("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qa),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function co(){return new _r(Fe.comparator)}function nd(){return new _r(Fe.comparator)}const Mh={asc:"ASCENDING",desc:"DESCENDING"},dl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zo={and:"AND",or:"OR"};class hl{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function wa(a,e){return a.useProto3Json||Ae(e)?e:{value:e}}function Zs(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Aa(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function sc(a,e){return Zs(a,e.toTimestamp())}function as(a){return De(!!a),Wt.fromTimestamp(function(r){const s=es(r);return new An(s.seconds,s.nanos)}(a))}function cr(a,e){return bu(a,e).canonicalString()}function bu(a,e){const r=(u=a,new gn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function oc(a){const e=gn.fromString(a);return De(Ra(e)),e}function Da(a,e){return cr(a.databaseId,e.path)}function Co(a,e){const r=oc(e);if(r.get(1)!==a.databaseId.projectId)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Fe(lc(r))}function ac(a,e){return cr(a.databaseId,e)}function bo(a){return new gn(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function lc(a){return De(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function us(a,e,r){return{name:Da(a,e),fields:r.value.mapValue.fields}}function wu(a,e){return{documents:[ac(a,e.path)]}}function ls(a,e){const r={structuredQuery:{}},s=e.path;let u;null!==e.collectionGroup?(u=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=ac(a,u);const f=function($){if(0!==$.length)return wo(Tr.create($,"and"))}(e.filters);f&&(r.structuredQuery.where=f);const m=function($){if(0!==$.length)return $.map(ie=>{return{field:Fo((Ve=ie).field),direction:fl(Ve.dir)};var Ve})}(e.orderBy);m&&(r.structuredQuery.orderBy=m);const C=wa(a,e.limit);return null!==C&&(r.structuredQuery.limit=C),e.startAt&&(r.structuredQuery.startAt={before:($=e.startAt).inclusive,values:$.position}),e.endAt&&(r.structuredQuery.endAt=function($){return{before:!$.inclusive,values:$.position}}(e.endAt)),{_t:r,parent:u};var $}function la(a){let e=function uc(a){const e=oc(a);return 4===e.length?gn.emptyPath():lc(e)}(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){De(1===s);const ie=r.from[0];ie.allDescendants?u=ie.collectionId:e=e.child(ie.collectionId)}let f=[];r.where&&(f=function(he){const Ve=ca(he);return Ve instanceof Tr&&ws(Ve)?Ve.getFilters():[Ve]}(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(Ve=>{return new Pi(_s((Ot=Ve).field),function(Gt){switch(Gt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ot.direction));var Ot}));let C=null;r.limit&&(C=function(he){let Ve;return Ve="object"==typeof he?he.value:he,Ae(Ve)?null:Ve}(r.limit));let O=null;var he;r.startAt&&(O=new ui((he=r.startAt).values||[],!!he.before));let $=null;return r.endAt&&($=function(he){return new ui(he.values||[],!he.before)}(r.endAt)),function V(a,e,r,s,u,f,m,C){return new Et(a,e,r,s,u,f,m,C)}(e,u,m,f,C,"F",O,$)}function ca(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=_s(r.unaryFilter.field);return Nn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=_s(r.unaryFilter.field);return Nn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=_s(r.unaryFilter.field);return Nn.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=_s(r.unaryFilter.field);return Nn.create(m,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}}(a):void 0!==a.fieldFilter?Nn.create(_s((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return Tr.create(r.compositeFilter.filters.map(s=>ca(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Ye()}}(r.compositeFilter.op))}(a):Ye();var r}function fl(a){return Mh[a]}function Au(a){return dl[a]}function sd(a){return zo[a]}function Fo(a){return{fieldPath:a.canonicalString()}}function _s(a){return an.fromServerFormat(a.fieldPath)}function wo(a){return a instanceof Nn?function(r){if("=="===r.op){if(ns(r.value))return{unaryFilter:{field:Fo(r.field),op:"IS_NAN"}};if(xo(r.value))return{unaryFilter:{field:Fo(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(ns(r.value))return{unaryFilter:{field:Fo(r.field),op:"IS_NOT_NAN"}};if(xo(r.value))return{unaryFilter:{field:Fo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(r.field),op:Au(r.op),value:r.value}}}(a):a instanceof Tr?function(r){const s=r.getFilters().map(u=>wo(u));return 1===s.length?s[0]:{compositeFilter:{op:sd(r.op),filters:s}}}(a):Ye()}function hc(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Ra(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class Bs{constructor(e,r,s,u,f=Wt.min(),m=Wt.min(),C=Yr.EMPTY_BYTE_STRING,O=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=C,this.expectedCount=O}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class I{constructor(e){this.ct=e}}function yn(a){const e=la({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?_i(e,e.limit,"L"):e}class Ao{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At($r(e.integerValue));else if("doubleValue"in e){const s=$r(e.doubleValue);isNaN(s)?this.dt(r,13):(this.dt(r,15),Re(s)?r.At(0):r.At(s))}else if("timestampValue"in e){let s=e.timestampValue;this.dt(r,20),"string"==typeof s&&(s=es(s)),r.Rt(`${s.seconds||""}`),r.At(s.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(hs(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.dt(r,45),r.At(s.latitude||0),r.At(s.longitude||0)}else"mapValue"in e?qr(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Qs(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):Ye()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const s=e.fields||{};this.dt(r,55);for(const u of Object.keys(s))this.Vt(u,r),this.Tt(s[u],r)}wt(e,r){var s,u;const f=e.fields||{};this.dt(r,53);const m="value",C=(null===(u=null===(s=f[m].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(r,15),r.At($r(C)),this.Vt(m,r),this.Tt(f[m],r)}bt(e,r){const s=e.values||[];this.dt(r,50);for(const u of s)this.Tt(u,r)}yt(e,r){this.dt(r,37),Fe.fromName(e).path.forEach(s=>{this.dt(r,60),this.Dt(s,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}Ao.vt=new Ao;class um{constructor(){this.un=new cp}addToCollectionParentIndex(e,r){return this.un.add(r),qe.resolve()}getCollectionParents(e,r){return qe.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return qe.resolve()}deleteFieldIndex(e,r){return qe.resolve()}deleteAllFieldIndexes(e){return qe.resolve()}createTargetIndexes(e,r){return qe.resolve()}getDocumentsMatchingTarget(e,r){return qe.resolve(null)}getIndexType(e,r){return qe.resolve(0)}getFieldIndexes(e,r){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,r){return qe.resolve(Bn.min())}getMinOffsetFromCollectionGroup(e,r){return qe.resolve(Bn.min())}updateCollectionGroup(e,r,s){return qe.resolve()}updateIndexEntries(e,r){return qe.resolve()}}class cp{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r]||new tr(gn.comparator),f=!u.has(s);return this.index[r]=u.add(s),f}has(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(e){return(this.index[e]||new tr(gn.comparator)).toArray()}}new Uint8Array(0);class no{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new no(e,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}no.DEFAULT_COLLECTION_PERCENTILE=10,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,no.DEFAULT=new no(41943040,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),no.DISABLED=new no(-1,0,0);class Ws{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ws(0)}static kn(){return new Ws(-1)}}class fd{constructor(){this.changes=new gs(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?qe.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fp{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class vl{constructor(e,r,s,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==s&&Fn(s.mutation,u,Rr.empty(),An.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,Ze()).next(()=>s))}getLocalViewOfDocuments(e,r,s=Ze()){const u=J();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,s).next(f=>{let m=b();return f.forEach((C,O)=>{m=m.insert(C,O.overlayedDocument)}),m}))}getOverlayedDocuments(e,r){const s=J();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,Ze()))}populateOverlays(e,r,s){const u=[];return s.forEach(f=>{r.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((m,C)=>{r.set(m,C)})})}computeViews(e,r,s,u){let f=te();const m=Ne(),C=Ne();return r.forEach((O,$)=>{const ie=s.get($.key);u.has($.key)&&(void 0===ie||ie.mutation instanceof yr)?f=f.insert($.key,$):void 0!==ie?(m.set($.key,ie.mutation.getFieldMask()),Fn(ie.mutation,$,ie.mutation.getFieldMask(),An.now())):m.set($.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,f).next(O=>(O.forEach(($,ie)=>m.set($,ie)),r.forEach(($,ie)=>{var he;return C.set($,new fp(ie,null!==(he=m.get($))&&void 0!==he?he:null))}),C))}recalculateAndSaveOverlays(e,r){const s=Ne();let u=new _r((m,C)=>m-C),f=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(m=>{for(const C of m)C.keys().forEach(O=>{const $=r.get(O);if(null===$)return;let ie=s.get(O)||Rr.empty();ie=C.applyToLocalView($,ie),s.set(O,ie);const he=(u.get(C.batchId)||Ze()).add(O);u=u.insert(C.batchId,he)})}).next(()=>{const m=[],C=u.getReverseIterator();for(;C.hasNext();){const O=C.getNext(),$=O.key,ie=O.value,he=ce();ie.forEach(Ve=>{if(!f.has(Ve)){const pt=it(r.get(Ve),s.get(Ve));null!==pt&&he.set(Ve,pt),f=f.add(Ve)}}),m.push(this.documentOverlayCache.saveOverlays(e,$,he))}return qe.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,u){return Fe.isDocumentKey((m=r).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Z(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,u):this.getDocumentsMatchingCollectionQuery(e,r,s,u);var m}getNextDocuments(e,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,u).next(f=>{const m=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,u-f.size):qe.resolve(J());let C=-1,O=f;return m.next($=>qe.forEach($,(ie,he)=>(C<he.largestBatchId&&(C=he.largestBatchId),f.get(ie)?qe.resolve():this.remoteDocumentCache.getEntry(e,ie).next(Ve=>{O=O.insert(ie,Ve)}))).next(()=>this.populateOverlays(e,$,f)).next(()=>this.computeViews(e,O,$,Ze())).next(ie=>({batchId:C,changes:k(ie)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Fe(r)).next(s=>{let u=b();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,s,u){const f=r.collectionGroup;let m=b();return this.indexManager.getCollectionParents(e,f).next(C=>qe.forEach(C,O=>{const $=(he=r,Ve=O.child(f),new Et(Ve,null,he.explicitOrderBy.slice(),he.filters.slice(),he.limit,he.limitType,he.startAt,he.endAt));var he,Ve;return this.getDocumentsMatchingCollectionQuery(e,$,s,u).next(ie=>{ie.forEach((he,Ve)=>{m=m.insert(he,Ve)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,r,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,f,u))).next(m=>{f.forEach((O,$)=>{const ie=$.getKey();null===m.get(ie)&&(m=m.insert(ie,qn.newInvalidDocument(ie)))});let C=b();return m.forEach((O,$)=>{const ie=f.get(O);void 0!==ie&&Fn(ie.mutation,$,Rr.empty(),An.now()),Ur(r,$)&&(C=C.insert(O,$))}),C})}}class _d{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return qe.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(u=r).id,version:u.version,createTime:as(u.createTime)}),qe.resolve();var u}getNamedQuery(e,r){return qe.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(u=r).name,query:yn(u.bundledQuery),readTime:as(u.readTime)}),qe.resolve();var u}}class pp{constructor(){this.overlays=new _r(Fe.comparator),this.Ir=new Map}getOverlay(e,r){return qe.resolve(this.overlays.get(r))}getOverlays(e,r){const s=J();return qe.forEach(r,u=>this.getOverlay(e,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((u,f)=>{this.ht(e,r,f)}),qe.resolve()}removeOverlaysForBatchId(e,r,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.Ir.delete(s)),qe.resolve()}getOverlaysForCollection(e,r,s){const u=J(),f=r.length+1,m=new Fe(r.child("")),C=this.overlays.getIteratorFrom(m);for(;C.hasNext();){const O=C.getNext().value,$=O.getKey();if(!r.isPrefixOf($.path))break;$.path.length===f&&O.largestBatchId>s&&u.set(O.getKey(),O)}return qe.resolve(u)}getOverlaysForCollectionGroup(e,r,s,u){let f=new _r(($,ie)=>$-ie);const m=this.overlays.getIterator();for(;m.hasNext();){const $=m.getNext().value;if($.getKey().getCollectionGroup()===r&&$.largestBatchId>s){let ie=f.get($.largestBatchId);null===ie&&(ie=J(),f=f.insert($.largestBatchId,ie)),ie.set($.getKey(),$)}}const C=J(),O=f.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach(($,ie)=>C.set($,ie)),!(C.size()>=u)););return qe.resolve(C)}ht(e,r,s){const u=this.overlays.get(s.key);if(null!==u){const m=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new zs(r,s));let f=this.Ir.get(r);void 0===f&&(f=Ze(),this.Ir.set(r,f)),this.Ir.set(r,f.add(s.key))}}class Nh{constructor(){this.sessionToken=Yr.EMPTY_BYTE_STRING}getSessionToken(e){return qe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,qe.resolve()}}class tu{constructor(){this.Tr=new tr(Xi.Er),this.dr=new tr(Xi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const s=new Xi(e,r);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Vr(new Xi(e,r))}mr(e,r){e.forEach(s=>this.removeReference(s,r))}gr(e){const r=new Fe(new gn([])),s=new Xi(r,e),u=new Xi(r,e+1),f=[];return this.dr.forEachInRange([s,u],m=>{this.Vr(m),f.push(m.key)}),f}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Fe(new gn([])),s=new Xi(r,e),u=new Xi(r,e+1);let f=Ze();return this.dr.forEachInRange([s,u],m=>{f=f.add(m.key)}),f}containsKey(e){const r=new Xi(e,0),s=this.Tr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class Xi{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Fe.comparator(e.key,r.key)||Lt(e.wr,r.wr)}static Ar(e,r){return Lt(e.wr,r.wr)||Fe.comparator(e.key,r.key)}}class Mu{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new tr(Xi.Er)}checkEmpty(e){return qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,u){const f=this.Sr;this.Sr++;const m=new Br(f,r,s,u);this.mutationQueue.push(m);for(const C of u)this.br=this.br.add(new Xi(C.key,f)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return qe.resolve(m)}lookupMutationBatch(e,r){return qe.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.vr(r+1),f=u<0?0:u;return qe.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Xi(r,0),u=new Xi(r,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([s,u],m=>{const C=this.Dr(m.wr);f.push(C)}),qe.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new tr(Lt);return r.forEach(u=>{const f=new Xi(u,0),m=new Xi(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,m],C=>{s=s.add(C.wr)})}),qe.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1;let f=s;Fe.isDocumentKey(f)||(f=f.child(""));const m=new Xi(new Fe(f),0);let C=new tr(Lt);return this.br.forEachWhile(O=>{const $=O.key.path;return!!s.isPrefixOf($)&&($.length===u&&(C=C.add(O.wr)),!0)},m),qe.resolve(this.Cr(C))}Cr(e){const r=[];return e.forEach(s=>{const u=this.Dr(s);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){De(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return qe.forEach(r.mutations,u=>{const f=new Xi(u.key,r.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,r){const s=new Xi(r,0),u=this.br.firstAfterOrEqual(s);return qe.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return qe.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class nu{constructor(e){this.Mr=e,this.docs=new _r(Fe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,u=this.docs.get(s),f=u?u.size:0,m=this.Mr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return qe.resolve(s?s.document.mutableCopy():qn.newInvalidDocument(r))}getEntries(e,r){let s=te();return r.forEach(u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():qn.newInvalidDocument(u))}),qe.resolve(s)}getDocumentsMatchingQuery(e,r,s,u){let f=te();const m=r.path,C=new Fe(m.child("")),O=this.docs.getIteratorFrom(C);for(;O.hasNext();){const{key:$,value:{document:ie}}=O.getNext();if(!m.isPrefixOf($.path))break;$.path.length>m.length+1||ds(new Bn((a=ie).readTime,a.key,-1),s)<=0||(u.has(ie.key)||Ur(r,ie))&&(f=f.insert(ie.key,ie.mutableCopy()))}var a;return qe.resolve(f)}getAllFromCollectionGroup(e,r,s,u){Ye()}Or(e,r){return qe.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new kh(this)}getSize(e){return qe.resolve(this.size)}}class kh extends fd{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.cr.addEntry(e,u)):this.cr.removeEntry(s)}),qe.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class Ou{constructor(e){this.persistence=e,this.Nr=new gs(r=>di(r),z),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tu,this.targetCount=0,this.kr=Ws.Bn()}forEachTarget(e,r){return this.Nr.forEach((s,u)=>r(u)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Lr&&(this.Lr=r),qe.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Ws(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,qe.resolve()}updateTargetData(e,r){return this.Kn(r),qe.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,r,s){let u=0;const f=[];return this.Nr.forEach((m,C)=>{C.sequenceNumber<=r&&null===s.get(C.targetId)&&(this.Nr.delete(m),f.push(this.removeMatchingKeysForTargetId(e,C.targetId)),u++)}),qe.waitFor(f).next(()=>u)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,r){const s=this.Nr.get(r)||null;return qe.resolve(s)}addMatchingKeys(e,r,s){return this.Br.Rr(r,s),qe.resolve()}removeMatchingKeys(e,r,s){this.Br.mr(r,s);const u=this.persistence.referenceDelegate,f=[];return u&&r.forEach(m=>{f.push(u.markPotentiallyOrphaned(e,m))}),qe.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),qe.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Br.yr(r);return qe.resolve(s)}containsKey(e,r){return qe.resolve(this.Br.containsKey(r))}}class Fa{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Y(0),this.Kr=!1,this.Kr=!0,this.$r=new Nh,this.referenceDelegate=e(this),this.Ur=new Ou(this),this.indexManager=new um,this.remoteDocumentCache=new nu(s=>this.referenceDelegate.Wr(s)),this.serializer=new I(r),this.Gr=new _d(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new pp,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.qr[e.toKey()];return s||(s=new Mu(r,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,s){ke("MemoryPersistence","Starting transaction:",e);const u=new cm(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(f=>this.referenceDelegate.jr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Hr(e,r){return qe.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,r)))}}class cm extends Si{constructor(e){super(),this.currentSequenceNumber=e}}class mc{constructor(e){this.persistence=e,this.Jr=new tu,this.Yr=null}static Zr(e){return new mc(e)}get Xr(){if(this.Yr)return this.Yr;throw Ye()}addReference(e,r,s){return this.Jr.addReference(s,r),this.Xr.delete(s.toString()),qe.resolve()}removeReference(e,r,s){return this.Jr.removeReference(s,r),this.Xr.add(s.toString()),qe.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),qe.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(f=>this.Xr.add(f.toString()))}).next(()=>s.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Xr,s=>{const u=Fe.fromPath(s);return this.ei(e,u).next(f=>{f||r.removeEntry(u,Wt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(s=>{s?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return qe.or([()=>qe.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class Ed{constructor(e,r,s,u){this.targetId=e,this.fromCache=r,this.$i=s,this.Ui=u}static Wi(e,r){let s=Ze(),u=Ze();for(const f of r.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Ed(e,r.fromCache,s,u)}}class ks{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Lh{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,X.nr)()?8:function Ri(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}((0,X.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,s,u){const f={result:null};return this.Yi(e,r).next(m=>{f.result=m}).next(()=>{if(!f.result)return this.Zi(e,r,u,s).next(m=>{f.result=m})}).next(()=>{if(f.result)return;const m=new ks;return this.Xi(e,r,m).next(C=>{if(f.result=C,this.zi)return this.es(e,r,m,C.size)})}).next(()=>f.result)}es(e,r,s,u){return s.documentReadCount<this.ji?(Ht()<=Ee.$b.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",gi(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),qe.resolve()):(Ht()<=Ee.$b.DEBUG&&ke("QueryEngine","Query:",gi(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(Ht()<=Ee.$b.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",gi(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kt(r))):qe.resolve())}Yi(e,r){if(M(r))return qe.resolve(null);let s=kt(r);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=_i(r,null,"F"),s=kt(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(f=>{const m=Ze(...f);return this.Ji.getDocuments(e,m).next(C=>this.indexManager.getMinOffset(e,s).next(O=>{const $=this.ts(r,C);return this.ns(r,$,m,O.readTime)?this.Yi(e,_i(r,null,"F")):this.rs(e,$,r,O)}))})))}Zi(e,r,s,u){return M(r)||u.isEqual(Wt.min())?qe.resolve(null):this.Ji.getDocuments(e,s).next(f=>{const m=this.ts(r,f);return this.ns(r,m,s,u)?qe.resolve(null):(Ht()<=Ee.$b.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),gi(r)),this.rs(e,m,r,function Fr(a,e){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=Wt.fromTimestamp(1e9===s?new An(r+1,0):new An(r,s));return new Bn(u,Fe.empty(),e)}(u,-1)).next(C=>C))})}ts(e,r){let s=new tr(Eo(e));return r.forEach((u,f)=>{Ur(e,f)&&(s=s.add(f))}),s}ns(e,r,s,u){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const f="F"===e.limitType?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Xi(e,r,s){return Ht()<=Ee.$b.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",gi(r)),this.Ji.getDocumentsMatchingQuery(e,r,Bn.min(),s)}rs(e,r,s,u){return this.Ji.getDocumentsMatchingQuery(e,s,u).next(f=>(r.forEach(m=>{f=f.insert(m.key,m)}),f))}}class Nu{constructor(e,r,s,u){this.persistence=e,this.ss=r,this.serializer=u,this.os=new _r(Lt),this._s=new gs(f=>di(f),z),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vl(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function So(a,e){return Va.apply(this,arguments)}function Va(){return(Va=(0,c.A)(function*(a,e){const r=N(a);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(f=>(u=f,r.ls(e),r.mutationQueue.getAllMutationBatches(s))).next(f=>{const m=[],C=[];let O=Ze();for(const $ of u){m.push($.batchId);for(const ie of $.mutations)O=O.add(ie.key)}for(const $ of f){C.push($.batchId);for(const ie of $.mutations)O=O.add(ie.key)}return r.localDocuments.getDocuments(s,O).next($=>({hs:$,removedBatchIds:m,addedBatchIds:C}))})})})).apply(this,arguments)}function El(a){const e=N(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function hm(a,e){const r=N(a);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Il(a,e,r){return ho.apply(this,arguments)}function ho(){return(ho=(0,c.A)(function*(a,e,r){const s=N(a),u=s.os.get(e),f=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",f,m=>s.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!or(m))throw m;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}s.os=s.os.remove(e),s._s.delete(u.target)})).apply(this,arguments)}function ru(a,e,r){const s=N(a);let u=Wt.min(),f=Ze();return s.persistence.runTransaction("Execute query","readwrite",m=>function(O,$,ie){const he=N(O),Ve=he._s.get(ie);return void 0!==Ve?qe.resolve(he.os.get(Ve)):he.Ur.getTargetData($,ie)}(s,m,kt(e)).next(C=>{if(C)return u=C.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(m,C.targetId).next(O=>{f=O})}).next(()=>s.ss.getDocumentsMatchingQuery(m,e,r?u:Wt.min(),r?f:Ze())).next(C=>(function jh(a,e,r){let s=a.us.get(e)||Wt.min();r.forEach((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),a.us.set(e,s)}(s,function Mi(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}(e),C),{documents:C,Ts:f})))}class Fu{constructor(){this.activeTargetIds=function In(){return En}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bd{constructor(){this.so=new Fu,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,s){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Fu,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wd{_o(e){}shutdown(){}}class bl{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let wl=null;function Hh(){return null===wl?wl=268435456+Math.round(2147483648*Math.random()):wl++,"0x"+wl.toString(16)}const Gh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ya{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const ys="WebChannelConnection";class pm extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+r.host,this.vo=`projects/${u}/databases/${f}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Fo(){return!1}Mo(r,s,u,f,m){const C=Hh(),O=this.xo(r,s.toUriEncodedString());ke("RestConnection",`Sending RPC '${r}' ${C}:`,O,u);const $={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo($,f,m),this.No(r,O,$,u).then(ie=>(ke("RestConnection",`Received RPC '${r}' ${C}: `,ie),ie),ie=>{throw Ln("RestConnection",`RPC '${r}' ${C} failed with error: `,ie,"url: ",O,"request:",u),ie})}Lo(r,s,u,f,m,C){return this.Mo(r,s,u,f,m)}Oo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+gt,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,m)=>r[m]=f),u&&u.headers.forEach((f,m)=>r[m]=f)}xo(r,s){return`${this.Do}/v1/${s}:${Gh[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,s,u){const f=Hh();return new Promise((m,C)=>{const O=new Je;O.setWithCredentials(!0),O.listenOnce(Dt.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case rn.NO_ERROR:const ie=O.getResponseJson();ke(ys,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(ie)),m(ie);break;case rn.TIMEOUT:ke(ys,`RPC '${e}' ${f} timed out`),C(new ae(Q.DEADLINE_EXCEEDED,"Request time out"));break;case rn.HTTP_ERROR:const he=O.getStatus();if(ke(ys,`RPC '${e}' ${f} failed with status:`,he,"response text:",O.getResponseText()),he>0){let Ve=O.getResponseJson();Array.isArray(Ve)&&(Ve=Ve[0]);const pt=Ve?.error;if(pt&&pt.status&&pt.message){const Ot=function(Gt){const Un=Gt.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(Un)>=0?Un:Q.UNKNOWN}(pt.status);C(new ae(Ot,pt.message))}else C(new ae(Q.UNKNOWN,"Server responded with status "+O.getStatus()))}else C(new ae(Q.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{ke(ys,`RPC '${e}' ${f} completed.`)}});const $=JSON.stringify(u);ke(ys,`RPC '${e}' ${f} sending request:`,u),O.send(r,"POST",$,s,15)})}Bo(e,r,s){const u=Hh(),f=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=hn(),C=Zn(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},$=this.longPollingOptions.timeoutSeconds;void 0!==$&&(O.longPollingTimeout=Math.round(1e3*$)),this.useFetchStreams&&(O.useFetchStreams=!0),this.Oo(O.initMessageHeaders,r,s),O.encodeInitMessageHeaders=!0;const ie=f.join("");ke(ys,`Creating RPC '${e}' stream ${u}: ${ie}`,O);const he=m.createWebChannel(ie,O);let Ve=!1,pt=!1;const Ot=new ya({Io:Gt=>{pt?ke(ys,`Not sending because RPC '${e}' stream ${u} is closed:`,Gt):(Ve||(ke(ys,`Opening RPC '${e}' stream ${u} transport.`),he.open(),Ve=!0),ke(ys,`RPC '${e}' stream ${u} sending:`,Gt),he.send(Gt))},To:()=>he.close()}),Jt=(Gt,Un,rr)=>{Gt.listen(Un,zn=>{try{rr(zn)}catch(Ir){setTimeout(()=>{throw Ir},0)}})};return Jt(he,wt.EventType.OPEN,()=>{pt||(ke(ys,`RPC '${e}' stream ${u} transport opened.`),Ot.yo())}),Jt(he,wt.EventType.CLOSE,()=>{pt||(pt=!0,ke(ys,`RPC '${e}' stream ${u} transport closed`),Ot.So())}),Jt(he,wt.EventType.ERROR,Gt=>{pt||(pt=!0,Ln(ys,`RPC '${e}' stream ${u} transport errored:`,Gt),Ot.So(new ae(Q.UNAVAILABLE,"The operation could not be completed")))}),Jt(he,wt.EventType.MESSAGE,Gt=>{var Un;if(!pt){const rr=Gt.data[0];De(!!rr);const Ir=rr.error||(null===(Un=rr[0])||void 0===Un?void 0:Un.error);if(Ir){ke(ys,`RPC '${e}' stream ${u} received error:`,Ir);const hi=Ir.status;let Lr=function(Ge){const tt=Qi[Ge];if(void 0!==tt)return rc(tt)}(hi),et=Ir.message;void 0===Lr&&(Lr=Q.INTERNAL,et="Unknown error status: "+hi+" with message "+Ir.message),pt=!0,Ot.So(new ae(Lr,et)),he.close()}else ke(ys,`RPC '${e}' stream ${u} received:`,rr),Ot.bo(rr)}}),Jt(C,bn.STAT_EVENT,Gt=>{Gt.stat===Xt.PROXY?ke(ys,`RPC '${e}' stream ${u} detected buffering proxy`):Gt.stat===Xt.NOPROXY&&ke(ys,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Ot.wo()},0),Ot}}function Al(){return typeof document<"u"?document:null}function Dl(a){return new hl(a,!0)}class zh{constructor(e,r,s=1e3,u=1.5,f=6e4){this.ui=e,this.timerId=r,this.ko=s,this.qo=u,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,r-s);u>0&&ke("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Wh{constructor(e,r,s,u,f,m,C,O){this.ui=e,this.Ho=s,this.Jo=u,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=C,this.listener=O,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zh(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,c.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,c.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var s=this;return(0,c.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==e?s.t_.reset():r&&r.code===Q.RESOURCE_EXHAUSTED?(Yt(r.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):r&&r.code===Q.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===r&&this.P_(s,u)},s=>{e(()=>{const u=new ae(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(e,r){const s=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var e=this;this.state=5,this.t_.Go((0,c.A)(function*(){e.state=0,e.start()}))}I_(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mp extends Wh{constructor(e,r,s,u,f,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,m),this.serializer=f}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function id(a,e){let r;if("targetChange"in e){const s="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:Ye(),u=e.targetChange.targetIds||[],f=function($,ie){return $.useProto3Json?(De(void 0===ie||"string"==typeof ie),Yr.fromBase64String(ie||"")):(De(void 0===ie||ie instanceof Buffer||ie instanceof Uint8Array),Yr.fromUint8Array(ie||new Uint8Array))}(a,e.targetChange.resumeToken),m=e.targetChange.cause,C=m&&function($){const ie=void 0===$.code?Q.UNKNOWN:rc($.code);return new ae(ie,$.message||"")}(m);r=new Go(s,u,f,C||null)}else if("documentChange"in e){const s=e.documentChange,u=Co(a,s.document.name),f=as(s.document.updateTime),m=s.document.createTime?as(s.document.createTime):Wt.min(),C=new lr({mapValue:{fields:s.document.fields}}),O=qn.newFoundDocument(u,f,m,C);r=new ua(s.targetIds||[],s.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const s=e.documentDelete,u=Co(a,s.document),f=s.readTime?as(s.readTime):Wt.min(),m=qn.newNoDocument(u,f);r=new ua([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const s=e.documentRemove,u=Co(a,s.document);r=new ua([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Ye();{const s=e.filter,{count:u=0,unchangedNames:f}=s,m=new ll(u,f);r=new os(s.targetId,m)}}var $;return r}(this.serializer,e),s=function(f){if(!("targetChange"in f))return Wt.min();const m=f.targetChange;return m.targetIds&&m.targetIds.length?Wt.min():m.readTime?as(m.readTime):Wt.min()}(e);return this.listener.d_(r,s)}A_(e){const r={};r.database=bo(this.serializer),r.addTarget=function(f,m){let C;const O=m.target;if(C=q(O)?{documents:wu(f,O)}:{query:ls(f,O)._t},C.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){C.resumeToken=Aa(f,m.resumeToken);const $=wa(f,m.expectedCount);null!==$&&(C.expectedCount=$)}else if(m.snapshotVersion.compareTo(Wt.min())>0){C.readTime=Zs(f,m.snapshotVersion.toTimestamp());const $=wa(f,m.expectedCount);null!==$&&(C.expectedCount=$)}return C}(this.serializer,e);const s=function eo(a,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.a_(r)}R_(e){const r={};r.database=bo(this.serializer),r.removeTarget=e,this.a_(r)}}class _p extends Wh{constructor(e,r,s,u,f,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,m),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function dc(a,e){return a&&a.length>0?(De(void 0!==e),a.map(r=>function(u,f){let m=as(u.updateTime?u.updateTime:f);return m.isEqual(Wt.min())&&(m=as(f)),new F(m,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=as(e.commitTime);return this.listener.g_(s,r)}p_(){const e={};e.database=bo(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>function Vt(a,e){let r;if(e instanceof $n)r={update:us(a,e.key,e.value)};else if(e instanceof Gr)r={delete:Da(a,e.key)};else if(e instanceof yr)r={update:us(a,e.key,e.data),updateMask:hc(e.fieldMask)};else{if(!(e instanceof ms))return Ye();r={verify:Da(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(f,m){const C=m.transform;if(C instanceof Ii)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof Ti)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Ni)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof ss)return{fieldPath:m.field.canonicalString(),increment:C.Pe};throw Ye()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:sc(a,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:Ye()),r;var f}(this.serializer,s))};this.a_(r)}}class Tc extends class{}{constructor(e,r,s,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Mo(e,bu(r,s),u,f,m)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ae(Q.UNKNOWN,f.toString())})}Lo(e,r,s,u,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,C])=>this.connection.Lo(e,bu(r,s),u,m,C,f)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ae(Q.UNKNOWN,m.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class yp{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yt(r),this.D_=!1):ke("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class gm{constructor(e,r,s,u,f){var m=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o(C=>{s.enqueueAndForget((0,c.A)(function*(){var O;Lu(m)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,c.A)(function*(ie){const he=N(ie);he.L_.add(4),yield Vu(he),he.q_.set("Unknown"),he.L_.delete(4),yield Sl(he)}),function $(ie){return O.apply(this,arguments)})(m))}))}),this.q_=new yp(s,u)}}function Sl(a){return vp.apply(this,arguments)}function vp(){return(vp=(0,c.A)(function*(a){if(Lu(a))for(const e of a.B_)yield e(!0)})).apply(this,arguments)}function Vu(a){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,c.A)(function*(a){for(const e of a.B_)yield e(!1)})).apply(this,arguments)}function Dd(a,e){const r=N(a);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Pl(r)?Ip(r):au(r).r_()&&Cc(r,e))}function Rl(a,e){const r=N(a),s=au(r);r.N_.delete(e),s.r_()&&mm(r,e),0===r.N_.size&&(s.r_()?s.o_():Lu(r)&&r.q_.set("Unknown"))}function Cc(a,e){if(a.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Wt.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}au(a).A_(e)}function mm(a,e){a.Q_.xe(e),au(a).R_(e)}function Ip(a){a.Q_=new ba({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.N_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),au(a).start(),a.q_.v_()}function Pl(a){return Lu(a)&&!au(a).n_()&&a.N_.size>0}function Lu(a){return 0===N(a).L_.size}function _m(a){a.Q_=void 0}function oy(a){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,c.A)(function*(a){a.q_.set("Online")})).apply(this,arguments)}function ay(a){return qh.apply(this,arguments)}function qh(){return(qh=(0,c.A)(function*(a){a.N_.forEach((e,r)=>{Cc(a,e)})})).apply(this,arguments)}function Sd(a,e){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,c.A)(function*(a,e){_m(a),Pl(a)?(a.q_.M_(e),Ip(a)):a.q_.set("Unknown")})).apply(this,arguments)}function Cp(a,e,r){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,c.A)(function*(a,e,r){if(a.q_.set("Online"),e instanceof Go&&2===e.state&&e.cause)try{yield(s=(0,c.A)(function*(f,m){const C=m.cause;for(const O of m.targetIds)f.N_.has(O)&&(yield f.remoteSyncer.rejectListen(O,C),f.N_.delete(O),f.Q_.removeTarget(O))}),function u(f,m){return s.apply(this,arguments)})(a,e)}catch(s){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield bc(a,s)}else if(e instanceof ua?a.Q_.Ke(e):e instanceof os?a.Q_.He(e):a.Q_.We(e),!r.isEqual(Wt.min()))try{const s=yield El(a.localStore);r.compareTo(s)>=0&&(yield function(f,m){const C=f.Q_.rt(m);return C.targetChanges.forEach((O,$)=>{if(O.resumeToken.approximateByteSize()>0){const ie=f.N_.get($);ie&&f.N_.set($,ie.withResumeToken(O.resumeToken,m))}}),C.targetMismatches.forEach((O,$)=>{const ie=f.N_.get(O);if(!ie)return;f.N_.set(O,ie.withResumeToken(Yr.EMPTY_BYTE_STRING,ie.snapshotVersion)),mm(f,O);const he=new Bs(ie.target,O,$,ie.sequenceNumber);Cc(f,he)}),f.remoteSyncer.applyRemoteEvent(C)}(a,r))}catch(s){ke("RemoteStore","Failed to raise snapshot:",s),yield bc(a,s)}var s}),Rd.apply(this,arguments)}function bc(a,e,r){return ou.apply(this,arguments)}function ou(){return(ou=(0,c.A)(function*(a,e,r){if(!or(e))throw e;a.L_.add(1),yield Vu(a),a.q_.set("Offline"),r||(r=()=>El(a.localStore)),a.asyncQueue.enqueueRetryable((0,c.A)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield r(),a.L_.delete(1),yield Sl(a)}))})).apply(this,arguments)}function Kh(a,e){return e().catch(r=>bc(a,r,e))}function Uu(a){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,c.A)(function*(a){const e=N(a),r=Yi(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Pd(e);)try{const u=yield hm(e.localStore,s);if(null===u){0===e.O_.length&&r.o_();break}s=u.batchId,Md(e,u)}catch(u){yield bc(e,u)}bp(e)&&wp(e)})).apply(this,arguments)}function Pd(a){return Lu(a)&&a.O_.length<10}function Md(a,e){a.O_.push(e);const r=Yi(a);r.r_()&&r.V_&&r.m_(e.mutations)}function bp(a){return Lu(a)&&!Yi(a).n_()&&a.O_.length>0}function wp(a){Yi(a).start()}function ym(a){return Od.apply(this,arguments)}function Od(){return(Od=(0,c.A)(function*(a){Yi(a).p_()})).apply(this,arguments)}function Qh(a){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,c.A)(function*(a){const e=Yi(a);for(const r of a.O_)e.m_(r.mutations)})).apply(this,arguments)}function vm(a,e,r){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,c.A)(function*(a,e,r){const s=a.O_.shift(),u=Ds.from(s,e,r);yield Kh(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield Uu(a)})).apply(this,arguments)}function Ap(a,e){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,c.A)(function*(a,e){var r;e&&Yi(a).V_&&(yield(r=(0,c.A)(function*(u,f){if(function Iu(a){switch(a){default:return Ye();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}(C=f.code)&&C!==Q.ABORTED){const m=u.O_.shift();Yi(u).s_(),yield Kh(u,()=>u.remoteSyncer.rejectFailedWrite(m.batchId,f)),yield Uu(u)}var C}),function s(u,f){return r.apply(this,arguments)})(a,e)),bp(a)&&wp(a)}),Jh.apply(this,arguments)}function Zh(a,e){return fo.apply(this,arguments)}function fo(){return(fo=(0,c.A)(function*(a,e){const r=N(a);r.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const s=Lu(r);r.L_.add(3),yield Vu(r),s&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield Sl(r)})).apply(this,arguments)}function wc(a,e){return xd.apply(this,arguments)}function xd(){return(xd=(0,c.A)(function*(a,e){const r=N(a);e?(r.L_.delete(2),yield Sl(r)):e||(r.L_.add(2),yield Vu(r),r.q_.set("Unknown"))})).apply(this,arguments)}function au(a){return a.K_||(a.K_=function(r,s,u){const f=N(r);return f.w_(),new mp(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Eo:oy.bind(null,a),Ro:ay.bind(null,a),mo:Sd.bind(null,a),d_:Cp.bind(null,a)}),a.B_.push(function(){var e=(0,c.A)(function*(r){r?(a.K_.s_(),Pl(a)?Ip(a):a.q_.set("Unknown")):(yield a.K_.stop(),_m(a))});return function(r){return e.apply(this,arguments)}}())),a.K_}function Yi(a){return a.U_||(a.U_=function(r,s,u){const f=N(r);return f.w_(),new _p(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ym.bind(null,a),mo:Ap.bind(null,a),f_:Qh.bind(null,a),g_:vm.bind(null,a)}),a.B_.push(function(){var e=(0,c.A)(function*(r){r?(a.U_.s_(),yield Uu(a)):(yield a.U_.stop(),a.O_.length>0&&(ke("RemoteStore",`Stopping write stream with ${a.O_.length} pending writes`),a.O_=[]))});return function(r){return e.apply(this,arguments)}}())),a.U_}class Bu{constructor(e,r,s,u,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,u,f){const m=Date.now()+s,C=new Bu(e,r,m,u,f);return C.start(s),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ae(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ju(a,e){if(Yt("AsyncQueue",`${e}: ${a}`),or(a))return new ae(Q.UNAVAILABLE,`${e}: ${a}`);throw a}class $u{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Fe.comparator(r.key,s.key):(r,s)=>Fe.comparator(r.key,s.key),this.keyedMap=b(),this.sortedSet=new _r(this.comparator)}static emptySet(e){return new $u(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof $u)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new $u;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Dp{constructor(){this.W_=new _r(Fe.comparator)}track(e){const r=e.doc.key,s=this.W_.get(r);s?0!==e.type&&3===s.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==s.type?this.W_=this.W_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.W_=this.W_.remove(r):1===e.type&&2===s.type?this.W_=this.W_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ye():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Hu{constructor(e,r,s,u,f,m,C,O,$){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=C,this.excludesMetadataChanges=O,this.hasCachedResults=$}static fromInitialDocuments(e,r,s,u,f){const m=[];return r.forEach(C=>{m.push({type:0,doc:C})}),new Hu(e,r,$u.emptySet(r),m,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hr(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class Em{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Sp{constructor(){this.queries=Rp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,s){const u=N(r),f=u.queries;u.queries=Rp(),f.forEach((m,C)=>{for(const O of C.j_)O.onError(s)})}(this,new ae(Q.ABORTED,"Firestore shutting down"))}}function Rp(){return new gs(a=>Gi(a),Hr)}function ef(){return(ef=(0,c.A)(function*(a,e){const r=N(a);let s=3;const u=e.query;let f=r.queries.get(u);f?!f.H_()&&e.J_()&&(s=2):(f=new Em,s=e.J_()?0:1);try{switch(s){case 0:f.z_=yield r.onListen(u,!0);break;case 1:f.z_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(m){const C=ju(m,`Initialization of query '${gi(e.query)}' failed`);return void e.onError(C)}r.queries.set(u,f),f.j_.push(e),e.Z_(r.onlineState),f.z_&&e.X_(f.z_)&&W(r)})).apply(this,arguments)}function d(){return(d=(0,c.A)(function*(a,e){const r=N(a),s=e.query;let u=3;const f=r.queries.get(s);if(f){const m=f.j_.indexOf(e);m>=0&&(f.j_.splice(m,1),0===f.j_.length?u=e.J_()?0:1:!f.H_()&&e.J_()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function g(a,e){const r=N(a);let s=!1;for(const u of e){const m=r.queries.get(u.query);if(m){for(const C of m.j_)C.X_(u)&&(s=!0);m.z_=u}}s&&W(r)}function w(a,e,r){const s=N(a),u=s.queries.get(e);if(u)for(const f of u.j_)f.onError(r);s.queries.delete(e)}function W(a){a.Y_.forEach(e=>{e.next()})}var ue,We;(We=ue||(ue={})).ea="default",We.Cache="cache";class yt{constructor(e,r,s){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new Hu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ue.Cache}}class io{constructor(e){this.key=e}}class qo{constructor(e){this.key=e}}class Ba{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ze(),this.mutatedKeys=Ze(),this.Aa=Eo(e),this.Ra=new $u(this.Aa)}get Va(){return this.Ta}ma(e,r){const s=r?r.fa:new Dp,u=r?r.Ra:this.Ra;let f=r?r.mutatedKeys:this.mutatedKeys,m=u,C=!1;const O="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,$="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ie,he)=>{const Ve=u.get(ie),pt=Ur(this.query,he)?he:null,Ot=!!Ve&&this.mutatedKeys.has(Ve.key),Jt=!!pt&&(pt.hasLocalMutations||this.mutatedKeys.has(pt.key)&&pt.hasCommittedMutations);let Gt=!1;Ve&&pt?Ve.data.isEqual(pt.data)?Ot!==Jt&&(s.track({type:3,doc:pt}),Gt=!0):this.ga(Ve,pt)||(s.track({type:2,doc:pt}),Gt=!0,(O&&this.Aa(pt,O)>0||$&&this.Aa(pt,$)<0)&&(C=!0)):!Ve&&pt?(s.track({type:0,doc:pt}),Gt=!0):Ve&&!pt&&(s.track({type:1,doc:Ve}),Gt=!0,(O||$)&&(C=!0)),Gt&&(pt?(m=m.add(pt),f=Jt?f.add(ie):f.delete(ie)):(m=m.delete(ie),f=f.delete(ie)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const ie="F"===this.query.limitType?m.last():m.first();m=m.delete(ie.key),f=f.delete(ie.key),s.track({type:1,doc:ie})}return{Ra:m,fa:s,ns:C,mutatedKeys:f}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,u){const f=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const m=e.fa.G_();m.sort((ie,he)=>function(pt,Ot){const Jt=Gt=>{switch(Gt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return Jt(pt)-Jt(Ot)}(ie.type,he.type)||this.Aa(ie.doc,he.doc)),this.pa(s),u=null!=u&&u;const C=r&&!u?this.ya():[],O=0===this.da.size&&this.current&&!u?1:0,$=O!==this.Ea;return this.Ea=O,0!==m.length||$?{snapshot:new Hu(this.query,e.Ra,f,m,e.mutatedKeys,0===O,$,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:C}:{wa:C}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Dp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ze(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const r=[];return e.forEach(s=>{this.da.has(s)||r.push(new qo(s))}),this.da.forEach(s=>{e.has(s)||r.push(new io(s))}),r}ba(e){this.Ta=e.Ts,this.da=Ze();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Hu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class tf{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class kd{constructor(e){this.key=e,this.va=!1}}class nf{constructor(e,r,s,u,f,m){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.Ca={},this.Fa=new gs(C=>Gi(C),Hr),this.Ma=new Map,this.xa=new Set,this.Oa=new _r(Fe.comparator),this.Na=new Map,this.La=new tu,this.Ba={},this.ka=new Map,this.qa=Ws.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function rf(a,e){return xl.apply(this,arguments)}function xl(){return(xl=(0,c.A)(function*(a,e,r=!0){const s=$a(a);let u;const f=s.Fa.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Da()):u=yield uu(s,e,r,!0),u})).apply(this,arguments)}function sf(a,e){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,c.A)(function*(a,e){const r=$a(a);yield uu(r,e,!0,!1)})).apply(this,arguments)}function uu(a,e,r,s){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,c.A)(function*(a,e,r,s){const u=yield function La(a,e){const r=N(a);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.Ur.getTargetData(s,e).next(f=>f?(u=f,qe.resolve(u)):r.Ur.allocateTargetId(s).next(m=>(u=new Bs(e,m,"TargetPurposeListen",s.currentSequenceNumber),r.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.os=r.os.insert(s.targetId,s),r._s.set(e,s.targetId)),s})}(a.localStore,kt(e)),f=u.targetId,m=a.sharedClientState.addLocalQueryTarget(f,r);let C;return s&&(C=yield function kl(a,e,r,s,u){return Fl.apply(this,arguments)}(a,e,f,"current"===m,u.resumeToken)),a.isPrimaryClient&&r&&Dd(a.remoteStore,u),C})).apply(this,arguments)}function Fl(){return Fl=(0,c.A)(function*(a,e,r,s,u){a.Ka=(he,Ve,pt)=>{return(Ot=(0,c.A)(function*(Gt,Un,rr,zn){let Ir=Un.view.ma(rr);Ir.ns&&(Ir=yield ru(Gt.localStore,Un.query,!1).then(({documents:Me})=>Un.view.ma(Me,Ir)));const hi=zn&&zn.targetChanges.get(Un.targetId),Lr=zn&&null!=zn.targetMismatches.get(Un.targetId),et=Un.view.applyChanges(Ir,Gt.isPrimaryClient,hi,Lr);return Ud(Gt,Un.targetId,et.wa),et.snapshot}),function Jt(Gt,Un,rr,zn){return Ot.apply(this,arguments)})(a,he,Ve,pt);var Ot};const f=yield ru(a.localStore,e,!0),m=new Ba(e,f.Ts),C=m.ma(f.documents),O=Ca.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==a.onlineState,u),$=m.applyChanges(C,a.isPrimaryClient,O);Ud(a,r,$.wa);const ie=new tf(e,r,m);return a.Fa.set(e,ie),a.Ma.has(r)?a.Ma.get(r).push(e):a.Ma.set(r,[e]),$.snapshot}),Fl.apply(this,arguments)}function Pp(a,e,r){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,c.A)(function*(a,e,r){const s=N(a),u=s.Fa.get(e),f=s.Ma.get(u.targetId);if(f.length>1)return s.Ma.set(u.targetId,f.filter(m=>!Hr(m,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Il(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),r&&Rl(s.remoteStore,u.targetId),cu(s,u.targetId)}).catch(ti))):(cu(s,u.targetId),yield Il(s.localStore,u.targetId,!0))})).apply(this,arguments)}function Im(a,e){return lu.apply(this,arguments)}function lu(){return(lu=(0,c.A)(function*(a,e){const r=N(a),s=r.Fa.get(e),u=r.Ma.get(s.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Rl(r.remoteStore,s.targetId))})).apply(this,arguments)}function af(){return(af=(0,c.A)(function*(a,e,r){const s=function jp(a){const e=N(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mp.bind(null,e),e}(a);try{const u=yield function(m,C){const O=N(m),$=An.now(),ie=C.reduce((pt,Ot)=>pt.add(Ot.key),Ze());let he,Ve;return O.persistence.runTransaction("Locally write mutations","readwrite",pt=>{let Ot=te(),Jt=Ze();return O.cs.getEntries(pt,ie).next(Gt=>{Ot=Gt,Ot.forEach((Un,rr)=>{rr.isValidDocument()||(Jt=Jt.add(Un))})}).next(()=>O.localDocuments.getOverlayedDocuments(pt,Ot)).next(Gt=>{he=Gt;const Un=[];for(const rr of C){const zn=pr(rr,he.get(rr.key).overlayedDocument);null!=zn&&Un.push(new yr(rr.key,zn,Hi(zn.value.mapValue),G.exists(!0)))}return O.mutationQueue.addMutationBatch(pt,$,Un,C)}).next(Gt=>{Ve=Gt;const Un=Gt.applyToLocalDocumentSet(he,Jt);return O.documentOverlayCache.saveOverlays(pt,Gt.batchId,Un)})}).then(()=>({batchId:Ve.batchId,changes:k(he)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(m,C,O){let $=m.Ba[m.currentUser.toKey()];$||($=new _r(Lt)),$=$.insert(C,O),m.Ba[m.currentUser.toKey()]=$}(s,u.batchId,r),yield ja(s,u.changes),yield Uu(s.remoteStore)}catch(u){const f=ju(u,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function Cm(a,e){return bm.apply(this,arguments)}function bm(){return(bm=(0,c.A)(function*(a,e){const r=N(a);try{const s=yield function ku(a,e){const r=N(a),s=e.snapshotVersion;let u=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=r.cs.newChangeBuffer({trackRemovals:!0});u=r.os;const C=[];e.targetChanges.forEach((ie,he)=>{const Ve=u.get(he);if(!Ve)return;C.push(r.Ur.removeMatchingKeys(f,ie.removedDocuments,he).next(()=>r.Ur.addMatchingKeys(f,ie.addedDocuments,he)));let pt=Ve.withSequenceNumber(f.currentSequenceNumber);var Jt,Gt,Un;null!==e.targetMismatches.get(he)?pt=pt.withResumeToken(Yr.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):ie.resumeToken.approximateByteSize()>0&&(pt=pt.withResumeToken(ie.resumeToken,s)),u=u.insert(he,pt),Gt=pt,Un=ie,(0===(Jt=Ve).resumeToken.approximateByteSize()||Gt.snapshotVersion.toMicroseconds()-Jt.snapshotVersion.toMicroseconds()>=3e8||Un.addedDocuments.size+Un.modifiedDocuments.size+Un.removedDocuments.size>0)&&C.push(r.Ur.updateTargetData(f,pt))});let O=te(),$=Ze();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&C.push(r.persistence.referenceDelegate.updateLimboDocument(f,ie))}),C.push(function _c(a,e,r){let s=Ze(),u=Ze();return r.forEach(f=>s=s.add(f)),e.getEntries(a,s).next(f=>{let m=te();return r.forEach((C,O)=>{const $=f.get(C);O.isFoundDocument()!==$.isFoundDocument()&&(u=u.add(C)),O.isNoDocument()&&O.version.isEqual(Wt.min())?(e.removeEntry(C,O.readTime),m=m.insert(C,O)):!$.isValidDocument()||O.version.compareTo($.version)>0||0===O.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(O),m=m.insert(C,O)):ke("LocalStore","Ignoring outdated watch update for ",C,". Current version:",$.version," Watch version:",O.version)}),{Ps:m,Is:u}})}(f,m,e.documentUpdates).next(ie=>{O=ie.Ps,$=ie.Is})),!s.isEqual(Wt.min())){const ie=r.Ur.getLastRemoteSnapshotVersion(f).next(he=>r.Ur.setTargetsMetadata(f,f.currentSequenceNumber,s));C.push(ie)}return qe.waitFor(C).next(()=>m.apply(f)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,O,$)).next(()=>O)}).then(f=>(r.os=u,f))}(r.localStore,e);e.targetChanges.forEach((u,f)=>{const m=r.Na.get(f);m&&(De(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.va=!0:u.modifiedDocuments.size>0?De(m.va):u.removedDocuments.size>0&&(De(m.va),m.va=!1))}),yield ja(r,s,e)}catch(s){yield ti(s)}})).apply(this,arguments)}function Vd(a,e,r){const s=N(a);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.Fa.forEach((f,m)=>{const C=m.view.Z_(e);C.snapshot&&u.push(C.snapshot)}),function(m,C){const O=N(m);O.onlineState=C;let $=!1;O.queries.forEach((ie,he)=>{for(const Ve of he.j_)Ve.Z_(C)&&($=!0)}),$&&W(O)}(s.eventManager,e),u.length&&s.Ca.d_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function uy(a,e,r){return uf.apply(this,arguments)}function uf(){return(uf=(0,c.A)(function*(a,e,r){const s=N(a);s.sharedClientState.updateQueryState(e,"rejected",r);const u=s.Na.get(e),f=u&&u.key;if(f){let m=new _r(Fe.comparator);m=m.insert(f,qn.newNoDocument(f,Wt.min()));const C=Ze().add(f),O=new Cr(Wt.min(),new Map,new _r(Lt),m,C);yield Cm(s,O),s.Oa=s.Oa.remove(f),s.Na.delete(e),xp(s)}else yield Il(s.localStore,e,!1).then(()=>cu(s,e,r)).catch(ti)})).apply(this,arguments)}function wm(a,e){return lf.apply(this,arguments)}function lf(){return(lf=(0,c.A)(function*(a,e){const r=N(a),s=e.batch.batchId;try{const u=yield function Bh(a,e){const r=N(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),f=r.cs.newChangeBuffer({trackRemovals:!0});return function(C,O,$,ie){const he=$.batch,Ve=he.keys();let pt=qe.resolve();return Ve.forEach(Ot=>{pt=pt.next(()=>ie.getEntry(O,Ot)).next(Jt=>{const Gt=$.docVersions.get(Ot);De(null!==Gt),Jt.version.compareTo(Gt)<0&&(he.applyToRemoteDocument(Jt,$),Jt.isValidDocument()&&(Jt.setReadTime($.commitVersion),ie.addEntry(Jt)))})}),pt.next(()=>C.mutationQueue.removeMutationBatch(O,he))}(r,s,e,f).next(()=>f.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(C){let O=Ze();for(let $=0;$<C.mutationResults.length;++$)C.mutationResults[$].transformResults.length>0&&(O=O.add(C.batch.mutations[$].key));return O}(e))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,e);Ld(r,s,null),hf(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield ja(r,u)}catch(u){yield ti(u)}})).apply(this,arguments)}function Mp(a,e,r){return cf.apply(this,arguments)}function cf(){return(cf=(0,c.A)(function*(a,e,r){const s=N(a);try{const u=yield function(m,C){const O=N(m);return O.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let ie;return O.mutationQueue.lookupMutationBatch($,C).next(he=>(De(null!==he),ie=he.keys(),O.mutationQueue.removeMutationBatch($,he))).next(()=>O.mutationQueue.performConsistencyCheck($)).next(()=>O.documentOverlayCache.removeOverlaysForBatchId($,ie,C)).next(()=>O.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,ie)).next(()=>O.localDocuments.getDocuments($,ie))})}(s.localStore,e);Ld(s,e,r),hf(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield ja(s,u)}catch(u){yield ti(u)}})).apply(this,arguments)}function hf(a,e){(a.ka.get(e)||[]).forEach(r=>{r.resolve()}),a.ka.delete(e)}function Ld(a,e,r){const s=N(a);let u=s.Ba[s.currentUser.toKey()];if(u){const f=u.get(e);f&&(r?f.reject(r):f.resolve(),u=u.remove(e)),s.Ba[s.currentUser.toKey()]=u}}function cu(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Ma.get(e))a.Fa.delete(s),r&&a.Ca.$a(s,r);a.Ma.delete(e),a.isPrimaryClient&&a.La.gr(e).forEach(s=>{a.La.containsKey(s)||Op(a,s)})}function Op(a,e){a.xa.delete(e.path.canonicalString());const r=a.Oa.get(e);null!==r&&(Rl(a.remoteStore,r),a.Oa=a.Oa.remove(e),a.Na.delete(r),xp(a))}function Ud(a,e,r){for(const s of r)s instanceof io?(a.La.addReference(s.key,e),Bd(a,s)):s instanceof qo?(ke("SyncEngine","Document no longer in limbo: "+s.key),a.La.removeReference(s.key,e),a.La.containsKey(s.key)||Op(a,s.key)):Ye()}function Bd(a,e){const r=e.key,s=r.path.canonicalString();a.Oa.get(r)||a.xa.has(s)||(ke("SyncEngine","New document in limbo: "+r),a.xa.add(s),xp(a))}function xp(a){for(;a.xa.size>0&&a.Oa.size<a.maxConcurrentLimboResolutions;){const e=a.xa.values().next().value;a.xa.delete(e);const r=new Fe(gn.fromString(e)),s=a.qa.next();a.Na.set(s,new kd(r)),a.Oa=a.Oa.insert(r,s),Dd(a.remoteStore,new Bs(kt(B(r.path)),s,"TargetPurposeLimboResolution",Y.oe))}}function ja(a,e,r){return Np.apply(this,arguments)}function Np(){return Np=(0,c.A)(function*(a,e,r){const s=N(a),u=[],f=[],m=[];var C;s.Fa.isEmpty()||(s.Fa.forEach((C,O)=>{m.push(s.Ka(O,e,r).then($=>{var ie;if(($||r)&&s.isPrimaryClient){const he=$?!$.fromCache:null===(ie=r?.targetChanges.get(O.targetId))||void 0===ie?void 0:ie.current;s.sharedClientState.updateQueryState(O.targetId,he?"current":"not-current")}if($){u.push($);const he=Ed.Wi(O.targetId,$);f.push(he)}}))}),yield Promise.all(m),s.Ca.d_(u),yield(C=(0,c.A)(function*($,ie){const he=N($);try{yield he.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ve=>qe.forEach(ie,pt=>qe.forEach(pt.$i,Ot=>he.persistence.referenceDelegate.addReference(Ve,pt.targetId,Ot)).next(()=>qe.forEach(pt.Ui,Ot=>he.persistence.referenceDelegate.removeReference(Ve,pt.targetId,Ot)))))}catch(Ve){if(!or(Ve))throw Ve;ke("LocalStore","Failed to update sequence numbers: "+Ve)}for(const Ve of ie){const pt=Ve.targetId;if(!Ve.fromCache){const Ot=he.os.get(pt),Gt=Ot.withLastLimboFreeSnapshotVersion(Ot.snapshotVersion);he.os=he.os.insert(pt,Gt)}}}),function O($,ie){return C.apply(this,arguments)})(s.localStore,f))}),Np.apply(this,arguments)}function ly(a,e){return kp.apply(this,arguments)}function kp(){return(kp=(0,c.A)(function*(a,e){const r=N(a);if(!r.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const s=yield So(r.localStore,e);r.currentUser=e,(f=r).ka.forEach(C=>{C.forEach(O=>{O.reject(new ae(Q.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ka.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield ja(r,s.hs)}var f})).apply(this,arguments)}function Am(a,e){const r=N(a),s=r.Na.get(e);if(s&&s.va)return Ze().add(s.key);{let u=Ze();const f=r.Ma.get(e);if(!f)return u;for(const m of f){const C=r.Fa.get(m);u=u.unionWith(C.view.Va)}return u}}function $a(a){const e=N(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Am.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uy.bind(null,e),e.Ca.d_=g.bind(null,e.eventManager),e.Ca.$a=w.bind(null,e.eventManager),e}let Dc=(()=>{class a{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var s=this;return(0,c.A)(function*(){s.serializer=Dl(r.databaseInfo.databaseId),s.sharedClientState=s.Wa(r),s.persistence=s.Ga(r),yield s.persistence.start(),s.localStore=s.za(r),s.gcScheduler=s.ja(r,s.localStore),s.indexBackfillerScheduler=s.Ha(r,s.localStore)})()}ja(r,s){return null}Ha(r,s){return null}za(r){return function Uh(a,e,r,s){return new Nu(a,e,r,s)}(this.persistence,new Lh,r.initialUser,this.serializer)}Ga(r){return new Fa(mc.Zr,this.serializer)}Wa(r){return new bd}terminate(){var r=this;return(0,c.A)(function*(){var s,u;null===(s=r.gcScheduler)||void 0===s||s.stop(),null===(u=r.indexBackfillerScheduler)||void 0===u||u.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return a.provider={build:()=>new a},a})(),va=(()=>{class a{initialize(r,s){var u=this;return(0,c.A)(function*(){u.localStore||(u.localStore=r.localStore,u.sharedClientState=r.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!r.synchronizeTabs),u.sharedClientState.onlineStateHandler=f=>Vd(u.syncEngine,f,1),u.remoteStore.remoteSyncer.handleCredentialChange=ly.bind(null,u.syncEngine),yield wc(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(r){return new Sp}createDatastore(r){const s=Dl(r.databaseInfo.databaseId),u=new pm(r.databaseInfo);return new Tc(r.authCredentials,r.appCheckCredentials,u,s)}createRemoteStore(r){return u=this.localStore,f=this.datastore,m=r.asyncQueue,C=s=>Vd(this.syncEngine,s,0),O=bl.D()?new bl:new wd,new gm(u,f,m,C,O);var u,f,m,C,O}createSyncEngine(r,s){return function(f,m,C,O,$,ie,he){const Ve=new nf(f,m,C,O,$,ie);return he&&(Ve.Qa=!0),Ve}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,s)}terminate(){var r=this;return(0,c.A)(function*(){var s,u,f;yield(f=(0,c.A)(function*(C){const O=N(C);ke("RemoteStore","RemoteStore shutting down."),O.L_.add(5),yield Vu(O),O.k_.shutdown(),O.q_.set("Unknown")}),function m(C){return f.apply(this,arguments)})(r.remoteStore),null===(s=r.datastore)||void 0===s||s.terminate(),null===(u=r.eventManager)||void 0===u||u.terminate()})()}}return a.provider={build:()=>new a},a})();class _f{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class my{constructor(e,r,s,u,f){var m=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=dt.UNAUTHENTICATED,this.clientId=Wn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,function(){var C=(0,c.A)(function*(O){ke("FirestoreClient","Received user=",O.uid),yield m.authCredentialListener(O),m.user=O});return function(O){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(s,C=>(ke("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=ju(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function yf(a,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,c.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let s=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,c.A)(function*(f){s.isEqual(f)||(yield So(e.localStore,f),s=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),Hp.apply(this,arguments)}function Pm(a,e){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,c.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield function zp(a){return Sc.apply(this,arguments)}(a);ke("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(s=>Zh(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>Zh(e.remoteStore,u)),a._onlineComponents=e})).apply(this,arguments)}function Sc(){return(Sc=(0,c.A)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yf(a,a._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(u=e).name?u.code===Q.FAILED_PRECONDITION||u.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw e;Ln("Error using user provided cache. Falling back to memory cache: "+e),yield yf(a,new Dc)}}else ke("FirestoreClient","Using default OfflineComponentProvider"),yield yf(a,new Dc);var u;return a._offlineComponents})).apply(this,arguments)}function na(a){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,c.A)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield Pm(a,a._uninitializedComponentsProvider._online)):(ke("FirestoreClient","Using default OnlineComponentProvider"),yield Pm(a,new va))),a._onlineComponents})).apply(this,arguments)}function jd(a){return $d.apply(this,arguments)}function $d(){return($d=(0,c.A)(function*(a){const e=yield na(a),r=e.eventManager;return r.onListen=rf.bind(null,e.syncEngine),r.onUnlisten=Pp.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=sf.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Im.bind(null,e.syncEngine),r})).apply(this,arguments)}function Wu(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const Yp=new Map;function Jp(a,e,r){if(!r)throw new ae(Q.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function eg(a){if(!Fe.isDocumentKey(a))throw new ae(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function km(a){if(Fe.isDocumentKey(a))throw new ae(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Ef(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(s=a).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof a?"a function":Ye()}function ei(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ae(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ef(a);throw new ae(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}class tg{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new ae(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ae(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Zp(a,e,r,s){if(!0===e&&!0===s)throw new ae(Q.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Wu(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,r,s,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ae(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tg(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new ve;switch(s.type){case"firstParty":return new we(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,c.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Yp.get(r);s&&(ke("ComponentProvider","Removing Datastore"),Yp.delete(r),s.terminate())}(this),Promise.resolve()}}class Fs{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fs(this.firestore,e,this._query)}}class Ji{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ji(this.firestore,e,this._key)}}class Ea extends Fs{constructor(e,r,s){super(e,r,B(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ji(this.firestore,null,new Fe(e))}withConverter(e){return new Ea(this.firestore,e,this._path)}}function Vm(a,e,...r){if(a=(0,X.Ku)(a),Jp("collection","path",e),a instanceof If){const s=gn.fromString(e,...r);return km(s),new Ea(a,null,s)}{if(!(a instanceof Ji||a instanceof Ea))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(gn.fromString(e,...r));return km(s),new Ea(a.firestore,null,s)}}function Tf(a,e,...r){if(a=(0,X.Ku)(a),1===arguments.length&&(e=Wn.newId()),Jp("doc","path",e),a instanceof If){const s=gn.fromString(e,...r);return eg(s),new Ji(a,null,new Fe(s))}{if(!(a instanceof Ji||a instanceof Ea))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(gn.fromString(e,...r));return eg(s),new Ji(a.firestore,a instanceof Ea?a.converter:null,new Fe(s))}}class rg{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zh(this,"async_queue_retry"),this.Vu=()=>{const s=Al();s&&ke("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const r=Al();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Al();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new xt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,c.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!or(r))throw r;ke("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(s=>{throw this.Eu=s,this.du=!1,Yt("INTERNAL UNHANDLED ERROR: ",function(m){let C=m.message||"";return m.stack&&(C=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),C}(s)),s}).then(s=>(this.du=!1,s))));return this.mu=r,r}enqueueAfterDelay(e,r,s){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const u=Bu.createAndSchedule(this,e,r,s,f=>this.yu(f));return this.Tu.push(u),u}fu(){this.Eu&&Ye()}verifyOperationInProgress(){}wu(){var e=this;return(0,c.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function Rc(a){return function(r,s){if("object"!=typeof r||null===r)return!1;const u=r;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(a)}class Vi extends If{constructor(e,r,s,u){super(e,r,s,u),this.type="firestore",this._queue=new rg,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,c.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new rg(r),e._firestoreClient=void 0,yield r}})()}}function cs(a){if(a._terminated)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||function qu(a){var e,r,s;const u=a._freezeSettings(),f=(O=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new Oo(a._databaseId,O,a._persistenceKey,(ie=u).host,ie.ssl,ie.experimentalForceLongPolling,ie.experimentalAutoDetectLongPolling,Wu(ie.experimentalLongPollingOptions),ie.useFetchStreams));var O,ie;a._componentsProvider||!(null===(r=u.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new my(a._authCredentials,a._appCheckCredentials,a._queue,f,a._componentsProvider&&function(C){const O=C?._online.build();return{_offline:C?._offline.build(O),_online:O}}(a._componentsProvider))}(a),a._firestoreClient}class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(Yr.fromBase64String(e))}catch(r){throw new ae(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new jl(Yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $l{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new ae(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ku{constructor(e){this._methodName=e}}class Cf{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ae(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ae(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}class bf{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==u[f])return!1;return!0}(this._values,e._values)}}const zm=/^__.*__$/;class sg{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new yr(e,this.data,this.fieldMask,r,this.fieldTransforms):new $n(e,this.data,r,this.fieldTransforms)}}class Cy{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new yr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Wm(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class wf{constructor(e,r,s,u,f,m){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===f&&this.vu(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new wf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Fu({path:s,xu:!1});return u.Ou(e),u}Nu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Fu({path:s,xu:!1});return u.vu(),u}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Rf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Wm(this.Cu)&&zm.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class by{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Dl(e)}Qu(e,r,s,u=!1){return new wf({Cu:e,methodName:r,qu:s,path:an.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xc(a){const e=a._freezeSettings(),r=Dl(a._databaseId);return new by(a._databaseId,!!e.ignoreUndefinedProperties,r)}function og(a,e,r,s,u,f={}){const m=a.Qu(f.merge||f.mergeFields?2:0,e,r,u);Nc("Data must be an object, but it was:",m,s);const C=Af(s,m);let O,$;if(f.merge)O=new Rr(m.fieldMask),$=m.fieldTransforms;else if(f.mergeFields){const ie=[];for(const he of f.mergeFields){const Ve=Sf(e,he,r);if(!m.contains(Ve))throw new ae(Q.INVALID_ARGUMENT,`Field '${Ve}' is specified in your field mask but missing from your input data.`);ug(ie,Ve)||ie.push(Ve)}O=new Rr(ie),$=m.fieldTransforms.filter(he=>O.covers(he.field))}else O=null,$=m.fieldTransforms;return new sg(new lr(C),O,$)}class Qu extends Ku{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qu}}class Wd extends Ku{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new ss(e.serializer,Gn(e.serializer,this.$u));return new A(e.path,r)}isEqual(e){return e instanceof Wd&&this.$u===e.$u}}function ra(a,e){if(Df(a=(0,X.Ku)(a)))return Nc("Unsupported field value:",e,a),Af(a,e);if(a instanceof Ku)return function(s,u){if(!Wm(u.Cu))throw u.Bu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(s,u){const f=[];let m=0;for(const C of s){let O=ra(C,u.Lu(m));null==O&&(O={nullValue:"NULL_VALUE"}),f.push(O),m++}return{arrayValue:{values:f}}}(a,e)}return function(s,u){if(null===(s=(0,X.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Gn(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=An.fromDate(s);return{timestampValue:Zs(u.serializer,f)}}if(s instanceof An){const f=new An(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zs(u.serializer,f)}}if(s instanceof Cf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jl)return{bytesValue:Aa(u.serializer,s._byteString)};if(s instanceof Ji){const f=u.databaseId,m=s.firestore._databaseId;if(!m.isEqual(f))throw u.Bu(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:cr(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof bf)return C=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(O=>{if("number"!=typeof O)throw C.Bu("VectorValues must only contain numeric values.");return Ar(C.serializer,O)})}}}}};var C;throw u.Bu(`Unsupported field value: ${Ef(s)}`)}(a,e)}function Af(a,e){const r={};return ii(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sn(a,(s,u)=>{const f=ra(u,e.Mu(s));null!=f&&(r[s]=f)}),{mapValue:{fields:r}}}function Df(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof An||a instanceof Cf||a instanceof jl||a instanceof Ji||a instanceof Ku||a instanceof bf)}function Nc(a,e,r){if(!Df(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Ef(r);throw e.Bu("an object"===s?a+" a custom object":a+" "+s)}var u}function Sf(a,e,r){if((e=(0,X.Ku)(e))instanceof $l)return e._internalPath;if("string"==typeof e)return Yu(a,e);throw Rf("Field path arguments must be of type string or ",a,!1,void 0,r)}const ag=new RegExp("[~\\*/\\[\\]]");function Yu(a,e,r){if(e.search(ag)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new $l(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Rf(a,e,r,s,u){const f=s&&!s.isEmpty(),m=void 0!==u;let C=`Function ${e}() called with invalid data`;r&&(C+=" (via `toFirestore()`)"),C+=". ";let O="";return(f||m)&&(O+=" (found",f&&(O+=` in field ${s}`),m&&(O+=` in document ${u}`),O+=")"),new ae(Q.INVALID_ARGUMENT,C+a+O)}function ug(a,e){return a.some(r=>r.isEqual(e))}class Qd{constructor(e,r,s,u,f){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ji(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new wy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(kc("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class wy extends Qd{data(){return super.data()}}function kc(a,e){return"string"==typeof e?Yu(a,e):e instanceof $l?e._internalPath:e._delegate._internalPath}class cg{}class Xd extends cg{}function oE(a,e,...r){let s=[];e instanceof cg&&s.push(e),s=s.concat(r),function(f){const m=f.filter(O=>O instanceof Ju).length,C=f.filter(O=>O instanceof Yd).length;if(m>1||m>0&&C>0)throw new ae(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)a=u._apply(a);return a}class Yd extends Xd{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Yd(e,r,s)}_apply(e){const r=this._parse(e);return Xm(e._query,r),new Fs(e.firestore,e.converter,Jr(e._query,r))}_parse(e){const r=xc(e.firestore);return function(f,m,C,O,$,ie,he){let Ve;if($.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){dg(he,ie);const pt=[];for(const Ot of he)pt.push(Qm(O,f,Ot));Ve={arrayValue:{values:pt}}}else Ve=Qm(O,f,he)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||dg(he,ie),Ve=function Kd(a,e,r,s=!1){return ra(r,a.Qu(s?4:3,e))}(C,"where",he,"in"===ie||"not-in"===ie);return Nn.create($,ie,Ve)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Pf(a,e,r){const s=e,u=kc("where",a);return Yd._create(u,s,r)}class Ju extends cg{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Ju(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:Tr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,f){let m=u;const C=f.getFlattenedFilters();for(const O of C)Xm(m,O),m=Jr(m,O)}(e._query,r),new Fs(e.firestore,e.converter,Jr(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Jd extends Xd{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Jd(e,r)}_apply(e){const r=function(u,f,m){if(null!==u.startAt)throw new ae(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new ae(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pi(f,m)}(e._query,this._field,this._direction);return new Fs(e.firestore,e.converter,function(u,f){const m=u.explicitOrderBy.concat([f]);return new Et(u.path,u.collectionGroup,m,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}function Mf(a,e="asc"){const r=e,s=kc("orderBy",a);return Jd._create(s,r)}class Of extends Xd{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new Of(e,r,s)}_apply(e){return new Fs(e.firestore,e.converter,_i(e._query,this._limit,this._limitType))}}function Km(a){return function Fm(a,e){if(e<=0)throw new ae(Q.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}("limit",a),Of._create("limit",a,"F")}function Qm(a,e,r){if("string"==typeof(r=(0,X.Ku)(r))){if(""===r)throw new ae(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z(e)&&-1!==r.indexOf("/"))throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(gn.fromString(r));if(!Fe.isDocumentKey(s))throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Nr(a,new Fe(s))}if(r instanceof Ji)return Nr(a,r._key);throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ef(r)}.`)}function dg(a,e){if(!Array.isArray(a)||0===a.length)throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xm(a,e){const r=function(u,f){for(const m of u)for(const C of m.getFlattenedFilters())if(f.indexOf(C.op)>=0)return C.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new ae(Q.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Jm{convertValue(e,r="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return sn(e,(u,f)=>{s[u]=this.convertValue(f,r)}),s}convertVectorValue(e){var r,s,u;const f=null===(u=null===(s=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(m=>$r(m.doubleValue));return new bf(f)}convertGeoPoint(e){return new Cf($r(e.latitude),$r(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=js(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Ks(e));default:return null}}convertTimestamp(e){const r=es(e);return new An(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=gn.fromString(e);De(Ra(s));const u=new Es(s.get(1),s.get(3)),f=new Fe(s.popFirst(5));return u.isEqual(r)||Yt(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}class Gl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zl extends Qd{constructor(e,r,s,u,f,m){super(e,r,s,u,m),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(kc("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class xf extends zl{data(e={}){return super.data(e)}}class Wl{constructor(e,r,s,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new Gl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new xf(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ae(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map(C=>({type:"added",doc:new xf(u._firestore,u._userDataWriter,C.doc.key,C.doc,new Gl(u._snapshot.mutatedKeys.has(C.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:m++}))}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(C=>f||3!==C.type).map(C=>{const O=new xf(u._firestore,u._userDataWriter,C.doc.key,C.doc,new Gl(u._snapshot.mutatedKeys.has(C.doc.key),u._snapshot.fromCache),u.query.converter);let $=-1,ie=-1;return 0!==C.type&&($=m.indexOf(C.doc.key),m=m.delete(C.doc.key)),1!==C.type&&(m=m.add(C.doc),ie=m.indexOf(C.doc.key)),{type:Sy(C.type),doc:O,oldIndex:$,newIndex:ie}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Sy(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}class hu extends Jm{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ji(this.firestore,null,r)}}function Nf(a,e,r,...s){a=ei(a,Ji);const u=ei(a.firestore,Vi),f=xc(u);let m;return m="string"==typeof(e=(0,X.Ku)(e))||e instanceof $l?function Hl(a,e,r,s,u,f){const m=a.Qu(1,e,r),C=[Sf(e,s,r)],O=[u];if(f.length%2!=0)throw new ae(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ve=0;Ve<f.length;Ve+=2)C.push(Sf(e,f[Ve])),O.push(f[Ve+1]);const $=[],ie=lr.empty();for(let Ve=C.length-1;Ve>=0;--Ve)if(!ug($,C[Ve])){const pt=C[Ve];let Ot=O[Ve];Ot=(0,X.Ku)(Ot);const Jt=m.Nu(pt);if(Ot instanceof Qu)$.push(pt);else{const Gt=ra(Ot,Jt);null!=Gt&&($.push(pt),ie.set(pt,Gt))}}const he=new Rr($);return new Cy(ie,he,m.fieldTransforms)}(f,"updateDoc",a._key,e,r,s):function qd(a,e,r,s){const u=a.Qu(1,e,r);Nc("Data must be an object, but it was:",u,s);const f=[],m=lr.empty();sn(s,(O,$)=>{const ie=Yu(e,O,r);$=(0,X.Ku)($);const he=u.Nu(ie);if($ instanceof Qu)f.push(ie);else{const Ve=ra($,he);null!=Ve&&(f.push(ie),m.set(ie,Ve))}});const C=new Rr(f);return new Cy(m,C,u.fieldTransforms)}(f,"updateDoc",a._key,e),Bo(u,[m.toMutation(a._key,G.exists(!0))])}function My(a){return Bo(ei(a.firestore,Vi),[new Gr(a._key,G.none())])}function Oy(a,e){const r=ei(a.firestore,Vi),s=Tf(a),u=function th(a,e,r){let s;return s=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,s}(a.converter,e);return Bo(r,[og(xc(a.firestore),"addDoc",s._key,u,null!==a.converter,{}).toMutation(s._key,G.exists(!1))]).then(()=>s)}function xy(a,...e){var r,s,u;a=(0,X.Ku)(a);let f={includeMetadataChanges:!1,source:"default"},m=0;"object"!=typeof e[m]||Rc(e[m])||(f=e[m],m++);const C={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(Rc(e[m])){const he=e[m];e[m]=null===(r=he.next)||void 0===r?void 0:r.bind(he),e[m+1]=null===(s=he.error)||void 0===s?void 0:s.bind(he),e[m+2]=null===(u=he.complete)||void 0===u?void 0:u.bind(he)}let O,$,ie;if(a instanceof Ji)$=ei(a.firestore,Vi),ie=B(a._key.path),O={next:he=>{e[m]&&e[m](function kf(a,e,r){const s=r.docs.get(e._key),u=new hu(a);return new zl(a,u,e._key,s,new Gl(r.hasPendingWrites,r.fromCache),e.converter)}($,a,he))},error:e[m+1],complete:e[m+2]};else{const he=ei(a,Fs);$=ei(he.firestore,Vi),ie=he._query;const Ve=new hu($);O={next:pt=>{e[m]&&e[m](new Wl($,Ve,he,pt))},error:e[m+1],complete:e[m+2]},function lg(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new ae(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(a._query)}return function(Ve,pt,Ot,Jt){const Gt=new _f(Jt),Un=new yt(pt,Gt,Ot);return Ve.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function Nd(a,e){return ef.apply(this,arguments)}(yield jd(Ve),Un)})),()=>{Gt.Za(),Ve.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function E(a,e){return d.apply(this,arguments)}(yield jd(Ve),Un)}))}}(cs($),ie,C,O)}function Bo(a,e){return function(s,u){const f=new xt;return s.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function Tm(a,e,r){return af.apply(this,arguments)}(yield function Mm(a){return na(a).then(e=>e.syncEngine)}(s),u,f)})),f.promise}(cs(a),e)}function a_(a){return new Wd("increment",a)}!function(e,r=!0){gt=D.MF,(0,D.om)(new rt.uA("firestore",(s,{instanceIdentifier:u,options:f})=>{const m=s.getProvider("app").getImmediate(),C=new Vi(new oe(s.getProvider("auth-internal")),new Rt(s.getProvider("app-check-internal")),function($,ie){if(!Object.prototype.hasOwnProperty.apply($.options,["projectId"]))throw new ae(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Es($.options.projectId,ie)}(m,u),m);return f=Object.assign({useFetchStreams:r},f),C._setSettings(f),C},"PUBLIC").setMultipleInstances(!0)),(0,D.KO)(xe,"4.7.3",e),(0,D.KO)(xe,"4.7.3","esm2017")}()},5794:(Cn,_t,K)=>{K.d(_t,{_B:()=>N,tw:()=>gr});var c=K(540),D=K(9969),rt=K(177),Ee=K(1413),X=K(345);const Le=["toast-component",""];function Be(ve,_e){if(1&ve){const oe=c.RV6();c.j41(0,"button",5),c.bIt("click",function(){c.eBV(oe);const we=c.XpG();return c.Njj(we.remove())}),c.j41(1,"span",6),c.EFF(2,"\xd7"),c.k0s()()}}function Qe(ve,_e){if(1&ve&&(c.qex(0),c.EFF(1),c.bVm()),2&ve){const oe=c.XpG(2);c.R7$(1),c.SpI("[",oe.duplicatesCount+1,"]")}}function st(ve,_e){if(1&ve&&(c.j41(0,"div"),c.EFF(1),c.DNE(2,Qe,2,1,"ng-container",4),c.k0s()),2&ve){const oe=c.XpG();c.HbH(oe.options.titleClass),c.BMQ("aria-label",oe.title),c.R7$(1),c.SpI(" ",oe.title," "),c.R7$(1),c.Y8G("ngIf",oe.duplicatesCount)}}function pe(ve,_e){if(1&ve&&c.nrm(0,"div",7),2&ve){const oe=c.XpG();c.HbH(oe.options.messageClass),c.Y8G("innerHTML",oe.message,c.npT)}}function me(ve,_e){if(1&ve&&(c.j41(0,"div",8),c.EFF(1),c.k0s()),2&ve){const oe=c.XpG();c.HbH(oe.options.messageClass),c.BMQ("aria-label",oe.message),c.R7$(1),c.SpI(" ",oe.message," ")}}function Je(ve,_e){if(1&ve&&(c.j41(0,"div"),c.nrm(1,"div",9),c.k0s()),2&ve){const oe=c.XpG();c.R7$(1),c.xc7("width",oe.width+"%")}}class hn{_attachedHost;component;viewContainerRef;injector;constructor(_e,oe){this.component=_e,this.injector=oe}attach(_e,oe){return this._attachedHost=_e,_e.attach(this,oe)}detach(){const _e=this._attachedHost;if(_e)return this._attachedHost=void 0,_e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(_e){this._attachedHost=_e}}class xe{_attachedPortal;_disposeFn;attach(_e,oe){return this._attachedPortal=_e,this.attachComponentPortal(_e,oe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(_e){this._disposeFn=_e}}class dt{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Ee.B;_activate=new Ee.B;_manualClose=new Ee.B;_resetTimeout=new Ee.B;_countDuplicate=new Ee.B;constructor(_e){this._overlayRef=_e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(_e,oe){_e&&this._resetTimeout.next(),oe&&this._countDuplicate.next(++this.duplicatesCount)}}class gt{toastId;config;message;title;toastType;toastRef;_onTap=new Ee.B;_onAction=new Ee.B;constructor(_e,oe,de,we,at,Rt){this.toastId=_e,this.config=oe,this.message=de,this.title=we,this.toastType=at,this.toastRef=Rt,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(_e){this._onAction.next(_e)}onAction(){return this._onAction.asObservable()}}const Ht=new c.nKC("ToastConfig");class Bt extends xe{_hostDomElement;_componentFactoryResolver;_appRef;constructor(_e,oe,de){super(),this._hostDomElement=_e,this._componentFactoryResolver=oe,this._appRef=de}attachComponentPortal(_e,oe){const de=this._componentFactoryResolver.resolveComponentFactory(_e.component);let we;return we=de.create(_e.injector),this._appRef.attachView(we.hostView),this.setDisposeFn(()=>{this._appRef.detachView(we.hostView),we.destroy()}),oe?this._hostDomElement.insertBefore(this._getComponentRootNode(we),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(we)),we}_getComponentRootNode(_e){return _e.hostView.rootNodes[0]}}let ke=(()=>{class ve{_document=(0,c.WQX)(rt.qQ);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const oe=this._document.createElement("div");oe.classList.add("overlay-container"),oe.setAttribute("aria-live","polite"),this._document.body.appendChild(oe),this._containerElement=oe}static \u0275fac=function(de){return new(de||ve)};static \u0275prov=c.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();class Yt{_portalHost;constructor(_e){this._portalHost=_e}attach(_e,oe=!0){return this._portalHost.attach(_e,oe)}detach(){return this._portalHost.detach()}}let Ln=(()=>{class ve{_overlayContainer=(0,c.WQX)(ke);_componentFactoryResolver=(0,c.WQX)(c.OM3);_appRef=(0,c.WQX)(c.o8S);_document=(0,c.WQX)(rt.qQ);_paneElements=new Map;create(oe,de){return this._createOverlayRef(this.getPaneElement(oe,de))}getPaneElement(oe="",de){return this._paneElements.get(de)||this._paneElements.set(de,{}),this._paneElements.get(de)[oe]||(this._paneElements.get(de)[oe]=this._createPaneElement(oe,de)),this._paneElements.get(de)[oe]}_createPaneElement(oe,de){const we=this._document.createElement("div");return we.id="toast-container",we.classList.add(oe),we.classList.add("toast-container"),de?de.getContainerElement().appendChild(we):this._overlayContainer.getContainerElement().appendChild(we),we}_createPortalHost(oe){return new Bt(oe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(oe){return new Yt(this._createPortalHost(oe))}static \u0275fac=function(de){return new(de||ve)};static \u0275prov=c.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})(),gr=(()=>{class ve{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(oe,de,we,at,Rt){this.overlay=de,this._injector=we,this.sanitizer=at,this.ngZone=Rt,this.toastrConfig={...oe.default,...oe.config},oe.config.iconClasses&&(this.toastrConfig.iconClasses={...oe.default.iconClasses,...oe.config.iconClasses})}show(oe,de,we={},at=""){return this._preBuildNotification(at,oe,de,this.applyConfig(we))}success(oe,de,we={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",oe,de,this.applyConfig(we))}error(oe,de,we={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",oe,de,this.applyConfig(we))}info(oe,de,we={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",oe,de,this.applyConfig(we))}warning(oe,de,we={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",oe,de,this.applyConfig(we))}clear(oe){for(const de of this.toasts)if(void 0!==oe){if(de.toastId===oe)return void de.toastRef.manualClose()}else de.toastRef.manualClose()}remove(oe){const de=this._findToast(oe);if(!de||(de.activeToast.toastRef.close(),this.toasts.splice(de.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const we=this.toasts[this.currentlyActive].toastRef;we.isInactive()||(this.currentlyActive=this.currentlyActive+1,we.activate())}return!0}findDuplicate(oe="",de="",we,at){const{includeTitleDuplicates:Rt}=this.toastrConfig;for(const Vn of this.toasts)if((!Rt||Rt&&Vn.title===oe)&&Vn.message===de)return Vn.toastRef.onDuplicate(we,at),Vn;return null}applyConfig(oe={}){return{...this.toastrConfig,...oe}}_findToast(oe){for(let de=0;de<this.toasts.length;de++)if(this.toasts[de].toastId===oe)return{index:de,activeToast:this.toasts[de]};return null}_preBuildNotification(oe,de,we,at){return at.onActivateTick?this.ngZone.run(()=>this._buildNotification(oe,de,we,at)):this._buildNotification(oe,de,we,at)}_buildNotification(oe,de,we,at){if(!at.toastComponent)throw new Error("toastComponent required");const Rt=this.findDuplicate(we,de,this.toastrConfig.resetTimeoutOnDuplicate&&at.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&we||de)&&this.toastrConfig.preventDuplicates&&null!==Rt)return Rt;this.previousToastMessage=de;let Vn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Vn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const pn=this.overlay.create(at.positionClass,this.overlayContainer);this.index=this.index+1;let Wn=de;de&&at.enableHtml&&(Wn=this.sanitizer.sanitize(c.WPN.HTML,de));const Lt=new dt(pn),br=new gt(this.index,at,Wn,we,oe,Lt),An=c.zZn.create({providers:[{provide:gt,useValue:br}],parent:this._injector}),Wt=new hn(at.toastComponent,An),on=pn.attach(Wt,at.newestOnTop);Lt.componentInstance=on.instance;const gn={toastId:this.index,title:we||"",message:de||"",toastRef:Lt,onShown:Lt.afterActivate(),onHidden:Lt.afterClosed(),onTap:br.onTap(),onAction:br.onAction(),portal:on};return Vn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{gn.toastRef.activate()})),this.toasts.push(gn),gn}static \u0275fac=function(de){return new(de||ve)(c.KVO(Ht),c.KVO(Ln),c.KVO(c.zZn),c.KVO(X.up),c.KVO(c.SKi))};static \u0275prov=c.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();const De={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class ve{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(oe,de,we){this.toastrService=oe,this.toastPackage=de,this.ngZone=we,this.message=de.message,this.title=de.title,this.options=de.config,this.originalTimeout=de.config.timeOut,this.toastClasses=`${de.toastType} ${de.config.toastClass}`,this.sub=de.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=de.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=de.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=de.toastRef.countDuplicate().subscribe(at=>{this.duplicatesCount=at}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const oe=(new Date).getTime();this.width=(this.hideTime-oe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(oe,de){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(oe),de)):this.timeout=setTimeout(()=>oe(),de)}outsideInterval(oe,de){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(oe),de)):this.intervalId=setInterval(()=>oe(),de)}runInsideAngular(oe){this.ngZone?this.ngZone.run(()=>oe()):oe()}static \u0275fac=function(de){return new(de||ve)(c.rXU(gr),c.rXU(gt),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:ve,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(de,we){1&de&&c.bIt("click",function(){return we.tapToast()})("mouseenter",function(){return we.stickAround()})("mouseleave",function(){return we.delayedHideToast()}),2&de&&(c.zvX("@flyInOut",we.state),c.HbH(we.toastClasses),c.xc7("display",we.displayStyle))},standalone:!0,features:[c.aNF],attrs:Le,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(de,we){1&de&&(c.DNE(0,Be,3,0,"button",0),c.DNE(1,st,3,5,"div",1),c.DNE(2,pe,1,3,"div",2),c.DNE(3,me,2,4,"div",3),c.DNE(4,Je,2,2,"div",4)),2&de&&(c.Y8G("ngIf",we.options.closeButton),c.R7$(1),c.Y8G("ngIf",we.title),c.R7$(1),c.Y8G("ngIf",we.message&&we.options.enableHtml),c.R7$(1),c.Y8G("ngIf",we.message&&!we.options.enableHtml),c.R7$(1),c.Y8G("ngIf",we.options.progressBar))},dependencies:[rt.bT],encapsulation:2,data:{animation:[(0,D.hZ)("flyInOut",[(0,D.wk)("inactive",(0,D.iF)({opacity:0})),(0,D.wk)("active",(0,D.iF)({opacity:1})),(0,D.wk)("removed",(0,D.iF)({opacity:0})),(0,D.kY)("inactive => active",(0,D.i0)("{{ easeTime }}ms {{ easing }}")),(0,D.kY)("active => removed",(0,D.i0)("{{ easeTime }}ms {{ easing }}"))])]}})}return ve})()},Kt=(ve={})=>(0,c.EmA)([{provide:Ht,useValue:{default:De,config:ve}}]);let N=(()=>{class ve{static forRoot(oe={}){return{ngModule:ve,providers:[Kt(oe)]}}static \u0275fac=function(de){return new(de||ve)};static \u0275mod=c.$C({type:ve});static \u0275inj=c.G2t({})}return ve})()},467:(Cn,_t,K)=>{function c(rt,Ee,X,Le,Be,Qe,st){try{var pe=rt[Qe](st),me=pe.value}catch(Je){return void X(Je)}pe.done?Ee(me):Promise.resolve(me).then(Le,Be)}function D(rt){return function(){var Ee=this,X=arguments;return new Promise(function(Le,Be){var Qe=rt.apply(Ee,X);function st(me){c(Qe,Le,Be,st,pe,"next",me)}function pe(me){c(Qe,Le,Be,st,pe,"throw",me)}st(void 0)})}}K.d(_t,{A:()=>D})},1635:(Cn,_t,K)=>{function Ee(Oe,ve){var _e={};for(var oe in Oe)Object.prototype.hasOwnProperty.call(Oe,oe)&&ve.indexOf(oe)<0&&(_e[oe]=Oe[oe]);if(null!=Oe&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(oe=Object.getOwnPropertySymbols(Oe);de<oe.length;de++)ve.indexOf(oe[de])<0&&Object.prototype.propertyIsEnumerable.call(Oe,oe[de])&&(_e[oe[de]]=Oe[oe[de]])}return _e}function X(Oe,ve,_e,oe){var at,de=arguments.length,we=de<3?ve:null===oe?oe=Object.getOwnPropertyDescriptor(ve,_e):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)we=Reflect.decorate(Oe,ve,_e,oe);else for(var Rt=Oe.length-1;Rt>=0;Rt--)(at=Oe[Rt])&&(we=(de<3?at(we):de>3?at(ve,_e,we):at(ve,_e))||we);return de>3&&we&&Object.defineProperty(ve,_e,we),we}function Je(Oe,ve,_e,oe){return new(_e||(_e=Promise))(function(we,at){function Rt(Wn){try{pn(oe.next(Wn))}catch(Lt){at(Lt)}}function Vn(Wn){try{pn(oe.throw(Wn))}catch(Lt){at(Lt)}}function pn(Wn){Wn.done?we(Wn.value):function de(we){return we instanceof _e?we:new _e(function(at){at(we)})}(Wn.value).then(Rt,Vn)}pn((oe=oe.apply(Oe,ve||[])).next())})}function xe(Oe){return this instanceof xe?(this.v=Oe,this):new xe(Oe)}function dt(Oe,ve,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,oe=_e.apply(Oe,ve||[]),we=[];return de=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Rt("next"),Rt("throw"),Rt("return",function at(Pn){return function(An){return Promise.resolve(An).then(Pn,Lt)}}),de[Symbol.asyncIterator]=function(){return this},de;function Rt(Pn,An){oe[Pn]&&(de[Pn]=function(Wt){return new Promise(function(on,gn){we.push([Pn,Wt,on,gn])>1||Vn(Pn,Wt)})},An&&(de[Pn]=An(de[Pn])))}function Vn(Pn,An){try{!function pn(Pn){Pn.value instanceof xe?Promise.resolve(Pn.value.v).then(Wn,Lt):br(we[0][2],Pn)}(oe[Pn](An))}catch(Wt){br(we[0][3],Wt)}}function Wn(Pn){Vn("next",Pn)}function Lt(Pn){Vn("throw",Pn)}function br(Pn,An){Pn(An),we.shift(),we.length&&Vn(we[0][0],we[0][1])}}function St(Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ve=Oe[Symbol.asyncIterator];return ve?ve.call(Oe):(Oe=function rn(Oe){var ve="function"==typeof Symbol&&Symbol.iterator,_e=ve&&Oe[ve],oe=0;if(_e)return _e.call(Oe);if(Oe&&"number"==typeof Oe.length)return{next:function(){return Oe&&oe>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[oe++],done:!Oe}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(Oe),_e={},oe("next"),oe("throw"),oe("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function oe(we){_e[we]=Oe[we]&&function(at){return new Promise(function(Rt,Vn){!function de(we,at,Rt,Vn){Promise.resolve(Vn).then(function(pn){we({value:pn,done:Rt})},at)}(Rt,Vn,(at=Oe[we](at)).done,at.value)})}}}K.d(_t,{AQ:()=>dt,Cg:()=>X,N3:()=>xe,Tt:()=>Ee,sH:()=>Je,xN:()=>St}),"function"==typeof SuppressedError&&SuppressedError}},Cn=>{Cn(Cn.s=4790)}]);